(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[71233],{627578:function(e,r,t){"use strict";var n=t(403322),o=t.n(n),i={};i._showErrorCallback=i._showErrorCallback||null,i.setShowHtmlErrorCallback=function(e){i._showErrorCallback=e},i.showError=function(e,r,t){var n=o()(e);return i.showHtmlError(n,r,t)},i.showHtmlError=function(e,r,t){"function"==typeof i._showErrorCallback&&i._showErrorCallback(e,r,t)},r.Z=i},230457:function(e,r,t){"use strict";var n=t(447186);r.Z=function(){return n.Z.isAuthenticated()&&!!n.Z.attributes.facebook_id&&!n.Z.isLimitedLogin()}},527082:function(e,r,t){"use strict";function n(e){var r=e.appliedProductFilters,t=e.autoCorrectionDisabled,n=e.filters,o=e.query,i=e.scope,a=e.selectedPinImgSig,u=[i,n,r,e.user,a,o].map((function(e){return null!=e?e:""})).join(":");return t?"auto-correction-disabled:"+u:u}function o(e){var r=e.autoCorrectionDisabled,t=void 0!==r&&r,n=e.appliedProductFilters,o=void 0===n?null:n,i=e.bubbleId,a=void 0===i?null:i,u=e.filters,s=void 0===u?null:u,c=e.query,d=void 0===c?null:c,l=e.rs,f=void 0===l?"direct_navigation":l,p=e.scope,y=void 0===p?"pins":p,v=e.selectedPinImgSig,_=void 0===v?null:v,b=e.sourceId;return{article:a,appliedProductFilters:o,auto_correction_disabled:t,corpus:_?"personalize":null,customized_rerank_type:_?"manas_graph_sage_only_wand_rewrite":null,filters:s,query:d,query_pin_sigs:_,redux_normalize_feed:!0,rs:f,scope:y,source_id:void 0===b?null:b,user:e.user}}function i(e){var r=e.autoCorrectionDisabled,t=e.appliedProductFilters,n=e.filters,i=e.selectedPinImgSig;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!r,appliedProductFilters:t,filters:n,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:i,bubbleId:e.bubbleId,user:e.user})}}t.d(r,{Tb:function(){return n},dM:function(){return o},Ht:function(){return i}})},317461:function(e,r,t){"use strict";t.d(r,{GY:function(){return u},PY:function(){return s},r$:function(){return c},LM:function(){return d}});var n=t(730762),o=t(281996),i=t(549135),a=["search_articles_story","search_pinner_authority_hero","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function u(e){var r=e.query,t=e.scope;return"".concat(r,"-").concat(t)}function s(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map((function(e){return null!=e?e:""})).join("-")}function c(e){var r=e.query,t=e.rs,a=e.scope,u=n.Z.getInstance().getPreviousViewFromContext();if(!(!u.view_type&&!u.view_parameter)){var s=u.view_type,c=u.view_parameter;(0,i.j)((0,o.wF)(a),{view:s,viewParameter:c,query:r,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,i.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,i.j)(101,{component:0,element:10349,view:142})}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=!0;return e.reduce((function(e,t){var n;return r&&t.story_type&&a.includes(t.story_type)&&0===(null===(n=t.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(t):(r=!1,e.filteredResults.push(t)),e}),{searchFullWidthStories:[],filteredResults:[]})}},282152:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(737614);function o(){var e=n.Z.instance,r=e.is_mobile_agent?"mobile":"desktop";return"".concat(r,".").concat(e.country,".").concat(e.user_agent_platform,".").concat(e.browser_name).replace(/ /g,"_")}},613330:function(e,r,t){"use strict";t.d(r,{DV:function(){return f},zX:function(){return v}});var n=t(317461),o=t(527082),i=t(881219),a=t(451104);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var f={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},p={ApiResource:function(e){var r=e.options;return null!=r&&r.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:f.CALL_TO_CREATE_RESPONSES_FEED,id:r.pin_id}:null},AggregatedActivityFeedResource:function(e){var r=e.options.aggregated_pin_data_id;return{type:f.USER_DID_IT_DATA,id:r}},AggregatedCommentFeedResource:function(e){var r=e.options.objectId;return{type:f.AGGREGATED_COMMENTS,id:r}},AggregatedCommentReplyFeedResource:function(e){var r=e.options.objectId;return{type:f.AGGREGATED_COMMENTS,id:r,reversed:!0}},BoardActivityFeedResource:function(e){var r=e.options.board_id;return{type:f.BOARD_ACTIVITYITEMS,id:r}},BoardActivityCommentFeedResource:function(e){var r=e.options,t=r.activityId,n=r.parentType;return{type:f.BOARD_ACTIVITYCOMMENTS,id:t,reversed:"boardactivitycomment"===n}},BoardFeedResource:function(e){var r=e.options.board_id;return{type:f.BOARD_PINS,id:r}},BoardlessPinsResource:function(e){var r=e.options.userId;return{type:f.BOARDLESS_PINS,id:r}},BoardSectionPinsResource:function(e){var r=e.options.section_id;return{type:f.SECTION_PINS,id:r}},BoardSectionsResource:function(e){var r=e.options.board_id;return{type:f.BOARD_SECTIONS,id:r}},BoardsResource:function(e){var r=e.options,t=r.username,n=r.sort;return{type:f.PROFILE_BOARDS,id:(0,i.OV)(t,n)}},BaseSearchResource:function(e){var r,t=e.options,i=t.auto_correction_disabled,a=t.appliedProductFilters,u=t.scope,s=t.filters,c=t.query_pin_sigs,d=t.query,l=t.user,p=e.response;return{type:f.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:a,autoCorrectionDisabled:i,filters:s,query:d,selectedPinImgSig:c,scope:u,user:l}),items:null!==(r=p.resource_response.data)&&void 0!==r&&r.results?(0,n.LM)(p.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:function(e){var r=e.options.objectId;return{type:f.AGGREGATED_COMMENTS,id:r,reversed:!0}},DidItUserFeedResource:function(e){var r=e.options.username;return{type:f.USER_DID_IT_DATA,id:r}},IdeasHubTodayArticlesResource:function(e){var r=e.options.interest_id;return{type:f.TODAY_TAB,id:r}},MoreIdeasTabsResource:function(e){var r,t=e.response;return{type:f.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(r=t.resource_response.data)||void 0===r?void 0:r.tabs)||[]}},RelatedArticlesResource:function(e){var r=e.options.article_id;return{type:f.TODAY_TAB,id:r}},StoryPinDraftsResource:function(e){var r=e.options.userId;return{type:f.STORY_PIN_DATA,id:r}},TodayTabInterestFeedResource:function(e){var r=e.options.interest_id;return{type:f.TODAY_ARTICLE_INTEREST_FEED,id:r}},TodayTabResource:function(){return{type:f.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var r=e.options.aggregated_pin_id;return{type:f.UNIFIED_COMMENTS,id:r}},UnifiedCommentsResource:function(e){var r=e.options.aggregated_pin_id;return{type:f.UNIFIED_COMMENTS,id:r,reversed:!0}},UserActivityPinsResource:function(e){var r=e.options.user_id;return{type:f.CREATED_TAB_ACTIVITY_PINS_FEED,id:r}},UserStoryPinsFeedResource:function(e){var r=e.response,t=e.options.user_id;return{type:f.CREATED_TAB_STORY_PINS_FEED,id:t,items:r.resource_response.data||[]}}},y={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function v(e,r,t){var n=d(e),o=n.splice(r,1)[0];return n.splice(t,0,o),n}var _=function(e,r){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return r===f.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}};r.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case a.zP:case a.aW:var t,n=r.payload,o=n.response.resource_response.data;if(null===(t=n.options)||void 0===t||!t.redux_normalize_feed)return e;var i=p[n.resource](n);if(i){var u=i.type,l=i.id,b=i.items,m=i.reversed,E=(b||o||[]).map((function(e){return _(e,u)}));m&&(E=E.reverse());var O=e[u][l];if(O||r.type!==a.aW){var S=O||[],g=E;return r.type===a.aW&&(g=m?E.concat(S):S.concat(E)),s(s({},e),{},c({},u,s(s({},e[u]),{},c({},l,g))))}}break;case"FEED_ITEM_REORDERED":var A=r.payload,I=A.feedType,T=A.feedId,D=A.itemType,h=A.targetItemId,C=A.sourceItemId,P=e[I]||{},R=P[T]||[],N=-1,w=-1;if([f.BOARD_PINS,f.SECTION_PINS,f.BOARD_SECTIONS,"profileBoards"].includes(I)&&(N=R.findIndex((function(e){return e.type===D&&e.id===C})),w=R.findIndex((function(e){return e.type===D&&e.id===h}))),-1!==N&&-1!==w)return s(s({},e),{},c({},I,s(s({},P),{},c({},T,v(R,N,w)))));break;case"FEED_ITEMS_REMOVED":var j=r.payload,M=j.feedType,F=j.feedId,B=j.inverseSelection,U=j.itemType,G=j.itemIds,L=void 0===G?[]:G,x=e[M]||{},k=x[F];if(k&&k.length>0&&(M===f.SECTION_PINS||M===f.BOARD_PINS)){var V=k.filter((function(e){var r=L.includes(e.id);return!(e.type===U&&(B&&!r||!B&&r))})),H=!!V.find((function(e){return"pin"===e.type}));return s(s({},e),{},c({},M,s(s({},x),{},c({},F,H?V:[]))))}if(k&&k.length>0&&M===f.BOARD_SECTIONS){var Z=k.filter((function(e){var r=L.includes(e.id);return!(e.type===U&&r)}));return s(s({},e),{},c({},M,s(s({},x),{},c({},F,Z))))}if(k&&k.length>0&&(M===f.BOARD_ACTIVITYITEMS||M===f.AGGREGATED_COMMENTS||M===f.BOARD_ACTIVITYCOMMENTS||M===f.BOARDLESS_PINS||M===f.UNIFIED_COMMENTS||M===f.USER_DID_IT_DATA||M===f.STORY_PIN_DATA)){var q=k.filter((function(e){var r=L.includes(e.id);return!(e.type===U&&r)}));return s(s({},e),{},c({},M,s(s({},x),{},c({},F,q))))}break;case"FEED_ITEMS_ADDED":var Y=r.payload,W=Y.feedType,$=Y.feedId,z=Y.itemType,K=Y.itemIds,X=void 0===K?[]:K,J=Y.prepend,Q=e[W]||{},ee=Q[$];if(ee&&(W===f.SECTION_PINS||W===f.BOARD_PINS||W===f.BOARDLESS_PINS)){var re=X.map((function(e){return{id:e,type:z}})),te=0;"story"===(ee[0]||{}).type&&(te=1),"story"===(ee[1]||{}).type&&(te=2);var ne=[].concat(d(ee.slice(0,te)),d(re),d(ee.slice(te)));return s(s({},e),{},c({},W,s(s({},Q),{},c({},$,ne))))}if(ee&&W===f.BOARD_SECTIONS){var oe=d(X).reverse().map((function(e){return{id:e,type:"board_section"}})),ie=ee?[].concat(d(oe),d(ee)):d(oe);return s(s({},e),{},c({},W,s(s({},Q),{},c({},$,ie))))}if(W===f.BOARD_ACTIVITYITEMS||W===f.AGGREGATED_COMMENTS||W===f.BOARD_ACTIVITYCOMMENTS||W===f.UNIFIED_COMMENTS){var ae=X.map((function(e){return{id:e,type:z}})),ue=ee?[].concat(d(J?ae:ee),d(J?ee:ae)):ae;return s(s({},e),{},c({},W,s(s({},Q),{},c({},$,ue))))}if(W===f.USER_DID_IT_DATA){var se=X.map((function(e){return{id:e,type:z}})),ce=ee?[].concat(d(se),d(ee)):se;return s(s({},e),{},c({},W,s(s({},e[W]),{},c({},$,ce))))}break;case"FEED_INVALIDATE":var de=r.payload,le=de.feedType,fe=de.feedId,pe=e[le]||{};if(pe[fe])return s(s({},e),{},c({},le,s(s({},pe),{},c({},fe,null))))}return e}},881219:function(e,r,t){"use strict";t.d(r,{OV:function(){return n},M0:function(){return o},$k:function(){return i}});var n=function(e,r){return"".concat(e,":").concat(r||"")},o=function(e,r){return e.feeds.profileBoards[n(r.username,r.boardOrder)]},i=function(e,r){return r.isOverview||r.inActivityView?"xxWide":r.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"}},268648:function(e,r,t){"use strict";t.d(r,{Z:function(){return l},p:function(){return f}});var n=t(793550),o=t(539484),i=t(215828),a=t(272828),u=["children"];function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function l(e){var r=e.externalData,t=e.href,u=e.onHistoryChange,s=e.target,d=c((0,n.useState)(null),2),l=d[0],f=d[1],p=c((0,n.useState)(!1),2),y=p[0],v=p[1],_=(0,a.k6)(),b=(0,a.TH)(),m=(0,o.Z)({url:t});return(0,n.useEffect)((function(){return v(!0),function(){v(!1)}}),[]),(0,n.useEffect)((function(){m&&null!=r&&r.pin&&null===l&&(0,i.$3)({location:b,pin:r.pin,surface:r.surface})&&(0,i.iw)({isMounted:y,pin:r.pin,location:b,spamCheckCallback:function(e){return f(e)},href:t})}),[r,t,m,y,b,l]),function(e){var n,o=e.event;(0,i.gV)({isOffsiteUrl:m,event:o})||(o.preventDefault(),t&&(m||null!=r&&r.dangerouslyForceOffsiteUrl?(0,i.lI)({auxData:null==r?void 0:r.auxData,href:t,pinId:null==r||null===(n=r.pin)||void 0===n?void 0:n.id,pin:null==r?void 0:r.pin,queryParams:null==r?void 0:r.queryParams,location:b,spamCheck:l}):(0,i.G3)({event:o,href:t,history:_,onHistoryChange:u,target:"blank"===s?"blank":null})))}}var f=function(e){return(0,e.children)({handleClick:l(s(e,u))})}},539484:function(e,r,t){"use strict";var n=t(508841);r.Z=function(e){var r=e.url;return!(!r||!r.match(/^https{0,1}:\/\//)||(0,n.Z)(r))}},192830:function(e,r,t){"use strict";t.d(r,{i5:function(){return w},sX:function(){return M},Z5:function(){return N},NG:function(){return j},MT:function(){return F}});var n=t(793550),o=t(575429),i=t(311866),a=t(365812),u=t.n(a);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var p=function(e,r){return e.data[r]&&e.data[r].messages||[]};function y(e,r){var t={};return e.filter((function(e){return!!e})).reduce((function(e,n){var o=r(n);return t[o]?(u()(t[o],n),e):(t[o]=n,e.concat([n]))}),[])}function v(e){return l(e).sort((function(e,r){return new Date(e.created_ms||e.created_at)-new Date(r.created_ms||r.created_at)}))}function _(e,r,t){var n=p(e,r).concat(t);return v(n=y(n,(function(e){return e.id})))}var b={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,showConversationsDropdown:!1,ui:{},unread:0};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,r=arguments.length>1?arguments[1]:void 0;if("CONVERSATION_OPEN"===r.type)return c(c({},e),{},{open:r.payload.id,ui:c(c({},e.ui),{},d({},r.payload.id,{contactRequestId:r.payload.contactRequestId||"",isPreview:r.payload.isPreview}))});if("CONVERSATION_CLOSE"===r.type)return c(c({},e),{},{open:null,ui:c(c({},e.ui),{},d({},r.payload.id,{contactRequestId:r.payload.contactRequestId||"",isPreview:!1,isDeclined:r.payload.isDeclined}))});if("CONVERSATION_CREATE"===r.type){var t=r.payload.id;return c(c({},e),{},{data:c(c({},e.data),{},d({},t,c(c({},e[t]||{}),r.payload)))})}if("CONVERSATION_DELETE"===r.type){var n=c(c({},e),{},{data:c({},e.data)}),o=r.payload.id;return delete n.data[o],n}if("FETCH_COMPLETE"===r.type){var i=r.payload,a=i.options,u=i.resource,s=i.response,l=s.resource_response.data;if("ConversationMessagesResource"===u){var f=l||[],m=(null==a?void 0:a.conversation_id)||"",E=_(e,m,f),O=E[E.length-1],S=c(c({},e),{},{data:c(c({},e.data),{},d({},m,c(c({},e.data[m]),{},{id:m,messages:E,unread:0,last_message:O})))});return S}if("ConversationsResource"===u){var g=l||[],A=c(c({},e),{},{data:c({},e.data)});return g.forEach((function(e){var r=e.id,t=e.created_at,n=e.name,o=e.board,i=e.emails,a=e.unread,u=e.users,s=e.last_message,d=_(A,r,[s]);A.data[r]=c(c({},A.data[r]),{},{id:r,created_at:t,name:n,board:o,emails:i||[],unread:a||0,users:u||[],last_message:s,messages:d})})),A}if("ConversationResource"===u){var I=l||{},T=I.id,D=c(c({},e),{},{data:c({},e.data)});return T&&(D.data[T]=c(c({},D.data[T]),I)),D}if("NewsHubBadgeResource"===u){if(l){var h=l.conversations_unseen_count||0;return c(c({},e),{},{unread:h})}return e}}else{if("MESSAGE_SEND_PENDING"===r.type){var C=r.payload,P=C.id,R=C.message;if(e.data[P]){var N=_(e,P,[R]);return c(c({},e),{},{data:c(c({},e.data),{},d({},P,c(c({},e.data[P]),{},{id:P,messages:N,last_message:R})))})}return e}if("MESSAGE_SEND_PENDING_CLEAR"===r.type){var w=r.payload,j=w.id,M=w.messageId,F=w.newMessageId;if(e.data[j]){var B=p(e,j).find((function(e){return e.id===M}));if(B){var U=c(c({},B),{},{id:F}),G=p(e,j).filter((function(e){return e.id!==M})).concat([U]);return G=v(G=y(G,(function(e){return e.id}))),c(c({},e),{},{data:c(c({},e.data),{},d({},j,c(c({},e.data[j]),{},{id:j,messages:G})))})}}return e}if("CLOSE_DROPDOWN"===r.type)return c(c({},e),{},{showConversationsDropdown:!1});if("OPEN_DROPDOWN"===r.type)return c(c({},e),{},{showConversationsDropdown:!0});if("UPDATE_NEWSHUB_COUNT"===r.type)return c(c({},e),{},{newsHubCount:r.payload});if("UPDATE_UNREAD_COUNT"===r.type)return c(c({},e),{},{conversationsUnseenCount:r.payload})}return e}var E=t(762803),O=t(886550),S=t(80209);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){I(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function I(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function T(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return D(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var h,C=(h=0,function(){return h++}),P=(0,E.ZP)("Conversations"),R=P.Provider,N=P.useHook;function w(e){var r=e.children,t=T((0,n.useReducer)(m,b),2),o=t[0],a=t[1],u=(0,n.useCallback)((function(e){return a({type:"FETCH_COMPLETE",payload:e})}),[]);(0,O.Z8)("ConversationMessagesResource",u),(0,O.Z8)("ConversationsResource",u),(0,O.Z8)("ConversationResource",u),(0,O.Z8)("NewsHubBadgeResource",u);var s=(0,n.useMemo)((function(){return{conversationOpen:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:r,contactRequestId:t}})},conversationClose:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:r,isDeclined:t}})},conversationCreate:function(e){return a({type:"CONVERSATION_CREATE",payload:e})},conversationDelete:function(e){return a({type:"CONVERSATION_DELETE",payload:{id:e}})},conversationGet:function(e,r,t){i.ZP.create("ConversationsResource",{user_ids:e,emails:r,text:""}).callCreate().then((function(e){var r=e&&e.resource_response.data;a({type:"CONVERSATION_OPEN",payload:{id:r.id}})})).catch((function(e){var r=e.message_detail||e.message||"";t(r)}))},dropdownClose:function(){a({type:"CLOSE_DROPDOWN"})},dropdownOpen:function(){a({type:"OPEN_DROPDOWN"})},pendingMessageSend:function(e,r){return a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:r}})},pendingMessageClear:function(e,r,t){return a({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:r,newMessageId:t}})},updateNewsHubCount:function(e){return a({type:"UPDATE_NEWSHUB_COUNT",payload:e})},updateUnreadCount:function(e){return a({type:"UPDATE_UNREAD_COUNT",payload:e})}}}),[]);return(0,S.jsx)(R,{value:A(A({},s),{},{conversations:o}),children:r})}function j(){var e=N(),r=e.conversations,t=e.conversationCreate,n=e.pendingMessageSend,a=e.pendingMessageClear,u=(0,o.useSelector)((function(e){return e.pins}));return function(e,o,s,c){return new Promise((function(d,l){var f=o.text,p=o.pinId,y=o.boardId,v=o.userId,_=o.didItId;function b(){var r=i.ZP.create("ConversationMessagesResource",{conversation_id:e,text:f,pin:p,board:y,user:v,user_did_it_data:_,source:s}),t="".concat(C());n(e,{text:f,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:p?u[p]:null,type:"message",user_did_it_data:null,user:null}),r.callCreate().then((function(r){a(e,t,r.resource_response.data.id),d()})).catch(l)}r.data[e]?b():i.ZP.create("ConversationResource",{conversation_id:e}).callGet().then((function(e){var r=e&&e.resource_response&&e.resource_response.data;t(r),b()}))}))}}function M(e){return N().conversations.data[e]}function F(e){return N().conversations.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},463111:function(e,r,t){"use strict";t.d(r,{l:function(){return m},E:function(){return b}});var n=t(793550),o=t(762803);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if("SUGGESTIONS_FETCH_COMPLETE"===r.type){var t=r.payload;if("ShareSuggestionsResource"===t.resource){var n,o=r.payload.response.resource_response.data||[],a=null!==(n=t.options)&&void 0!==n?n:{},u=a.term,d=void 0===u?"":u;return s(s({},e),{},c({},d,e[d]?[].concat(i(e[d]),i(o)):o))}if("ShareSuggestionsTypeaheadResource"===t.resource){var l,f=r.payload.response.resource_response.data||{},p=f.items||[],y=null!==(l=t.options)&&void 0!==l?l:{},v=y.term,_=void 0===v?"":v;return s(s({},e),{},c({},_,e[_]?[].concat(i(e[_]),i(p)):p))}}return e}var l=t(886550),f=t(80209);function p(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var v=(0,o.ZP)("ShareSuggestions"),_=v.Provider,b=v.useHook;function m(e){var r=e.children,t=p((0,n.useReducer)(d,{}),2),o=t[0],i=t[1],a=function(e){i({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};return(0,l.Z8)("ShareSuggestionsResource",a),(0,l.Z8)("ShareSuggestionsTypeaheadResource",a),(0,f.jsx)(_,{value:{shareSuggestions:o},children:r})}},464247:function(e,r,t){var n=t(853275),o=t(284918);e.exports=function(e,r){for(var t=0,i=(r=n(r,e)).length;null!=e&&t<i;)e=e[o(r[t++])];return t&&t==i?e:void 0}},309464:function(e){e.exports=function(e,r){return null!=e&&r in Object(e)}},895248:function(e){e.exports=function(e){return function(r){return null==e?void 0:e[r]}}},853275:function(e,r,t){var n=t(145239),o=t(226573),i=t(518149),a=t(911);e.exports=function(e,r){return n(e)?e:o(e,r)?[e]:i(a(e))}},941249:function(e,r,t){var n=t(895248)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},754363:function(e,r,t){var n=t(853275),o=t(946328),i=t(145239),a=t(550996),u=t(108494),s=t(284918);e.exports=function(e,r,t){for(var c=-1,d=(r=n(r,e)).length,l=!1;++c<d;){var f=s(r[c]);if(!(l=null!=e&&t(e,f)))break;e=e[f]}return l||++c!=d?l:!!(d=null==e?0:e.length)&&u(d)&&a(f,d)&&(i(e)||o(e))}},226573:function(e,r,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=t(145239),i=t(389627),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=function(e,r){if(o(e))return!1;var t=n(e);return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!i(e))||(u.test(e)||!a.test(e)||null!=r&&e in Object(r))}},403322:function(e,r,t){var n=t(941249),o=t(911),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,n):e}},811516:function(e,r,t){var n=t(309464),o=t(754363);e.exports=function(e,r){return null!=e&&o(e,r,n)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/71233-0ea670fd3b8a2872.js.map