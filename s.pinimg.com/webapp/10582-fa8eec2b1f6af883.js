(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[10582,39395,25643],{55413:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},488242:function(e){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},863986:function(e){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},680143:function(e){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},284762:function(e){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},225643:function(e){e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,BROKEN_URL:5,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,IMAGE_QUALITY:18,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,INAUTHENTIC_PHOTOS:24,NO_VIOLATION:25,MISCELLANEOUS:26,DOMAIN_TOOLS_SCORE:27,INACTIVE_FEED:33,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:function(e){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},560133:function(e,t,n){"use strict";n.d(t,{nn:function(){return o},Gy:function(){return a},i8:function(){return s},RR:function(){return l},qN:function(){return c},SP:function(){return u},Uz:function(){return d},QY:function(){return p}});var r=n(923103),i=n.n(r),o=function(e){return!!e&&(e.shopping_flags||[]).includes(2)},a=function(e){var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},s=function(e){var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},l=function(e){var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},c=function(e){return e.is_oos_product},u=function(e){return e.is_stale_product},d=function(e){return c(e)||u(e)},p=function(e){var t=i()(e,"link_domain.official_user.full_name");if(t)return t;var n=i()(e,"rich_summary.site_name");if(n)return n;if(e.domain)return"Uploaded by user"===e.domain?((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name:e.domain;var r=i()(e,"via_pinner.full_name");return e.is_repin&&r?r:void 0}},295190:function(e,t,n){"use strict";n.r(t);var r=n(296882),i=n(773432),o=n(737614),a=n(230457),s=n(674245),l=n(185062),c=n(4495),u=n.n(c),d=n(311866);var p={open:function(e){var t=u()(e,p._validParams),n=p._getDialogType(e),o=p.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n,f=(0,r.Z)(e.path),h=(0,l.Z)();if(h.ptrf&&(f=(0,i.Z)(f,{ptrf:h.ptrf})),c&&(f=(0,i.Z)(f,{fb_ref:o})),t.method=n,"feed"===t.method){var _=p.getWindowOptions(e.width||580,e.height||400),y="http://www.facebook.com/sharer/sharer.php?u="+f;t.picture&&(y+="&picture="+t.picture),t.name&&(y+="&title="+t.name),t.description&&(y+="&description="+t.description),t.caption&&(y+="&caption="+t.caption),window.open(encodeURI(y),"sharer",_)}else"send"===t.method?t.link=f:"share"===t.method&&(t.href=f),(0,s.default)((function(n){n.getLoginStatus((function(){if("send"===t.method){n.ui(t);var r,i=10,a=setInterval((function(){!(r=function(){if(document){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1){var r=t[n].parentNode;r&&r.removeChild(t[n])}return e[0]}}}())&&i||(clearInterval(a),r&&p.executeMessengerCallback(r,e.callback)),i-=1}),1e3)}else"share"===t.method&&n.ui(t,(function(t){c&&t&&!t.error_message&&d.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:o}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),a.Z)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function(e,t){var n=10,r=setInterval((function(){"0px"!==e.style.width&&n||(clearInterval(r),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef:function(){for(var e="";e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return o.Z.instance.unauth_id+":"+e},_getDialogType:function(e){return p._validOptions.includes(e.type)?e.type:"feed"},getWindowOptions:function(e,t){var n=e||580,r=t||400,i=window.screen.width,o=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+r+",left="+Math.round((i-n)/2)+",top="+(o>r?Math.round((o-r)/2):0)}};t.default=p},181821:function(e,t,n){"use strict";var r={get:function(e){var t="gplus";n.e(44232).then(n.bind(n,921539)).then((function(n){var r=n.default;r.load([],"https://apis.google.com/js/client:platform.js",t),r.ready(t,(function(){e(window.gapi)}))}))}};t.Z=r},659048:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(295190),i=n(296882),o=n(773432),a=n(454690),s=n(447186),l={};l.open=function(e,t,n){var r=function(e,t){var n=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(r>t?Math.round((r-t)/2):0)}(t,n);window.open(e,void 0,r)},l.shrinkWrap=function(){var e,t,n,r;e=!1,t=document.documentElement,n=t?t.scrollWidth-t.clientWidth:0,r=t?t.scrollHeight-t.clientHeight:0,e&&(n=Math.max(n,0),r=Math.max(r,0)),s.Z.isAuthenticated()||(r=340),window.resizeBy(n,r)};var c=l,u={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){a.Z.trackEvent("share_line","click");var t=u._getWindowUrl(e.share_path,e.share_text);c.open(t,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,i.Z)(e):void 0,text:t})}},d=u,p={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){a.Z.trackEvent("share_reddit","click");var t=p._getWindowUrl(e.share_path,e.share_text);c.open(t,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://www.reddit.com/submit?url=",{url:e?(0,i.Z)(e):void 0,title:t})}},f=p,h=n(311866),_={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){var t=e.ga_category||"share_twitter";a.Z.trackEvent(t,"click");var n=_._getWindowUrl(e.tweet_path,e.tweet_text);c.open(n,_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,i.Z)(e):void 0,text:t||void 0})}},y=_,v={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t){var n=this._convertToInviteObject(e.object_type),r=e.invite_channel,i=null==e.invite_category?3:e.invite_category,o=e.object_id;return h.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:i,invite_object:n,invite_channel:r},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:function(e){return v.createShareInviteData(e).then((function(t){return v._logShareInvite(e,t.invite_code),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},createShareInviteData:function(e){var t=this._convertToInviteObject(e.object_type),n=e.invite_channel,r=null==e.invite_category?3:e.invite_category;if(10===r&&e.path)return h.ZP.create("ShareLinkResource",{invite_category:r,url:e.path}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}));var i=e.object_id;return h.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:r,invite_object:t,invite_channel:n},object_id:i}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}))},logShareInvite:function(e,t){t&&v._logShareInvite(e,t.invite_code)},shareFacebookInvite:function(e){return v.createShareInviteData(e).then((function(t){var n=t.invite_url,i=t.invite_code;return n&&r.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback:function(t){t&&!t.error_message&&v._logShareInvite(e,i)}}),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},shareTwitterInvite:function(e){var t=this._convertToInviteObject(e.object_type);return v.createShareInviteData(e).then((function(n){var r=n.invite_url,i=n.invite_code,o=e.description;return 6===t&&e.name&&(o=e.name),r&&y.openDialog({tweet_path:r,tweet_text:o}),v._logShareInvite(e,i),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},shareRedditInvite:function(e){return v.createShareInviteData(e).then((function(t){var n=t.invite_url,r=t.invite_code;return n&&f.openDialog({share_path:n,share_text:e.description}),v._logShareInvite(e,r),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},shareLineInvite:function(e){var t=this._convertToInviteObject(e.object_type);return v.createShareInviteData(e).then((function(n){var r=n.invite_url,i=n.invite_code,o=e.description;return 6===t&&e.name&&(o=e.name),o||(o=n.title),r&&d.openDialog({share_path:r,share_text:o}),v._logShareInvite(e,i),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},shareFbMessengerInvite:function(e){return v.createShareInviteData(e).then((function(t){var n=t.invite_url,i=t.invite_code;return n&&r.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback:function(t){t&&t.success&&v._logShareInvite(e,i)}}),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))}},m=v},525974:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(295190),i=n(311866),o=n(627578),a=n(230457),s=n(181821),l=n(282152),c=n(233495),u=n(928940),d=n(641483);var p;function f(){}Object.assign(f.prototype,{optionsForNetwork:{},connect:function(e,t,r){var i=this;t=Object.assign({},{success:function(){},error:function(){},complete:function(){}},t),(0,d.ZP)("auth_web.social_connect.".concat(e,".").concat((0,l.Z)())),t.rerequest_facebook_email?Promise.resolve().then(n.bind(n,674245)).then((function(e){(0,e.default)((function(e){e.login((function(e){var n,r,i=e.authResponse;i&&(n=(n=i.grantedScopes)?n.split(","):[],r=i.userID);var o=n.find((function(e){return"email"===e})),a={id:r};"connected"===e.status&&o?t.success(a):t.error(a),t.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),a.Z)})):"gplus"===e||"google"===e?s.Z.get((function(e){(0,c.Z)().then((function(){e.auth2.getAuthInstance().grantOfflineAccess().then((function(e){t.success({one_time_code:e.code,redirect_uri:"postmessage"})})).catch((function(e){t.error(e)}))}))})):Promise.resolve().then(n.bind(n,295190)).then((function(n){var a=n.default,s=t.windowOptions||a.getWindowOptions(),l=window.open("/connect/"+e+"/","",s);if(!l)return o.Z.showError(r._("You must enable popups!"," - "," -- ")),void t.error({network:e,alertedUpstream:!0});var c,d,p,f=u.Z.setInterval((function(){l.closed&&(clearInterval(f),i.handleComplete({network:e,error_message:"Window closed."}))}),1e3);i.optionsForNetwork=Object.assign(i.optionsForNetwork,(p=t,(d=e)in(c={})?Object.defineProperty(c,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[d]=p,c))}))},complete:function(e){this.handleComplete(e)},handleComplete:function(e){var t=e.network;if("facebook"===t){var n=e.id;n&&"string"!=typeof n&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){var r=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?r.error(e):r.success(e),r.complete()}}}),Object.assign(f,{instance:function(){return p||(p=new f),p}}),window.addEventListener("message",(function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&f.instance().complete(e.data)}));var h=f,_=n(584489),y=n(447186),v=n(301314),m=n(912397);function g(){}Object.assign(g.prototype,{handleConnect:function(e,t,n,i){if(t&&!y.Z.isLimitedLogin()){var o={success:function(r){var i={network:e,data:r};this._internalConnectNetwork(t,i,n)}.bind(this),error:function(e){n.error&&n.error(e)},complete:function(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?o.windowOptions="width=600,height=800":"instagram"===e?o.windowOptions=r.default.getWindowOptions(580,580):"etsy"===e?o.windowOptions=r.default.getWindowOptions(580,775):"youtube"===e&&(o.windowOptions=r.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,o,i)}else{var a={network:e};this._internalConnectNetwork(t,a,n)}},updateConnectStatus:function(){var e={user_id:y.Z.get("id"),username:y.Z.get("username"),field_set_key:"social_connect"};_.Z.instance.dispatch((0,v.jB)("UserResource",e)),i.ZP.create("UserResource",e).callGet().then((function(e){var t,n=null===(t=e.resource_response)||void 0===t?void 0:t.data;y.Z.set(n)}))},_externalConnectNetwork:function(e,t,n,r){t?h.instance().connect(e,n,r):n.success&&n.success({})},_internalConnectNetwork:function(e,t,n){var r=this,o=i.ZP.create("UserSocialNetworkResource",t);(e?o.callCreate():o.callDelete()).then((function(e){r.updateConnectStatus(),n.success&&n.success(e)}),(function(e){n.error&&e instanceof Object&&n.error(e)})).finally((function(){n.complete&&n.complete()}))},_getResourceNameForNetworkFriends:function(e){var t=null;switch(e){case m.vq:t="UserFacebookFriendsResource";break;case m.Ib:t="UserTwitterFriendsResource";break;case m.Tr:t="UserGmailFriendsResource";break;case m.lA:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends:function(e,t){var n=this,r=(t=t||{}).resourceOptions||{},o=this._getResourceNameForNetworkFriends(e);if(o){var a=i.ZP.create(o,r);a.callGet({showError:!1}).then((function(){var e=t.success;e&&e(a)}),(function(r){if(110===r.api_error_code)u.Z.setTimeout((function(){n.pollForFriends(e,t)}),1e3);else{var i=t.error;i&&i()}}))}}});var b=null;g.instance=function(){return b||(b=new g),b};var E=g},454690:function(e,t,n){"use strict";var r,i=n(238402),o=n(185062);void 0===r&&(r=n.g),r._gaq=r._gaq||[];var a=[],s=function(e){if(a.length)for(var t=0;t<a.length;t+=1){var n=a[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},l=function(e){if(a=e,e.length){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}},c=2,u=3,d={};d.init=function(e,t){l(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",c])},d.initSterling=function(e,t){var n=t.isLoggedIn,r=t.advertiser,i=t.adminUser,o=t.viewingUser;l(e),n?(i?s(["_setCustomVar",1,"adminUser",i.toString(),u]):o&&o.id?s(["_setCustomVar",1,"viewingUser",o.id.toString(),u]):s(["_setCustomVar",1,"is_logged_in","logged in",u]),r&&r.id&&s(["_setCustomVar",3,"advertiserId",r.id,u])):s(["_setCustomVar",1,"is_logged_in","logged out",u])};d.trackPageview=function(e){var t,n,a,l;s(["_setCustomVar",2,"page_name",e,u]),s(["_trackPageview",(t=r.location.pathname,n=r.location.search,a=t,l=(0,o.Z)(n).q,l&&(a+="?"+(0,i.Z)({q:l})),a)]),s(["_setPageGroup",1,e])},d.trackEvent=function(e,t,n,r,i){s(["_trackEvent",e,t,n,r,i])},d.trackCategoryEvent=function(e,t,n){d.trackEvent(e+"_"+t,n)},t.Z=d},609304:function(e,t,n){"use strict";function r(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:function(){return r}})},352483:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var r=n(793550),i=n(218265),o=n(80209);function a(e){return e.isHorizontalDesign?(0,o.jsxs)(i.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,o.jsx)(i.xu,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),(0,o.jsx)(i.xu,{color:"white",width:"2px",flex:"none"}),(0,o.jsx)(i.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,o.jsx)(i.xu,{color:"white",width:"2px",flex:"none"}),(0,o.jsx)(i.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):(0,o.jsxs)(i.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,o.jsx)(i.xu,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),(0,o.jsx)(i.xu,{color:"white",width:"2px",flex:"none"}),(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,o.jsx)(i.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,o.jsx)(i.xu,{color:"white",height:"2px",flex:"none"}),(0,o.jsx)(i.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n(174523);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(l,e);var t,n,r,s=y(l);function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=s.call.apply(s,[this].concat(n))),"state",{isLoaded:[!1,!1,!1],isMounted:!1}),b(m(e),"getImageArray",(function(){var t=e.props.userPins,n=[];return t&&0!==t.length?n=t.map((function(e){var t,n,r;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(r=e.images)||void 0===r?void 0:r["736x"])||{}).url})).filter(Boolean):n})),b(m(e),"getImage",(function(t,n){var r={transition:"opacity 500ms",opacity:e.state.isLoaded[n]?1:0};return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:r},color:"white",height:"100%",width:"100%",children:!!t&&(0,o.jsx)(i.Ee,{naturalHeight:1,src:t,fit:"cover",alt:e.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:function(){return e.handleLoad(n)}})})})),b(m(e),"handleLoad",(function(t){var n=e.state,r=n.isLoaded,i=n.isMounted,o=d(r);o[t]=!0,i&&e.setState({isLoaded:o})})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),this.getImageArray()}},{key:"render",value:function(){var e=this.props.isHorizontalDesign,t=this.getImageArray(),n=null;return n=1===t.length?(0,o.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:this.getImage(t[0],0)}):2===t.length?(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:[this.getImage(t[0],0),(0,o.jsx)(i.xu,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,o.jsx)(i.xu,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),(0,o.jsx)(i.xu,{color:"white",width:"2px",flex:"none"}),(0,o.jsx)(i.xu,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),(0,o.jsx)(i.xu,{color:"white",width:"2px",flex:"none"}),(0,o.jsx)(i.xu,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,o.jsx)(i.xu,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),(0,o.jsx)(i.xu,{color:"white",width:"2px",flex:"none"}),(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,o.jsx)(i.xu,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),(0,o.jsx)(i.xu,{color:"white",height:"2px",flex:"none"}),(0,o.jsx)(i.xu,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),(0,o.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:136,children:(0,o.jsxs)(i.xu,{width:"100%",position:"relative",flex:"grow",children:[(0,o.jsx)(a,{isHorizontalDesign:e}),n,(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:E,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}])&&h(t.prototype,n),r&&h(t,r),l}(r.PureComponent);var I=function(e){var t=(0,s.ZP)();return(0,o.jsx)(O,u(u({},e),{},{i18n:t}))},S=n(151101),x=n(457175);var P=function(e){var t=(0,x.v)().logContextEvent,n=e.avatarUrl,r=e.isVerified,a=e.isHorizontalDesign,s=e.url,l=e.userFullName,c=e.viewParameter,u=e.viewType,d=a?80:86;return(0,o.jsx)(i.xu,{zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:a?-58:-64,marginLeft:a?-6:0}},display:"flex",flex:"none",rounding:"circle",children:(0,o.jsx)(i.xu,{flex:"none",height:d,width:d,children:(0,o.jsx)(i.iP,{onTap:function(e){e.event.stopPropagation(),function(e,t,n){n({event_type:101,view_type:e,view_parameter:t,component:13406,element:11373})}(u,c,t)},href:s,rounding:"circle",role:"link",children:(0,o.jsx)(S.Z,{name:l,src:n,verified:r})})})})},w=n(537343);function T(e){var t=e.text,n=e.singleLineMaxCharacters,r=e.isBold,a=e.isHorizontalDesign,s=e.numLines*n,l=(0,w.ZP)(t,s);return r?(0,o.jsx)(i.xv,{align:a?"start":"center",overflow:"normal",size:"md",weight:"bold",children:l}):(0,o.jsx)(i.xv,{align:a?"start":"center",overflow:"normal",size:"md",weight:"normal",color:a?"darkGray":"gray",children:l})}function j(e){var t=e.description,n=e.domainUrl,r=e.isHorizontalDesign,a=e.userFullName,s=t||n,l={placeholder:{__style:{transition:"opacity 200ms",opacity:s?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:s?1:0}}};return(0,o.jsxs)(i.xu,{position:"relative",width:"100%",marginTop:r?4:3,marginBottom:3,alignItems:r?"start":"center",display:"flex",direction:"column",children:[(0,o.jsx)(i.xu,{height:18,width:"100%",children:(0,o.jsx)(i.xv,{align:r?"start":"center",lineClamp:1,size:r?"lg":"md",weight:"bold",children:a})}),(0,o.jsxs)(i.xu,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[(0,o.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:l.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,o.jsx)(i.xu,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),(0,o.jsx)(i.xu,{height:6,flex:"none"}),(0,o.jsx)(i.xu,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),r&&!!n&&(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",marginTop:-1,children:(0,o.jsx)(T,{numLines:2,isBold:!0,isHorizontalDesign:r,singleLineMaxCharacters:36,text:n})}),r&&!!t&&(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",marginTop:2,children:(0,o.jsx)(T,{isHorizontalDesign:r,numLines:2,singleLineMaxCharacters:36,text:t})}),!r&&!!s&&(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",children:(0,o.jsx)(T,{isHorizontalDesign:r,numLines:2,singleLineMaxCharacters:27,text:s})})]})]})}var A=n(575429),R=n(475896),C=n(946753);function D(e){var t=e.followText,n=e.followerCount,r=e.isHorizontalDesign,a=e.showFollowers,l=e.userFollowed,c=(0,s.ZP)();return a?(0,C.nk)(c._("{{ followCount }} {{ followText }}"," - "," -- "),{followCount:(0,o.jsx)(i.xu,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:l?void 0:.8,children:(0,o.jsx)(i.xv,{color:l?"gray":"white",size:r?"sm":"md",align:"center",weight:"bold",children:(0,o.jsx)(R.Z,{value:n||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,o.jsx)(i.xu,{"data-test-id":"followText",display:"inlineBlock",children:(0,o.jsx)(i.xv,{weight:"bold",color:l?"darkGray":"white",size:r?"sm":"md",overflow:"normal",align:"center",children:t})},"followText")}):(0,o.jsx)(i.xu,{"data-test-id":"followText",children:(0,o.jsx)(i.xv,{weight:"bold",color:l?"darkGray":"white",size:r?"sm":"md",overflow:"normal",align:"center",children:t})},"followText")}var N=n(881220),L=n(880841),k=n(289605);var M=(0,A.connect)((function(e,t){var n=t.id,r=(e.users||{})[n];return{userFollowed:!!r&&r.explicitly_followed_by_me}}),(function(e){return{follow:function(t){return e((0,k.ZN)(t))},unfollow:function(t){return e((0,k.fv)(t))}}}))((function(e){var t=e.followerCount,n=e.isHorizontalDesign,a=e.showFollowerCount,l=e.userFollowed,c=e.follow,u=e.id,d=e.viewParameter,p=e.viewType,f=e.fullName,h=e.imageUrl,_=e.profileUrl,y=(0,x.v)().logContextEvent,v=(0,s.ZP)(),m=(0,L.F9)().showOneToast,g=l?v._("Following","User follow button","User follow button"):v._("Follow","User follow button","User follow button"),b=function(e){return y({event_type:e,view_type:p,view_parameter:d,component:13406,element:11372})};return(0,o.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:n?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:(0,o.jsx)(i.iP,{onTap:function(){l?((0,k.fv)(u),b(46)):(c(u),b(45),m((function(e){var t=e.onHide;return(0,o.jsx)(N.Z,{onHide:t,text:(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(i.xv,{children:v._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,o.jsx)(i.xv,{weight:"bold",children:f})]}),href:_,imageUrl:h})})))},rounding:"pill",children:(0,o.jsx)(i.xu,{alignItems:"center",color:l?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:n?5:6,paddingY:n?3:4,rounding:"pill",children:(0,o.jsx)(D,{followerCount:t,followText:g,isHorizontalDesign:n,showFollowers:a&&0!==t,userFollowed:l})})})})}));function B(e){var t=e.avatarUrl,n=e.description,r=e.domainUrl,a=e.followerCount,s=e.id,l=e.isCreator,c=e.isHorizontalDesign,u=e.isVerified,d=e.userFullName,p=e.username,f=e.viewParameter,h=e.viewType,_=function(e){return"/".concat(e)}(p);return(0,o.jsxs)(i.xu,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[(0,o.jsx)(P,{avatarUrl:t,isHorizontalDesign:c,isVerified:u,url:_,userFullName:d,viewType:h,viewParameter:f}),c&&(0,o.jsxs)(i.xu,{position:"relative",width:"100%",children:[(0,o.jsx)(i.xu,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(M,{fullName:d,followerCount:a,id:s,imageUrl:t,isHorizontalDesign:c,profileUrl:_,showFollowerCount:l})}),(0,o.jsx)(i.xu,{width:"100%",display:"flex",left:!0,marginTop:1,children:(0,o.jsx)(j,{description:n,domainUrl:r,isHorizontalDesign:c,userFullName:d})})]}),!c&&(0,o.jsxs)(i.xu,{width:"100%",children:[(0,o.jsx)(j,{userFullName:d,domainUrl:r,description:n,isHorizontalDesign:c}),(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,o.jsx)(M,{followerCount:a,fullName:d,id:s,imageUrl:t,isHorizontalDesign:c,profileUrl:_,showFollowerCount:l})})]})]})}var G=n(451190),U=24;function F(e){var t=e.anchor,n=e.children,r=e.isHorizontalDesign;if(!t)return null;var a=r?320:236,s=t.getBoundingClientRect(),l=s.left,c=s.top,u=s.width,d=s.height,p=l+window.pageXOffset,f=c+window.pageYOffset,h=p+u+a+12>window.innerWidth,_={left:h?p:p+u,top:f+d/2},y={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:h?-12-a:12,top:-a/2-44},v={top:-12,left:-12,fill:"white"},m=h?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return(0,o.jsxs)(i.xu,{position:"absolute",zIndex:G.b,dangerouslySetInlineStyle:{__style:_},children:[(0,o.jsx)(i.xu,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:y},width:a,overflow:"hidden",children:n}),(0,o.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:v},children:(0,o.jsx)("svg",{width:U,height:U,children:(0,o.jsx)("path",{d:m})})})]})}var Z=n(311866),H=n(51610),V=n(34411),W=n(585967);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(l,e);var t,n,a,s=J(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),te(Q(t=s.call(this,e)),"anchorRef",(0,r.createRef)()),te(Q(t),"loadUser",(function(){var e=t.props.username,n=t.state.isMounted;e&&(Z.ZP.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then((function(e){var r;n&&t.setState({detailedUser:null===(r=e.resource_response)||void 0===r?void 0:r.data})})),Z.ZP.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item"}).callGet().then((function(e){var r;n&&t.setState({userPins:null===(r=e.resource_response)||void 0===r?void 0:r.data})})),n&&t.setState({isLoaded:!0}))})),te(Q(t),"handleScroll",(function(){clearTimeout(t.openTimeout),t.state.isMounted&&(t.setState({isVisible:!1}),t.forceUpdate())})),te(Q(t),"timeoutDismiss",(function(){t.dismissTimeout=setTimeout((function(){t.state.isMounted&&(t.setState({isVisible:!1}),clearTimeout(t.openTimeout))}),150)})),te(Q(t),"handleDisplayCard",(function(){var e=t.props,n=e.isDarkPromoter,r=e.pinId,i=e.requestContext,o=e.viewParameter,a=t.state,s=a.currentPinId,l=a.isLoaded,c=a.isMounted;clearTimeout(t.openTimeout),clearTimeout(t.dismissTimeout),r&&s!==r&&t.forceUpdate(),r&&t.setState({currentPinId:r});var u=i.experiments.getWithActivation("web_avatar_hover_cards_v2").group;156!==o&&0!==o||n||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(u)?c&&t.setState({isVisible:!1}):(l||t.loadUser(),t.openTimeout=setTimeout((function(){c&&t.setState({isVisible:!0})}),300))})),te(Q(t),"handleHideCard",(function(){t.timeoutDismiss()})),t.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,user:null,userPins:null},t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.user,r=t.detailedUser,i={user:{}};return n&&(i.user=n),r&&(i.user=K(K({},i.user),r)),i}}],(n=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.avatarSize,n=e.children,r=e.requestContext,a=e.username,s=e.viewer,l=e.viewParameter,c=e.viewType,u=this.state,d=u.isVisible,p=u.user,f=u.userPins,h=p||{},_=h.about,y=h.domain_url,v=h.follower_count,m=h.full_name,g=h.id,b=h.image_medium_url,E=h.show_creator_profile,O=h.verified_identity,S=s.isAuth&&s.id===g,x=Boolean(null==O?void 0:O.verified),P="enabled2_horizontal"===r.experiments.getWithoutActivation("web_avatar_hover_cards_v2").group;return(0,o.jsxs)(i.xu,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[(0,o.jsxs)(i.xu,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[(0,o.jsx)(i.xu,{height:t,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:t}),n]}),!S&&!!p&&!!a&&d&&(0,o.jsx)(i.xu,{children:(0,o.jsx)(H.Z,{children:(0,o.jsx)(i.mh,{children:(0,o.jsx)(F,{anchor:this.anchorRef.current,isHorizontalDesign:P,children:(0,o.jsx)(i.xu,{color:"white",zIndex:G.b,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:(0,o.jsxs)(i.xu,{width:"100%",children:[(0,o.jsx)(I,{isHorizontalDesign:P,userPins:f}),(0,o.jsx)(B,{avatarUrl:null!=b?b:"",description:null!=_?_:"",domainUrl:y,followerCount:null!=v?v:0,id:null!=g?g:"",isCreator:E,isHorizontalDesign:P,isVerified:null!=x&&x,userFullName:null!=m?m:"",username:a,viewParameter:l,viewType:c})]})})})})})})]})}}])&&X(t.prototype,n),a&&X(t,a),l}(r.PureComponent);function re(e){var t=(0,W.B)(),n=(0,V.Z)();return(0,o.jsx)(ne,K(K({},e),{},{requestContext:t,viewer:n}))}},702403:function(e,t,n){"use strict";n.d(t,{FC:function(){return r},z9:function(){return i},EC:function(){return o},m9:function(){return a},BS:function(){return s},_5:function(){return l},A6:function(){return c}});var r=424,i=800,o=508,a=424,s=278,l=640,c=508},418448:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(641483),i=n(549135);function o(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function s(e){return l.apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(t){var n,o,a,s,l,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filename,o=t.imgSrc,a=t.imageDownloadSuccessCallback,s=t.category,l=t.isUnauth,c=t.pinId,u=t.viewParameter,d=t.viewType,"undefined"!=typeof window){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if((0,r.ZP)("web.".concat(l?"unauth":"auth",".download.click.").concat(s||"no_category")),(0,i.j)(82,{objectId:c,view:d||3,viewParameter:u||139}),!o||!document){e.next=9;break}return e.abrupt("return",fetch(o,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((function(e){return e.blob()})).then((function(e){var t,r,i=document.createElement("a");i.href=window.URL.createObjectURL(e),i.setAttribute("download",n&&n.replace(".","_")),i.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(i),i.click(),null===(r=document.body)||void 0===r||r.removeChild(i),null==a||a()})).catch((function(){throw new Error("Download image error")})));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},628402:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(793550),i=n(575429),o=n(893945),a=n(174523),s=n(311866);function l(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}function u(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}function d(e){return function(){var t=c(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callCreate();case 2:n(u(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function p(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}function f(e){return function(){var t=c(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.ZP.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callDelete();case 2:n(p(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var h=n(218265),_=n(80209);function y(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.favorited,n=e.favoriteCount,s=e.isCloseupButton,l=e.onFavorite,c=e.onUnfavorite,u=e.pinId,p=e.size,m=(0,a.ZP)(),g=(0,i.useDispatch)(),b=v((0,r.useState)(!1),2),E=b[0],O=b[1],I=v((0,r.useState)(t),2),S=I[0],x=I[1],P=v((0,r.useState)(null!=n?n:0),2),w=P[0],T=P[1],j=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!S),O(!0),!S){e.next=10;break}return T(w-1),e.next=6,g(f(u));case 6:c(),O(!1),e.next=15;break;case 10:return T(w+1),e.next=13,g(d(u));case 13:l(),O(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),A=w<10?w:m._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,_.jsxs)(h.kC,{alignItems:"center",gap:1,children:[void 0!==n&&w>0&&(0,_.jsx)(h.xv,{size:"md",weight:"bold",children:A}),(0,_.jsx)(o.Z,{isCloseupButton:s,isDisabled:E,isFavorited:S,onTap:function(){j()},size:p})]})}},893945:function(e,t,n){"use strict";n.d(t,{W:function(){return s},Z:function(){return l}});var r=n(174523),i=n(218265),o=n(80209),a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l(e){var t=e.isCloseupButton,n=e.isDisabled,l=e.isFavorited,c=e.onTap,u=e.size,d=(0,r.ZP)();return t?(0,o.jsx)(i.hU,{accessibilityLabel:d._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:l?s:a,disabled:n,iconColor:"darkGray",onClick:c,size:"lg"}):(0,o.jsx)(i.iP,{disabled:n,onTap:c,children:(0,o.jsx)(i.JO,{accessibilityLabel:d._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:l?s:a,size:u})})}},801500:function(e,t,n){"use strict";function r(e){var t=e.split("/");return[t[2],t[1]]}function i(e,t){return!e||!e.some((function(e){return e.pin_type===t}))}n.d(t,{J:function(){return r},E:function(){return i}})},864793:function(e,t,n){"use strict";n.d(t,{rh:function(){return d},ZP:function(){return p},_E:function(){return f},G7:function(){return h},l6:function(){return _}});var r=n(631739),i=n(754975),o=n(754999),a=n(946753),s=n(998035),l=n(218265),c=n(80209),u=function(e){return["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"))};function d(e,t,n){var o,a,l;if(!t.isAuth)return!1;var c=(0,s.Nc)(e)||(0,s.o)(e),d=(null===(o=e.board)||void 0===o?void 0:o.privacy)===r.Z.BoardPrivacy.PUBLIC,p=(null===(a=e.board)||void 0===a?void 0:a.privacy)===r.Z.BoardPrivacy.PROTECTED,f=(u(n)&&p||d)&&!e.is_repin&&(null===(l=e.pinner)||void 0===l?void 0:l.id)===t.id,h=(0,i.Z)(e).isStoryPin;return c&&(!p||u(n))||t.isPartner&&f||function(e){return["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p"))}(n)&&h&&f}function p(e,t,n){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function f(e,t,n,r){var o=(0,i.Z)(e),u=o.isStoryPin,d=o.isVideo,p=(0,s.Nc)(e),f=(0,s.o)(e)&&(u||!p)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),_=(new Date).getTime()-h.getTime(),y=Math.floor(_/36e5),v=f?f["24h_realtime"].is_realtime:null,m=f?f["24h_realtime"].timestamp:null,g=null;f&&(g=u||d?f.all_time_realtime.timestamp:f["30d_realtime"].timestamp);var b=g!==m,E=function(e){return(0,a.nk)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join("")},O={timeframe:"",lastUpdated:""};if(f)if(v){var I=f["24h_realtime"].impression>=(u||d?f.all_time_realtime.impression:f["30d_realtime"].impression);O.timeframe=I?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):u||d?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),O.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(b||y>48)if(u||d){var S=r(f.all_time_realtime.timestamp);O.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),O.lastUpdated=E(S)}else{var x=r(f["30d_realtime"].timestamp);O.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),O.lastUpdated=E(x)}else{var P=r(f["24h_realtime"].timestamp);O.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),O.lastUpdated=E(P)}else O.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,c.jsxs)(l.xu,{alignItems:u||"lg"!==t?"center":void 0,display:u||"lg"!==t?"flex":void 0,children:[(0,c.jsx)(l.xv,{align:"end",color:"gray",size:"sm",children:O.lastUpdated}),(u||["md","sm"].includes(t))&&!!f&&(0,c.jsx)(l.xv,{color:"gray",inline:!0,size:"sm",children:" ・"}),(0,c.jsx)(l.xv,{align:"end",color:"gray",size:"sm",children:O.timeframe})]})}function h(e,t){return(0,o.Z)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function _(e,t){return(0,o.Z)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},777158:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(793550);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return e<160?"header-only":"none"}function s(e){var t,n,o,s=i((0,r.useState)(e.current?a(e.current.clientHeight||0):"none"),2),l=s[0],c=s[1];return t=e,n=function(e){var t=a(e.height);t!==l&&c(t)},o=(0,r.useRef)(),(0,r.useEffect)((function(){var e=t.current;if(e){var r=o.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(o.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(o.current))}})),o.current,l}},250777:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(793550),i=n(549135),o=n(626173);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=(0,o.E)(),a=n.componentType,l=n.contextLogData,c=n.viewParameter,u=n.viewType;return(0,r.useCallback)((function(){(0,i.j)(e,s(s({component:a,view:u,viewParameter:c},l),t||{}))}),[t,a,l,e,c,u])}},335529:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return s}});var r=n(793550);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=120;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=(0,r.useState)(e?"active":"inactive"),s=i(o,2),l=s[0],c=s[1];return(0,r.useEffect)((function(){if(!e){var r=setTimeout((function(){return c("inactive")}),n);return function(){clearTimeout(r)}}if(t){var i=setTimeout((function(){return c("active")}),t);return function(){clearTimeout(i)}}c("active")}),[e]),l}},818270:function(e,t,n){"use strict";n.d(t,{B:function(){return i},$:function(){return o}});var r=(0,n(762803).ZP)("SurfaceContext",{surface:"Unknown"}),i=r.Provider,o=r.useHook},626173:function(e,t,n){"use strict";n.d(t,{B:function(){return i},E:function(){return o}});var r=(0,n(762803).ZP)("trackingParametersContext"),i=r.Provider,o=r.useHook},752187:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(268648),i=n(124324),o=n(45815),a=n(233088),s=n(218265),l=n(181307),c=n(457175),u=n(626173),d=n(80209);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t,n=e.sizing,p=void 0===n?"default":n,h=e.children,_=e.collageChipId,y=e.componentType,v=e.contextLogData,m=e.elementType,g=e.pin,b=e.viewParameter,E=e.viewType,O=(0,c.v)().logContextEvent,I=(0,u.E)(),S=(0,l.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}).group,x=g.carousel_data,P=g.id,w="/pin/".concat(_||P,"/");if(x){var T=x.carousel_slots,j=void 0===T?[]:T,A=x.id,R=x.index,C=void 0===R?0:R;w="/pin/".concat(P,"/"),t={carousel_slot_id:j[C]&&j[C].id,carousel_data_id:A,carousel_slot_index:C}}t=f(f({},t||{}),(0,i.Kl)(g,v)||{});var D=(0,r.Z)({href:w,externalData:{auxData:t,pin:g}});return(0,d.jsx)(s.iP,{mouseCursor:"zoomIn",rounding:2,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),function(){if(O({event_type:101,component:y||I.componentType,element:m,object_id_str:P,view_type:E||I.viewType,view_parameter:b||I.viewParameter,aux_data:f(f({},v),(0,i.Kl)(g,v)||{})}),O({event_type:8948,view_type:E||I.viewType,view_parameter:b||I.viewParameter,component:y||I.componentType,element:m,object_id_str:P,aux_data:f(f({closeup_navigation_type:"click"},v),(0,i.Kl)(g,v)||{})}),S){var e=Number(a.y7.getItem(o.J)||0);a.y7.setItem(o.J,e+1)}}(),D({event:t})},fullWidth:"fullSize"===p,fullHeight:"fullSize"===p,href:w,role:"link",children:h})}},505812:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(752187),i=n(218265),o=n(80209),a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s(e){var t=e.pin,n=e.enableCloseupLink,s=(t.aggregated_pin_data||{}).pin_tags_chips,l=s&&s.length>=3?s.slice(0,3):[];return(0,o.jsx)(i.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:l.map((function(e){var s,l,c,u,d=(null===(s=e.images)||void 0===s?void 0:s["750x"])||{},p=(0,o.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=d.height)&&void 0!==l?l:1,naturalWidth:null!==(c=d.width)&&void 0!==c?c:1,src:null!==(u=d.url)&&void 0!==u?u:""});return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,o.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,o.jsx)(r.Z,{sizing:"fullSize",collageChipId:e.id,pin:t,children:p}):p})})})},e.id)}))})}},546352:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(218265),i=n(80209);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=e.children,n=e.additionalStyles,o=void 0===n?{}:n;return(0,i.jsx)(r.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:a({pointerEvents:"none"},o)},children:t})}},452963:function(e,t,n){"use strict";n.d(t,{F:function(){return s},Z:function(){return l}});var r=n(185062),i=n(218265),o=n(80209),a={impressed:{backgroundColor:"#adebad"}},s=function(){return void 0!==(0,r.Z)().debug_impression_log};function l(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,o.jsx)(i.xv,{color:"white",children:(0,o.jsx)("span",{className:"deprecatedTextSizeXL",children:r})})})})}},514560:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(793550),i=n(881220),o=n(174523),a=n(218265),s=n(80209);function l(e){var t=(0,o.ZP)(),n=e.onHide,r=(0,s.jsx)(a.xv,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,s.jsx)(i.Z,{onHide:n,text:r})}var c=n(311866),u=n(34411),d=n(880841);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.anchor,n=e.onDismiss,i=e.pinId,f=e.signals,h=(0,o.ZP)(),_=p((0,r.useState)(0),2),y=_[0],v=_[1],m=(0,u.Z)(),g=(0,d.F9)().showOneToast;if(!m.isEmployee)return null;var b=f.map((function(e){var t=e.signal_message;return{href:"#",text:null!=t?t:""}})),E=f[y],O=E.background_color,I=E.icon_url,S=E.signal_id,x=E.signal_message;return(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(a.xu,{padding:4,width:"100%",children:[f.length>1&&(0,s.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(a.mQ,{activeTabIndex:y,onChange:function(e){var t=e.event,n=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),function(e){var t=e.activeTabIndex;e.event.preventDefault(),v(t)}({activeTabIndex:n,event:t})},tabs:b})}),(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(a.X6,{size:"sm",children:h._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,s.jsx)(a.xu,{paddingY:3,children:(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:I?(0,s.jsx)(a.Ee,{alt:h._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:I}):(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:O}},height:40,width:40})}),(0,s.jsx)(a.xv,{size:"md",children:x})]})}),(0,s.jsx)(a.xu,{marginBottom:3,children:(0,s.jsx)(a.xv,{size:"md",children:h._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:h._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:function(){var e={pin_id:i,signal_id:S,user:m.id};c.ZP.create("SignalReviewRequestResource",e).callCreate(),n(),g((function(e){var t=e.onHide;return(0,s.jsx)(l,{onHide:t})}))}}),(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:h._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:n})]})]})})})},_=n(711243),y=n(551687),v=n(689859),m=n(8742);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.signals,n=e.pinId,i=t[0],o=i.background_color,l=i.icon_url,c=i.signal_message,u=g((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,r.useRef)();return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(y.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(v.Z,{children:(0,s.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(_.Z,{children:(0,s.jsx)(m.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,s.jsx)(a.iP,{onTap:function(){return p((function(e){return!e}))},rounding:"pill",onMouseEnter:n,onMouseLeave:r,children:(0,s.jsxs)(a.xu,{color:t?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:f,children:[(0,s.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(a.Ee,{alt:"",color:o,src:null!=l?l:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(a.xv,{color:"white",size:"md",weight:"bold",children:c})]})})}})})})})}),d&&f&&f.current&&(0,s.jsx)(h,{anchor:f.current,onDismiss:function(){return p(!1)},pinId:n,signals:t})]})}function O(e){var t=e.pin;if(!(0,u.Z)().isEmployee)return null;var n=t.id,r=t.deb_ads,i=t.deb_content_quality,o=t.deb_inclusive_product,a=t.deb_shopping,l=t.deb_trust_and_safety;return r?(0,s.jsx)(E,{pinId:n,signals:r}):i?(0,s.jsx)(E,{pinId:n,signals:i}):o?(0,s.jsx)(E,{pinId:n,signals:o}):a?(0,s.jsx)(E,{pinId:n,signals:a}):l?(0,s.jsx)(E,{pinId:n,signals:l}):null}},7713:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(218265),i=n(335529),o=n(80209);function a(e,t){return{hidden:{opacity:0,transition:t?"opacity ".concat(t,"ms ease"):void 0},visible:{opacity:1,transition:e?"opacity ".concat(e,"ms ease"):void 0}}}function s(e){var t=e.children,n=e.fadeInDuration,s=void 0===n?0:n,l=e.fadeOutDuration,c=void 0===l?i.X:l,u=e.visibility;return"none"!==u&&t?(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(s,c)[u]},children:t}):null}},818026:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var r=n(793550),i=n(546352),o=n(174523),a=n(365217),s=n(451875),l=n(457175),c=n(218265),u=n(80209);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},v=["followed","related","search"],m=["pfy","pfyBoard"];function g(e){var t,n=e.feedbackType,d=e.isHomefeedTunerVariantExp,f=e.pin,_=e.hideContents,g=void 0!==_&&_,b=(0,l.v)().logContextEvent,E=(0,o.ZP)(),O=h((0,r.useState)(!1),2),I=O[0],S=O[1],x=h((0,r.useState)(!1),2),P=x[0],w=x[1];(0,r.useEffect)((function(){return S(!0)}),[]);var T=function(){return w(!0)},j=f.feedbackText,A=f.images,R=f.showFeedbackOverlay,C=f.undoAction,D=f.undoText,N=A&&(null===(t=A["236x"])||void 0===t?void 0:t.url),L=null!=j?j:{},k=L.image,M=L.subTitle,B=L.title,G=L.unfollow,U=!v.includes(n),F=m.includes(n),Z=function(){b({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,u.jsxs)(c.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[N&&(0,u.jsx)(i.Z,{additionalStyles:p(p(p({},y.background.base),I?y.background.blurred:{}),{},{backgroundImage:'url("'.concat(N,'")')})}),(0,u.jsx)(i.Z,{additionalStyles:p(p({},y.backdrop.base),y.backdrop.blurred)})]}),(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:p(p({},y.feedbackOverlayContainer.base),!R&&I?y.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!g&&(0,u.jsx)(c.xu,{height:"100%",children:(0,u.jsxs)(c.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,u.jsx)(c.xu,{marginBottom:2,children:(0,u.jsx)(c.X6,{color:"white",size:"sm",children:B})}),(0,u.jsxs)(c.xu,{display:"flex",marginBottom:1,children:[k&&(0,u.jsx)(c.xu,{marginEnd:3,children:(0,u.jsx)(c.zd,{width:k.width,height:k.height,rounding:2,wash:!0,children:(0,u.jsx)(c.Ee,{alt:M||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:k.url||""})})}),(0,u.jsx)(c.xv,{color:"white",overflow:"normal",children:M})]}),d?(0,u.jsxs)(r.Fragment,{children:[C&&(0,u.jsx)(c.xu,{children:(0,u.jsx)(c.iP,{onTap:C,children:(0,u.jsx)(c.xv,{color:"white",weight:"bold",overflow:"normal",children:E._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,u.jsxs)(c.xu,{marginTop:"auto",children:[!C&&!P&&G&&!F&&(0,u.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(G.action,G.actionOptions,T)},text:E._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),U&&(0,u.jsx)(c.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:Z,text:E._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.xu,{children:U&&(0,u.jsx)(c.rU,{href:"/edit",onClick:Z,children:(0,u.jsx)(c.xv,{color:"white",weight:"bold",overflow:"normal",children:E._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,u.jsxs)(c.xu,{marginTop:"auto",children:[!C&&!P&&G&&!F&&(0,u.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(G.action,G.actionOptions,T)},text:E._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),C&&(0,u.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:C,text:D||E._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},665035:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(793550),i=n(575429),o=n(519922),a=n(953781),s=n(83742),l=n(537343),c=n(174523),u=n(250777),d=n(698602),p=n(493858),f=n(382064),h=n(626173),_=n(218265),y=n(80209);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n=e.feedbackData,m=e.feedbackType,g=e.pin,b=e.pinTitle,E=e.setForcePrimary,O=e.transparentBackground,I=(0,c.ZP)(),S=(0,i.useDispatch)(),x=(0,h.E)(),P=x.viewParameter,w=x.viewType,T=(0,f.f)().reportPin,j=v((0,r.useState)(!1),2),A=j[0],R=j[1],C=v((0,r.useState)(),2),D=C[0],N=C[1],L=g.ad_match_reason,k=g.show_ad_reasons,M=g.board,B=g.category,G=g.description,U=g.id,F=void 0===U?"":U,Z=g.images,H=g.is_promoted,V=g.pinner,W=g.promoter,z=g.recommendation_reason,Y=g.source_interest,K=g.videos,X=(t=H?60:50,function(e){return(0,l.ZP)((e||"").trim(),t)})(null!=G?G:""),q=(0,o.Z)(Z,"236x"),J=(0,p.iR)(K),$=(0,u.Z)(101,{component:0,element:981,feedback_type:m,objectId:F}),Q=function(){k||(E(!1),S((0,d.i0)(F)),R(!1))};return(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(_.xu,{"data-test-id":"feedback-button",ref:N,children:(0,y.jsx)(_.hU,{accessibilityLabel:I._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:O?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){A?Q():(E(!0),R(!0)),$()},size:"sm"})}),A&&(0,y.jsx)(_.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,y.jsx)(s.Z,{anchor:D,ad_match_reason:L,bestPinImgSrc:(0,a.Z)(g),board:M,feedbackData:n,feedbackType:m,hideDownload:J,onLinkClick:function(){A&&Q()},onDismiss:Q,onHide:Q,onDownloadHideFlyout:function(){E(!1),R(!1)},pinCategory:B,pinDescription:X,pinId:F,pinImgSrc:q,pinner:V,pinTitle:b,promoter:W,recommendationReason:z,reportPin:function(){return T(g,P,w)},sourceInterest:Y,viewParameter:P,viewType:w})})]})}},83742:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r=n(793550),i=n(575429),o=n(549156),a=n(218265),s=n(80209);function l(e){var t=e.iconAccessibilityLabel,n=e.icon,r=e.linkAccessibilityLabel,i=e.showNavigationIcon,l=e.text;return(0,s.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(o.Z,{id:"ad-reason-icon",children:(0,s.jsx)(a.Sj,{accessibilityLabel:t,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,s.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(a.xv,{children:l})}),i&&r&&(0,s.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(a.JO,{accessibilityLabel:r,color:"darkGray",icon:"arrow-forward"})})]})}var c=n(451190),u=n(773559),d=n(174523),p=n(946753),f=n(457175),h=u.Z.settings,_=h.ACCOUNT_SETTINGS,y=h.CANONICAL_MAIN_URL,v=h.HELP_BLOCKING,m=h.HELP_PROMOTED_PINS_URL;function g(e){var t=e.onDismiss,n=e.brandName,r=e.country,i=e.language,u=e.isAgeMatched,h=e.isBehaviorTargetingMatched,g=e.isCustomerListMatched,b=e.isGeoPostalCodeMatched,E=e.isGeoRegionMatched,O=e.isShoppingTargetingRematched,I=(0,f.v)().logContextEvent,S=(0,d.ZP)();return(0,s.jsx)(c.Z,{accessibilityModalLabel:S._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:t,children:(0,s.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(a.xu,{position:"absolute",left:!0,children:(0,s.jsx)(a.hU,{accessibilityLabel:S._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})}),(0,s.jsx)(a.X6,{align:"center",size:"md",children:S._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,s.jsxs)(a.xu,{children:[(0,s.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.xv,{children:(0,p.nk)(S._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(o.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{href:m,inline:!0,onClick:function(){I({event_type:101,component:13756,element:12057})},target:"blank",children:S._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,p.nk)(S._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(o.Z,{id:"ad-reasons",children:(0,s.jsxs)(a.kC,{direction:"column",flex:"none",gap:4,children:[b||E?(0,s.jsx)(a.iP,{role:"link",href:"".concat(y).concat(_),onTap:function(){I({event_type:101,component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:S._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:S._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,p.nk)(S._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-country-name"),language:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,u&&(0,s.jsx)(l,{iconAccessibilityLabel:S._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,p.nk)(S._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-age-brand-name")})}),h&&(0,s.jsx)(l,{iconAccessibilityLabel:S._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:S._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),O&&(0,s.jsx)(l,{iconAccessibilityLabel:S._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,p.nk)(S._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"retargeting-ad-reason")})}),g&&(0,s.jsx)(l,{iconAccessibilityLabel:S._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,p.nk)(S._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-customer-list")})}),(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{children:S._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,s.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,s.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(a.iz,{})}),(0,s.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(a.X6,{size:"sm",children:S._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,p.nk)(S._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{inline:!0,href:v,onClick:function(){I({event_type:101,component:13756,element:12058})},target:"blank",children:S._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var b=n(535718),E=n(34411),O=n(585967);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t,n,o,a,l=e.pinId,c=e.onDismiss,u=(0,f.v)().logContextEvent,d=(0,O.B)().locale,p=(0,E.Z)().country,h=void 0===p?"":p,_=(0,b.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,b.Z)({name:"LocalesResource"}),v=(0,i.useSelector)((function(e){return e.pins[l]}));(0,r.useEffect)((function(){u({event_type:120,component:13756})}),[u]);var m=null!=v?v:{},I=m.ad_targeting_attribution,P=m.promoter,w=null!==(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e&&Object.keys(e).filter((function(t){return"boolean"==typeof e[t]})).slice(0,t).reduce((function(t,n){return S(S({},t),{},x({},n,e[n]))}),{})}(I))&&void 0!==t?t:{},T=w.is_age_matched,j=void 0!==T&&T,A=w.is_behavior_targeting_matched,R=void 0!==A&&A,C=w.is_customer_list_matched,D=void 0!==C&&C,N=w.is_geo_postal_code_matched,L=void 0!==N&&N,k=w.is_geo_region_matched,M=void 0!==k&&k,B=w.is_shopping_retargeting_matched,G=void 0!==B&&B,U=null!==(n=null==P?void 0:P.full_name)&&void 0!==n?n:"",F=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(o=_.data)&&void 0!==o?o:[],h),Z=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(a=y.data)&&void 0!==a?a:[],d);return(0,s.jsx)(g,{brandName:U,country:F,language:Z,isAgeMatched:j,isBehaviorTargetingMatched:R,isCustomerListMatched:D,isGeoPostalCodeMatched:L,isGeoRegionMatched:M,isShoppingTargetingRematched:G,onDismiss:c})}var w=n(595657),T=n(418448),j=n(539484),A=n(374284),R=n(538958),C=n(860179),D=n(266750),N=n(778423),L=n(454217),k=n(698602),M=n(365217),B=n(500637),G=n(272828);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var i=q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={color:"white",textDecorationColor:"white"},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(l,e);var t,n,i,o=Y(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),J(X(t=o.call(this,e)),"getRecommendationDescription",(function(){var e=t.props,n=e.ad_match_reason,r=e.board,i=e.feedbackType,o=e.pinner,a=e.promoter,s=e.recommendationReason,l=e.sourceInterest;return t.feedbackHelpers.getRecommendationDescription({ad_match_reason:n,board:r,feedbackType:i,makeNavigateLink:t.makeNavigateLink,pinner:o,promoter:a,recommendationReason:s,sourceInterest:l})})),J(X(t),"getRecommendationDescriptionImage",(function(){var e,n,r,i=t.props,o=i.board,l=i.feedbackType,c=i.pinner,u=i.recommendationReason;return"followed"!==l&&"pfyBoard"!==l?null:(c&&c.explicitly_followed_by_me?(e=c.image_small_url,n="50%",r="/".concat(c.username)):o&&o.image_thumbnail_url&&(e=o.image_thumbnail_url,n="4px",r=u&&u.board&&u.board.url||o.url),e?(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(a.iP,{onTap:function(){var e;return t.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,s.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:e})})})}):null)})),J(X(t),"getUnfollowAction",(function(){var e=t.props,n=e.board,r=e.feedbackType,i=e.pinner,o=e.sourceInterest;return t.feedbackHelpers.getUnfollowAction({board:n,feedbackType:r,makeNavigateLink:t.makeNavigateLink,pinner:i,sourceInterest:o})})),J(X(t),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?t.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""})),J(X(t),"feedbackHelpers",(0,L.ZP)({i18n:t.props.i18n,interpolateNamedTemplate:p.nk})),J(X(t),"makeNavigateLink",(function(e,n,r,i){var o=V({display:"inline"},i?$:{});return(0,s.jsx)(a.rU,{onClick:t.props.onLinkClick,role:"link",href:n,inline:!0,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o},children:r})},e)})),J(X(t),"reportPinOption",(function(){return{action:"reportPin",elementType:974,text:t.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:t.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:t.props.reportPin,dataTestId:"report-pin-option"}})),J(X(t),"hidePinOption",(function(e){var n=t.props,r=n.feedbackData,i=n.feedbackType,o=n.pinId,a=n.recommendationReason,s="search"===i?973:982,l=t.feedbackHelpers.getHidePinAction({feedbackData:r,feedbackType:i,pinId:o,recommendationReasonId:a&&a.reason&&N.ReasonToChoose[a.reason],pinFeedbackType:"pfy"===i?4:10,throughId:a&&(0,L.yl)(a),throughProperties:a&&(0,L.XZ)(a),clientTrackingParams:(0,w.Z)(o)}),c=l.action,u=l.actionOptions,d=t.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:c,actionOptions:u,feedbackText:t.pinHiddenFeedbackText(e),text:d,description:t.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:s}})),J(X(t),"stopRecommendationOption",(function(){var e=t.props,n=e.feedbackData,r=e.feedbackType,i=e.pinId,o=e.recommendationReason,a=null!=o?o:{},s=a.board,l=a.reason,c=l&&N.ReasonToChoose[l],u=o&&(0,L.yl)(o),d=o&&(0,L.XZ)(o),f="pfyBoard"===r,h=t.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:r,pinId:i,recommendationReasonId:c,pinFeedbackType:f?2:4,throughId:u,throughProperties:d,clientTrackingParams:(0,w.Z)(i)}),_=h.action,y=h.actionOptions,v=s?t.makeNavigateLink("boardUrl",s.url,s.name,!0):"";return{action:_,actionOptions:y,feedbackText:{subTitle:f&&s?(0,p.nk)(t.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:v}):t.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:f&&s?(0,p.nk)(t.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:s.name}):t.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),J(X(t),"unfollowBoardOption",(function(){var e,n,r=t.props.board,i=r?t.makeNavigateLink("boardUrl",null!==(e=r.url)&&void 0!==e?e:"",null!==(n=r.name)&&void 0!==n?n:"",!0):"",o=(0,p.nk)(t.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==r?void 0:r.name}),a=(0,p.nk)(t.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==r?void 0:r.id},feedbackText:{title:"",subTitle:a},text:o,description:(0,p.nk)(t.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==r?void 0:r.name}),elementType:10614}})),J(X(t),"unfollowTopicOption",(function(){var e=t.props.sourceInterest;if(e){var n=e.id,r=e.name,i=void 0===r?"":r,o=e.url_name,a="/topics/".concat(void 0===o?"":o),s=t.makeNavigateLink("topicUrl",a,i,!0),l=(0,p.nk)(t.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:i}),c=(0,p.nk)(t.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:s});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:D.X},feedbackText:{title:"",subTitle:c},text:l,description:(0,p.nk)(t.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),J(X(t),"unfollowUserOption",(function(){var e=t.props.pinner,n=null!=e?e:{},r=n.id,i=n.username,o=n.full_name,a="/".concat(i),s=e?t.makeNavigateLink("pinnerUrl",a,null!=o?o:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:"",subTitle:(0,p.nk)(t.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:s})},text:(0,p.nk)(t.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:o}),description:t.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),J(X(t),"downloadPinOption",(function(){return{action:"downloadPin",text:t.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}})),J(X(t),"_pinFeedbackText",(function(){var e=t.props,n=e.location,r=e.feedbackType,i=e.hideDownload,o=e.pinner,a="followed"===t.props.feedbackType,s=n.pathname.includes("following"),l=(a||"topic"===r)&&!s,c=t.hidePinOption(l),u=t.reportPinOption(),d="promoted"!==r&&!i;switch(r){case"followed":var p=s,f=!p&&t.getRecommendationDescription(),h=null!=o&&o.explicitly_followed_by_me?t.unfollowUserOption():t.unfollowBoardOption(),_=[c].concat(F(l||p?[h]:[]),F("promoted"!==r?[t.downloadPinOption()]:[]),[u]);return V(V({},f?{description:f}:{}),{},{options:_});case"promoted":var y=t.props,v=y.pinId,m=y.showAdReasonsModal,g=[c,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:t.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:function(){m(v)}},u];return{description:t.getRecommendationDescription(),options:g};case"topic":var b=t.unfollowTopicOption(),E=[c].concat(F(l&&b?[b]:[]),F(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:E};case"pfy":case"pfyBoard":var O=[c].concat(F("pfyBoard"===r?[t.stopRecommendationOption()]:[]),F(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:O};default:var I=[c].concat(F(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:I}}})),J(X(t),"pinHiddenFeedbackText",(function(e){var n=e?null:t.getUnfollowAction();return n?{title:"",subTitle:t.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:t.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));var n=t._pinFeedbackText();return t.state={pinFeedbackConfig:n,showSecondary:!1},t}return t=l,(n=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,M.t)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,r){var i=this.props,o=i.hidePinFeedback,a=i.onHide,s=i.pinId,l=i.showPinFeedback,c=i.showPinFeedbackOverlay,u=i.showPinFeedbackUndo,d=i.viewParameter,p=i.viewType,f=i.logContextEvent;t&&n&&r?u(s,e,(0,L.EF)(n,r,s,p,d,o,f),this.getUndoText(r)):l(s,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),c(s))}},{key:"makeStrongText",value:function(e,t){return(0,s.jsx)("strong",{children:t},e)}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.feedbackType,i=n.viewParameter,o=n.viewType;this.props.logContextEvent({event_type:101,view_type:o,view_parameter:i,element:e,component:(0,L.nb)(r),aux_data:V({},t)})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props,n=t.hideDownload,r=t.onDownloadHideFlyout,i=t.pinId,o=t.viewType,l=t.viewParameter,c=this.state.pinFeedbackConfig.options,u=[],d=c.length,p=function(t){var d=c[t],p=M.P.includes(d.action),f=d.callback?d.callback:function(){return e.onPinHide(d.feedbackText,p,d.actionOptions,d.action)};if("downloadPin"!==d.action){var h=(0,j.Z)({url:d.link||""}),_="";Array.isArray(d.text)?_=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(_=d.text.toString()),u.push(d.link?(0,s.jsx)(a.Lt.Link,{href:d.link,isExternal:h,option:{value:d.action||"",label:_},dataTestId:d.dataTestId||""}):(0,s.jsx)(a.Lt.Item,{onSelect:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,d,f)},option:{value:d.action||"",label:_},dataTestId:d.dataTestId||""}))}else if(!n&&"undefined"!=typeof window&&"windows"!==(0,R.ZP)(window)){var y=e.props,v=y.bestPinImgSrc,m=y.pinTitle,g=y.pinDescription,b=y.pinCategory;u.push((0,s.jsx)(a.Lt.Item,{onSelect:function(){(0,T.Z)({category:b,filename:m||g,imageDownloadSuccessCallback:function(){r&&r()},imgSrc:v,pinId:i,viewParameter:l,viewType:o})},option:{value:"downloadImage",label:e.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}},f=0;f<d;f+=1)p(f);return u}},{key:"render",value:function(){var e=this.state,t=e.pinFeedbackConfig,n=e.showSecondary,i=this.props,o=i.anchor,l=i.onDismiss,c=i.feedbackData,u=i.feedbackType,d=i.hideAdReasonsModal,p=i.pinId,f=i.onHide,h=i.recommendationReason,_=i.showAdReasons,y=i.viewParameter,v=i.viewType,m=t.description,g=this.getRecommendationDescriptionImage();return(0,s.jsxs)(r.Fragment,{children:[n?(0,s.jsx)(A.Z,{anchor:o,feedbackData:c,feedbackType:u,pinId:p,onDismiss:l,onHide:f,recommendationReason:h,viewParameter:y,viewType:v}):(0,s.jsx)(a.Lt,{anchor:o,id:"pin-action-dropdown",idealDirection:"down",onDismiss:l,zIndex:C.lI,headerContent:m&&(0,s.jsxs)(a.kC,{alignItems:"center",children:[(0,s.jsx)(a.xu,{"data-pin-recommendation-reason":null==h?void 0:h.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(a.xv,{color:"darkGray",overflow:"normal",size:"md",children:m})}),g]}),children:this.renderButtons()}),_&&(0,s.jsx)(P,{onDismiss:function(){return d(p)},pinId:p})]})}}])&&W(t.prototype,n),i&&W(t,i),l}(r.Component);var ee=(0,B.compose)((0,i.connect)(null,(function(e){return{hidePinFeedback:function(t){return e((0,k.I1)(t))},showPinFeedback:function(t,n){return e((0,k.ZP)(t,n))},showPinFeedbackOverlay:function(t){return e((0,k.Ib)(t))},showPinFeedbackUndo:function(t,n,r,i){return e((0,k.NA)(t,n,r,i))},showAdReasonsModal:function(t){return e((0,k.b9)(t))},hideAdReasonsModal:function(t){return e((0,k.yj)(t))}}})),G.EN)((function(e){var t=(0,f.v)().logContextEvent,n=(0,d.ZP)(),r=(0,i.useSelector)((function(t){return t.pins[e.pinId]})),o=r.ad_targeting_attribution,a=r.show_ad_reasons,l=void 0!==a&&a;return(0,s.jsx)(Q,V(V({},e),{},{showAdReasons:l,adTargetingAttribution:o,i18n:n,logContextEvent:t}))}))},374284:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(174523),i=n(365217),o=n(218265),a=n(860179),s=n(946753),l=n(778423),c=n(457175),u=n(454217),d=n(80209);function p(e){var t=e.anchor,n=e.feedbackData,p=e.feedbackType,f=e.pinId,h=e.onDismiss,_=e.onHide,y=e.recommendationReason,v=e.viewParameter,m=e.viewType,g=(0,c.v)().logContextEvent,b=(0,r.ZP)(),E=(0,u.ZP)({i18n:b,interpolateNamedTemplate:s.nk}),O=function(e,t){var r=y&&y.reason&&l.ReasonToChoose[y.reason],o=y&&(0,u.yl)(y),a=y&&(0,u.XZ)(y),s=E.getHidePinAction({feedbackData:n,feedbackType:p,pinId:f,recommendationReasonId:r,throughId:o,throughProperties:a,complaintReason:e}),c=s.action,d=s.actionOptions;!function(e){g({event_type:101,view_type:m,view_parameter:v,element:e,component:(0,u.nb)(p)})}(t),(0,i.t)(c,d),_()},I="promoted"===p?[{text:b._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:b._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:b._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:b._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:b._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:b._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:b._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:b._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,d.jsx)(o.Lt,{anchor:t,idealDirection:"down",onDismiss:h,zIndex:a.lI,id:"pin-action-dropdown",children:(0,d.jsx)(o.Lt.Section,{label:b._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:I.map((function(e){var t=e.text,n=e.reason,r=e.elementType;return(0,d.jsx)(o.Lt.Item,{onSelect:function(){return O(n,r)},option:{value:"hide-reason-".concat(t.split(" ").join("-")),label:t},dataTestId:"hide-reason-".concat(t.split(" ").join("-"))})}))})})}},773788:function(e,t,n){"use strict";var r=n(793550),i=n(227457),o=n.n(i),a=n(539484),s=n(204478),l=n(174523),c=n(218265),u=n(80209);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,i=v(l);function l(){var e;h(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(g(e=i.call.apply(i,[this].concat(n))),"state",{showBoardName:!1}),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state.showBoardName,t=this.props,n=t.isDenseView,r=t.isNewlySaved,i=t.name,l=t.shouldUseLegoStyles,d=t.type,p=t.url;if(l&&n)return null;var f,h,_="boardless"===d?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;if(!r||e||l){var y=l?(0,u.jsx)(c.xv,{color:"white",size:"lg",weight:"bold",children:_.length<=20?_:(0,s.Z)(_,20)}):(0,u.jsx)(c.X6,{color:"white",size:"sm",lineClamp:1,children:_}),v=(0,a.Z)({url:p})?"nofollow":"none";f=p?(0,u.jsx)(c.rU,{rel:v,href:p,children:y}):y}else f=(0,u.jsx)(c.xv,{color:"white",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return r&&(h=e?"board":"saved"),(0,u.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:l?14:void 0,paddingRight:l?14:void 0},className:l?o()("Lego__SavedPin",h):o()("SavedAnimation",h),children:f})}}])&&_(t.prototype,n),r&&_(t,r),l}(r.Component);t.Z=function(e){var t=(0,l.ZP)();return(0,u.jsx)(O,f(f({},e),{},{i18n:t}))}},488023:function(e,t,n){"use strict";n.d(t,{Y:function(){return c},Z:function(){return f}});var r=n(174523),i=n(457175),o=n(218265),a=n(80209);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],u={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},p={component:13668,view_type:4,view_parameter:3106};function f(e){var t,n=e.pinId,f=e.surface,h=(0,i.v)().logContextEvent,_=(0,r.ZP)(),y=function(){var e=c.includes(f)?p:"BaseBoardPinGrid"===f?d:"UserProfilePinGrid"===f?u:{};h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:101,element:10573},e))},v=_._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,a.jsx)(o.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:c.includes(f)?(0,a.jsx)(o.zx,{role:"link",accessibilityLabel:_._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:"/pin/".concat(n,"/analytics"),onClick:y,size:"sm",text:(t=v,t.length>14?"".concat(t.substring(0,12).trim(),"..."):t)}):(0,a.jsx)(o.hU,{role:"link",accessibilityLabel:_._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:"/pin/".concat(n,"/analytics"),icon:"ads-stats",iconColor:"darkGray",onClick:y,size:"sm"})})}},577302:function(e,t,n){"use strict";function r(e,t){var n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:function(){return r}})},851881:function(e,t,n){"use strict";n.d(t,{Z:function(){return se}});var r=n(793550),i=n(575429),o=n(963232),a=n(754975),s=n(515528);function l(e){var t=e.isGroupBoard,n=e.pin,r=e.surface,i=n.carousel_data,o=n.grid_title,l=n.rich_summary,c=n.title,u=(0,a.Z)(n),d=u.isOwnPin,p=u.isPromoted;if(i){var f=i.carousel_slots,h=void 0===f?[]:f,_=i.index,y=void 0===_?0:_;if(h[y]&&h[y].title)return h[y].title.trim()}if(p){if(s.ZF.includes(r))return o||"";if(d&&!t&&!i&&"UserProfilePinGrid"!==r)return"";var v=l&&"mobile application"!==l.type_name&&l.display_name;return c||v||o||""}return o||""}var c=n(493858),u=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n(746857),p=n(864793),f=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function h(e){var t,n,r,i,o,s=e.attributionOption,c=e.board,u=e.contentType,h=e.experimentsClient,_=e.feedbackData,y=e.feedbackType,v=e.hasCarouselData,m=e.isGroupBoard,g=e.isOwnBoard,b=e.pin,E=e.showImageOnly,O=e.showNativeReactions,I=e.showPromotedShoppingPrice,S=e.surface,x=e.viewer,P=e.isORBACProfileManager,w=e.inMsgPinCardUpdateExp,T=void 0!==w&&w,j=(0,a.Z)(b),A=j.isPromoted,R=j.isSponsored,C=b.promoter,D=b.pin_note,N=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,i=e.pin,o=e.showImageOnly,a=e.surface,s=e.inMsgPinCardUpdateExp,l=void 0!==s&&s,c=i.is_downstream_promotion,u=i.native_creator,d=i.promoter,p=i.sponsorship;if("promoted"===n||d&&!c||p)return"default";if((!l||"ConversationView"!==a)&&f.includes(a))return"none";if(r)return"none";var h="default";return t&&("image-only"===t?h="image-only-credit":"hide"===t&&(h="none")),"followed"!==n||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===t?h:"TodayArticleFeed"===a&&"show"===t?"show-for-claimed-content":u?"default":"none":h}({attributionOption:s,feedbackType:y,isGroupBoard:m,pin:b,showImageOnly:E,surface:S,inMsgPinCardUpdateExp:T}),L=E?"":l({isGroupBoard:m,pin:b,surface:S}),k=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(S)&&!A&&!E&&Boolean((0,d.Z)(b,S)),M=["ShoppingList","ShoppingListRecentlyViewed"].includes(S),B="BaseBoardPinGrid"===S&&D?null===(t=D.text)||void 0===t?void 0:t.trim():null,G=A,U="shopping"===u,F=/ShoppingSquareGridRelatedProducts/.test(S),Z=2;if(A?Z=3:(k||"none"!==N)&&(Z=U||F?2:1),U||(A&&F||I)){var H,V,W=((null===(H=b.rich_summary)||void 0===H||null===(V=H.products)||void 0===V?void 0:V[0])||{}).offer_summary;n=W?W.standard_price:void 0,r=W?W.price||W.max_price:void 0}if(U&&!A){var z,Y,K,X=(null===(z=b.rich_summary)||void 0===z?void 0:z.aggregate_rating)||{},q=X.rating_count,J=X.rating_value,$=X.review_count;(q||$)&&parseFloat(J)&&(i={count:q||$,rating:J}),o=null===(Y=b.rich_metadata)||void 0===Y||null===(K=Y.products)||void 0===K?void 0:K[0].shipping_info}var Q=(0,p.rh)(b,x,h),ee="CreatorProfileStoryPinGrid"!==S&&"CreatorProfileActivityPinGrid"!==S,te=m&&!R;return{attributionType:N,board:c,contentType:u,feedbackData:_,feedbackType:y,isDarkPromoter:!A&&!!C,pinNoteText:B,pinTitle:L,productCurrentPrice:r,productOriginalPrice:n,productRating:i,productShipping:o,showCarouselEllipsis:v,showFavoriteButton:!P&&("BaseBoardPinGrid"===S&&g||Boolean(null==c?void 0:c.should_show_board_activity)),showGroupBoardAvatar:te,showNativeReactions:O,showOverflowMenu:G,showPinStats:Q,showSource:k,showTextContent:ee,showVisitSiteButton:M,titleLines:Z}}var _=n(631739),y=n(30494),v=n(233088),m=n(702403),g=n(344886);var b=["ShoppingCatalogsProductsMetadata"];var E=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],O=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var I=n(577302),S=n(551687),x=n(586840),P={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var w=n(789875),T=n(601750),j=n(300970),A=n(215484),R=n(609304),C=n(593482);var D=n(689859),N=n(174523),L=n(767523),k=n(383722),M=n(34411),B=(n(218265),n(488023)),G=n(374897),U=n(986215),F=n(159276),Z=n(818270),H=n(626173),V=n(197801),W=n(345513),z=n(452963),Y=n(181307),K=n(382745),X=n(272828),q=n(80209),J=["blockClickEvents","attributionOption","board","debugImpressionState","feedbackOptions","imageOnlyOption","isSocialSeasonalBoard","pinImageCrop","pinImageFit","reduxPin","resolution","saveButtonOptions","shouldShowFooter","surface","trackingParameters"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re,ie=(0,r.lazy)((function(){return Promise.all([n.e(75796),n.e(69039),n.e(21632),n.e(92982)]).then(n.bind(n,969810))})),oe=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ae=["BaseBoardPinGrid","UserProfilePinGrid"].concat(function(e){if(Array.isArray(e))return ne(e)}(re=B.Y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(re)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var se=(0,i.connect)((function(e,t){var n=e.boards,r=n.isSocialSeasonalBoard,i=void 0!==r&&r,o=n.content,a=void 0===o?{}:o,s=e.pins,l=t.pin,c=s[t.pinId]||l,u=c.board&&c.board.id,d=(u?a["".concat(u)]:void 0)||c.board;return c.grid_title=c.grid_title||l.grid_title,{board:d,isSocialSeasonalBoard:i,reduxPin:c}}),(function(){return{}}))((function(e){var t,n,d=e.blockClickEvents,f=e.attributionOption,B=e.board,$=e.debugImpressionState,ee=e.feedbackOptions,ne=e.imageOnlyOption,re=void 0===ne?"default":ne,se=e.isSocialSeasonalBoard,le=e.pinImageCrop,ce=e.pinImageFit,ue=e.reduxPin,de=e.resolution,pe=void 0===de?"default":de,fe=e.saveButtonOptions,he=e.shouldShowFooter,_e=void 0===he||he,ye=e.surface,ve=e.trackingParameters,me=te(e,J),ge=(0,N.ZP)(),be=(0,V.Y)(),Ee=B||{},Oe=Ee.collaborated_by_me,Ie=Ee.collaborator_count,Se=Ee.is_collaborative,xe=ue.pinner,Pe=ue.showFeedback,we=ue.sponsorship,Te=(0,R.Z)(ue),je=(0,M.Z)(),Ae=(0,L.Z)(),Re=(0,X.TH)(),Ce=ve.slotIndex,De=ve.viewParameter,Ne=(0,Y.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(ye)).anyEnabled,Le=(0,i.useSelector)((function(e){return e.ui.views})),ke=(0,i.useSelector)((function(e){return e.ui})),Me=ke.app?ke.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},Be=(0,U.i8)(ue.id,Me),Ge=(0,i.useSelector)((function(e){return e.changeBoardFromToast}))||{},Ue=(0,A.Z)(ue),Fe=(0,T.Z)(ue),Ze=je.isAuth&&je.isEmployee,He=je.isAuth&&((0,j.Z)(null,je)||(0,C.Z)(null,je))&&!je.isPartner,Ve=He;"TodayArticleFeed"===ye&&(Ve=!1),"default"!==re&&(Ve="image-only"===re),function(e){return s.zI.includes(e)}(ye)&&(Ve=!1),"ShoppingSquareGridDomainNoMetadata"===ye&&(Ve=!0);var We=f;He&&!We&&(We="image-only");var ze=(0,w.Z)({feedbackOptions:ee,pin:ue,viewParameter:De},ge),Ye=(ee||{}).data,Ke="number"==typeof Ie&&Ie>0||Se,Xe=function(e,t){if("OtherProfilePinGrid"===t)return!0;var n=P[t];return!!n&&"dense"===e[n]}(Le,ye),qe=Boolean(Ke&&"BaseBoardPinGrid"===ye),Je=(0,k.Z)(),$e=(0,i.useSelector)((function(e){var t,n,r,i,o=e.users;return o&&o[null!==(t=null===(n=Je.data)||void 0===n?void 0:n.id)&&void 0!==t?t:""]?o[null!==(r=null===(i=Je.data)||void 0===i?void 0:i.id)&&void 0!==r?r:""]:Je.data})),Qe=(0,I.Z)(je,B),et=!1;if(!!(0,X.LX)(Re.pathname,{path:"/:username/_created/",exact:!0}))et=(0,F.q6)(je,null==$e?void 0:$e.id,Ae);else if((0,K.am)(Re)||(0,K.OJ)(Re)){var tt=B&&B.owner&&B.owner.id||"";et=(0,F.q6)(je,tt,Ae)}var nt,rt=Boolean(je.isAuth&&xe&&xe.id===je.id),it=Boolean(Oe||Ke&&Qe),ot=je.isAuth&&je.isPartner,at=(0,Y.aq)("web_deleted_idea_pins",!(null===(t=ue.story_pin_data)||void 0===t||!t.is_deleted)).anyEnabled,st=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDeletedStoryPin,r=e.surface,i={primaryContent:null,secondaryContent:null,actionBar:O.includes(r)?"none":"visible",accessoryContent:t?"visible":"none"};return n||E.includes(r)?(i.primaryContent="none",i.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(r)&&(i.primaryContent="visible"),i}({hasCarouselData:Fe,isDeletedStoryPin:at,surface:ye})}),[Fe,at,ye]),lt=ue.is_quick_promotable&&!["ShoppingSquareGridHomefeedBoth","ShoppingListGrid"].includes(ye),ct=(0,r.useMemo)((function(){return function(e){var t=e.board,n=e.isDenseView,r=e.isGroupBoard,i=e.isInlineBetterSave,o=e.isOwnBoard,a=e.isORBACProfileManager,l=e.isQuickPromotable,c=e.isRemovable,u=e.saveButtonOptions,d=e.surface,p=e.viewer,f=e.viewerIsCollaborator,h=p.isAuth?p.boardCount:void 0,_=u||function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)?{type:"classic"}:{type:"inline"}}(h);return l?_={type:"promote"}:(f||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&"BoardlessPins"!==d&&(_={type:"classic"}),i&&(_={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(c||b.includes(d)||a)&&(_={type:"none"}),{board:t,derivedSaveButtonOptions:_,showLikeButton:f&&r&&s.UP.includes(d),supportsReactionBar:!n}}({board:B,isInlineBetterSave:Ne,isDenseView:Xe,isGroupBoard:qe,isOwnBoard:Qe,isOwnPin:rt,isORBACProfileManager:et,isQuickPromotable:lt,isRemovable:Te,saveButtonOptions:fe,surface:ye,viewer:je,viewerIsCollaborator:it})}),[B,Ne,Xe,qe,Qe,rt,et,lt,Te,fe,ye,je,it]),ut=(0,a.Z)(ue).isPromoted,dt=(0,Y.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0}).anyEnabled;[].concat(["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"],["ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"]).includes(ye)&&!ut&&(nt="white");var pt=(0,r.useMemo)((function(){return function(e){var t=e.allowProductCarousel,n=void 0!==t&&t,r=e.shoppingLabelColor,i=e.surface;return{allowProductCarousel:n,allowShoppingPriceIndicator:s.Wv.includes(i),shoppingLabelColor:r}}({allowProductCarousel:Ue,shoppingLabelColor:nt,surface:ye})}),[Ue,nt,ye]),ft=(0,r.useMemo)((function(){return function(e){var t,n=e.board,r=e.feedbackData,i=e.feedbackType,s=e.isDenseView,d=e.isGroupBoard,p=e.isOwnBoard,f=e.isORBACProfileManager,h=e.pin,_=e.surface,y=e.viewer,v=(0,a.Z)(h),m=v.isOwnPin,g=v.isPromoted,b=l({isGroupBoard:d,pin:h,surface:_}),E=n&&(0,o.Z)({action:4,board:n,viewer:y})||m,O=h.savedInfo&&h.savedInfo.localPinId,I=Boolean(p&&!d||"UserProfilePinGrid"===_&&E||O),S=d&&E||I||f&&!(0,c.hy)(h),x=Boolean((null==n?void 0:n.is_collaborative)||I),P=!(g||p||d||u.includes(_)||f),w="CloseupRelatedProducts"!==_&&!f,T=h.tracked_link,j=h.link,A=!(null===(t=null!=T?T:j)||void 0===t||!t),R=d&&s?"equally-spaced":"default",C="default";return s&&(C=d?"icon-only":"truncated-text"),s&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(_)&&(C="icon-only",R="equally-spaced"),{actionBarEditBeforeShare:x,feedbackData:r,feedbackType:i,layout:R,pinTitle:b,showEditButton:S,showOverflowMenu:P,showShareButton:w,showSourceLinkButton:A,sourceLinkStyle:C}}({board:B,feedbackData:Ye,feedbackType:ze,isDenseView:Xe,isGroupBoard:qe,isOwnBoard:Qe,isORBACProfileManager:et,pin:ue,surface:ye,viewer:je})}),[B,Ye,ze,Xe,qe,Qe,et,ue,ye,je]),ht=!et&&(0,p.rh)(ue,je,be)&&ae.includes(ye),_t=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(ye),yt=!ut&&_t?"shopping":"standard",vt=(0,G.J6)(ue,at),mt=(0,Y.tc)("web_ag_msg_pin_card_update"),gt="ConversationView"===ye&&mt({dangerouslySkipActivation:!0}).anyEnabled,bt=(0,r.useMemo)((function(){return h({attributionOption:We,board:B,contentType:yt,feedbackData:Ye,feedbackType:ze,experimentsClient:be,hasCarouselData:Fe,isGroupBoard:qe,isOwnBoard:Qe,isORBACProfileManager:et,pin:ue,showImageOnly:Ve,showNativeReactions:vt,showPromotedShoppingPrice:dt&&ut&&_t,surface:ye,viewer:je,inMsgPinCardUpdateExp:gt})}),[We,B,yt,be,Ye,ze,Fe,qe,Qe,et,ut,_t,ue,dt,Ve,vt,ye,je,gt]),Et=Boolean(bt.pinTitle)||bt.contentType||bt.userNote||bt.showSource||"none"!==bt.attributionType||bt.showNativeReactions||bt.productCurrentPrice||bt.productOriginalPrice||bt.showPinStats,Ot=_e&&(Et||qe);"BaseBoardPinGrid"===ye&&Qe&&ot||we?Ot=!0:oe.includes(ye)||Xe&&(Qe||Oe)||se?Ot=!1:rt||"CreatorProfileStoryPinGrid"!==ye&&"CreatorProfileActivityPinGrid"!==ye||(Ot=!1);var It=Boolean(Pe),St=(0,Y.tc)("web_others_board_feed_ads_border"),xt={showNoPinBorderRadius:"TopicBestPinNarrow"===ye||"TopicBestPinWide"===ye||gt&&"ConversationView"===ye,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===ye&&ut&&St().anyEnabled,shouldUseLegoWash:!0},Pt=(0,Y.aq)("hfp_homefeed_control_cta_variants").anyEnabled,wt={feedbackType:ze,isHomefeedTunerVariantExp:Pt},Tt=(0,Y.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}).anyEnabled,jt=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDenseView,r=e.isPromoted,i=e.isSocialSeasonalBoard,o=e.pinImageCrop,a=e.pinImageFit,s=e.resolution,l=e.showPromotedVideos,c=e.surface,u="backend";"CloseupRelatedProducts"===c?u={height:g.GZ,width:g.OE}:"TopicBestPinWide"===c?u={height:m.m9,width:m.BS}:"TopicBestPinNarrow"===c?u={height:m._5,width:m.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(c)?u={height:g.zX,width:g.zX}:o&&(u=o);var d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(c),p="none",f=null!=s?s:"default";"string"!=typeof u&&(p="cover",(d||"ShoppingSquareGridCrop"===c&&r||"ShoppingDynamicHeightGrid"===c&&!a||"ShoppingSquareGridDomainNoMetadata"===c)&&(p="contain",f="high-res"));var h=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(c)?"transparent":"dominant",b=(0,y.e)(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===v.Xb.getItem(_.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:p,isDenseView:n,isSocialSeasonalBoard:i,resolution:f,rootMargin:b,pinImageCrop:u,showCarousel:t&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:l}}({hasCarouselData:Fe,isDenseView:Xe,isPromoted:ut,isSocialSeasonalBoard:se,pinImageCrop:le,pinImageFit:ce,resolution:pe,showPromotedVideos:Tt,surface:ye})}),[Fe,Xe,ut,se,le,ce,pe,Tt,ye]),At=Ze&&(0,z.F)(),Rt=(0,r.useMemo)((function(){return{debugImpressionState:$,slotIndex:Ce}}),[$,Ce]);return(0,q.jsx)(S.Z,{name:"PinRepConfiguration",children:(0,q.jsx)(H.B,{value:ve,children:(0,q.jsxs)(Z.B,{value:{surface:ye},children:[(0,q.jsx)(W.Z,Q({actionBarProps:ft,blockClickEvents:d,currentlyPlayingVideo:Be,footerProps:bt,visibilityOverrides:st,impressionsDebuggerProps:Rt,obscuredPinOverlayProps:wt,pin:ue,pinVisualProps:jt,presentationProps:xt,primaryContentProps:ct,secondaryContentProps:pt,showFooter:Ot,showUnavailablePin:at,showImpressionsDebugger:At,showObscuredPinOverlay:It,showSeeStatsButton:ht,showSignalDebugger:Ze,surface:ye},(0,x.Z)(me,["pinId"]))),Ge.shouldOpenModal&&Ge.newPin&&(null===(n=Ge.originalPin)||void 0===n?void 0:n.id)===ue.id&&(0,q.jsx)(S.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,q.jsx)(D.Z,{children:(0,q.jsx)(ie,{experience:Ge.experience,newPin:Ge.newPin})})})]})})})}))},345513:function(e,t,n){"use strict";n.d(t,{J:function(){return Bn},Z:function(){return Gn}});var r=n(793550),i=n(711243),o=n(551687),a=n(754975),s=n(689859),l=n(174523),c=n(585967),u=n(626173),d=n(100001),p=n(439887),f=n(542756);function h(e,t){var n=e.carousel_data,r=e.domain||"";return n&&n.id&&(r=function(e,t){var n=t||e&&e.index||0,r=e&&e.carousel_slots||[],i=r[n]&&r[n].link||"";return i&&(0,f.Z)(i).hostname||""}(n,t)),r.replace("www.","")}var _=n(268648),y=n(250777),v=n(124324),m=n(272828),g=n(218265),b=n(80209);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function w(e){var t=e.pin,n=e.sourceLinkStyle,i=e.surface,o=e.url,a=(0,l.ZP)(),s=S((0,r.useState)(!1),2),c=s[0],f=s[1],E=t.id,I=h(t),x=(0,m.TH)(),w=(0,v.Kl)(t)||{},T=(0,u.E)().slotIndex,j=(0,p.Z)(t,x),A=(0,y.Z)(12,O({grid_index:T,objectId:E,clientTrackingParams:j},(0,v.Kl)(t)||{})),R=(0,y.Z)(101,O({element:162,objectId:E,clientTrackingParams:j},(0,v.Kl)(t)||{})),C=(0,y.Z)(8948,O({click_type:"clickthrough",closeup_navigation_type:"click",grid_index:T,objectId:E,clientTrackingParams:j},(0,v.Kl)(t)||{})),D=function(){A(),R(),C()},N=(0,_.Z)({href:o,target:"blank",externalData:{auxData:w,pin:t,surface:i}});return"icon-only"===n?(0,b.jsx)(g.hU,{accessibilityLabel:a._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),D(),N({event:t})},role:"link",rel:"nofollow",size:"sm"}):(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:O(O(O({},P.container),c?P.containerHovered:Object.freeze({})),"truncated-text"===n?P.containerTruncated:Object.freeze({}))},"data-test-id":"pinrep-source-link",onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},position:"relative",children:(0,b.jsx)(d.Z,{hovered:c,pin:t,slotIndex:T,viewType:1,children:(0,b.jsx)(g.iP,{fullWidth:!1,href:o,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),D(),N({event:t})},rel:"nofollow",role:"link",rounding:4,children:(0,b.jsxs)(g.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:P.text},display:"flex",justifyContent:"between",children:[(0,b.jsx)(g.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,b.jsx)(g.JO,{accessibilityLabel:a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,b.jsx)(g.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,b.jsx)(g.xv,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:I})})]})})})})}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=(0,r.lazy)((function(){return Promise.all([n.e(23039),n.e(49806),n.e(56103),n.e(48035)]).then(n.bind(n,395553))})),N=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,665035))})),L=(0,r.lazy)((function(){return n.e(5035).then(n.bind(n,806841))}));var k=(0,r.memo)((function(e){var t,n=e.actionBarEditBeforeShare,d=e.feedbackData,p=e.feedbackType,f=e.layout,h=e.onToggleFlyout,_=e.pin,y=e.pinTitle,v=e.setForcePrimary,m=e.showEditButton,E=e.showOverflowMenu,O=e.showShareButton,I=e.showSourceLinkButton,S=e.sourceLinkStyle,x=e.surface,P=(0,l.ZP)(),T=(0,g.JZ)(),A=(0,c.B)().isRTL,C=(0,u.E)(),k=C.viewParameter,M=C.viewType,B=_.carousel_data,G=_.id,U=_.savedInfo,F=_.tracked_link,Z=_.link,H=null!==(t=null!=F?F:Z)&&void 0!==t?t:"",V=(0,a.Z)(_).isLeadPin,W=R((0,r.useState)(m),2),z=W[0],Y=W[1],K=R((0,r.useState)(m),2),X=K[0],q=K[1],J=R((0,r.useState)(m),2),$=J[0],Q=J[1],ee=j(j({},A?{marginLeft:m&&E?-44:0}:{marginRight:m&&E?-44:0}),{},{transition:A?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"}),te={opacity:$?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},ne=j(j({},A?{marginRight:X?4:0}:{marginLeft:X?4:0}),{},{transition:A?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"});(0,r.useEffect)((function(){var e;return m&&E?(q(!0),e=setTimeout((function(){requestAnimationFrame((function(){Y(!0),requestAnimationFrame((function(){Q(!0)}))}))}),800)):(q(m),Y(m),requestAnimationFrame((function(){Q(m)}))),function(){clearTimeout(e)}}),[m,E]);var re=null;I&&(re=(0,b.jsx)(i.Z,{children:V?(0,b.jsx)(g.zx,{role:"button",accessibilityLabel:P._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:P._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,b.jsx)(w,{pin:_,sourceLinkStyle:S,surface:x,url:H})}));var ie=O&&(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"send-share-link",children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(L,{pin:_,setForcePrimary:v})})})})}),oe=Boolean(null==U?void 0:U.localPinId)?null==U?void 0:U.localPinId:G,ae=z&&(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:T?void 0:{__style:te},children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(D,{carouselSlotCurrentIndex:B&&B.index,component:0,onToggleModal:h,pinId:oe,style:{size:"sm"},view:M,viewParameter:k,useLegoStyles:!0})})})})});return"equally-spaced"===f?(0,b.jsxs)(g.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:re}),n?ae:ie,n?ie:ae]}):(0,b.jsxs)(g.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,b.jsx)(g.xu,{flex:"shrink",children:re}),(0,b.jsx)(g.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:T?void 0:{__style:ee},children:(0,b.jsxs)(g.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[n?ae:ie,n?ie:ae,E&&(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:T?void 0:{__style:ne},children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(N,{feedbackData:d,feedbackType:p,pin:_,pinTitle:y,setForcePrimary:v})})})})})]})})]})})),M=n(575429),B=n(224982),G=n(589444),U=n(457175);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=e.direction,n=e.swipeHandler,r=(0,l.ZP)(),i={left:r._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:r._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,b.jsx)(g.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===t,right:"right"===t,children:(0,b.jsx)(g.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,b.jsx)(g.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-".concat(t),children:(0,b.jsx)(g.JO,{accessibilityLabel:i[t],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[t]})})})})}var W=(0,M.connect)(null,(function(e){return{changeCarouselSlotIndex:function(t,n){return e((0,B.Z)(t,n))}}}))((function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=(0,U.v)().logContextEvent,o=(0,u.E)(),a=o.componentType,s=o.viewParameter,l=o.viewType,c=(0,G.Z)({pin:t});if(!c)return null;var d=t.id,p=void 0===d?"":d,f=c.carousel_slots,h=void 0===f?[]:f,_=c.index,y=void 0===_?0:_,m=c.id;function E(e){return function(){var i="left"===e?y-1:y+1;n(p,i),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;r({event_type:108,object_id_str:p,component:a,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:h[e]&&Number(h[e].id),carouselDataId:Number(m),carouselSlotIndex:e,toCarouselSlotIndex:n}},aux_data:Z({},(0,v.Kl)(t)||{})})}(y,i)}}return(0,b.jsxs)(g.xu,{height:"100%",position:"relative",width:"100%",children:[y>0&&(0,b.jsx)(i.Z,{children:(0,b.jsx)(V,{direction:"left",swipeHandler:E("left")})}),y<h.length-1&&(0,b.jsx)(i.Z,{children:(0,b.jsx)(V,{direction:"right",swipeHandler:E("right")})})]})})),z=n(514560),Y=n(151101);function K(e){var t=e.accessibilityLabel,n=e.attributionNameLink,r=e.avatarUrl,i=e.fullWidth,o=void 0===i||i,a=e.name,s=void 0===a?"":a,l=e.onClick,c=e.outline,u=void 0!==c&&c,d=e.size,p=void 0===d?32:d,f=(0,b.jsx)(g.xu,{"data-test-id":"attribution-avatar",height:p,width:p,children:(0,b.jsx)(Y.Z,{name:s,src:r,accessibilityLabel:t,outline:u})});return n?(0,b.jsx)(g.iP,{fullWidth:o,role:"link",href:n,onTap:l,children:f}):f}var X=n(181307);function q(e){var t=e.isHover,n=e.attributionNameLink,r=e.name,i=e.onClick,o=e.regularWeight,a=(0,X.aq)("web_disable_ads_blocker",!n).anyEnabled;return(0,b.jsx)(g.xu,{children:(0,b.jsx)(g.xv,{underline:t,size:"md",lineClamp:1,weight:o?"normal":"bold",children:n?(0,b.jsx)(g.rU,{onClick:i,href:n,children:r}):a?(0,b.jsx)("span",{children:r}):r})})}function J(e){var t=e.isHover,n=e.link,r=e.onClick,i=e.title,o=e.weight;return i?(0,b.jsx)(g.xv,{inline:!0,underline:t,size:"md",weight:o,children:n?(0,b.jsx)(g.rU,{onClick:r,href:n,children:i}):i}):null}var $=n(352483),Q=n(234070),ee=n(550242);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=(0,M.connect)(null,(function(e){return{setMostRecentPin:function(t){e((0,ee.K)(t))}}}))((function(e){var t=e.attributionNameLink,n=e.attributionTitle,i=e.avatarUrl,o=e.display,s=void 0===o?"default":o,l=e.isDarkPromoter,c=e.isPromotedByPinCreator,d=e.pin,p=e.name,f=e.setMostRecentPin,h=e.url,_=e.verifiedIdentity,v=e.isVerifiedMerchant,m=(0,u.E)(),E=m.viewParameter,O=m.viewType,I=re((0,r.useState)(!1),2),S=I[0],x=I[1],P=d.id,w=d.pinner,T=d.sponsorship,j=d.story_pin_data_id,A=(0,a.Z)(d).isPromoted,R=w||d.promoter,C=((T||{}).creator||{}).id,D=!!j,N=(0,y.Z)(101,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({view:3,element:A?283:27,objectId:P,component:D?230:void 0},C?{creator_id:C,pin_id:P}:{})),L=function(){f(P),N()},k=function(){x((function(e){return!e}))},M=h&&!t,B="overlay"===s,G=(0,b.jsxs)(g.xu,{alignItems:"center",display:B?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,b.jsx)(g.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:B?"flex":void 0,justifyContent:"center",children:(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:B?{__style:{marginTop:-45}}:void 0,children:(0,b.jsx)($.Z,{avatarSize:B?64:32,isDarkPromoter:l,pinId:P,user:R,username:R&&R.username,viewParameter:E,viewType:O,children:(0,b.jsx)(K,{attributionNameLink:t,avatarUrl:i,name:p,onClick:function(){return L()},accessibilityLabel:"",size:B?64:32,outline:B})})})}),(0,b.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:B?"flex":void 0,justifyContent:"center",marginTop:B?2:void 0,children:[(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,b.jsxs)(g.kC,{gap:1,children:[(0,b.jsx)(q,{attributionNameLink:t,name:p,onClick:function(){return L()},regularWeight:!(A&&!T||c),isHover:S}),(0,b.jsx)(Q.Z,{size:"sm",hasVerifiedIdentity:_,isVerifiedMerchant:v})]})}),(0,b.jsx)(J,{isHover:S,title:n,weight:"normal"})]})]});return M?(0,b.jsx)(g.iP,{role:"link",onTap:function(e){e.event.stopPropagation(),L()},href:h,onMouseEnter:k,onMouseLeave:k,children:G}):G})),ae=n(479996),se=n(577302),le=n(169897),ce=n(628402),ue=n(411221),de=n(34411),pe=n(801500),fe=n(816670),he=n(613330),_e=n(648381);function ye(e){var t=e.board,n=e.favoriteCount,i=e.favorited,o=e.pinId,a=(0,U.v)().logContextEvent,s=(0,M.useDispatch)(),l=(0,u.E)().slotIndex,c=(0,_e.s)(),d=c.currentFilter,p=c.eligibleFilters,f=c.refreshData,h=void 0===f?function(){}:f,_=c.sectionId,y=c.setShowExperienceTooltip,v=(0,r.useRef)(null),m=(0,de.Z)(),E=(0,se.Z)(m,t),O=d===fe.Ac&&(!n||1===n),I=(0,pe.E)(p,fe.Ac),S=function(e){a({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:E?3069:3070})};return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(g.xu,{ref:v,children:(0,b.jsx)(ce.Z,{favorited:i,favoriteCount:n,onFavorite:function(){S(!0),I&&h(),y&&y(!0)},onUnfavorite:function(){S(!1),t&&O&&s((0,ue.Z)({feedId:_||t.id,feedType:_?he.DV.SECTION_PINS:he.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),v&&!i&&!_&&0===l&&(0,b.jsx)(g.mh,{children:(0,b.jsx)(le.Z,{anchor:v.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ve,me=n(55413),ge=n.n(me),be=n(488242),Ee=n.n(be),Oe=n(863986),Ie=n.n(Oe),Se=n(475896),xe=n(680143),Pe=n.n(xe),we=n(284762),Te=n.n(we),je=n(374897);function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re={goodIdea:ge(),love:Ie(),thanks:Pe(),wow:Te(),haha:Ee()},Ce=(Ae(ve={},7,"goodIdea"),Ae(ve,1,"love"),Ae(ve,13,"thanks"),Ae(ve,11,"wow"),Ae(ve,5,"haha"),ve),De=["CreatorProfileStoryPinGrid"];var Ne=function(e){var t=e.alignment,n=void 0===t?"start":t,r=e.pinId,i=e.pinner,o=e.reactionCounts,a=e.surface,s=(0,de.Z)(),l=o?(0,je.At)(o):null,c=o?(0,je.Ud)(o):0,u=Boolean(s.isAuth&&(null==i?void 0:i.id)===s.id),d=!!l&&l.length>0&&l.map((function(e,t){var n=Re[Ce[e]];return(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,b.jsx)(g.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(n,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),p=!!d&&(0,b.jsx)(g.iP,{role:"link",href:"/pin/".concat(r,"/"),children:(0,b.jsxs)(g.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:n,height:19,paddingY:3,children:[(0,b.jsx)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,b.jsx)(g.xu,{paddingX:1,children:(0,b.jsx)(g.xv,{size:"md",children:(0,b.jsx)(Se.Z,{value:c,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),f=u&&De.includes(a)&&(0,b.jsx)(g.xu,{height:24});return p||f},Le=n(752187),ke=n(660310);function Me(e){var t=e.feedbackType,n=e.pin,r=(0,l.ZP)(),i=n.pinner,o=n.source_interest,a=i||{},s=a.full_name,c=a.username,u=(o||{}).name,d="topic"===t,p=!d&&"followed"===t,f="/".concat(c,"/"),h=(0,ke.NO)(u),_="/search/pins/?q=".concat(encodeURIComponent(h),"&rs=image_only_attribution"),y=d?_:f,v={topic:r._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:r._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:r._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:r._("Picked for you","attribution on pin rep","attribution on pin rep")}[t];if(!v)return null;if(p||d){var m=0===v.indexOf("{"),E=d?u:s,O=m?v.slice(v.indexOf("}")+1):v.slice(0,v.indexOf("{"));return m?(0,b.jsxs)(g.xu,{children:[(0,b.jsx)(g.rU,{inline:!0,href:y,children:(0,b.jsx)(g.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:E})}),(0,b.jsx)(g.xv,{inline:!0,size:"md",children:O})]}):(0,b.jsxs)(g.xu,{children:[(0,b.jsx)(g.xv,{inline:!0,size:"md",children:O}),(0,b.jsx)(g.rU,{inline:!0,href:y,children:(0,b.jsx)(g.xv,{color:"darkGray",weight:"bold",inline:!0,size:"md",lineClamp:1,children:E})})]})}return(0,b.jsx)(g.xu,{children:(0,b.jsx)(Le.Z,{pin:n,children:(0,b.jsx)(g.xv,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:v})})})}var Be=n(665035),Ge=n(500637),Ue=n(958795),Fe=n(215828);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var i=Xe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(o,e);var t,n,r,i=ze(o);function o(){var e;He(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qe(Ke(e=i.call.apply(i,[this].concat(n))),"state",{spamCheck:null}),qe(Ke(e),"spamCheckExperimentGroup",null),qe(Ke(e),"mounted",!1),qe(Ke(e),"handleSpammyDomainCheck",(function(){var t=e.props,n=t.location,r=t.pin,i=t.surface,o=t.url;o&&r&&(0,Fe.$3)({location:n,pin:r,surface:i})&&(0,Fe.iw)({isMounted:e.mounted,pin:r,location:n,spamCheckCallback:function(t){return e.setState({spamCheck:t})},href:o})})),qe(Ke(e),"handleClick",(function(t){var n=e.props,r=n.auxData,i=n.location,o=n.onClick,a=n.pin,s=n.pinId,l=n.url;(0,Fe.gV)({isOffsiteUrl:!0,event:t})||(t.preventDefault(),o&&o(t),l&&(0,Ue.h)({href:l,pinId:s,pin:a,location:i,auxData:r}))})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleSpammyDomainCheck()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.url;return(0,b.jsx)("a",{href:n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:t})}}])&&Ve(t.prototype,n),r&&Ve(t,r),o}(r.Component);var $e=(0,Ge.compose)((0,M.connect)((function(e,t){var n=e.pins,r=t.pinId;return{pin:r&&n?n[r]:void 0}}),(function(){return{}})),m.EN)(Je),Qe=n(730762);function et(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}var tt=n(549156);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){var t,n=e.children,r=e.componentType,i=e.contextLogData,o=e.pin,a=e.surface,s=e.viewParameter,l=e.viewType,c=(0,U.v)().logContextEvent,d=(0,u.E)(),p=o.ad_destination_url,f=o.carousel_data,h=o.id,_=o.link,y=o.tracked_link,v=p||y||_||"",m="one-tap-desktop";if(f){var E=f.carousel_slots,O=void 0===E?[]:E,I=f.id,S=f.index,x=void 0===S?0:S;O[x]&&O[x].link&&(v=O[x].link),t={carousel_slot_id:O[x]&&O[x].id,carousel_data_id:I,carousel_slot_index:x},m+="-carousel"}return(0,b.jsx)(g.xu,{"data-test-id":"otpp",children:(0,b.jsx)(tt.Z,{id:m,children:(0,b.jsx)($e,{auxData:t,onClick:function(){var e=Qe.Z.getInstance(),t=e.getViewFromContext();c({event_type:12,view_type:l||d.viewType,view_parameter:s||d.viewParameter,component:r||d.componentType,object_id_str:h,aux_data:rt(rt({},i),{},{grid_index:d.slotIndex,pin_id:h,prefetch_percentage_complete:et(_||"")})}),c({event_type:8948,view_type:l||d.viewType,view_parameter:s||d.viewParameter,component:r||d.componentType,object_id_str:h,aux_data:rt(rt({},i),{},{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:d.slotIndex,pin_id:h,prefetch_percentage_complete:et(_||"")})}),c({event_type:13,object_id_str:h,component:r||d.componentType,view_type:3,aux_data:rt(rt({closeup_navigation_type:"web_closeup"},d.contextLogData),i)}),e.addViewToContext(t)},pinId:h,surface:a,url:v,children:n})})})}var at=n(586840);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){var t=e.pin,n=e.surface,r=(0,a.Z)(t),i=r.isOneTap,o=r.isVideo,s=r.isPromoted,l=r.isLeadPin,c=(0,X.tc)("web_no_tap_tap"),u=!l&&(i||o&&s&&c().anyEnabled)?ot:Le.Z;return(0,b.jsx)(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({surface:i?n:void 0},(0,at.Z)(e,["surface"])))}function ut(e){var t=e.pin,n=e.pinNoteText;return(0,b.jsx)(ct,{pin:t,children:(0,b.jsx)(g.xv,{lineClamp:1,overflow:"normal",size:"md",children:n})})}var dt=n(864793),pt=n(965035);function ft(e){var t=e.value,n=e.valueFormat,r=(0,l.ZP)();return t||0===t?"TIME"===n?(0,pt.Z)(t):(0,b.jsx)(Se.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:t}):(0,b.jsx)(g.u,{idealDirection:"up",text:r._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function ht(e){var t=e.pin,n=(0,l.ZP)(),r=(0,a.Z)(t),i=r.isStoryPin,o=r.isVideo,s=function(e){var t=e.aggregated_pin_data,n=e.creator_analytics,r=(t||{}).creator_analytics,i=(0,a.Z)(e).isStoryPin;return!n||!i&&r?r:n}(t),c=(0,dt.ZP)(o,i,n),u=o||i?null==s?void 0:s.all_time_realtime:null==s?void 0:s["30d_realtime"];return(0,b.jsx)(g.kC,{alignItems:"stretch",justifyContent:"start",children:c.map((function(e){var t=e.align,n=e.displayText,r=e.field,i=e.iconType,o=e.iconSize,a=void 0===o?12:o,s=e.valueFormat;return(0,b.jsxs)(g.xu,{alignItems:"center",column:4,display:"flex",justifyContent:t,children:[(0,b.jsx)(g.xu,{display:"inlineBlock",marginEnd:1,children:(0,b.jsx)(g.JO,{accessibilityLabel:n,color:"darkGray",icon:i,size:a})}),(0,b.jsx)(g.xv,{inline:!0,size:"md",children:(0,b.jsx)(ft,{value:null==u?void 0:u[r],valueFormat:s})})]},r)}))})}function _t(e){var t=e.currentPrice,n=e.originalPrice,r=e.pin,i=e.surface,o=n&&n!==t;return(0,b.jsx)(ct,{pin:r,surface:i,children:(0,b.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,b.jsx)(g.xv,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:t}),o&&(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,b.jsx)(g.xv,{color:"gray",size:"md",weight:"bold",children:n})})]})})}var yt=n(537343),vt=n(746857);function mt(e){var t=e.pin,n=e.surface;return(0,b.jsx)(ct,{pin:t,surface:n,children:(0,b.jsx)(g.kC,{alignItems:"stretch",justifyContent:"start",children:(0,b.jsx)(g.xv,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,vt.Z)(t,n)})})})}var gt=n(11200);function bt(e){var t=e.numberOfLines,n=void 0===t?2:t,r=e.pin,i=e.pinTitle,o=e.surface;return(0,b.jsx)(g.xv,{color:"darkGray",lineClamp:n,size:"md",weight:"bold",children:(0,b.jsx)(ct,{pin:r,surface:o,children:i})})}var Et=n(335529),Ot={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(Et.X,"ms ease")},visible:{opacity:1}}};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){var t,n,i,o,s=e.attributionType,c=e.board,u=e.feedbackData,d=e.feedbackType,p=e.hasTextContent,f=e.hasTitleOrSource,h=e.hoverTransitionState,_=e.isDarkPromoter,v=e.pin,m=e.pinNoteText,E=e.pinTitle,O=e.productCurrentPrice,I=e.productOriginalPrice,S=e.setForcePrimary,x=e.showCarouselEllipsis,P=e.showFavoriteButton,w=e.showGroupBoardAvatar,T=e.showNativeReactions,j=e.showOverflowMenu,A=e.showPinStats,R=e.showSource,C=e.showTextContent,D=e.surface,N=e.titleLines,L=(0,l.ZP)(),k=(0,M.useDispatch)(),B=v.favorited_by_me,G=v.favorite_user_count,U=v.id,F=v.pinner,Z=v.reaction_counts,H=v.sponsorship,V=(v.story_pin_data||{}).has_affiliate_products,W=function(e,t,n){var r,i,o,s,l,c,u,d,p,f,h=e.board,_=e.link_domain,y=void 0===_?{}:_,v=e.promoter,m=e.sponsorship,g=e.native_creator,b=(m||{}).sponsor,E=(0,a.Z)(e).isPromoted,O=(y||{}).official_user,I=E&&!!m&&(null==g?void 0:g.id)!==(null==v?void 0:v.id),S=e.pinner||{},x="",P="",w="",T="",j="",A="",R=!1,C=!1;if(I)x=null!==(l=null!==(c=null==g?void 0:g.image_medium_url)&&void 0!==c?c:null==g?void 0:g.image_small_url)&&void 0!==l?l:"",P="/".concat(null!==(u=null==g?void 0:g.username)&&void 0!==u?u:"","/"),w=null==v?void 0:v.full_name,T=null==g?void 0:g.full_name,A="/".concat(null!==(d=null==g?void 0:g.username)&&void 0!==d?d:"","/"),j="/".concat(null!==(p=null==v?void 0:v.username)&&void 0!==p?p:"","/"),R=null==g||null===(f=g.verified_identity)||void 0===f?void 0:f.verified,C=null==g?void 0:g.is_verified_merchant;else if(E&&v)x=v.image_medium_url||v.image_small_url,w=v.full_name,T=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),A="/".concat(v.username,"/");else if(m&&null!=b&&b.username){var D,N,L,k,M,B;x=null!==(D=null!==(N=null!==(L=null==g?void 0:g.image_large_url)&&void 0!==L?L:null==g?void 0:g.image_medium_url)&&void 0!==N?N:null==g?void 0:g.image_small_url)&&void 0!==D?D:"",P="/".concat(null!==(k=null==g?void 0:g.username)&&void 0!==k?k:"","/"),w=b.full_name,T=null==g?void 0:g.full_name,A="/".concat(null!==(M=null==g?void 0:g.username)&&void 0!==M?M:"","/"),j="/".concat(b.username,"/"),R=null==g||null===(B=g.verified_identity)||void 0===B?void 0:B.verified,C=null==g?void 0:g.is_verified_merchant}else if(g){var G,U,F,Z,H;x=null!==(G=null!==(U=null!==(F=g.image_large_url)&&void 0!==F?F:g.image_medium_url)&&void 0!==U?U:g.image_small_url)&&void 0!==G?G:"",T=g.full_name,A="/".concat(null!==(Z=g.username)&&void 0!==Z?Z:"","/"),R=null===(H=g.verified_identity)||void 0===H?void 0:H.verified,C=g.is_verified_merchant}else if("show-for-claimed-content"===t){var V,W,z,Y;null!=O&&O.is_primary_website_verified&&O.username&&(x=null!==(V=null!==(W=null!==(z=O.image_large_url)&&void 0!==z?z:O.image_medium_url)&&void 0!==W?W:O.image_small_url)&&void 0!==V?V:"",T=O.full_name,A="/".concat(O.username,"/"),R=null===(Y=O.verified_identity)||void 0===Y?void 0:Y.verified,C=O.is_verified_merchant)}else{var K,X,q,J;x=null!==(K=null!==(X=null!==(q=S.image_large_url)&&void 0!==q?q:S.image_medium_url)&&void 0!==X?X:S.image_small_url)&&void 0!==K?K:"",P="/".concat(S.username,"/"),T=S.full_name,A=h?h.url:"",R=null===(J=S.verified_identity)||void 0===J?void 0:J.verified,C=S.is_verified_merchant}return{avatarUrl:null!==(r=x)&&void 0!==r?r:"",attributionNameLink:P,attributionTitle:null!==(i=w)&&void 0!==i?i:"",name:null!==(o=T)&&void 0!==o?o:"",sponsorUrl:j,url:null!==(s=A)&&void 0!==s?s:"",verifiedIdentity:!!R,isVerifiedMerchant:!!C}}(v,s,L),z=W.avatarUrl,Y=W.attributionNameLink,q=W.attributionTitle,$=W.name,Q=W.sponsorUrl,ee=W.url,te=W.verifiedIdentity,ne=W.isVerifiedMerchant,re=!!v.promoter&&!v.is_downstream_promotion,ie=re&&(null===(t=v.native_creator)||void 0===t?void 0:t.id)===(null===(n=v.promoter)||void 0===n?void 0:n.id),se=(0,y.Z)(101,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({view:3,element:27,pin_id:U,objectId:U,component:v.story_pin_data_id?230:void 0},null!=H&&null!==(i=H.creator)&&void 0!==i&&i.id&&null!==(o=H.sponsor)&&void 0!==o&&o.id?{creator_id:H.creator.id,sponsor_id:H.sponsor.id}:{})),le=function e(t){return k(e(t))},ce=function(){le(U),se()},ue=(0,X.tc)("web_search_ideapin_module"),de=!!v.story_pin_data_id&&"SearchItem"===D&&ue().anyEnabled,pe=(0,X.tc)("web_ag_msg_pin_card_update"),fe="ConversationView"===D&&pe({dangerouslySkipActivation:!0}).anyEnabled,he=!ie&&H?(0,b.jsx)(J,{link:Q||ee,onClick:function(){return ce()},title:(0,yt.ZP)(q,20),weight:"bold"},"".concat(v.id,"-sponsor-name-link")):null,_e="ConversationView"===D&&fe?{padding:"8px"}:Ot.container;return(0,b.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:_e},children:[x&&(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:f||w||"none"!==s?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,b.jsx)(ae.default,{pinId:U})}),A&&(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,b.jsx)(ht,{pin:v})}),(0,b.jsx)(g.kC,{alignItems:"stretch",justifyContent:"start",children:(0,b.jsxs)(g.xu,{flex:"grow",children:[(!!H||V&&!re)&&!ie&&(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,b.jsx)(gt.Z,{hasAffiliateProducts:V,isPromoted:re,sponsorName:he,sponsorshipStatus:null==H?void 0:H.status})})}),(C&&p||P)&&(0,b.jsxs)(g.xu,{marginBottom:1,children:[(I||O)&&(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(_t,{currentPrice:O,originalPrice:I,pin:v,surface:D})}),P?(0,b.jsxs)(g.kC,{alignItems:"start",children:[(0,b.jsx)(g.kC,{flex:"grow",children:(0,b.jsx)(bt,{numberOfLines:N,pin:v,pinTitle:E,surface:D})}),(0,b.jsx)(g.xu,{marginStart:3,children:(0,b.jsx)(ye,{board:c,favorited:!!B,favoriteCount:null!=c&&c.should_show_board_activity?null!=G?G:0:void 0,pinId:U})})]}):!de&&(0,b.jsx)(bt,{numberOfLines:N,pin:v,pinTitle:E,surface:D}),R&&(0,b.jsx)(g.xu,{marginBottom:2,children:(0,b.jsx)(mt,{pin:v,surface:D})})]}),(0,b.jsxs)(g.kC,{alignItems:"center",justifyContent:"start",children:[(0,b.jsx)(g.xu,{flex:"grow",children:function(){var e=(0,b.jsx)(oe,{attributionNameLink:Y,attributionTitle:re&&!H||ie?q:"",avatarUrl:z,isDarkPromoter:!!_,isPromotedByPinCreator:!!ie,verifiedIdentity:de&&te,isVerifiedMerchant:de&&ne,name:$,pin:v,url:ee,display:de?"overlay":"default"});if(de)return e;switch(s){case"none":return null;case"image-only-credit":return(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:Ot.imageOnlyAttribution["active"===h?"visible":"hidden"]},children:(0,b.jsx)(Me,{pin:v,feedbackType:d})});default:return Object.values(W).some((function(e){return Boolean(e)}))?e:null}}()}),j&&(0,b.jsx)(g.xu,{flex:"none",children:(0,b.jsx)(Be.default,{feedbackData:u,feedbackType:d,pin:v,pinTitle:E,setForcePrimary:S,transparentBackground:!0})})]}),T&&!!Z&&(0,b.jsx)(g.xu,{marginTop:"ConversationView"===D&&fe?2:void 0,children:(0,b.jsx)(Ne,{pinId:U,pinner:F,reactionCounts:Z,surface:D,alignment:de?"center":void 0})}),m&&(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(ut,{pin:v,pinNoteText:m})}),w&&!P&&(0,b.jsx)(g.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!P&&(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(K,{attributionNameLink:Y||ee,avatarUrl:z,fullWidth:!1,name:$}),(0,b.jsx)(g.xu,{marginStart:2,flex:"grow",children:(0,b.jsx)(g.xv,{size:"md",children:$})})]})})]})})]})}var Pt=n(539484),wt=n(278646),Tt=n(560133),jt=(0,r.lazy)((function(){return n.e(33168).then(n.bind(n,950057))})),At=(0,r.lazy)((function(){return n.e(69221).then(n.bind(n,379575))}));function Rt(e){var t,n=e.contentType,i=e.hasTextContent,a=e.pin,c=e.pinTitle,u=e.productCurrentPrice,d=e.productOriginalPrice,p=e.productRating,f=e.productShipping,h=e.showSource,_=e.showVisitSiteButton,y=e.surface,v=e.titleLines,m=(0,U.v)().logContextEvent,E=(0,l.ZP)(),O=(0,X.tc)("web_shopping_grid_metadata_ratings_shipping"),I=O({dangerouslySkipActivation:!0}),S=I.anyEnabled,x=I.group,P=(null===(t=a.rich_summary)||void 0===t?void 0:t.url)||a.link;"shopping"!==n||x.includes("pwt")||O();var w=(0,Pt.Z)({url:P})?"nofollow":"none";return(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:Ot.productContainer},height:"100%",children:(0,b.jsx)(g.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,b.jsxs)(r.Fragment,{children:[(0,b.jsxs)(g.xu,{children:[(d||u)&&(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(_t,{currentPrice:u,originalPrice:d,pin:a,surface:y})}),(0,Tt.qN)(a)&&(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(jt,{})})})}),(0,Tt.SP)(a)&&(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(At,{})})})}),(0,b.jsx)(g.xu,{marginBottom:1,children:(0,b.jsx)(bt,{numberOfLines:v,pin:a,pinTitle:c,surface:y})}),h&&(0,b.jsx)(mt,{pin:a,surface:y}),"shopping"===n&&S&&(p||Number.isFinite(null==f?void 0:f.free_shipping_value))&&(0,b.jsx)(wt.L,{count:null==p?void 0:p.count,countFormat:"number",ratingValue:null==p?void 0:p.rating,shippingInfo:f})]}),_&&P?(0,b.jsx)(g.xu,{marginTop:2,children:(0,b.jsx)(g.zx,{role:"link",fullWidth:!0,href:P,rel:w,onClick:function(){m({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:E._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}var Ct=(0,r.memo)((function(e){var t=e.attributionType,n=e.blockClickEvents,r=e.board,o=e.contentType,a=e.feedbackData,s=e.feedbackType,l=e.hoverTransitionState,c=e.isDarkPromoter,u=e.pin,d=e.pinNoteText,p=e.pinTitle,f=e.productCurrentPrice,h=e.productOriginalPrice,_=e.productRating,y=e.productShipping,v=e.setForcePrimary,m=e.showCarouselEllipsis,E=e.showFavoriteButton,O=e.showGroupBoardAvatar,I=e.showNativeReactions,S=e.showOverflowMenu,x=e.showPinStats,P=e.showSource,w=e.showTextContent,T=e.showVisitSiteButton,j=e.surface,A=e.titleLines,R=p||P,C="shopping"===o?(0,b.jsx)(Rt,{contentType:o,hasTextContent:!!R,pin:u,pinTitle:p,productCurrentPrice:f,productOriginalPrice:h,productRating:_,productShipping:y,showSource:P,showVisitSiteButton:T,surface:j,titleLines:A}):(0,b.jsx)(xt,{attributionType:t,board:r,feedbackData:a,feedbackType:s,hasTextContent:!!R,hasTitleOrSource:!!R,hoverTransitionState:l,isDarkPromoter:c,pin:u,pinNoteText:d,pinTitle:p,productCurrentPrice:f,productOriginalPrice:h,setForcePrimary:v,showCarouselEllipsis:m,showFavoriteButton:E,showGroupBoardAvatar:O,showNativeReactions:I,showOverflowMenu:S,showPinStats:x,showSource:P,showTextContent:w,surface:j,titleLines:A});return n?(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:C}):(0,b.jsx)(g.kC,{flex:"grow",children:(0,b.jsx)(i.Z,{fullWidth:!0,children:C})})})),Dt=n(773788),Nt=n(269307);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=(0,r.lazy)((function(){return n.e(34979).then(n.bind(n,479818))})),Gt=(0,r.lazy)((function(){return Promise.all([n.e(23039),n.e(69039),n.e(49806),n.e(56103),n.e(43473)]).then(n.bind(n,845680))})),Ut=(0,r.lazy)((function(){return Promise.all([n.e(23039),n.e(69039),n.e(49806),n.e(56103),n.e(22347)]).then(n.bind(n,912836))})),Ft=(0,r.lazy)((function(){return Promise.all([n.e(75796),n.e(22538)]).then(n.bind(n,23945))})),Zt=(0,r.lazy)((function(){return n.e(1593).then(n.bind(n,34399))}));function Ht(e){var t=e.derivedSaveButtonOptions,n=e.forcePrimaryContent,a=e.showEnabledSaveBehavior,l=e.onToggleFlyout,c=e.onToggleModal,d=e.pin,p=d.id,f=d.savedInfo,h=(0,r.useRef)(!!f),_=(0,M.useSelector)((function(e){var t=e.experiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),v=(0,Nt.tY)(a).saveBehaviorType;void 0!==v&&["classic","controlled","inline"].includes(t.type)&&(t=v);var m=(0,u.E)(),E=m.viewParameter,O=m.viewType,I=(0,y.Z)(101,{element:0,objectId:p}),S=null,x={onToggleModal:l,view:O,viewParameter:E,useLegoStyles:!0};if(!t.hidePinBetterSaveDropdown&&(_||a&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){var P=t.renderPinSaveTooltip,w=void 0===P?void 0:P;S=(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(Ft,{experience:_||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:w,showEnabledSaveBehavior:a,viewParameter:E})})})})}else if("classic"===t.type||"controlled"===t.type){var T=t.renderPinSaveTooltip;S=(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(Gt,{onClickCallback:I,onToggleModal:c,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:T,renderSavedStatus:function(){return!!f&&(0,b.jsx)(i.Z,{children:(0,b.jsx)(Dt.Z,{isNewlySaved:!h.current,name:f.title,type:f.type,url:f.url})})},variant:"lego",viewParameter:E})})})})})}else if("inline"===t.type){var j=d,A=t,R=A.initialSelection,C=A.onSave,D=A.renderPinSaveTooltip,N=A.hidePinBetterSaveDropdown;S=(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"better-save",children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(Ut,{initialSelection:R,onSave:C,onToggleFlyout:l,onToggleModal:c,pin:j,renderPinSaveTooltip:D,renderSavedStatus:function(e){var t=e.savedInfo;return t&&(0,b.jsx)(i.Z,{children:(0,b.jsx)(Dt.Z,{isNewlySaved:!h.current,name:t.title,type:t.type,url:t.url,shouldUseLegoStyles:!0})})},variant:"pin",viewParameter:E,hideDropdown:N})})})})})}else"persistentOneClickSave"===t.type?S=(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"persistent-one-click-save",children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(Bt,kt(kt({},x),{},{saveOptions:t,pin:d}))})})})}):"promote"===t.type&&(S=(0,b.jsx)(g.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(o.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,b.jsx)(s.Z,{children:(0,b.jsx)(g.xu,{"data-test-id":"pin-promote-button",children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(Zt,{pin:d})})})})})}));return(0,b.jsx)(o.Z,{name:"PinRepPrimaryContent",children:(0,b.jsx)(g.xu,{display:"flex",margin:3,children:S&&(0,b.jsx)(g.xu,{marginStart:"auto",flex:"grow",children:S})})})}var Vt=n(980841),Wt=n(505812),zt=n(329485),Yt=n(771400),Kt=n(598148),Xt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function qt(e){var t=e.isSelected,n=(0,l.ZP)();return(0,b.jsx)(g.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:t?Xt:{},children:(0,b.jsx)(g.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,b.jsx)(g.xu,{alignItems:"center",color:t?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,b.jsx)(g.JO,{accessibilityLabel:n._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var Jt=n(469600),$t=n(712997),Qt=n(925854),en=n(80078),tn=n(852474),nn=n(731164),rn={},on=function(e){nn.Z.increment("web_prefetch_via_xhr.attempt",1);var t=(0,f.Z)(e);return new Promise((function(n,r){if(window.navigator&&window.navigator.connection){var i=window.navigator.connection;i.saveData&&(nn.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(i.effectiveType)&&(nn.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?(rn[e]&&(rn[e].loaded=!0),nn.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(o.response)):(nn.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),r())},rn[e]||(o.send(),rn[e]={added:!0,xhr:o},nn.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},an={},sn=function(e,t){var n="string"==typeof e?e:e.url;if(t&&n){var r="control"===t?"v1.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",r)}return n};function ln(e,t){return(sn("https://v.pinimg.com/videos/mc/hls/",t)||"")+"".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6),"/").concat(e)}function cn(e){var t=e.id;t&&an[t]&&an[t].length>0&&an[t].forEach((function(e){!function(e){rn[e]&&rn[e].xhr&&!rn[e].loaded&&(nn.Z.increment("web_prefetch_abort_xhr",1),rn[e].xhr.abort(),rn[e].aborted=!0)}(e)}))}function un(e){var t=e.autoplaySettingOff,n=e.blockClickEvents,i=e.fallbackColor,o=e.imageFit,s=e.isHovering,l=e.isSocialSeasonalBoard,c=void 0!==l&&l,p=e.onError,f=e.onLoad,h=e.pin,_=e.pinImageCrop,y=e.resolution,v=void 0===y?"default":y,m=e.rootMargin,E=e.selectionState,O=e.showCarousel,I=e.showPromotedVideos,S=e.showUnavailablePin,x=e.surface,P=(0,u.E)(),w=P.contextLogData,T=P.slotIndex,j=P.viewParameter,A=P.viewType,R=(0,X.aq)("web_prefetch_video_in_feed").group,C=h.id,D=void 0===C?"":C,N=h.aggregated_pin_data,L=h.image_signature,k=h.story_pin_data,M=(N||{}).pin_tags_chips,B=(0,a.Z)(h),G=B.isOneTap,U=B.isVideo,F=B.isPromoted,Z=B.isGif,H=function(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}}(_),V=H.cropHeight,W=H.cropWidth,z=null;if(S)z=(0,b.jsx)(Jt.Z,{width:236,height:420,rounding:0});else if(t||!U||!I&&F)if(O)z=(0,b.jsx)(g.xu,{"data-test-id":"pinrep-carousel",children:(0,b.jsx)(zt.Z,{cropHeight:V,cropWidth:W,onError:p,onLoad:f,highResOnly:"high-res"===v,lowResOnly:"low-res"===v,pinId:D,showCarouselBadge:!1,pin:h})});else{var Y="backend"===_?function(e){var t,n=e.images,r=e.image_crop,i=n&&(null===(t=n["236x"])||void 0===t?void 0:t.height);if(r&&(0!==r.min_y||1!==r.max_y)){var o=r.min_y,a=void 0===o?0:o,s=r.max_y,l=void 0===s?0:s;return{marginTop:"".concat(a>0?-1*a*(null!=i?i:0):0,"px"),marginBottom:"".concat(l<1?Math.round(-1*(1-l)*(null!=i?i:0)):0,"px")}}return{}}(h):{};z=(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:Y},"data-test-id":"pinrep-image",minHeight:55,children:(0,b.jsx)(Yt.Z,{animateGif:Z&&c,cropHeight:V,cropWidth:W,fallbackColor:i,imageFit:o,highResOnly:"high-res"===v,lowResOnly:"low-res"===v,mediumResOnly:"medium-res"===v,onLoad:f,onError:p,pin:h})})}else z=(0,b.jsx)(g.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:V||void 0,justifyContent:"center",children:(0,b.jsx)(Kt.Z,{cropHeight:V,rootMargin:m,inAdsDesktopVideoExperiment:U&&I,pin:h,surface:x,onLoad:f,viewType:A,viewParameter:j,highResOnly:"high-res"===v,lowResOnly:"low-res"===v,onError:p,isExperimentalPinRep:!0})});var K=(0,b.jsx)(g.zd,{wash:!0,children:(0,b.jsx)(d.Z,{hovered:s,pin:h,slotIndex:T,viewType:1,children:z})}),q=["selected-image-only","deselected-image-only"].includes(E),J="selected-image-only"===E,$=(0,r.useRef)(!0),Q=(0,r.useRef)(!1),ee=(0,r.useRef)(!1),te=(0,X.aq)("web_video_quic").group;if((0,r.useEffect)((function(){$.current||!s||G||n||Q.current?s||!Q.current||ee.current||(cn(k||h),ee.current=!0):k?(!function(e,t){var n,r=e.id,i=e.pages,o=e.pages_preview;if(o||i){var a=o?o[0]:null==i?void 0:i[0],s=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((function(e){return 3===e.block_type}));if(s&&s.video){var l=(0,tn.Z)(s.video)||{},c=l.hlsv3,u=l.mp4||c;if(u&&r){var d,p=null!==(d=sn(u,t))&&void 0!==d?d:"";an[r]=an[r]?an[r].concat(p):[p],on(p)}}}}(k,te),Q.current=!0):(!function(e,t){var n=e.id,r=(e.videos||{}).video_list,i=(0,$t.Z)({pin:e}),o=((0,Qt.Z)(i)||{}).video||{},a=o.hls,s=o.hlsv3;if(r){var l=(0,tn.t)(r)||{},c=s||a||{};if(c.url){var u,d=null!==(u=sn(c.url,t))&&void 0!==u?u:"";an[n]=an[n]?an[n].concat(d):[d],on(d).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".m3u8")}))),r&&r[en.VS]){var i=ln(r[en.VS],t);return an[n]=an[n].concat(i),on(null!=i?i:"")}return null})).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".ts")}))),r&&r[0]){var i=ln(r[0],t);return an[n]=an[n].concat(i),on(null!=i?i:"")}return null}))}else if(l.url){var p,f=null!==(p=sn(l.url,t))&&void 0!==p?p:"";on(f),an[n]=an[n]?an[n].concat(f):[f]}}}(h,te),Q.current=!0),$.current=!1}),[n,s,G,k,h,R,te]),n)return(0,b.jsxs)(r.Fragment,{children:[K,q&&(0,b.jsx)(qt,{isSelected:J}),M&&(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,b.jsx)(Wt.Z,{pin:h,enableCloseupLink:!0})})]});var ne=(w||{}).commerce_data,re=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(x);return(0,b.jsxs)(ct,{contextLogData:{grid_index:T,image_signature:L,commerce_data:re?ne:void 0},elementType:35,pin:h,surface:x,children:[K,M&&(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,b.jsx)(Wt.Z,{pin:h,enableCloseupLink:!1})})]})}var dn=n(488023),pn=n(255539),fn=n(104216),hn=pn.Z.makeSendShareButton((function(e){var t=e.handleSendShareFlyoutButtonClick,n=(0,l.ZP)(),r=(0,fn.Z)();return(0,b.jsx)(g.zx,{fullWidth:!0,onClick:r((function(e){var n=e.event;n&&n.stopPropagation&&n.stopPropagation(),t()})),text:n._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:n._("Send","Accessible label to send a pin","Accessible label to send a pin")})})),_n=n(777158);function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bn=n(452963),En=n(818026),On=n(546352),In=n(7713),Sn=n(451875),xn="#000000",Pn="#ffffff";function wn(e){var t=e.selected,n=void 0!==t&&t,r=(0,l.ZP)(),i=(0,c.B)().isRTL;return(0,b.jsx)(g.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new g.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:n?xn:Pn,borderRadius:Sn.Oc,boxShadow:"inset 0 0 0 3px #fff"}},children:n?(0,b.jsx)(g.xu,{position:"absolute",bottom:!0,right:!i,left:i,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,b.jsx)(g.JO,{accessibilityLabel:r._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,b.jsx)(g.xu,{right:!i,left:i,position:"absolute",top:!0,margin:3,children:(0,b.jsx)(g.JO,{accessibilityLabel:r._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}var Tn={wrapper:{borderRadius:Sn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Sn.Dv.VISUAL},savedOverlay:{backgroundColor:Sn.Dv.SAVED},legoWashOverlay:{backgroundColor:Sn.Dv.LEGO_WASH}};function jn(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,i=e.visualOverlayVisibility,o=void 0===i?"none":i,a=e.handleMouseOverPinContent,s=e.handleMouseLeavePinContent,l=e.primaryContent,c=e.primaryContentVisibility,u=void 0===c?"none":c,d=e.secondaryContent,p=e.secondaryContentVisibility,f=void 0===p?"none":p,h=e.accessoryContent,_=e.accessoryContentVisibility,y=void 0===_?"none":_,v=e.actionBar,m=e.actionBarVisibility,E=void 0===m?"none":m,O=e.seeStatsButton,I=e.footer,S=e.selectionState,x=void 0===S?"no-selection":S,P=e.debugContent,w=e.signalDebuggerContent,T=e.signalDebuggerV2Content,j=e.signalDebuggerV2ContentVisibility,A=void 0===j?"none":j,R=e.obscuredPinOverlay,C=e.showNoPinBorderRadius,D=e.showPromotedPinBorderTreatment,N=e.shouldUseLegoWash;return(0,b.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:D?Tn.promotedPinBorderTreatment:{}},height:"100%",children:(0,b.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:C?{}:Tn.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(x)&&(0,b.jsx)(wn,{selected:"selected"===x}),(0,b.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:C?{}:Tn.wrapper},overflow:"hidden",position:"relative",onFocus:a,onBlur:s,onMouseEnter:a,onMouseLeave:s,children:[t,(0,b.jsx)(In.Z,{visibility:o,children:(0,b.jsx)(On.Z,{additionalStyles:N?Tn.legoWashOverlay:Tn.visualOverlay})}),(0,b.jsx)(In.Z,{visibility:r,children:(0,b.jsx)(On.Z,{additionalStyles:N?Tn.legoWashOverlay:Tn.savedOverlay})}),h&&(0,b.jsx)(In.Z,{visibility:y,children:(0,b.jsx)(On.Z,{children:h})}),d&&(0,b.jsx)(In.Z,{visibility:f,children:(0,b.jsx)(On.Z,{children:d})}),l&&(0,b.jsx)(In.Z,{visibility:u,children:(0,b.jsx)(On.Z,{children:l})}),T&&(0,b.jsx)(In.Z,{visibility:A,children:(0,b.jsx)(On.Z,{children:(0,b.jsx)(g.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:T})})}),v&&(0,b.jsx)(In.Z,{visibility:E,children:(0,b.jsx)(On.Z,{children:(0,b.jsx)(g.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:v})})}),O&&(0,b.jsx)(On.Z,{children:(0,b.jsx)(g.xu,{position:"absolute",left:!0,bottom:!0,children:O})}),P&&(0,b.jsx)(On.Z,{children:P}),w]}),I,R&&(0,b.jsx)(g.xu,{children:R})]})})}var An=n(515528);function Rn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Cn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bn=228;var Gn=(0,r.memo)((function(e){var t,n,a=e.actionBarProps,s=e.blockClickEvents,l=e.borderStyle,c=e.currentlyPlayingVideo,d=e.disableHover,p=void 0!==d&&d,f=e.footerProps,h=e.impressionsDebuggerProps,_=e.onError,y=e.onLoad,v=e.obscuredPinOverlayProps,m=e.pin,E=e.pinVisualProps,O=e.presentationProps,I=e.primaryContentProps,S=e.rounding,x=e.selectionState,P=e.secondaryContentProps,w=e.showFooter,T=e.showImpressionsDebugger,j=e.showSeeStatsButton,A=e.showSignalDebugger,R=e.showObscuredPinOverlay,C=e.showUnavailablePin,D=e.surface,N=e.visibilityOverrides,L=m.savedInfo,M=(0,u.E)().viewType,B=(0,Nt.Yh)(An.ZF.includes(D)||An.zI.includes(D)).showEnabledSaveBehavior,G=kn((0,r.useState)(!1),2),U=G[0],F=G[1],Z=(0,Et.Z)(U),H=function(){var e=mn((0,r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:(0,Et.Z)(t,0,Et.X),handleMouseOver:(0,r.useCallback)((function(){return n(!0)}),[n]),handleMouseLeave:(0,r.useCallback)((function(){return n(!1)}),[n])}}(),V=H.isHovering,Y=H.hoverTransitionState,K=H.handleMouseOver,q=H.handleMouseLeave;p&&(V=!1,Y="inactive");var J,$=(0,Et.Z)(!!L),Q=Rn($),ee=Rn(Y),te=Rn(Y),ne=Rn(Z),re=Rn($),ie=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(D),oe="visible"!==Q||ie?Q:"none",ae={primaryContentVisibility:null!==(t=N.primaryContent)&&void 0!==t?t:Cn(te,ne,"visible"===re?"none":re),secondaryContentVisibility:(J=Cn(te,ne,re),"none"===J?"visible":"visible"===J?"none":"hidden"),actionBarVisibility:Cn(te,ne),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},se=function(e){return F(e)},le=null;"none"!==ae.primaryContentVisibility&&(le=(0,b.jsx)(Ht,Nn({forcePrimaryContent:function(e){return F(e)},showEnabledSaveBehavior:B,onToggleFlyout:se,onToggleModal:function(e){F(e),e||q()},pin:m},I)));var ce,ue=(0,r.useRef)(!0),de=ue.current;ue.current=!1;var pe=function(e,t){var n=e.carousel_data,i=(n||{}).index,o=yn((0,r.useState)(!n||t),2),a=o[0],s=o[1],l=(0,r.useRef)(i),c=(0,r.useRef)(null);if(n){var u=l.current;l.current=i,(i!==u||t)&&(c.current&&clearTimeout(c.current),s(!0),c.current=setTimeout((function(){s(!1),c.current=null}),4e3))}return(0,r.useEffect)((function(){return function(){c.current&&clearTimeout(c.current)}}),[]),a}(m,de),fe=Rn((0,Et.Z)(pe));ae.secondaryContentVisibility=null!==(n=N.secondaryContent)&&void 0!==n?n:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(ae.secondaryContentVisibility,fe),ce=(P.allowShoppingPriceIndicator||P.shoppingLabelColor||"none"!==ae.secondaryContentVisibility)&&!c&&(0,b.jsx)(g.xu,{margin:2,children:(0,b.jsx)(Vt.Z,Nn({pin:m},P))});var he=null;"visible"===N.accessoryContent&&(he=(0,b.jsx)(W,{pin:m}),ae.accessoryContentVisibility=Rn(Y)),E.isSocialSeasonalBoard&&(a.showShareButton=!1);var _e=null;j&&(a.showSourceLinkButton=!1,_e=(0,b.jsx)(i.Z,{children:(0,b.jsx)(dn.Z,{pinId:m.id,surface:D})}));var ye=N.actionBar?(0,b.jsx)(k,Nn({onToggleFlyout:se,pin:m,setForcePrimary:F,surface:D},a)):null,ve=null;w&&(ve=(0,b.jsx)(Ct,Nn({blockClickEvents:s,hoverTransitionState:"image-only-credit"===f.attributionType?Y:null,pin:m,setForcePrimary:F,surface:D},f))),E.isSocialSeasonalBoard&&(ve=(0,b.jsx)(g.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,b.jsx)(g.xu,{margin:"auto",width:Bn,children:(0,b.jsx)(hn,{isFlyoutOpen:U,onFlyoutDismiss:function(){return se(!U)},onToggleFlyout:function(){return se(!U)},pinId:m.id,sendType:"pin",shownWithinMasonry:!0,viewType:M})})}));var me=T&&(0,b.jsx)(bn.Z,Nn({},h)),ge=A&&m.debug_info_html&&(0,b.jsx)(g.xu,{paddingY:1,children:(0,b.jsx)("pre",{children:m.debug_info_html})}),be=(0,b.jsx)(z.Z,{pin:m}),Ee=(0,r.useRef)();"header-only"===(0,_n.Z)(Ee)&&(ae.actionBarVisibility="none",ae.accessoryContentVisibility="none");var Oe=R?(0,b.jsx)(En.ZP,Nn({pin:m},v)):null,Ie="ShoppingList"===D?{height:"100%"}:{},Se=(0,X.tc)("web_ag_msg_pin_card_update"),xe="ConversationView"===D&&Se({dangerouslySkipActivation:!0}).anyEnabled,Pe=(0,X.tc)("web_creator_attr_hover_overlay"),we=w&&"default"===f.attributionType&&An.ZF.includes(D),Te=!m.is_promoted&&!p&&we,je=Te&&Pe({dangerouslySkipActivation:!0}).anyEnabled;return Te&&(ve=(0,b.jsx)(g.xu,{onMouseEnter:Pe,onFocus:Pe,children:ve})),(0,b.jsx)(o.Z,{name:"PinRepContainer",children:(0,b.jsx)(g.xu,{"data-test-id":"pin","data-test-pin-id":m.id,onFocus:je?function(){}:K,onBlur:je?function(){}:q,onMouseEnter:je?function(){}:K,onMouseLeave:je?function(){}:q,dangerouslySetInlineStyle:{__style:Ie},rounding:xe&&"ConversationView"===D?S:void 0,borderStyle:xe&&"ConversationView"===D?l:"none",overflow:xe&&"ConversationView"===D?"hidden":"visible",children:(0,b.jsx)(jn,Nn(Nn({visualOverlayVisibility:ee,savedOverlayVisibility:oe,handleMouseOverPinContent:je?K:function(){},handleMouseLeavePinContent:je?q:function(){},primaryContent:le,primaryContentVisibility:ae.primaryContentVisibility,secondaryContent:ce,secondaryContentVisibility:ae.secondaryContentVisibility,accessoryContent:he,accessoryContentVisibility:ae.accessoryContentVisibility,actionBar:ye,actionBarVisibility:ae.actionBarVisibility,seeStatsButton:_e,footer:ve,selectionState:x,debugContent:me,signalDebuggerV2Content:be,signalDebuggerV2ContentVisibility:ae.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:Oe},O),{},{children:(0,b.jsx)(g.xu,{height:"100%",ref:Ee,children:(0,b.jsx)(un,Nn({blockClickEvents:s,showUnavailablePin:C,isHovering:V,onError:_,onLoad:y,pin:m,surface:D,selectionState:x},E))})}))})})}))},476865:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(793550),i=n(575429),o=n(269935),a=n(439887),s=n(726434),l=n(538958),c=n(432921),u=n(904126),d=n(218265),p=n(80209),f={overlay:{__style:{backgroundColor:"#000"}}};function h(e){var t,n,i,o,a=e.pin,s=a.id,l=a.images,h=a.title,_=a.videos,y=a.video_status_message||{},v=l&&l["236x"],m=(_&&(null===(t=_.video_list)||void 0===t?void 0:t[u.K.V_HLSV4])||{}).duration;return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(d.Zb,{children:(0,p.jsxs)(d.iP,{role:"link",href:"/pin/".concat(s),rounding:2,children:[(0,p.jsxs)(d.xu,{overflow:"hidden",position:"relative",rounding:2,children:[v&&(0,p.jsx)(d.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(n=v.height)&&void 0!==n?n:1,naturalWidth:null!==(i=v.width)&&void 0!==i?i:1,src:null!==(o=v.url)&&void 0!==o?o:""}),!!m&&(0,p.jsx)(d.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,p.jsx)(c.Z,{duration:m})}),(0,p.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:f.overlay}),(0,p.jsxs)(d.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,p.jsx)(d.X6,{color:"white",overflow:"normal",size:"sm",children:y.title}),(0,p.jsx)(d.xu,{marginTop:4,children:(0,p.jsx)(d.xv,{color:"white",size:"md",overflow:"normal",children:y.subtitle})})]})]}),(0,p.jsx)(d.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,p.jsx)(d.xu,{flex:"grow",children:h&&(0,p.jsx)(d.xu,{paddingY:1,children:(0,p.jsx)(d.xv,{inline:!0,size:"md",weight:"bold",children:h})})})})]})})})}var _=n(493858),y=n(272828),v=n(851881),m=n(124324),g=["trackingParameters","pin","pinId"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e){var t,n,c,u=e.trackingParameters,d=e.pin,f=e.pinId,b=x(e,g),O=(0,y.TH)(),S=(0,i.useSelector)((function(e){return e.pins[f]}))||d,P=(0,a.Z)(S,O),w=(0,s.Z)(S),T=!!(w&&w.url&&w.height&&w.width)||void 0,j=w&&S.videos?S.videos.id:void 0,A=I((0,r.useState)(!1),2),R=A[0],C=A[1],D=(0,r.useCallback)((function(){return C(!0)}),[]),N=(0,r.useCallback)((function(){return C(!1)}),[]),L=u.componentType,k=u.contextLogData,M=u.impressionAuxFields,B=u.slotIndex,G=u.viewData,U=u.viewParameter,F=u.viewType;return(0,p.jsx)(o.Z,{componentType:L,contextLogData:E(E(E({},"undefined"!=typeof window?{pwa_type:(0,l.ZP)(window)}:{}),k),(0,m.Kl)(S,k)),impressionAuxFields:E(E({},M||{}),{},{isNativeVideoAndWatchable:T,videoIdStr:j,clientTrackingParams:P||"".concat(S.tracking_params||"","-0"),imageURL:null!==(t=null===(n=S.images)||void 0===n||null===(c=n["236x"])||void 0===c?void 0:c.url)&&void 0!==t?t:"",richTypes:(0,m.GT)(S)}),impressionType:"Pin",isPaused:!R,loggingId:S.id,slotIndex:B,viewData:G,viewParameter:U,viewType:F,children:(0,_._J)(S)?(0,p.jsx)(h,{pin:S}):(0,p.jsx)(v.Z,E(E({},b),{},{debugImpressionState:R?"started":"paused",onError:N,onLoad:D,pin:S,pinId:f,trackingParameters:{componentType:L,contextLogData:k,slotIndex:B,viewParameter:U,viewType:F}}))})}},451875:function(e,t,n){"use strict";n.d(t,{Oc:function(){return r},mv:function(){return i},Dv:function(){return o}});var r=16,i=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},789875:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(454217),i=n(946753);function o(e,t){var n=e.feedbackOptions,o=e.pin,a=e.viewParameter,s=o.board,l=o.pinner;return(0,(0,r.ZP)({i18n:t,interpolateNamedTemplate:i.nk}).getFeedbackType)({board:s,feedback:n,pin:o,pinner:l,viewParameter:a})}},519922:function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:function(){return r}})},746857:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(754975),i=n(560133);function o(e,t){return((0,r.Z)(e).isProduct||"ShoppingList"===t&&(0,i.Uz)(e))&&(0,i.QY)(e)||""}},904126:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},255539:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(793550),i=n(415339),o=n(204891),a=n(451190),s=n(237574),l=n(549135),c=n(104216),u=n(218265),d=n(80209);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=new u.Ry(1),S=function(e){return(0,e.children)((0,c.Z)({shouldStopEventPropagation:!1}))},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(p,e);var t,n,r,c=m(p);function p(){var e;_(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(b(e=c.call.apply(c,[this].concat(n))),"handleDismiss",(function(){(0,e.props.onFlyoutDismiss)()})),O(b(e),"onHide",(function(){e.props.onClick(),e.handleDismiss()})),O(b(e),"flyoutProps",(function(){var t=e.props,n=t.gridDescription,r=t.idealDirection,a=t.imageSrc,l=t.pinId,c=t.userId,u=t.board,p=t.sendType,f=t.url,_=t.fullName,y=t.profileUrl,v=t.viewParameter,m=t.viewType,g=t.onExternalSend,b=t.showCaret,E=t.todayArticle,O={description:n,id:l,imageUrl:a,name:"",type:s.d.PIN,url:"/pin/".concat(l,"/")},I=s.d.PIN;switch(p){case"user":O={description:n,id:c,imageUrl:a,name:_,type:s.d.PINNER,url:y},I=s.d.USER;break;case"board":O=u&&{description:u.description,id:u.id,imageUrl:u.imageUrl,name:u.name,type:s.d.BOARD,url:u.url},I=s.d.BOARD;break;case"today_article":O=E&&{description:E.subtitle||"",id:E.id,imageUrl:a,name:E.title,type:s.d.TODAY_ARTICLE,url:(0,o.bz)(E)},I=s.d.TODAY_ARTICLE;break;case"search":O=h(h({},O),{},{type:s.d.SEARCH,url:f}),I=s.d.SEARCH}var S={isFlyout:!0,onHide:e.onHide,onExternalSend:g,sendType:I,sharedObject:O,viewParameter:v,viewType:m};return{anchor:e.flyoutAnchor,idealDirection:r,onDismiss:e.handleDismiss,showCaret:b,children:(0,d.jsx)(i.default,h({},S))}})),e}return t=p,r=[{key:"makeSendShareButton",value:function(e){var t=this;return function(n){return(0,d.jsx)(t,h({ref:n.shareButtonRef,Subject:e},n))}}}],(n=[{key:"toggle",value:function(){var e=this.props,t=e.isOwnProfile,n=e.onToggleFlyout,r=e.sendType,i=e.userId;"user"===r&&(0,l.j)(101,{component:13675,element:1079,objectId:i,view:4,viewParameter:t?3106:3107}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.Subject,r=t.inModal,i=t.isFlyoutOpen,o=t.shownWithinMasonry,s=t.shownWithinProfileHeader,l=this.flyoutProps(),c=l.anchor,p=l.idealDirection,f=l.onDismiss,_=l.showCaret,y=l.children;return(0,d.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(u.xu,{ref:function(t){t&&(e.flyoutAnchor=t)},children:(0,d.jsx)(S,{children:function(t){return(0,d.jsx)(n,h({handleSendShareFlyoutButtonClick:t((function(t){null!=t&&t.stopPropagation&&t.stopPropagation(),e.toggle()}))},e.props))}})}),i&&(o||s?(0,d.jsx)(u.mh,{zIndex:s?I:void 0,children:(0,d.jsx)(u.xu,{zIndex:r?a.b:void 0,position:r?"absolute":void 0,top:!!r||void 0,children:(0,d.jsx)(u.J2,{anchor:c,idealDirection:p,onDismiss:f,showCaret:_,size:"xl",positionRelativeToAnchor:!1,children:y})})}):(0,d.jsx)(u.J2,{anchor:c,idealDirection:p,onDismiss:f,showCaret:_,size:"xl",children:y}))]})}}])&&y(t.prototype,n),r&&y(t,r),p}(r.Component);O(x,"defaultProps",{idealDirection:"down",onClick:function(){}})},11200:function(e,t,n){"use strict";n.d(t,{j:function(){return l},Z:function(){return c}});var r=n(174523),i=n(218265),o=n(181307),a=n(946753),s=n(80209),l=[0,2,3];function c(e){var t,n=e.hasAffiliateProducts,c=e.isPromoted,u=e.sponsorName,d=e.sponsorshipStatus,p=e.textWeight,f=(0,r.ZP)(),h=(0,o.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;c?t=(0,a.nk)(f._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:u}):d||0===d?t=u&&!l.includes(d)?(0,a.nk)(f._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:u}):f._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):n&&(t=f._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));var _=h&&!c?"Ad • ":"";return(0,s.jsxs)(i.xv,{inline:!0,size:"md",weight:p,children:[_,t]})}},998035:function(e,t,n){"use strict";n.d(t,{SR:function(){return o},Nc:function(){return a},o:function(){return s},dZ:function(){return l},$l:function(){return c},nU:function(){return u},Lb:function(){return d},bm:function(){return p},IS:function(){return f},NE:function(){return h}});var r=n(616240),i=n(493858);function o(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!(0,i.iR)(e.videos)&&!(0,i.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function c(e){var t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function u(e){var t=e.native_creator,n=e.pinner,r=e.domain;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===r)&&!e.is_promoted||t}function d(e){if(e.story_pin_data_id){var t=e.story_pin_data,n=(t=void 0===t?{}:t).metadata,r=t.pages;return{metadata:n,detailsPage:(void 0===r?[]:r)[1]}}}var p=function(e){var t=e.viewer,n=e.pin;return(0,r.su)(t)&&n.is_quick_promotable_by_pinner};function f(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}function h(e){var t=e.carouselInfo,n=e.closePanelWidth,r=e.isWideVideo,i=e.isShortImage,o=e.naturalWidth,a=e.showCloseupContentRight;return!(r||!a)&&(!!i||!t&&o<n)}},558892:function(e,t,n){"use strict";n.d(t,{YO:function(){return a},Nb:function(){return s},Of:function(){return l},x4:function(){return u}});var r=n(793550),i=n(583704),o=n(35764),a=function(e){var t=e.showPdp,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?o.Uj:o.zT:1},s=(0,i.qe)((function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showPdp:e.showPdp,updateCloseupBodyContainerHeight:e.updateCloseupBodyContainerHeight,viewportSize:e.viewportSize,maxWidth:e.maxWidth}})),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:function(){},viewportSize:"lg",paneWidth:{pdp:o.CI,regular:o.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:o.Kn,regular:o.u6}},c=(0,r.createContext)(l);function u(){var e=(0,r.useContext)(c);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=c},35764:function(e,t,n){"use strict";n.d(t,{Gg:function(){return r},u6:function(){return i},CI:function(){return o},Kn:function(){return a},Ch:function(){return s},Gb:function(){return l},Uj:function(){return c},zT:function(){return u},d2:function(){return d},Ie:function(){return p},KP:function(){return f},JV:function(){return h},bx:function(){return _},g9:function(){return y},CC:function(){return v},a7:function(){return m},iB:function(){return g}});var r=508,i=2*r,o=488,a=992,s=672,l=1176,c=.6,u=.84,d=40,p=72,f=740,h=60,_=912,y=32,v=60,m=40,g={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},595657:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(439887),i=n(584489);function o(e,t){var n,o=i.Z.instance;if(o){var a=o.getState();if(a.pins&&e){var s=a.pins[e],l=a.location;if(null!=t&&t.shouldTrackForPrevLocation){var c=(null==s?void 0:s.tracking_params_map)||{},u=Object.keys(c).find((function(e){return"PinResource"!==e}));s&&(n=u?c[u]:c.PinResource)}else s&&(n=(0,r.Z)(s,l))}}return n}},925854:function(e,t,n){"use strict";var r=n(445443),i=n(979593);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,r.Z)((function(e){var t=e.pin.videos||{},n=t.id,r=t.video_list,o=void 0===r?{}:r,s=o.V_720P,l=o.V_HLSV4,c=o.V_HLSV3_MOBILE,u=(0,i.V)(l),d=(0,i.V)(c),p=(0,i.V)(s),f=p||u||d;return n&&f?a(a({},e),{},{video:{id:n,hasVideo:f,mp4:p||void 0,hls:u||void 0,hlsv3:d||void 0}}):null}));t.Z=l},479996:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(575429),i=n(224982),o=n(589444),a=n(124324),s=n(549135),l=n(558892),c=n(218265),u=n(80209);function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=e.carouselData,n=e.carouselIndex,p=e.componentType,f=e.contextLogData,_=e.handleCarouselSwipe,y=e.isCloseup,v=e.isEditMode,m=e.pinId,g=e.viewParameter,b=e.viewType,E=e.variant,O=(0,r.useSelector)((function(e){return e.pins[m]}),r.shallowEqual),I=t||(0,o.Z)({pin:O}),S=(0,r.useDispatch)();if(!I)return null;var x=function(e,t,n){v||void 0===i.Z||(e.preventDefault(),e.stopPropagation(),S((0,i.Z)(String(m),n))),void 0!==_&&_(n),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0;if(!(arguments.length>9?arguments[9]:void 0)){var d=i.carousel_slots,p=i.id;(0,s.j)(108,h(h({},u),{},{objectId:t,component:c,view:l,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==d?void 0:d[n])&&Number(d[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:r}}},(0,a.Kl)(e)||{}))}}(O,m,t,n,I,g,b,p,f,v)},P=I.carousel_slots,w=void 0===P?[]:P,T=I.index,j=void 0!==n?n:T,A="default"===E,R=A?"white":"#555",C=A?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,u.jsx)(l.ZP.Consumer,{children:function(e){return"sm"===e.viewportSize?null:(0,u.jsx)(c.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:y?"end":"center",paddingY:v?1:0,children:d(Array(w.length).keys()).map((function(e){var t;return(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.iP,{accessibilityLabel:null!==(t=w[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:function(t){var n=t.event;return x(n,j,e)},rounding:"circle",children:(0,u.jsx)(c.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===j?R:C}},rounding:"circle"})})},m+e)}))})}})}},100001:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(793550),i=n(595657),o=n(712997),a=n(831251),s=n(57158),l=n(124324),c=n(493858),u=n(549135),d=n(80209);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.children,n=e.hovered,p=e.pin,h=e.slotIndex,y=e.trafficSource,v=e.viewType,m=_((0,r.useState)(),2),g=m[0],b=m[1],E=_((0,r.useState)(),2),O=E[0],I=E[1],S=p.id,x=p.tracked_link,P=p.link,w=x||P||"",T=function(){b(!0)},j=(0,s.Z)((0,o.Z)({pin:p})),A=(0,r.useCallback)((function(){(function(e,t,n){var r={check_only:n,pin_id:e.id,url:t,client_tracking_params:(0,i.Z)(e.id),aux_data:JSON.stringify(f(f({clickthrough_type:"rightClick",objectId:S},h||{}),(0,l.Kl)(e)||{}))};return(0,a.Z)(r)})(p,w,!1).callGet({showError:!1}).then((function(e){e&&((0,u.j)(12,f(f({clickthrough_type:"rightClick",objectId:S,view:v,viewParameter:j},h||{}),(0,l.Kl)(p)||{})),(0,u.j)(8948,f(f({click_type:"clickthrough",closeup_navigation_type:y&&(0,c.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",view:v,objectId:S,viewParameter:j},h||{}),(0,l.Kl)(p)||{})))}))})),R=function e(t){var n;g&&(/^\/pin/.test(null===(n=t.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(A(),b(!1)),window.removeEventListener(O,e,!1))};return(0,r.useEffect)((function(){var e,t,n,r,i,o;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?I("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.msHidden)?I("msvisibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(o=i.document)||void 0===o?void 0:o.webkitHidden)&&I("webkitvisibilitychange")}),[]),(0,r.useEffect)((function(){return g&&window&&window.addEventListener(O,R,!1),function(){return window.removeEventListener(O,R)}}),[g,O]),(0,r.useEffect)((function(){return n&&window.addEventListener("contextmenu",T),function(){window.removeEventListener("contextmenu",T)}}),[n]),(0,d.jsx)(r.Fragment,{children:t})}},45815:function(e,t,n){"use strict";n.d(t,{J:function(){return r},o:function(){return i}});var r="numSearchCloseups",i=20},233495:function(e,t,n){"use strict";var r=n(773559),i=n(641483),o={scope:"profile email",client_id:r.Z.settings.GPLUS_CLIENT_ID,app_package_name:r.Z.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=function(e){return(0,i.ZP)("unauth_web.gapi_auth2_load.success"),e()},s=function(e){(0,i.ZP)("unauth_web.init_google.sdk.".concat(e))};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return new Promise((function(t,n){s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then((function(){return a(t)}))):(s("load"),window.gapi.load("auth2",{callback:function(){s("load_success"),window.gapi.auth2.init(e).then((function(){return a(t)}))},onerror:function(){s("load_error"),n()},timeout:15e3,ontimeout:function(){s("load_timeout"),n()}}))}))}},269307:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},Yh:function(){return u},tY:function(){return d}});var r=n(575429),i=n(535718),o=n(34411),a=n(153155),s=0,l=1;function c(e){var t,n=(0,o.Z)(),r=n.isAuth&&n.id===e,a=(0,i.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||r});return{showEnabledSaveBehavior:r&&n.has_quicksave_board||!(!n.isAuth||null===(t=a.data)||void 0===t||!t.has_quicksave_board)}}function u(e){var t,n=(0,r.useDispatch)(),s=(0,o.Z)(),l=s.isAuth&&!!s.boardCount&&s.boardCount<5&&e,c=(0,i.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:s.isAuth&&s.id},dangerouslyDisableFetch:!l||!e});return s.isAuth&&void 0===s.save_behavior&&c&&null!==(t=c.data)&&void 0!==t&&t.id&&n((0,a.W)(c.data.save_behavior)),{showEnabledSaveBehavior:l}}function d(e){var t,n=(0,o.Z)();return e&&(n.save_behavior===s?t={type:"classic"}:n.save_behavior===l&&(t={type:"inline"})),{saveBehaviorType:t}}},383722:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(535718),i=n(272828);function o(){var e=(0,i.UO)().username;return(0,r.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},648381:function(e,t,n){"use strict";n.d(t,{k:function(){return o},s:function(){return a}});var r=n(793550),i=(0,r.createContext)(Object.freeze({})),o=i.Provider;function a(){return(0,r.useContext)(i)}},816670:function(e,t,n){"use strict";n.d(t,{cg:function(){return r},c7:function(){return i},Ac:function(){return o}});var r=-1,i=5,o=6},963232:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(577302),i=n(129826);function o(e){var t,n=e.action,o=e.board,a=e.viewer;return(0,r.Z)(a,o)||(0,i.Z)({board:o,viewer:a})&&!(null===(t=o.collaborator_permissions)||void 0===t||!t.includes(n))}},129826:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.viewer,r=t.collaborated_by_me;return Boolean(n.isAuth&&r)}n.d(t,{Z:function(){return r}})},686723:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(793550),i=n(294386),o=n(845555),a=n(504534),s=n(881220),l=n(174523),c=n(382745),u=n(181307),d=n(272828),p=n(880841),f=n(659048),h=n(218265),_=n(80209);function y(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.iconColor,n=e.iconSize,m=e.backgroundColor,g=e.marginEnd,b=e.isCloseupActionBar,E=e.sharedObject,O=(0,l.ZP)(),I=(0,p.F9)(),S=v((0,r.useState)(""),2),x=S[0],P=S[1],w=v((0,r.useState)(!1),2),T=w[0],j=w[1],A=v((0,r.useState)(!1),2),R=A[0],C=A[1],D=(0,d.TH)(),N=O._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"),L=function(e){b?navigator.clipboard.writeText(e).then((function(){var e;e=O._("Copied link to your clipboard to share","web.unauth.pinbar.copylink","Message to indicate link has been copied"),I.showToast((function(t){var n=t.onHide;return(0,_.jsx)(h.xu,{top:!0,children:(0,_.jsx)(s.Z,{duration:3e3,onHide:n,text:e})})}))})):navigator.clipboard.writeText(e).then((function(){C(!0),setTimeout((function(){C(!1)}),3e3)}))},k=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=3;break}return L(x),e.abrupt("return");case 3:j(!0),t={invite_category:3,invite_channel:12,object_type:E.type,object_id:E.id,name:E.name,description:E.description||"",path:E.url,picture:E.imageUrl},f.Z.createShareInviteData(t).then((function(e){var n=e.invite_url;j(!1),n&&(P(n),f.Z.logShareInvite(t,e),L(n))}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),M=function(){k()},B=(0,u.tc)("web_copy_link_btn_replace");return(0,c.am)(D)&&b&&B().anyEnabled?(0,_.jsx)(h.xu,{marginStart:1,children:(0,_.jsx)(h.zx,{accessibilityLabel:O._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard"),text:O._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard"),onClick:function(){return M()},size:"lg",color:"gray",fullWidth:!0})}):(0,_.jsxs)(a.Z,{iconSize:n,marginEnd:g||!1,children:[(0,_.jsx)(h.xu,{alignItems:b?"center":"stretch",display:b?"flex":"block",width:b?"100%":"auto",children:(0,_.jsx)(h.iP,{disabled:T,onTap:function(){return M()},children:(0,_.jsx)(h.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,_.jsx)(i.Z,{backgroundColor:m,iconColor:t,size:n})})})}),!b&&(0,_.jsx)(o.Z,{text:R?N:O._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})}},134507:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(218265),i=n(80209);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t,n=e.size,o=e.name,a=e.textLayout,s="calc(".concat(Math.sin((t=45,t*(Math.PI/180)))," * (").concat(n,") / 2)"),l=(0,i.jsx)(r.qE,{name:o?c(o)[0].toUpperCase():""});switch(a){case"bottomLeft":return(0,i.jsx)(r.xu,{"aria-label":o,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:s,paddingRight:s}},children:l});case"topLeft":return(0,i.jsx)(r.xu,{"aria-label":o,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:s,paddingRight:s}},children:l});default:return(0,i.jsx)(r.xu,{"aria-label":o,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:l})}};function f(e){var t=e.collaborators,n=e.outline,a=void 0!==n&&n,l=e.size,c=void 0===l?"fit":l,u=(0,r.tv)(),d=u.colorGray0,f=u.colorGray100,h="fit"===c?"100%":32,_="fit"===c?"":32,y=function(e,t){switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - ".concat(1,"px)"),height:t,textLayout:"center"},{top:0,left:"calc(50% + ".concat(1,"px)"),width:"calc(50% - ".concat(1,"px)"),height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - ".concat(1,"px)"),height:t,textLayout:"center"},{top:0,left:"calc(50% + ".concat(1,"px)"),width:"calc(50%)",height:"calc(50% - ".concat(1,"px)"),textLayout:"topLeft"},{top:"calc(50% + ".concat(1,"px)"),left:"calc(50% + ".concat(1,"px)"),width:"calc(50%)",height:"calc(50% - ".concat(1,"px)"),textLayout:"bottomLeft"}]}}(t.length,h).map((function(e,n){return[e,t[n]]}));return(0,i.jsxs)(r.xu,{color:"white",overflow:"hidden",rounding:"circle",width:h,height:_,position:"relative",dangerouslySetInlineStyle:{__style:s(s({},a?{boxShadow:"0 0 0 2px ".concat(d)}:{}),{},{willChange:"transform"})},children:[(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),y.map((function(e,t){var n=o(e,2),a=n[0],s=n[1],l=void 0===s?{name:"",src:void 0}:s,c=a.width,u=a.height,d=a.top,h=a.left,_=a.textLayout,y=l.name,v=l.src;return(0,i.jsxs)(r.xu,{position:"absolute",width:c,height:u,dangerouslySetInlineStyle:{__style:{top:d,left:h}},children:[null!=v?(0,i.jsx)(r.Ee,{alt:y,color:f,src:v,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,i.jsx)(p,{name:y,textLayout:_,size:u}),(0,i.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},t)}))]})}},373600:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(731164),i=n(311866),o=n(174523),a=n(457175),s=n(218265),l=n(80209);function c(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function u(e){var t=(0,a.v)().logContextEvent,n=(0,o.ZP)(),u=e.identifier,d=e.onUndoHide,p=e.isGroupChat,f=function(){var n,o=(n=regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.ZP.create("ShareSuggestionsHideResource",{user_identifier:u}),n.next=3,o.callDelete();case 3:d(),a=void 0,s=void 0,a=e.component,s=e.element,t({event_type:101,component:a,element:s}),r.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:a});case 5:case"end":return n.stop()}var a,s}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return o.apply(this,arguments)}}();return(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(s.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,l.jsx)(s.xv,{inline:!0,color:"gray",children:p?n._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):n._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),(0,l.jsx)(s.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,l.jsx)(s.zx,{onClick:function(e){e.event.stopPropagation(),f()},text:n._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},617629:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(731164),i=n(311866),o=n(174523),a=n(218265),s=n(457175),l=n(80209);function c(e){var t=(0,s.v)().logContextEvent,n=(0,o.ZP)(),c=e.identifier,u=e.onHide,d=function(){i.ZP.create("ShareSuggestionsHideResource",{user_identifier:c}).callCreate().then((function(){var n,i;u(),n=e.component,i=e.element,t({event_type:101,component:n,element:i}),r.Z.increment("web_contacts.suggestions.hide",1,{surface:n})}))};return(0,l.jsx)(a.hU,{icon:"cancel",iconColor:"darkGray",onClick:function(e){e.event.stopPropagation(),d()},accessibilityLabel:n._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},252688:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(80209);function i(e){var t=e.size,n=e.iconColor,i=e.backgroundColor,o=e.grayscale,a=void 0!==o&&o,s=n||(a?"#333333":"#8E8E8E"),l=i||"#EFEFEF";return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{id:"Oval",fill:l,cx:"18",cy:"18",r:"18"}),(0,r.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:s,fillRule:"nonzero",children:(0,r.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},294386:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(80209);function i(e){var t=e.size,n=e.iconColor,i=e.backgroundColor,o=e.grayscale,a=void 0!==o&&o,s=n||(a?"#333333":"#8E8E8E"),l=i||"#EFEFEF";return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",version:"1.1",children:(0,r.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{fill:l,cx:"18",cy:"18",r:"18"}),(0,r.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:s,fillRule:"nonzero",children:(0,r.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},237574:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},415339:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pt}});var r=n(793550),i=n(151101),o=n(134507),a=n(34411),s=n(237574),l=n(174523),c=n(218265),u=n(80209);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,r,a=v(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(g(e=a.call.apply(a,[this].concat(n))),"state",{textValue:e.props.initialTextValue||""}),E(g(e),"handleSendMessage",(function(){e.props.onSendMessage(e.props.recipient,e.state.textValue)})),E(g(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.isFlyout,n=e.onCancelDraft,r=e.viewerId,a=this.props.recipient||{},s="conversation_share_suggestion"===a.type,l=s?(a.users||[]).filter((function(e){return e.id!==r})):[];return(0,u.jsxs)(c.xu,{paddingX:4,width:360,children:[(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,u.jsx)(c.xu,{height:48,paddingX:1,width:56,children:s?(0,u.jsx)(o.Z,{collaborators:l.map((function(e){return{name:e.full_name||e.first_name,src:e.image_large_url}}))}):(0,u.jsx)(i.Z,{name:a.full_name||a.email||" ",src:a.image_large_url})}),(0,u.jsxs)(c.xu,{flex:"grow",marginStart:1,children:[(0,u.jsx)(c.xv,{weight:"bold",children:s?l.map((function(e){return e.first_name||e.full_name})).join(", "):a.full_name||a.email}),(0,u.jsx)(c.xv,{color:"gray",size:"sm",children:s||a.username?a.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),t?(0,u.jsx)(c.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:n,size:"sm"}):null]}),(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,u.jsx)(c.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}])&&_(t.prototype,n),r&&_(t,r),s}(r.Component);function I(e){var t=(0,l.ZP)(),n=(0,a.Z)();return(0,u.jsx)(O,f(f({},e),{},{viewerId:n.isAuth?n.id:"",i18n:t}))}var S=n(760620);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,e);var t,n,r,i=R(o);function o(){var e;T(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(D(e=i.call.apply(i,[this].concat(n))),"state",{textValue:e.props.initialTextValue||"",emailValue:""}),L(D(e),"handleSendEmail",(function(t,n){if(t){var r={email:t,full_name:t,id:"",image_large_url:"",username:""};e.props.onSendMessage(r,n)}})),L(D(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),L(D(e),"handleEmailValueChange",(function(t){var n=t.value;e.setState({emailValue:n})})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.isFlyout,r=t.onCancelDraft;return(0,u.jsxs)(c.xu,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[(0,u.jsxs)(c.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,u.jsx)(c.xu,{flex:"grow",children:(0,u.jsx)(c.xv,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),n?(0,u.jsx)(c.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:r,size:"sm"}):null]}),(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(c.xu,{paddingY:1,marginBottom:4,children:(0,u.jsx)(c.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),(0,u.jsx)(c.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),(0,u.jsx)(c.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,u.jsx)(c.zx,{size:"lg",color:"red",onClick:function(){return e.handleSendEmail(e.state.emailValue||"",e.state.textValue||"")},type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!(0,S.Z)(this.state.emailValue)})})]})]})}}])&&j(t.prototype,n),r&&j(t,r),o}(r.Component);function M(e){var t=(0,l.ZP)();return(0,u.jsx)(k,w(w({},e),{},{i18n:t}))}var B=n(946753);function G(e){var t=e.email,n=e.isValid,r=e.onClick,o=e.showSendEmailText,a=(0,l.ZP)(),s=n?a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),d=o?(0,B.nk)(a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:t}):(0,B.nk)(a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:t});return(0,u.jsx)(c.xu,{marginBottom:4,children:(0,u.jsx)(c.iP,{onTap:function(){n&&r()},children:(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(c.xu,{height:48,width:48,children:(0,u.jsx)(i.Z,{name:t})}),(0,u.jsxs)(c.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(c.xv,{weight:"bold",size:"lg",children:d}),(0,u.jsx)(c.xv,{size:"sm",color:"gray",children:s})]})]})})})}var U=n(94236),F=n(373600),Z=n(617629),H=n(549156);function V(e){var t=(0,l.ZP)(),n=e.shouldShowViewChat,r=e.isSent,i=e.onClickSend,o=e.onViewConversation;return(0,u.jsx)(c.kC,{alignItems:"stretch",justifyContent:"start",children:n?(0,u.jsx)(c.iP,{mouseCursor:"pointer",onTap:function(e){e.event.stopPropagation(),o()},children:(0,u.jsxs)(c.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,u.jsx)(c.xv,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),(0,u.jsx)(c.xu,{marginStart:1,children:(0,u.jsx)(c.JO,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):(0,u.jsx)(H.Z,{id:r?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,u.jsx)(c.zx,{color:r?"gray":"red",disabled:r,onClick:i,size:"lg",text:r?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var W=n(457175);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t,n,s,l=(0,W.v)().logContextEvent,d=e.item,p=e.textFieldValue,f=e.onSendMessage,h=e.onShowSendDraft,_=e.onViewConversation,y=e.sentHistory,v=z((0,r.useState)(!1),2),m=v[0],g=v[1],b=z((0,r.useState)(!1),2),E=b[0],O=b[1],I=z((0,r.useState)(!1),2),S=I[0],x=I[1],P=d.id||"string"==typeof d.email&&d.email||"",w=P in y,T=""!==p,j=null!==(t=y[P])&&void 0!==t?t:"",A=(0,a.Z)().id||"",R="conversation_share_suggestion"===d.type,C=R?(d.users||[]).filter((function(e){return e.id!==A})):[],D=d.debug_reason&&d.debug_reason.readable_reason,N="";"string"!=typeof d.full_name||d.full_name.match(/^\s*$/)?"string"!=typeof d.email||d.email.match(/^\s*$/)||(N=d.email):N=d.full_name;return m?(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,u.jsx)(F.Z,{identifier:null!==(n=d.id)&&void 0!==n?n:d.email,onUndoHide:function(){return g(!1)},component:13029,element:11918,isGroupChat:C.length>1})}):(0,u.jsxs)(c.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,u.jsx)(c.iP,{mouseCursor:"pointer",onTap:function(e){e.event.stopPropagation(),h(d)},children:(0,u.jsx)(c.Zb,{onMouseEnter:function(){O(!(T||S&&w))},onMouseLeave:function(){return O(!1)},children:(0,u.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(c.xu,{height:48,width:48,children:R?(0,u.jsx)(o.Z,{collaborators:C.map((function(e){return{name:e.full_name||e.first_name,src:e.image_medium_url}}))}):(0,u.jsx)(i.Z,{accessibilityLabel:"",name:N,src:d.image_medium_url})}),(0,u.jsxs)(c.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,u.jsx)(c.xu,{marginBottom:1,children:(0,u.jsx)(c.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:R?C.map((function(e){return e.first_name||e.full_name})).join(", "):N})}),T&&D?(0,u.jsx)(c.xv,{color:"gray",size:"sm",children:D}):"string"==typeof d.username&&(0,u.jsx)(c.xv,{color:"gray",size:"sm",children:d.username})]}),(0,u.jsxs)(c.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[E&&(0,u.jsx)(c.xu,{display:"flex",marginEnd:2,children:(0,u.jsx)(Z.Z,{identifier:null!==(s=d.id)&&void 0!==s?s:d.email,onHide:function(){return g(!0)},component:13029,element:11917})}),(0,u.jsx)(V,{shouldShowViewChat:w,isSent:S,onClickSend:function(t){var n,r;t.event.stopPropagation(),r=e.idx,l({event_type:101,component:13029,element:p?1044:1039,aux_data:{entered_query:p,result_index:r+1,rs:null===(n=d.debug_reason)||void 0===n?void 0:n.reason}}),x(!0),f(d),O(!1)},onViewConversation:function(){return _(j)}})]})]})]})})}),(0,u.jsx)(U.Z.Consumer,{children:function(e){var t;return e?(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,u.jsx)(c.X6,{color:"blue",size:"sm",children:null===(t=d.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var X=n(535718),q=n(192830),J=n(463111);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){var t=(0,W.v)().logContextEvent,n=(0,l.ZP)(),i=e.onChange,o=e.onSendMessage,a=e.onShowSendDraft,s=e.onShowImportContacts,d=e.sentHistory,p=e.value,f=e.paddingX,h=(0,X.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}).isLoaded,_=(0,X.Z)({name:"ShareSuggestionsTypeaheadResource",options:{field_set_key:"default",term:p||"default"},noCache:!0}).isLoaded,y=(0,J.E)().shareSuggestions[p]||[];(0,r.useEffect)((function(){if(!p&&h){var e=y.length>0?7511:7512;t({event_type:e,component:56,view_type:70,view_parameter:256})}}),[h]);var v=(0,q.Z5)(),m=v.dropdownOpen,g=v.conversationOpen,b=function(t){var n=e.isFlyout,r=e.onHide;!n&&r&&r(),g(t),m()},E=y.map((function(e,t){var n=p?"search":"suggestion",r="".concat(t,"-").concat(n),i={item:e,idx:t,onSendMessage:o,onShowSendDraft:a,onViewConversation:b,sentHistory:d,textFieldValue:p};return(0,u.jsx)(K,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i),r)})),O=0===y.length&&(""===p&&!h||""!==p&&!_);return(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xu,{display:"flex",paddingX:f,position:"relative",children:(0,u.jsx)(c.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,u.jsx)(c.Um,{accessibilityLabel:n._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:i,placeholder:n._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:p})})}),(0,u.jsx)(c.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new c.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,u.jsxs)(c.xu,{paddingX:f,children:[(0,u.jsx)(c.xu,{paddingY:O?2:0,children:(0,u.jsx)(c.$j,{accessibilityLabel:n._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:O})}),(0,u.jsxs)(c.xu,{children:[E,p&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.Zb,{children:(0,u.jsx)(G,{email:p,isValid:(0,S.Z)(p),onClick:function(){return a({email:p,full_name:p})},showSendEmailText:!1})}),!O&&(0,u.jsx)(c.xu,{width:"100%",children:(0,u.jsx)(c.Zb,{children:(0,u.jsx)(c.iP,{onTap:s,children:(0,u.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,u.jsx)(c.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,u.jsx)(c.JO,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),(0,u.jsx)(c.xu,{paddingX:3,children:(0,u.jsx)(c.xv,{weight:"bold",children:n._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var te=n(296882),ne=n(686723),re=n(252688),ie=n(230457),oe=n(674245);function ae(e){var t=e.size,n=void 0===t?48:t,r=e.iconColor,i=e.backgroundColor,o=e.grayscale,a=void 0!==o&&o,s=r||(a?"#333333":"#8E8E8E"),l=i||"#EFEFEF";return(0,u.jsx)("svg",{viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,u.jsx)("circle",{fill:l,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,u.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:s,children:[(0,u.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,u.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,u.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,u.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,u.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,u.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,u.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,u.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,u.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var se=n(845555),le=n(504534);function ce(e){var t=e.sharedObject,n=e.onCreatePincodeClick,r=e.iconColor,i=e.iconSize,o=e.backgroundColor,d=(0,l.ZP)(),p=(0,a.Z)();return n&&[s.d.BOARD,s.d.PINNER,s.d.USER].includes(t.type)&&p.isAuth&&(t.id===p.id||p.isEmployee)?(0,u.jsxs)(le.Z,{iconSize:i,marginEnd:!0,children:[(0,u.jsx)(c.iP,{fullWidth:!1,onTap:n,children:(0,u.jsx)(ae,{backgroundColor:o,iconColor:r,size:i})}),(0,u.jsx)(se.Z,{text:d._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var ue=n(447186),de=n(272828),pe=n(659048),fe="#EFEFEF",he="#333333";function _e(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,i=void 0!==r&&r,o=i?he:"#FFFFFF",a=i?fe:"#1877f2";return(0,u.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,children:[(0,u.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,u.jsxs)("g",{id:"surface1",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,u.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function ye(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,i=void 0!==r&&r,o=i?he:"#FFFFFF",a=i?fe:"#0DC2FF";return(0,u.jsx)("svg",{viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsxs)("g",{id:"surface1",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,u.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function ve(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,i=void 0!==r&&r,o=i?he:"#FFFFFF",a=i?fe:"#25d366";return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,version:"1.1",children:(0,u.jsxs)("g",{id:"surface1",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,u.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function me(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,i=void 0!==r&&r,o=i?he:"#fff",a=i?fe:"#00b900";return(0,u.jsx)("svg",{width:n,height:n,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,u.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,u.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}function ge(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,i=void 0!==r&&r?he:"#fff";return(0,u.jsxs)("svg",{viewBox:"0 0 800 800",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,children:[(0,u.jsx)("circle",{cx:"400",cy:"400",fill:"#ff4500",r:"400"}),(0,u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M666.8 400c.08 5.48-.6 10.95-2.04 16.24s-3.62 10.36-6.48 15.04c-2.85 4.68-6.35 8.94-10.39 12.65s-8.58 6.83-13.49 9.27c.11 1.46.2 2.93.25 4.4a107.268 107.268 0 0 1 0 8.8c-.05 1.47-.14 2.94-.25 4.4 0 89.6-104.4 162.4-233.2 162.4S168 560.4 168 470.8c-.11-1.46-.2-2.93-.25-4.4a107.268 107.268 0 0 1 0-8.8c.05-1.47.14-2.94.25-4.4a58.438 58.438 0 0 1-31.85-37.28 58.41 58.41 0 0 1 7.8-48.42 58.354 58.354 0 0 1 41.93-25.4 58.4 58.4 0 0 1 46.52 15.5 286.795 286.795 0 0 1 35.89-20.71c12.45-6.02 25.32-11.14 38.51-15.3s26.67-7.35 40.32-9.56 27.45-3.42 41.28-3.63L418 169.6c.33-1.61.98-3.13 1.91-4.49.92-1.35 2.11-2.51 3.48-3.4 1.38-.89 2.92-1.5 4.54-1.8 1.61-.29 3.27-.26 4.87.09l98 19.6c9.89-16.99 30.65-24.27 48.98-17.19s28.81 26.43 24.71 45.65c-4.09 19.22-21.55 32.62-41.17 31.61-19.63-1.01-35.62-16.13-37.72-35.67L440 186l-26 124.8c13.66.29 27.29 1.57 40.77 3.82a284.358 284.358 0 0 1 77.8 24.86A284.412 284.412 0 0 1 568 360a58.345 58.345 0 0 1 29.4-15.21 58.361 58.361 0 0 1 32.95 3.21 58.384 58.384 0 0 1 25.91 20.61A58.384 58.384 0 0 1 666.8 400zm-396.96 55.31c2.02 4.85 4.96 9.26 8.68 12.97 3.71 3.72 8.12 6.66 12.97 8.68A40.049 40.049 0 0 0 306.8 480c16.18 0 30.76-9.75 36.96-24.69 6.19-14.95 2.76-32.15-8.68-43.59s-28.64-14.87-43.59-8.68c-14.94 6.2-24.69 20.78-24.69 36.96 0 5.25 1.03 10.45 3.04 15.31zm229.1 96.02c2.05-2 3.22-4.73 3.26-7.59.04-2.87-1.07-5.63-3.07-7.68s-4.73-3.22-7.59-3.26c-2.87-.04-5.63 1.07-7.94 2.8a131.06 131.06 0 0 1-19.04 11.35 131.53 131.53 0 0 1-20.68 7.99c-7.1 2.07-14.37 3.54-21.72 4.39-7.36.85-14.77 1.07-22.16.67-7.38.33-14.78.03-22.11-.89a129.01 129.01 0 0 1-21.64-4.6c-7.08-2.14-13.95-4.88-20.56-8.18s-12.93-7.16-18.89-11.53c-2.07-1.7-4.7-2.57-7.38-2.44s-5.21 1.26-7.11 3.15c-1.89 1.9-3.02 4.43-3.15 7.11s.74 5.31 2.44 7.38c7.03 5.3 14.5 9.98 22.33 14s16 7.35 24.4 9.97 17.01 4.51 25.74 5.66c8.73 1.14 17.54 1.53 26.33 1.17 8.79.36 17.6-.03 26.33-1.17A153.961 153.961 0 0 0 476.87 564c7.83-4.02 15.3-8.7 22.33-14zm-7.34-68.13c5.42.06 10.8-.99 15.81-3.07 5.01-2.09 9.54-5.17 13.32-9.06s6.72-8.51 8.66-13.58A39.882 39.882 0 0 0 532 441.6c0-16.18-9.75-30.76-24.69-36.96-14.95-6.19-32.15-2.76-43.59 8.68s-14.87 28.64-8.68 43.59c6.2 14.94 20.78 24.69 36.96 24.69z"})]})}var be=n(181307),Ee=n(880841),Oe=n(382745);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var i=Ce(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=48,Le="#111111",ke="#EFEFEF",Me={backgroundColor:"#ffffff",border:"none",padding:0},Be=new Set(["JP","TW","TH"]),Ge=new Set(["US","UK","CA","AU","DE"]),Ue=function(e){(0,oe.default)((function(t){t&&(t.getUserID()?e():t.login((function(){e()})))}),ie.Z)},Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(a,e);var t,n,i,o=je(a);function a(){var e;Pe(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return De(Re(e=o.call.apply(o,[this].concat(n))),"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),De(Re(e),"mounted",!1),De(Re(e),"logShareInviteLink",(function(){var t=e.state,n=t.copyLinkLogged,r=t.inviteData,i=e.getShareOptions(12);n||(pe.Z.logShareInvite(i,r),e.setState({copyLinkLogged:!0}))})),De(Re(e),"selectText",(function(e){e.target.select()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.getWhatsAppURL()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getShareOptions",value:function(e){var t=this.props.sharedObject;return{invite_category:t.type===s.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}},{key:"getSendDisplayText",value:function(e){switch(e){case s.d.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case s.d.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case s.d.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}},{key:"getWhatsAppURL",value:function(){var e=this,t=this.getShareOptions(10);pe.Z.createShareInviteData(t).then((function(t){var n=t.message;if(n){var r=encodeURIComponent(n);e.setState({whatsappInviteData:t,whatsappURL:"https://web.whatsapp.com/send?text="+r})}else e.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,te.Z)(e.props.sharedObject.url)})}))}},{key:"checkWritePermissions",value:function(){return!!ue.Z.isWriteBanned()}},{key:"handleSocialShareClick",value:function(e){if(!this.checkWritePermissions()){var t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),this.props.logContextEvent({event_type:101,component:153,element:t})}}},{key:"openEmailDialog",value:function(){this.props.onEmailIconClick()}},{key:"openFacebookDialog",value:function(){var e=this;Ue((function(){pe.Z.shareFacebookInvite(e.getShareOptions(5))}))}},{key:"openFbMessengerDialog",value:function(){var e=this;Ue((function(){pe.Z.shareFbMessengerInvite(e.getShareOptions(6))}))}},{key:"openWhatsAppDialog",value:function(){var e=this.getShareOptions(10);this.state.whatsAppLogged||(pe.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}},{key:"openShareUrlLink",value:function(){this.logShareInviteLink()}},{key:"openTwitterDialog",value:function(){pe.Z.shareTwitterInvite(this.getShareOptions(9))}},{key:"openLineDialog",value:function(){pe.Z.shareLineInvite(this.getShareOptions(8))}},{key:"openRedditDialog",value:function(){pe.Z.shareRedditInvite(this.getShareOptions(29))}},{key:"renderShareOptions",value:function(){var e=this,t=this.props,n=t.sharedObject,i=t.onCreatePincodeClick,o=t.showLineShare,a=t.showRedditPinShare,s=t.activateWebRedditPinShareExp,l=t.showRedditBoardShare,d=t.activateWebRedditBoardShareExp,p=t.i18n;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"around",children:[o&&(0,u.jsxs)(le.Z,{iconSize:Ne,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:function(){return e.handleSocialShareClick("line")},style:Me,children:(0,u.jsx)(me,{size:48})}),(0,u.jsx)(se.Z,{text:p._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),(0,u.jsxs)(le.Z,{iconSize:Ne,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:function(){return e.handleSocialShareClick("whatsapp")},style:Me,tabIndex:"-1",children:(0,u.jsx)(c.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,u.jsx)(ve,{size:Ne})})}),(0,u.jsx)(se.Z,{text:p._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),(0,u.jsxs)(le.Z,{iconSize:Ne,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:function(){return e.handleSocialShareClick("facebook")},style:Me,children:(0,u.jsx)(_e,{size:Ne})}),(0,u.jsx)(se.Z,{text:p._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),(0,u.jsxs)(le.Z,{iconSize:Ne,marginEnd:!o,children:[(0,u.jsx)("button",{"aria-label":p._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:function(){return e.handleSocialShareClick("twitter")},style:Me,"data-test-id":"twitter-share-icon",children:(0,u.jsx)(ye,{size:Ne})}),(0,u.jsx)(se.Z,{text:p._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!o&&(0,u.jsx)(le.Z,{iconSize:Ne,marginEnd:!1,children:this.renderEmail()})]}),(0,u.jsxs)(c.xu,{display:"flex",paddingY:4,children:[(a&&s().anyEnabled||l&&d().anyEnabled)&&(0,u.jsxs)(le.Z,{iconSize:Ne,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Reddit","sharesheet.shareSocialBar.ShareReddit","Button that will share via Reddit"),onClick:function(){return e.handleSocialShareClick("reddit")},style:Me,children:(0,u.jsx)(ge,{size:Ne})}),(0,u.jsx)(se.Z,{text:p._("Reddit","sharesheet.shareSocialBar.ShareRedditLabel","Reddit button label")})]}),(0,u.jsx)(ce,{backgroundColor:ke,iconColor:Le,iconSize:Ne,onCreatePincodeClick:i,sharedObject:n}),(0,u.jsx)(ne.default,{sharedObject:n,backgroundColor:ke,iconColor:Le,iconSize:Ne,marginEnd:o,isCloseupActionBar:!1},"copylink"),o&&this.renderEmail()]})]})}},{key:"renderEmail",value:function(){var e=this;return(0,u.jsxs)(le.Z,{iconSize:Ne,marginEnd:!0,children:[(0,u.jsx)(c.xu,{display:"inlineBlock",children:(0,u.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:function(){return e.handleSocialShareClick("email")},style:Me,children:(0,u.jsx)(re.Z,{backgroundColor:ke,iconColor:Le,size:Ne})})}),(0,u.jsx)(se.Z,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}},{key:"render",value:function(){var e=this.props,t=e.sharedObject,n=e.paddingX;return(0,u.jsxs)(c.xu,{paddingX:n,children:[(0,u.jsx)(c.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,u.jsx)(c.xv,{size:"lg",weight:"bold",children:this.getSendDisplayText(t.type)})}),(0,u.jsx)(c.xu,{paddingX:2,children:this.renderShareOptions()})]})}}])&&we(t.prototype,n),i&&we(t,i),a}(r.Component);function Ze(e){var t=(0,W.v)().logContextEvent,n=(0,l.ZP)(),r=(0,a.Z)(),i=(0,de.TH)(),o=r.isAuth&&Be.has(r.country),s=r.isAuth&&Ge.has(r.country),c=s&&(0,Oe.uM)(i),d=(0,be.tc)("web_auth_pin_reddit_share"),p=s&&(0,Oe.am)(i),f=(0,be.tc)("web_auth_board_reddit_share");return(0,u.jsx)(Fe,xe(xe({},e),{},{toastManagerContext:(0,Ee.F9)(),viewer:(0,a.Z)(),showLineShare:o,i18n:n,showRedditPinShare:c,showRedditBoardShare:p,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:f,logContextEvent:t}))}var He=n(731164),Ve=n(311866),We=n(881220);function ze(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var Ye=n(818270);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=function(e,t){var n={};return e.forEach((function(e){n[e]=t})),n};function nt(e){var t=(0,W.v)().logContextEvent,n=(0,l.ZP)(),i=Qe((0,r.useState)(!1),2),o=i[0],d=i[1],p=Qe((0,r.useState)(null),2),f=p[0],h=p[1],_=Qe((0,r.useState)({}),2),y=_[0],v=_[1],m=Qe((0,r.useState)(""),2),g=m[0],b=m[1],E=Qe((0,r.useState)(function(e,t){return"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):""}(e.sendType,n)),1)[0],O=(0,Ee.F9)().showOneToast,S=(0,Ye.$)().surface,x=(0,a.Z)(),P=(0,q.Z5)().conversationCreate,w=(0,q.NG)(),T=function(n,r){d(!1),e.onMessageSent(),function(n,r){var i=e.sharedObject.id;He.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:i,aux_data:{conversation_id:n,pin_id:r}})}(n,r)},j=function(e){He.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});var t=e.message_detail||e.message;t&&O((function(e){var n=e.onHide;return(0,u.jsx)(We.Z,{variant:"error",duration:5e3,onHide:n,text:t})}))},A=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,i){var o,a,s,l,c,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.sharedObject,a=e.sendType,s=o.id,(l={emails:r,user_ids:n,text:i,source:ze(S)})[a]=s,c=Ve.ZP.create("ConversationsResource",l),t.prev=5,t.next=8,c.callCreate();case 8:u=t.sent,d=u&&u.resource_response.data,P(d),T(d.id,"pin"===a?s:null),n.length>0?v(Je(Je({},y),tt(n,d.id))):v(Je(Je({},y),tt(r,d.id))),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),j(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){Xe(o,r,i,a,s,"next",e)}function s(e){Xe(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),R=function(n,r){"conversation_share_suggestion"===n.type?function(t,n,r){var i,o,a=e.sharedObject,s=e.sendType;switch(s){case"pin":o="pinId";break;case"board":o="boardId";break;case"did_it":o="didItId";break;case"user":case"pinner":o="userId"}var l=o?w(t,($e(i={text:n},o,a.id),$e(i,"source",ze(S)),i),void 0,x):void 0;l&&l.then((function(){T(t,"pin"===s?a.id:null),v(Je(Je({},y),{},$e({},t,t)))})).catch((function(e){j(e)}))}(n.id,r):"contact_share_suggestion"!==n.type&&"user_share_suggestion"!==n.type&&"user"!==n.type||!n.username?A([],[n.email],r):A([n.id],[],r),t({event_type:101,component:56,element:276})},C=function(t,n){e.sendType!==s.d.SEARCH||n?R(t,n):Ve.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)})).then((function(e){var n=e.message;R(t,n)}))},D=function(){d(!1),h(null)},N=e.onCreatePincodeClick,L=e.onShowImport,k=e.sendType,B=e.sharedObject,G=e.isFlyout,U=e.onHide,F=e.onExternalSend,Z="email"===f?(0,u.jsx)(M,{initialTextValue:E,isFlyout:G,objectId:B.id,objectType:k,onCancelDraft:D,onHide:U,onSendMessage:C}):(0,u.jsx)(I,{initialTextValue:E,isFlyout:G,objectId:B.id,objectType:k,onCancelDraft:D,onHide:U,onSendMessage:C,recipient:"object"===Ke(f)?f:void 0});return o?Z:(0,u.jsxs)(c.xu,{color:"white",children:[(0,u.jsx)(Ze,{onCreatePincodeClick:N,onEmailIconClick:function(){d(!0),h("email")},onExternalSend:F,onHide:U,paddingX:4,sharedObject:B}),(0,u.jsx)(c.xu,{children:(0,u.jsx)(ee,{isFlyout:G,onChange:function(e){var n=e.value;b(n),t({event_type:4113,component:13029,element:1043})},onHide:U,onSendMessage:C,onShowImportContacts:L,onShowSendDraft:function(e){d(!0),h(e),b("")},paddingX:4,sentHistory:y,value:g})})]})}var rt=n(227457),it=n.n(rt),ot=n(525974),at=["facebook","google"];function st(e,t){return"facebook"===e?t._("Facebook"," - "," -- "):"twitter"===e?t._("Twitter"," - "," -- "):"google"===e?t._("Google"," - "," -- "):t._("Other"," - "," -- ")}function lt(e){var t=(0,l.ZP)(),n=it()("sendShare",e.network),r=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"," - "," -- "):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return(0,u.jsx)("a",{onClick:e.onClick,role:"button",children:(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("em",{className:"icon"}),(0,u.jsxs)("div",{className:"networkInfo",children:[(0,u.jsx)("h4",{className:"title",children:st(e.network,t)}),r?(0,u.jsx)("div",{className:"subtitle",children:r}):null]})]})})}function ct(e){var t=e.onBack,n=(0,l.ZP)(),r=(0,a.Z)(),i=r.isAuth?r.email:null,o=at.filter((function(e){return!r.isAuth||!1===r.socialNetwork[e].connected}));return(0,u.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)("div",{className:"backNav",children:(0,u.jsxs)("a",{onClick:t,role:"button",children:[(0,u.jsx)("span",{className:"icon"}),(0,u.jsx)("span",{className:"label",children:n._("Back"," - "," -- ")})]})}),(0,u.jsx)("div",{className:"prompt",children:n._("Upload contacts from..."," - "," -- ")})]}),(0,u.jsx)("ul",{className:"socialConnectOptions",children:o.map((function(e){return(0,u.jsx)("li",{style:{borderLeft:"none"},children:(0,u.jsx)(lt,{email:i,network:e,onClick:function(){return function(e,t){ot.Z.instance().handleConnect(e,!0,{},t)}(e,n)}})},e)}))})]})}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e){e.classNames;var t=e.isFlyout,n=void 0!==t&&t,i=e.onCreatePincodeClick,o=e.onExternalSend,a=e.onHide,s=e.sendType,l=e.sharedObject,d=e.viewType,p=e.viewParameter,f=(0,W.v)().logContextEvent,h=ut((0,r.useState)(!1),2),_=h[0],y=h[1],v=ut((0,r.useState)(!1),2),m=v[0],g=v[1];(0,r.useEffect)((function(){return f({event_type:7120,object_id_str:l.id,view_type:d,view_parameter:p}),function(){f({event_type:7121,object_id_str:l.id,view_type:d,view_parameter:p}),f({event_type:m?7493:7492,view_type:d,view_parameter:p})}}),[]);var b,E=function(){y(!0)},O=function(){y(!1)},I=function(){g(!0)};return _?(b=n?"SendObjectBase sendShare":"",(0,u.jsx)("div",{className:b,children:(0,u.jsx)(ct,{onBack:O})})):(0,u.jsx)(c.xu,{overflow:"hidden",children:(0,u.jsx)(nt,{isFlyout:n,onCreatePincodeClick:i,onHide:a,onShowImport:E,onMessageSent:I,onExternalSend:o,sendType:s,sharedObject:l})})}},845555:function(e,t,n){"use strict";var r=n(988089),i=n(218265),o=n(80209);t.Z=function(e){var t=e.text;return(0,o.jsx)(i.xv,{align:"center",size:"sm",children:(0,o.jsx)(r.Z,{maxWidthPx:128,maxHeightPx:50,children:t})})}},504534:function(e,t,n){"use strict";var r=n(218265),i=n(80209);t.Z=function(e){var t=e.iconSize,n=e.marginEnd,o=e.children;return(0,i.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:n?2:0,width:t+24,children:o})}},278646:function(e,t,n){"use strict";n.d(t,{L:function(){return _},t:function(){return y}});var r=n(904192),i=n(73697),o=n(549156),a=n(174523),s=n(302199),l=n(946753),c=n(585967),u=n(218265),d=n(80209);function p(e){var t=e.count,n=e.ratingValue;return Boolean(n&&"None"!==n&&!!t)}function f(e){var t=e.count,n=e.countFormat,r=e.textSize,i=(0,c.B)().locale,p=(0,a.ZP)(),f=(0,s.Z)();return(0,d.jsx)(u.xv,{size:r,children:(0,d.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:"text"===n?(0,l.nk)(p.ngettext("{{ count }} rating","{{ count }} ratings",t,"closeup.ratings.count","total ratings count"),{count:t}).join(""):f(i,t,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function h(e){var t=e.count,n=e.countFormat,o=e.ratingTextSize,a=e.ratingValue,s=e.shippingInfo,l=e.shippingInfoStyles,c=e.showDot,u=e.condition,h=p({count:t,ratingValue:a}),_=s||{},y=_.free_shipping_price,v=_.free_shipping_value,m=h&&!!a&&(0,d.jsx)(r.Z,{rating:a,width:12});return{rating:m&&h&&!!t&&(0,d.jsx)(f,{count:t,countFormat:n,textSize:o}),shipping:(Number.isFinite(v)||Number.isFinite(u))&&(0,d.jsx)(i.ZP,{customStyles:l,freeShippingPrice:y,freeShippingValue:v,showPrevDot:c,condition:u}),stars:m}}function _(e){var t=e.count,n=e.countFormat,r=h({count:t,countFormat:n,ratingTextSize:"md",ratingValue:e.ratingValue,shippingInfo:e.shippingInfo,shippingInfoStyles:{color:e.highlightLabel?"blue":"gray",size:"md"},showDot:!1}),i=r.rating,o=r.shipping,a=r.stars;return(0,d.jsxs)(u.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[a,i&&(0,d.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===n?"5px":""}},display:"inlineBlock",children:i})]}),o&&(0,d.jsx)(u.xu,{marginTop:a?1:0,children:o})]})}function y(e){var t=e.count,n=e.countFormat,r=e.ratingValue,i=e.shippingInfo,o=e.condition,a=e.highlightLabel,s=p({count:t,ratingValue:r}),l=h({count:t,countFormat:n,ratingTextSize:"lg",ratingValue:r,shippingInfo:i,shippingInfoStyles:{color:a?"blue":"darkGray",size:"lg"},showDot:s,condition:o}),c=l.rating,f=l.shipping,_=l.stars;return(0,d.jsxs)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[_,c]}),f&&(0,d.jsx)(u.xu,{marginStart:_&&!s?1:0,children:f})]})}},344886:function(e,t,n){"use strict";n.d(t,{Z0:function(){return r},qA:function(){return i},_z:function(){return o},fM:function(){return a},$O:function(){return s},Xv:function(){return l},GZ:function(){return c},OE:function(){return u},zX:function(){return d}});var r=40,i=4,o=106,a=133,s=.1,l=10,c=246,u=197,d=236},94236:function(e,t,n){"use strict";var r=n(793550);t.Z=(0,r.createContext)(!1)},432921:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(965035),i=n(174523),o=n(218265),a=n(80209);function s(e){var t=e.duration,n=(0,i.ZP)();return(0,a.jsxs)(o.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(o.JO,{accessibilityLabel:n._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),(0,a.jsx)(o.xu,{marginStart:1,children:(0,a.jsx)(o.xv,{color:"white",size:"sm",lineClamp:1,children:(0,r.Z)(t)})})]})}},852474:function(e,t,n){"use strict";n.d(t,{t:function(){return i},Z:function(){return o}});var r=function(){var e,t,n,r,i="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return i?"4g"===i?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function i(e){var t=r(),n=t.downloadSpeedGroup,i=t.screenDimension,o={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[n][i]||e.V_720P||void 0}function o(e){var t=e.video_list,n=void 0===t?{}:t,r=i(n),o=n.V_HLSV3_MOBILE||void 0;return r?{hlsv3:o,mp4:r}:{hlsv3:o}}},411221:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,{Z:function(){return r}})},224982:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,{Z:function(){return r}})},698602:function(e,t,n){"use strict";function r(e,t,n,r){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:r}}}function i(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function o(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function c(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{NA:function(){return r},I1:function(){return i},ZP:function(){return o},Ib:function(){return a},i0:function(){return s},b9:function(){return l},yj:function(){return c}})},153155:function(e,t,n){"use strict";n.d(t,{W:function(){return i},Y:function(){return o}});var r=n(311866);function i(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function o(e){return function(t){return r.ZP.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then((function(e){var n,r=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(i(r.save_behavior))}))}}},124324:function(e,t,n){"use strict";n.d(t,{GT:function(){return l},Zs:function(){return c},Sn:function(){return u},Kl:function(){return d}});var r=n(589444),i=n(477342);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){if(e){var t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function c(e){var t,n,o,s,c,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=l(e),f=a({},d.commerce_data);p.includes(2)&&(f.pin_is_shop_the_look=!0),p.includes(1)&&(f.is_available=!0),p.includes(5)&&(f.is_product_pin_v2=!0),p.includes(6)&&(f.is_rich_product_pin=!0),p.includes(10)&&(f.is_organic_product_carousel=!0);var h=!!e.visual_objects&&(0,i.k)(e.visual_objects)||[];if(h.some((function(e){return!0===e.is_stela}))&&(f.pin_is_stela=!0),e.is_eligible_for_pdp){e.is_oos_product?f.pin_show_pdp_oos=!0:e.is_stale_product?f.pin_show_pdp_stale=!0:f.pin_show_pdp=!0;var _,y=(0,r.Z)({pin:e});if(y)f.image_count=null===(_=y.carousel_slots)||void 0===_?void 0:_.length,f.image_index=y.index}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.item_id&&(f.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(c=s.products)&&void 0!==c&&null!==(u=c[0])&&void 0!==u&&u.item_set_id&&(f.item_set_id=e.rich_summary.products[0].item_set_id);var v=e.aggregated_pin_data||{};return null!=v&&v.is_shop_the_look&&(f.pin_is_shop_the_look=!0),e.story_pin_data&&(f.story_pin_id=e.story_pin_data.id),f}function u(e){var t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=c(e,t);return u(n)}return null}},711243:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},N:function(){return a}});var r=n(218265),i=n(80209);function o(e){var t=e.children,n=e.fullWidth;return(0,i.jsx)(r.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:t})}function a(e){var t=e.children;return e.enabled?(0,i.jsx)(o,{children:t}):t}},616240:function(e,t,n){"use strict";n.d(t,{dl:function(){return l},Fl:function(){return u},IC:function(){return d},GG:function(){return p},tW:function(){return f},Pw:function(){return h},k3:function(){return _},su:function(){return y}});var r=n(300970),i=n(593482),o=n(221469),a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],s=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],c=["US","CA"],u=function(e,t){return s.includes(e.toUpperCase())?t.experiments.getWithActivation("advertiser_growth_qp_expansion").anyEnabled:a.includes(e.toUpperCase())},d=function(e,t,n){var r={numDays:n},i=e[n]||{},o=e[2*n]||{};return t.forEach((function(e){var t=i[e]||0,n=o[e]?o[e]-t:0;r[e]={total:t,trend:n?(t-n)/n:0}})),r},p=function(e){return!!e&&c.includes(e.toUpperCase())},f=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),h=function(e){e.requestContext;!function(e,t){var n=(0,o.ru)("/business/convert",{next:t});e.push(n)}(e.history,function(e){return e?"/business/ad_create?pinId=".concat(e):"/business/ad_create"}(e.pinId))},_=function(e){var t=e.trim().split(" ").filter((function(e){return!!e}));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},y=function(e){return e.isAuth&&!e.isPartner&&!(0,i.Z)(null,e)&&!(0,r.Z)(null,e)}},215484:function(e,t,n){"use strict";function r(e){var t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,{Z:function(){return r}})},300970:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;var n="";t&&t.createdAt?n=t.createdAt:e&&e.created_at&&(n=e.created_at);var r=new Date(n);return r.setDate(r.getDate()+28),(new Date).getTime()<r.getTime()}},593482:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var i=new Date,o=n?new Date(n):i;return o.setDate(o.getDate()+r),(new Date).getTime()<o.getTime()}},586840:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((function(n,r){return t.includes(r)?n:i(i({},n),{},o({},r,e[r]))}),{})}n.d(t,{Z:function(){return a}})},365217:function(e,t,n){"use strict";n.d(t,{P:function(){return a},t:function(){return s}});var r=n(311866),i=function(){};var o={complaint:function(e,t){r.ZP.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},followBoard:function(e,t){r.ZP.create("BoardFollowResource",e).callCreate().then((function(){return t()}))},followPinner:function(e,t){r.ZP.create("UserFollowResource",e).callCreate().then((function(){return t()}))},followTopic:function(e,t){r.ZP.create("InterestFollowResource",e).callCreate().then((function(){return t()}))},newsHubPinHide:function(e,t){r.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return t()}))},promotedComplaint:function(e,t){r.ZP.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},relatedPinHide:function(e,t){r.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return t()}))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){r.ZP.create("BoardFollowResource",e).callDelete().then((function(){return t()}))},unfollowPinner:function(e,t){r.ZP.create("UserFollowResource",e).callDelete().then((function(){return t()}))},unfollowTopic:function(e,t){r.ZP.create("InterestFollowResource",e).callDelete().then((function(){return t()}))},unrelatedSearchPin:function(e,t){r.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return t()}))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,r=o[e];return r?r(t,n):n()}},454217:function(e,t,n){"use strict";n.d(t,{yl:function(){return u},XZ:function(){return d},nb:function(){return p},EF:function(){return f}});var r=n(773559),i=n(365217),o=n(266750);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function u(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function p(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}t.ZP=function(e){var t=e.i18n,n=e.interpolateNamedTemplate;return{getLearnMoreUrl:function(e){switch(e){case 1:return r.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return r.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return r.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:function(e){var r=e.ad_match_reason,i=e.board,o=e.feedbackType,a=e.makeNavigateLink,s=e.pinner,l=e.promoter,u=e.recommendationReason,d=e.sourceInterest;switch(o){case"pfy":return t._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":var p=u.board,f=p.name,h=a("navigation",p.url,f);return n(t._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:h});case"topic":var _=d.name,y=d.url_name,v=a("topicUrl","/topics/".concat(y),_);return n(t._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:v});case"followed":var m="/".concat(s.username),g=a("boardUrl",i.url,c(i.name)),b=a("pinnerUrl",m,c(s.full_name));return s.explicitly_followed_by_me?n(t._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:b}):n(t._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:g});case"promoted":switch(r){case 1:case 2:case 3:return t._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:var E=l.full_name,O=l.username,I=a("promotedLink",O?"/"+O+"/":"/",E);return n(t._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:I})}default:return null}},getFeedbackType:function(e){var t=e.board,n=e.feedback,r=e.viewParameter,i=e.pin,o=i.promoter,a=i.is_downstream_promotion,s=i.recommendation_reason,l=e.pinner,c=n&&n.type;return o&&!a?"promoted":c||(function(e){return!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0}(s)?s.board?"pfyBoard":"pfy":s&&"FOLLOWED_INTEREST"===s.reason?"topic":t&&t.followed_by_me||l&&l.explicitly_followed_by_me?"followed":140===r||144===r||141===r||145===r||139===r||3173===r?"related":92===r?"default":3082===r?"newsHub":null)},getHidePinAction:function(e){var t,n,r=e.feedbackData,i=e.feedbackType,o=e.pinId,a=e.recommendationReasonId,l=e.pinFeedbackType,c=e.complaintReason,u=e.throughId,d=e.throughProperties,p=e.clientTrackingParams,f="promoted"===i;switch(i){case"promoted":t="promotedComplaint";break;case"search":t="unrelatedSearchPin";break;case"related":t="relatedPinHide";break;case"newsHub":t="newsHubPinHide";break;default:t="complaint"}switch(i){case"search":n={query:r.query,pin_id:o};break;case"related":n={pin:o};break;case"newsHub":n={pinId:o,newsId:r.newsId};break;default:n=s(s(s(s({complaint_reason:c||0,pin_id:o},a?{recommendation_reason_id:a}:{}),{},{feedback_type:l||1,promoted:f},u?{through_id:u}:{}),d?{through_properties:d}:{}),p?{client_tracking_params:p}:{})}return{action:t,actionOptions:n}},getUnfollowAction:function(e){var r=e.board,i=e.feedbackType,a=e.makeNavigateLink,s=e.pinner,l=e.sourceInterest;if("topic"===i){if(l){var c=l.id,u=l.name,d=l.url_name,p=a("topicUrl","/topics/".concat(d),u,!0),f=n(t._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:p});return{action:"unfollowTopic",actionOptions:{interest_id:c,interest_list:o.X},title:"",subTitle:f}}}else if("followed"===i&&r&&s){var h=r||{},_=h.id,y=h.name,v=h.url,m=s.explicitly_followed_by_me,g=s.full_name,b=s.username,E="/".concat(b),O=a("boardUrl",v,y,!0),I=a("pinnerUrl",E,g,!0);m?n(t._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:I,formattedBoard:O}):n(t._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:O});return{action:"unfollowBoard",actionOptions:{board_id:_},title:"",subTitle:m?n(t._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:I}):n(t._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:O})}}return null}}};var f=function(e,t,n,r,o,a,l){return function(){var c=s(s({},e),{},{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),(0,i.t)(u,c),a(n),l({event_type:101,component:0,element:11181,view_type:r,view_parameter:o})}}},953781:function(e,t,n){"use strict";function r(e,t){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";var n=e.images;if(!n)return"";if(t){var r="474x"===t&&n["474x"]||"236x"===t&&n["236x"]||n["736x"];if(r&&r.url)return r.url}var i=Object.keys(n).map((function(e){try{var t=e.split("x")[0];return Number.isNaN(Number(t))?(n[t]=n[e],t):e}catch(r){return""}}));i.sort();var o=i.pop();return n[o]&&n[o].url||""}n.d(t,{Z:function(){return r}})},726434:function(e,t,n){"use strict";function r(e){var t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:function(){return r}})},674245:function(e,t,n){"use strict";n.r(t);var r=n(384832),i=n(311866),o=n(773559),a=n(641483),s=n(658551),l=!1;t.default=function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",u=arguments.length>3?arguments[3]:void 0;u&&(0,a.dy)({event:"load_script_start",provider:"facebook"}),(0,s.c5)((0,r.Z)(c),s.Jg.FACEBOOK).then((function(){u&&(0,a.dy)({event:"load_script_success",provider:"facebook"});var r=window.FB;r?(l||(u&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),r.init({appId:o.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(function(){n()&&e((function(e){if(e.getUserID()){var t=e.getAccessToken();if(t)i.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),n)})),l=!0,window.fb_init=2),t(r)):u&&(0,a.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=1}},266750:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r="favorited"},73697:function(e,t,n){"use strict";n.d(t,{gP:function(){return c},Uv:function(){return u},KX:function(){return d},ZP:function(){return p}});var r=n(415401),i=n(174523),o=n(225643),a=n(946753),s=n(218265),l=n(80209);function c(e){var t=e.condition,n=(0,i.ZP)();switch(t){case o.ConditionType.USED:return n._("Used","closeup.product.condition_used","product condition that is used");case o.ConditionType.REFURBISHED:return n._("Refurbished","closeup.product.condition_refurbished","product condition that is refurbished");case o.ConditionType.NEW:default:return""}}function u(){return(0,i.ZP)()._("Free shipping","closeup.product.shipping","product shipping info")}function d(e){var t=e.freeShippingPrice,n=(0,i.ZP)();return(0,a.nk)(n._("Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{shippingPrice:t}).join("")}function p(e){var t=e.customStyles,n=e.freeShippingPrice,i=e.freeShippingValue,o=e.showPrevDot,a=e.condition,p=o?[""]:[],f=t||{},h=f.color,_=void 0===h?"gray":h,y=f.size,v=void 0===y?"md":y,m=c({condition:a});return m&&p.push(m),0===i?p.push((0,l.jsx)(u,{})):n&&p.push((0,l.jsx)(d,{freeShippingPrice:n})),0===p.length?null:(0,l.jsx)(s.xv,{color:_,size:v,children:(0,l.jsx)(r.Z,{color:_,items:p})})}},374897:function(e,t,n){"use strict";function r(e){var t=Object.keys(e);return t.length>0?t.sort((function(t,n){return e[n]-e[t]})).slice(0,3):null}function i(e){var t=Object.values(e);return t.length>0?t.reduce((function(e,t){return e+t}),0):0}function o(e,t){var n=e.videos,r=e.is_downstream_promotion,i=e.is_promoted,o=e.story_pin_data_id,a=e.board;return!(i||r||(!n||!n.id)&&!o||t||null!=a&&a.is_collaborative&&a.collaborated_by_me)}n.d(t,{At:function(){return r},Ud:function(){return i},J6:function(){return o}})},904192:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(793550),i=n(750249),o=n.n(i),a=n(218265),s=n(80209),l=function(e){var t=e.fill,n=(e.width,e.color,"half"===t?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===t?"darkGray":"gray",icon:"star",size:12}));return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:n})};function c(e){var t=e.max_rating,n=e.rating,i=e.width,a=e.color,c=[],u=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(t)||5,parseFloat(n)||0);if(Number.isNaN(u))return null;var d=Math.floor(u),p=u-d;return o()(d,(function(e){return c.push((0,s.jsx)(l,{color:a,fill:"full",width:i},e))})),p>=.75?c.push((0,s.jsx)(l,{color:a,fill:"full",width:i},c.length)):p>=.25&&c.push((0,s.jsx)(l,{color:a,fill:"half",width:i},c.length)),o()(5-c.length,(function(){return c.push((0,s.jsx)(l,{color:a,fill:"empty",width:i},c.length))})),(0,s.jsx)(r.Fragment,{children:c})}},979593:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=function(e){var t=e||{},n=t.thumbnail,r=t.url,i=t.width,o=t.height,a=t.duration;return n&&r&&i&&o&&{thumbnail:n,url:r,width:i,height:o,duration:a}||void 0}},469600:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(174523),i=n(218265),o=n(80209);function a(e){var t=e.height,n=e.rounding,a=e.width,s=(0,r.ZP)();return(0,o.jsx)(i.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:a,height:t,children:(0,o.jsxs)(i.kC,{direction:"column",alignItems:"center",children:[(0,o.jsx)(i.xu,{paddingY:4,children:(0,o.jsx)(i.JO,{accessibilityLabel:s._("Pin not available","story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel","Accessibility label on icon"),color:"darkGray",icon:"alert",size:20})}),(0,o.jsx)(i.xv,{weight:"bold",children:s._("Unavailable","story-pin.Closeup.UnavailableIdeaPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),(0,o.jsx)(i.xu,{paddingY:1,children:(0,o.jsx)(i.xv,{children:s._("Removed by the creator","story-pin.Closeup.UnavailableIdeaPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})}},760620:function(e,t){"use strict";var n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return n.test(e)}},204478:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"…":e}},537343:function(e,t,n){"use strict";n.d(t,{ZP:function(){return r}});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||i)t=e.substring(0,n);else{var o=e.lastIndexOf(" ",n);t=e.substring(0,o)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},354783:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))}n.d(t,{Z:function(){return r}})},988089:function(e,t,n){"use strict";var r=n(793550),i=n(218265),o=n(80209);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,a,s,p=d(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),_(f(t=p.call(this,e)),"state",{manualTruncate:!1}),t.ref=(0,r.createRef)(),t}return t=h,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.maxHeightPx,r=e.shaveOptions,i=void 0===r?{}:r,o=this.ref&&this.ref.current;if(o){var a=void 0===o.textContent?"innerText":"textContent",s=o[a];("boolean"!=typeof i.spaces||i.spaces?s.split(" "):s).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,961525)).then((function(e){(0,e.default)(o,t,i)}))}}},{key:"render",value:function(){var e=this.props,t=e.maxWidthPx,n=e.maxHeightPx,r=e.inline,a=void 0!==r&&r,s=this.state.manualTruncate,c={maxWidth:t,maxHeight:n},u=l(a?{display:"inline"}:{},c);return s?(0,o.jsx)(i.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:u},ref:this.ref,children:this.props.children}):(0,o.jsx)(i.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:u},children:this.props.children})}}])&&c(t.prototype,a),s&&c(t,s),h}(r.Component);t.Z=y},702922:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(218265),i=n(80209);function o(e){var t=e.ariaHidden,n=void 0!==t&&t,o=e.color,a=void 0===o?"darkGray":o,s=e.size;return(0,i.jsx)("span",{"aria-hidden":n,style:{padding:"0 4px"},children:(0,i.jsx)(r.xv,{color:a,inline:!0,size:null!=s?s:"md",children:"·"})})}},415401:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(793550),i=n(702922),o=n(218265),a=n(80209);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return null!=e}function u(e){var t=e.additionalPadding,n=e.color,l=void 0===n?"darkGray":n,u=e.inline,d=e.items,p=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(i.Z,{color:l})}):(0,a.jsx)(i.Z,{color:l}),f=d.filter(c).reduce((function(e,t,n){return[].concat(s(e),[0!==n?p:null,t])}),[]).filter(c).map((function(e,t){return(0,a.jsx)(r.Fragment,{children:e},t)}));return 0===f.length?null:u?(0,a.jsx)(o.xu,{children:f}):(0,a.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:f})}},477342:function(e,t,n){"use strict";function r(e){return e.filter((function(e){return e.is_stela}))}function i(e){return e.filter((function(e){return!!e.label}))}n.d(t,{k:function(){return r},m:function(){return i}})},526947:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return R},useRoleBasedAccessControlContext:function(){return A}});var r=n(793550),i=n(616627),o=n(535718),a=n(34411),s=n(181307),l=n(354783);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==h(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,l.Z)(r)]=t[r]:n[(0,l.Z)(r)]=e(t[r]));return n},y=function(e,t){var n=[];for(var r in e)r!==t&&n.push(p({id:r},_(e[r])));var i,o=n.sort((function(e,t){var n=e.user.businessName,r=t.user.businesName;return n.localeCompare(r)})),a=new Map,s=c(o);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.set(l.id,l)}}catch(u){s.e(u)}finally{s.f()}return a},v=n(652382);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},S=function(e,t){switch(t.type){case"LOAD_PROFILES":return E(E({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return E(E({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return E(E({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return E(E({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return E(E({},e),{},{disableProfileChanger:t.payload});default:return e}},x=function(e){var t=m((0,r.useReducer)(S,I),2),n=t[0],i=t[1],o=function(e){var t=e.dispatch,n=e.isEnabled,i=e.state,o=i.orbacVisibility,a=i.disableProfileChanger,s=i.headerVisible;return{changeProfile:(0,r.useCallback)((function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[n,t]),toggleORBACVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!o})}),[n,t,o]),toggleDisableProfileChanger:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})}),[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!s})}),[n,t,s])}}({dispatch:i,isEnabled:e,state:n}),a=n.activeProfile,s=n.orbacVisibility;return(0,r.useEffect)((function(){var e=(0,v.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,r.useEffect)((function(){var e=(0,v.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,r.useEffect)((function(){(0,v.Nh)("orbacVisibility",s)}),[s]),(0,r.useEffect)((function(){(0,v.Nh)("orbacActiveProfile",a)}),[a]),{state:n,actions:o,receiveProfiles:(0,r.useCallback)((function(e,t){i({type:"LOAD_PROFILES",payload:y(e,t)})}),[i])}},P=n(762803),w=n(80209),T=(0,P.js)("RoleBasedAccessControlContext"),j=T.Provider,A=T.useHook,R=function(e){var t=e.children,n=(0,s.tc)("web_m10n_business_access_orbac_www"),l=(0,a.Z)(),c=Boolean(l.isAuth&&l.isPartner&&n().anyEnabled),u=x(c),d=u.state,p=u.actions,f=u.receiveProfiles,h=d.activeProfile,_=d.headerVisible,y=d.profiles,v=void 0===y?[]:y,m=v?Array.from(v.values()):[],g=(0,i.Z)(m),b=!!(l.isAuth&&m.length>0)&&g,E=l.isAuth?l.id:"",O=l.isAuth?l.username:"",I=p.changeProfile,S=p.toggleORBACVisibility,P=p.toggleDisableProfileChanger,T=p.toggleHeaderVisibility;(0,r.useEffect)((function(){c&&("string"!=typeof g?h||I(E):I(g))}),[g,E,c,I,h]),(0,r.useEffect)((function(){c&&(b&&!_&&T(!0),!b&&_&&T(!1))}),[T,b,c,_,v]);var A,R=(0,o.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!c}).data,C=null==R?void 0:R.profiles;l&&l.isAuth&&d.activeProfile===l.id?A={id:l.id,permissions:["OWNER"],user:{username:O,businessName:l.fullName,imgUrl:l.imageSmallUrl}}:h&&d.profiles&&(A=d.profiles.get(h)),(0,r.useEffect)((function(){C&&f(C,E)}),[f,C,E]);var D=d.profiles?Array.from(d.profiles.values()):[];return(0,w.jsx)(j,{value:{profiles:D,headerVisible:d.headerVisible,activeProfile:A,changeProfile:I,toggleORBACVisibility:S,toggleDisableProfileChanger:P,toggleHeaderVisibility:T},children:t})}},767523:function(e,t,n){"use strict";var r=n(181307),i=n(526947);t.Z=function(){var e=(0,r.tc)("web_m10n_business_access_orbac_www"),t=((0,i.useRoleBasedAccessControlContext)()||{}).activeProfile;return e().anyEnabled&&t||Object.freeze({})}},616627:function(e,t,n){"use strict";var r=n(575429),i=n(34411),o=n(181307),a=n(382745),s=n(272828);t.Z=function(e){var t,n=(0,s.TH)(),l=(0,i.Z)(),c=(0,o.tc)("web_m10n_business_access_orbac_beta")().anyEnabled,u=(0,s.$B)("/:username"),d=null==u||null===(t=u.params)||void 0===t?void 0:t.username,p=(0,s.$B)("/pin/:id"),f=(0,r.useSelector)((function(e){var t,n,r,i;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(r=n[p.params.id])||void 0===r||null===(i=r.pinner)||void 0===i?void 0:i.id)}));if((0,a.ej)(n))return!1;if((0,a.RU)(n))return!0;if((0,a.mY)(n))return c;var h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((function(e){var t=e||{},n=t.user,r=void 0===n?{}:n,i=t.id,o=r.username;return!!(o&&d||f&&i)&&(o===d||f===i)}));return!!h&&h.id}},159276:function(e,t,n){"use strict";n.d(t,{Ms:function(){return r},lJ:function(){return i},q6:function(){return o},D3:function(){return a},KY:function(){return s},N1:function(){return l}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},o=function(e,t,n){var r=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!r},a=function(e,t,n){var r=o(e,t,n)||e&&e.isAuth&&t===e.id;return!!r},s=function(e,t,n){var r=t&&t.owner&&t.owner.id||"";return a(e,r,n)};function l(e,t,n){var r=t?t.id:"";return a(e,r,n)}},217900:function(e,t,n){var r=n(512953),i=n(811516);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},512953:function(e,t,n){var r=n(464247),i=n(59272),o=n(853275);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&i(l,o(c,e),u)}return l}},59272:function(e,t,n){var r=n(324531),i=n(853275),o=n(550996),a=n(270755),s=n(284918);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=i(t,e)).length,d=u-1,p=e;null!=p&&++c<u;){var f=s(t[c]),h=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=d){var _=p[f];void 0===(h=l?l(_,f,p):void 0)&&(h=a(_)?_:o(t[c+1])?[]:{})}r(p,f,h),p=p[f]}return e}},114540:function(e,t,n){var r=n(856862);e.exports=function(e){return"function"==typeof e?e:r}},809130:function(e,t,n){var r=n(713406),i=n(202686),o=n(319782);e.exports=function(e){return o(i(e,void 0,r),e+"")}},713406:function(e,t,n){var r=n(666174);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},4495:function(e,t,n){var r=n(217900),i=n(809130)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},750249:function(e,t,n){var r=n(372912),i=n(114540),o=n(408668),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>9007199254740991)return[];var n=a,l=s(e,a);t=i(t),e-=a;for(var c=r(l,t);++n<e;)t(n);return c}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/10582-fa8eec2b1f6af883.js.map