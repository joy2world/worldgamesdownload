(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63543,51798,29522,39395,28689,58789,36110,25643,47966,884,92663,2730,10582,75796,69039,21632,94460],{6657:function(e){e.exports="https://s.pinimg.com/webapp/etsy-a4c92d17.png"},76567:function(e){e.exports="https://s.pinimg.com/webapp/magento-c7190a43.png"},672440:function(e){e.exports="https://s.pinimg.com/webapp/open_cart-a6aac483.png"},581300:function(e){e.exports="https://s.pinimg.com/webapp/presta_shop-98da9612.png"},742682:function(e){e.exports="https://s.pinimg.com/webapp/shopify-8ffb9380.png"},849639:function(e){e.exports="https://s.pinimg.com/webapp/squarespace_commerce-79eb2cbc.png"},180415:function(e){e.exports="https://s.pinimg.com/webapp/wix_stores-eebf49ec.png"},676868:function(e){e.exports="https://s.pinimg.com/webapp/woo_commerce-ea615f34.png"},844733:function(e){e.exports="https://s.pinimg.com/webapp/zen_cart-6d07ccae.png"},20877:function(e){e.exports="https://s.pinimg.com/webapp/cropper-fb5d0473.png"},954981:function(e){e.exports="https://s.pinimg.com/webapp/logo-7f5cc1ae.png"},707683:function(e){e.exports="https://s.pinimg.com/webapp/pin-a407120e.png"},32023:function(e){e.exports="https://s.pinimg.com/webapp/onboarding_multiPin-400ce8d9.png"},378869:function(e){e.exports="https://s.pinimg.com/webapp/examplePins_01-3c400e5c.png"},784591:function(e){e.exports="https://s.pinimg.com/webapp/examplePins_02-1b06bf7a.png"},24852:function(e){e.exports="https://s.pinimg.com/webapp/examplePins_03-4756334c.png"},226420:function(e){e.exports="https://s.pinimg.com/webapp/examplePins_04-c66ec495.png"},85251:function(e){e.exports="https://s.pinimg.com/webapp/examplePins_05-f1db39d2.png"},55413:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},488242:function(e){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},863986:function(e){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},680143:function(e){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},284762:function(e){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},225643:function(e){e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,BROKEN_URL:5,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,IMAGE_QUALITY:18,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,INAUTHENTIC_PHOTOS:24,NO_VIOLATION:25,MISCELLANEOUS:26,DOMAIN_TOOLS_SCORE:27,INACTIVE_FEED:33,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:function(e){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},445922:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/create/[method]"]=function(){return n(299562).Z}},574037:function(e,t,n){"use strict";var r,o=n(484898),i=n(799881),a=n(966427),c="data-pinterest-extension-installed",s={},l={};l[a.o.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},l[a.o.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},l[a.o.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!0},l[a.o.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},l[a.o.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},l[a.o.EDGE]={url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0},s.handleExtensionInstall=function(e){var t,n=(t=o.Z.getBrowser())?l[t].url:void 0;n&&((0,i.Z)(n,function(){var e=o.Z.getBrowser();return e?l[e].newWindow:void 0}()),e())},s.isExtensionInstalled=function(){return r},s.isChrome=function(){return o.Z.getBrowser()===a.o.CHROME},s.isBrowserExtensionSupported=function(){return o.Z.isChrome()||o.Z.isFirefox()||o.Z.isEdge()},s.extensionReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise((function(t){setTimeout((function(){document.body&&(r=document.body.hasAttribute(c),s.isBrowserExtensionSupported()||(r=!0),t(r))}),e)}))},s.initBrowserExtension=function(){Promise.resolve().then(n.bind(n,612657)).then((function(e){var t=e.default;t.logToServer(t.SERVER_LOG_TYPE.BROWSER_EXTENSION,t.HTTP_METHOD.POST,{browser_extension_installed:r})}))},t.Z=s},735588:function(e,t,n){"use strict";n.d(t,{$Y:function(){return s},X_:function(){return u},vF:function(){return p},h_:function(){return f},x3:function(){return h},As:function(){return b},Ed:function(){return m}});var r=n(731164),o=n(549135);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n,o=Boolean(t&&t.isAuth),i=Boolean(t&&t.unifiedSignup),a=t&&t.country;t&&((n=t).source&&n.source.utmPartner&&"partneracquisition"===n.source.utmPartner)?r.Z.increment(e,1,{app_type:"web",is_paid:!0,paid_source:t.source.utmSource,is_auth:o,unified_signup:i}):r.Z.increment(e,1,{app_type:"web",is_auth:o,unified_signup:i,country:a})},l=function(e,t){var n="client.partner.quick_promote_button.".concat(e);r.Z.increment(n,1,{app_type:"web",location:t})},u=function(e){e&&e.utm_campaign&&r.Z.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a({component:t,element:10148,view:n},r);(0,o.j)(e,i)},p=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};l(e,t),d(n,r,o,i)},f=function(){(0,o.j)(8217)},h=function(){r.Z.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},b=function(){r.Z.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},m=function(e){var t="client.partner.biz_nux_v2.render.".concat(e);r.Z.increment(t,1,{app_type:"web"})}},560133:function(e,t,n){"use strict";n.d(t,{nn:function(){return i},Gy:function(){return a},i8:function(){return c},RR:function(){return s},qN:function(){return l},SP:function(){return u},Uz:function(){return d},QY:function(){return p}});var r=n(923103),o=n.n(r),i=function(e){return!!e&&(e.shopping_flags||[]).includes(2)},a=function(e){var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},c=function(e){var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},s=function(e){var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},l=function(e){return e.is_oos_product},u=function(e){return e.is_stale_product},d=function(e){return l(e)||u(e)},p=function(e){var t=o()(e,"link_domain.official_user.full_name");if(t)return t;var n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain)return"Uploaded by user"===e.domain?((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name:e.domain;var r=o()(e,"via_pinner.full_name");return e.is_repin&&r?r:void 0}},418102:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,{eE:function(){return d}});var a=0,c=function(){function e(t,n,o){r(this,e),this.pubsub=t,this.target=n,this.subscriberOptions=o,this.topics={}}return i(e,[{key:"publish",value:function(e,t,n){return n?this.getHandler()(this.target,e,t,n):this.getHandler()(this.target,e,t),this}},{key:"subscribe",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.getChannel().addSubscriber(this,n),n.forEach((function(t){e.topics[t]=!0})),this}},{key:"unsubscribe",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length&&(n=this.getTopics()),n.forEach((function(t){return delete e.topics[t]})),this.getChannel().removeSubscriber(this,n),this}},{key:"getChannel",value:function(){return this.pubsub.getChannel(this.target)}},{key:"getHandler",value:function(){return this.subscriberOptions.handler}},{key:"getId",value:function(){return this.id||(this.id=a,a+=1),this.id}},{key:"getTopics",value:function(){return Object.keys(this.topics)}}]),e}(),s=function(){function e(t,n){r(this,e),this.pubsub=t,this.target=n,this.subscribers=[],this.filters={},this.messages={}}return i(e,[{key:"addSubscriber",value:function(e,t){var n=this,r=e.getId();return this.subscribers[r]=e,t.forEach((function(t){n.filters[t]||(n.filters[t]={}),n.filters[t][r]||(n.filters[t][r]=e)})),e}},{key:"removeSubscriber",value:function(e,t){var n=this,r=e.getId();t.forEach((function(e){n.filters[e]&&delete n.filters[e][r]})),this.subscribers.length<1&&this.pubsub.clearChannel(this.target)}},{key:"publish",value:function(e,t){Object.values(this.filters[e]||{}).forEach((function(n){n.publish(e,t)})),"*"!==e&&this.publish("*",t),this.messages[e]=t}},{key:"unsubscribeAll",value:function(){this.subscribers.forEach((function(e){e.unsubscribe()}))}}]),e}(),l=function(){function e(t){r(this,e),this.ns=t,this.channels={}}return i(e,[{key:"_subscribe",value:function(e,t,n){var r=new c(this,e,{handler:n});return r.subscribe(t),r}},{key:"subscribe",value:function(e,t,n){return this._subscribe(e,t,n)}},{key:"publish",value:function(e,t,n){this.getChannel(e).publish(t,n)}},{key:"getChannel",value:function(e){return this.channels[e]||(this.channels[e]=new s(this,e)),this.channels[e]}},{key:"clearChannel",value:function(e){var t=this.channels[e];t&&(t.unsubscribeAll(),delete this.channels[e])}}]),e}(),u={Subscriber:c,Channel:s,instance:new l("local")},d=u.instance;t.ZP=u},295190:function(e,t,n){"use strict";n.r(t);var r=n(296882),o=n(773432),i=n(737614),a=n(230457),c=n(674245),s=n(185062),l=n(4495),u=n.n(l),d=n(311866);var p={open:function(e){var t=u()(e,p._validParams),n=p._getDialogType(e),i=p.generateFbRef(),l=e.object_type&&e.object_id&&"feed"===n,f=(0,r.Z)(e.path),h=(0,s.Z)();if(h.ptrf&&(f=(0,o.Z)(f,{ptrf:h.ptrf})),l&&(f=(0,o.Z)(f,{fb_ref:i})),t.method=n,"feed"===t.method){var b=p.getWindowOptions(e.width||580,e.height||400),m="http://www.facebook.com/sharer/sharer.php?u="+f;t.picture&&(m+="&picture="+t.picture),t.name&&(m+="&title="+t.name),t.description&&(m+="&description="+t.description),t.caption&&(m+="&caption="+t.caption),window.open(encodeURI(m),"sharer",b)}else"send"===t.method?t.link=f:"share"===t.method&&(t.href=f),(0,c.default)((function(n){n.getLoginStatus((function(){if("send"===t.method){n.ui(t);var r,o=10,a=setInterval((function(){!(r=function(){if(document){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1){var r=t[n].parentNode;r&&r.removeChild(t[n])}return e[0]}}}())&&o||(clearInterval(a),r&&p.executeMessengerCallback(r,e.callback)),o-=1}),1e3)}else"share"===t.method&&n.ui(t,(function(t){l&&t&&!t.error_message&&d.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:i}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),a.Z)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function(e,t){var n=10,r=setInterval((function(){"0px"!==e.style.width&&n||(clearInterval(r),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef:function(){for(var e="";e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return i.Z.instance.unauth_id+":"+e},_getDialogType:function(e){return p._validOptions.includes(e.type)?e.type:"feed"},getWindowOptions:function(e,t){var n=e||580,r=t||400,o=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+r+",left="+Math.round((o-n)/2)+",top="+(i>r?Math.round((i-r)/2):0)}};t.default=p},181821:function(e,t,n){"use strict";var r={get:function(e){var t="gplus";n.e(44232).then(n.bind(n,921539)).then((function(n){var r=n.default;r.load([],"https://apis.google.com/js/client:platform.js",t),r.ready(t,(function(){e(window.gapi)}))}))}};t.Z=r},659048:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(295190),o=n(296882),i=n(773432),a=n(454690),c=n(447186),s={};s.open=function(e,t,n){var r=function(e,t){var n=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(r>t?Math.round((r-t)/2):0)}(t,n);window.open(e,void 0,r)},s.shrinkWrap=function(){var e,t,n,r;e=!1,t=document.documentElement,n=t?t.scrollWidth-t.clientWidth:0,r=t?t.scrollHeight-t.clientHeight:0,e&&(n=Math.max(n,0),r=Math.max(r,0)),c.Z.isAuthenticated()||(r=340),window.resizeBy(n,r)};var l=s,u={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){a.Z.trackEvent("share_line","click");var t=u._getWindowUrl(e.share_path,e.share_text);l.open(t,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,i.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,o.Z)(e):void 0,text:t})}},d=u,p={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){a.Z.trackEvent("share_reddit","click");var t=p._getWindowUrl(e.share_path,e.share_text);l.open(t,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,i.Z)("https://www.reddit.com/submit?url=",{url:e?(0,o.Z)(e):void 0,title:t})}},f=p,h=n(311866),b={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){var t=e.ga_category||"share_twitter";a.Z.trackEvent(t,"click");var n=b._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,b.DIALOG_WIDTH,b.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,i.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,o.Z)(e):void 0,text:t||void 0})}},m=b,g={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t){var n=this._convertToInviteObject(e.object_type),r=e.invite_channel,o=null==e.invite_category?3:e.invite_category,i=e.object_id;return h.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:r},invite_code:t,object_id:i}).callCreate()},createAndLogShareInvite:function(e){return g.createShareInviteData(e).then((function(t){return g._logShareInvite(e,t.invite_code),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},createShareInviteData:function(e){var t=this._convertToInviteObject(e.object_type),n=e.invite_channel,r=null==e.invite_category?3:e.invite_category;if(10===r&&e.path)return h.ZP.create("ShareLinkResource",{invite_category:r,url:e.path}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}));var o=e.object_id;return h.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:r,invite_object:t,invite_channel:n},object_id:o}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}))},logShareInvite:function(e,t){t&&g._logShareInvite(e,t.invite_code)},shareFacebookInvite:function(e){return g.createShareInviteData(e).then((function(t){var n=t.invite_url,o=t.invite_code;return n&&r.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback:function(t){t&&!t.error_message&&g._logShareInvite(e,o)}}),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},shareTwitterInvite:function(e){var t=this._convertToInviteObject(e.object_type);return g.createShareInviteData(e).then((function(n){var r=n.invite_url,o=n.invite_code,i=e.description;return 6===t&&e.name&&(i=e.name),r&&m.openDialog({tweet_path:r,tweet_text:i}),g._logShareInvite(e,o),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},shareRedditInvite:function(e){return g.createShareInviteData(e).then((function(t){var n=t.invite_url,r=t.invite_code;return n&&f.openDialog({share_path:n,share_text:e.description}),g._logShareInvite(e,r),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},shareLineInvite:function(e){var t=this._convertToInviteObject(e.object_type);return g.createShareInviteData(e).then((function(n){var r=n.invite_url,o=n.invite_code,i=e.description;return 6===t&&e.name&&(i=e.name),i||(i=n.title),r&&d.openDialog({share_path:r,share_text:i}),g._logShareInvite(e,o),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},shareFbMessengerInvite:function(e){return g.createShareInviteData(e).then((function(t){var n=t.invite_url,o=t.invite_code;return n&&r.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback:function(t){t&&t.success&&g._logShareInvite(e,o)}}),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))}},y=g},525974:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(295190),o=n(311866),i=n(627578),a=n(230457),c=n(181821),s=n(282152),l=n(233495),u=n(928940),d=n(641483);var p;function f(){}Object.assign(f.prototype,{optionsForNetwork:{},connect:function(e,t,r){var o=this;t=Object.assign({},{success:function(){},error:function(){},complete:function(){}},t),(0,d.ZP)("auth_web.social_connect.".concat(e,".").concat((0,s.Z)())),t.rerequest_facebook_email?Promise.resolve().then(n.bind(n,674245)).then((function(e){(0,e.default)((function(e){e.login((function(e){var n,r,o=e.authResponse;o&&(n=(n=o.grantedScopes)?n.split(","):[],r=o.userID);var i=n.find((function(e){return"email"===e})),a={id:r};"connected"===e.status&&i?t.success(a):t.error(a),t.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),a.Z)})):"gplus"===e||"google"===e?c.Z.get((function(e){(0,l.Z)().then((function(){e.auth2.getAuthInstance().grantOfflineAccess().then((function(e){t.success({one_time_code:e.code,redirect_uri:"postmessage"})})).catch((function(e){t.error(e)}))}))})):Promise.resolve().then(n.bind(n,295190)).then((function(n){var a=n.default,c=t.windowOptions||a.getWindowOptions(),s=window.open("/connect/"+e+"/","",c);if(!s)return i.Z.showError(r._("You must enable popups!"," - "," -- ")),void t.error({network:e,alertedUpstream:!0});var l,d,p,f=u.Z.setInterval((function(){s.closed&&(clearInterval(f),o.handleComplete({network:e,error_message:"Window closed."}))}),1e3);o.optionsForNetwork=Object.assign(o.optionsForNetwork,(p=t,(d=e)in(l={})?Object.defineProperty(l,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[d]=p,l))}))},complete:function(e){this.handleComplete(e)},handleComplete:function(e){var t=e.network;if("facebook"===t){var n=e.id;n&&"string"!=typeof n&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){var r=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?r.error(e):r.success(e),r.complete()}}}),Object.assign(f,{instance:function(){return p||(p=new f),p}}),window.addEventListener("message",(function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&f.instance().complete(e.data)}));var h=f,b=n(584489),m=n(447186),g=n(301314),y=n(912397);function v(){}Object.assign(v.prototype,{handleConnect:function(e,t,n,o){if(t&&!m.Z.isLimitedLogin()){var i={success:function(r){var o={network:e,data:r};this._internalConnectNetwork(t,o,n)}.bind(this),error:function(e){n.error&&n.error(e)},complete:function(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?i.windowOptions="width=600,height=800":"instagram"===e?i.windowOptions=r.default.getWindowOptions(580,580):"etsy"===e?i.windowOptions=r.default.getWindowOptions(580,775):"youtube"===e&&(i.windowOptions=r.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,i,o)}else{var a={network:e};this._internalConnectNetwork(t,a,n)}},updateConnectStatus:function(){var e={user_id:m.Z.get("id"),username:m.Z.get("username"),field_set_key:"social_connect"};b.Z.instance.dispatch((0,g.jB)("UserResource",e)),o.ZP.create("UserResource",e).callGet().then((function(e){var t,n=null===(t=e.resource_response)||void 0===t?void 0:t.data;m.Z.set(n)}))},_externalConnectNetwork:function(e,t,n,r){t?h.instance().connect(e,n,r):n.success&&n.success({})},_internalConnectNetwork:function(e,t,n){var r=this,i=o.ZP.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then((function(e){r.updateConnectStatus(),n.success&&n.success(e)}),(function(e){n.error&&e instanceof Object&&n.error(e)})).finally((function(){n.complete&&n.complete()}))},_getResourceNameForNetworkFriends:function(e){var t=null;switch(e){case y.vq:t="UserFacebookFriendsResource";break;case y.Ib:t="UserTwitterFriendsResource";break;case y.Tr:t="UserGmailFriendsResource";break;case y.lA:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends:function(e,t){var n=this,r=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(i){var a=o.ZP.create(i,r);a.callGet({showError:!1}).then((function(){var e=t.success;e&&e(a)}),(function(r){if(110===r.api_error_code)u.Z.setTimeout((function(){n.pollForFriends(e,t)}),1e3);else{var o=t.error;o&&o()}}))}}});var x=null;v.instance=function(){return x||(x=new v),x};var I=v},278891:function(e,t,n){"use strict";var r=n(773432),o=n(661966);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},l=function(e){var t={};return e&&(t={objectiveTypes:[e]}),t},u={overview:function(){return"/"},reporting:function(e){var t=e.objectiveType||null;delete e.objectiveType;var n=a(a({},e),l(t));return(0,r.Z)("/reporting/campaigns/",n)},reportingAdGroup:function(e){var t=e.campaignId,n=e.objectiveType,o=e.showAllEntities,i=e.adGroupId,c=e.message,u=i?{adGroupIds:[i]}:{},d=a(a(a(a({campaignIds:[t]},o?s:{}),l(n)),u),{},{message:c});return(0,r.Z)("/reporting/adgroups/",d)},campaign:function(e){var t=e.id,n=e.objectiveType;return(0,r.Z)("/reporting/adgroups/",a({campaignIds:[t]},l(n)))},editCampaign:function(e){return u.editV2({campaignId:e.id,view:"campaign"})},adgroup:function(e){var t=e.id,n=e.objectiveType,o=e.showAllEntities,i=e.pinPromotionId,c=e.campaignId;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,r.Z)("/reporting/productgroups/",a({adGroupIds:[t]},l(n)));var u=o?s:{},d=c?{campaignIds:[c]}:{},p=i?{pinPromotionIds:[i]}:{};return(0,r.Z)("/reporting/ads/",a(a(a(a({adGroupIds:[t]},l(n)),u),p),d))},editAdGroup:function(e){return u.editV2({adGroupId:e.id,view:"adgroup"})},pinPromotion:function(e){var t=e.id,n=e.adFilter,o=n?{adFilter:n}:{};return(0,r.Z)("/reporting/ads/",a({pinPromotionIds:[t]},o))},editPinPromotion:function(e){var t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2(a(a({adGroupId:e.adGroupId,view:"ad"},n),t))},productGroup:function(e){var t=e.id,n=e.name;return(0,r.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:function(){return"/reporting/campaigns/"},adgroups:function(){return"/reporting/adgroups/"},ads:function(){return"/reporting/ads/"},productgroups:function(){return"/reporting/productgroups/"},campaignNegativeKeywords:function(){return"/reporting/campaignNegativeKeywords/"},campaignSearchQueries:function(){return"/reporting/campaignSearchQueries/"},adGroupNegativeKeywords:function(){return"/reporting/adGroupNegativeKeywords/"},adGroupPositiveKeywords:function(){return"/reporting/adGroupPositiveKeywords/"},adGroupSearchQueries:function(){return"/reporting/adGroupSearchQueries/"},ad:function(e){return u.pinPromotion(e)},create:function(e){var t=e.campaignId,n=e.objectiveType,o=e.partialCreate,i=e.catalogsFeedId,a={};return t&&o&&(a.campaignId=t),n&&(a.objectiveType=n),"CATALOG_SALES"===n&&i&&(a.catalogsFeedId=i),(0,r.Z)("/ads/create/",a)},editV2:function(e){return(0,r.Z)("/ads/edit/",e)},duplicateCampaign:function(e){return(0,r.Z)("/ads/duplicate/",e)},audiences:function(){return"/audiences/"},billing:function(e){var t=e.page,n=e.subSection,i=e.nextStepUrl;switch(t){case o.kM.BILLING_HISTORY:return"/billing/history/";case o.kM.ORDER_LINES:return"/billing/order_lines/";case o.kM.PROMOTIONS:return"/billing/promotions/";case o.kM.DOCUMENTS:return"/billing/documents/";default:var a={};return n&&(a.section=n),i&&(a.next_step_link_url=i),(0,r.Z)("/billing/",a)}},bulk:function(e){var t=e||{},n=t.subSection,i=t.page,a=t.jobStarted;switch(i){case o.fm.UPLOAD_TEMPLATE:return(0,r.Z)("/bulk_editor/upload_template/",{section:n});case o.fm.DOWNLOAD_TEMPLATE:return(0,r.Z)("/bulk_editor/download_template/",{section:n});case o.fm.HISTORY:return(0,r.Z)("/bulk_editor/history/",{section:n,job_started:a});case o.fm.RESOURCES:return(0,r.Z)("/bulk_editor/resources/",{section:n});default:return"/bulk_editor/"}},history:function(e){return(0,r.Z)("/history/",e)},shopping:function(e){return u.reporting(l("TEMPORARY_SHOPPING"))},pinterest_tag:function(e){var t=e.page,n=e.subSection,i=e.platform,a=e.tagId;switch(t){case o.qp.PINTEREST_TAG:return(0,r.Z)("/conversions/tag/",{subPage:n,platform:i});case o.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case o.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case o.qp.PINTEREST_TAG_HISTORY:return(0,r.Z)("/conversions/tag-history/",a?{tagId:a}:{});case o.qp.CONVERSION_UPLOAD:return(0,r.Z)("/conversions/upload/",{subPage:n});case o.qp.UPLOAD_HISTORY:return(0,r.Z)("/conversions/history/",{subPage:n});case o.qp.PCA_UPLOAD_HISTORY:return(0,r.Z)("/conversions/pca_history/",{subPage:n});case o.qp.PCA_UPLOAD:return(0,r.Z)("/conversions/pca_upload/",{subPage:n});default:return"/conversions/tag/"}},"pin-builder":function(e){return(0,r.Z)("/pin-builder/",e)},purchases:function(){return u.reporting(l("PURCHASE"))},awareness_reserved:function(){return u.reporting(l("IMPRESSION"))},engagement:function(){return u.reporting(l("BILLABLE_ENGAGEMENT"))},videos:function(){return u.reporting(l("TEMPORARY_BIDDED_CPM_VIDEO"))},videos_reserved:function(){return u.reporting(l("TEMPORARY_IMPRESSION_VIDEO"))},videos_cpv:function(){return u.reporting(l("TEMPORARY_MRC_CPV_VIDEO"))},conversions:function(){return u.reporting(l("WEB_CONVERSION"))},accounts_manager:function(){return"/accounts_manager/"},reporting_preferences:function(e){return(0,r.Z)("/reporting/preferences/",e)},report_builder:function(e){return(0,r.Z)("/report-center/builder/",e)},report_history:function(){return"/report-center/history/"},report_unsubscribe:function(e){return(0,r.Z)("/report-center/unsubscribe/",e)},report_download:function(e){return(0,r.Z)("/report-center/download/",e)},media_planner:function(){return"/media_planner/"},awareness:function(){return u.reporting(l("AWARENESS"))},traffic:function(){return u.reporting(l("TRAFFIC"))},app_installs:function(){return u.reporting(l("APP_INSTALL"))},catalog_sales:function(){return u.reporting(l("CATALOG_SALES"))},web_conversion:function(){return u.reporting(l("WEB_CONVERSION"))},video_view:function(){return u.reporting(l("VIDEO_VIEW"))},quick_promote:function(){return"/quick-promote/"},quick_promote_on_www:function(){return"/advertiser/quick-promote/"},recommendations:function(){return"/recommendations/"}};t.Z=u},895507:function(e,t,n){"use strict";var r=n(296882),o=n(542756),i=n(278891),a=n(584489),c=n(773559),s={getAdvertiserId:function(e){var t=null;if(e&&(t=e.advertiserId||null),!t&&a.Z&&a.Z.instance){var n=a.Z.instance.getState();n.advertiser&&(t=n.advertiser.id)}return t},getSterlingURL:function(e,t){if(!i.Z[e])throw new Error("unknown url key: ".concat(e));t||(t={});var n=i.Z[e](t),o=s.getAdvertiserId(t);return"string"==typeof o&&(n="/advertiser/"+o+n),!!t.absolutify&&(n=(0,r.Z)(n,void 0,c.Z.settings.ADS_DOMAIN)),n},micro_bid_to_display:function(e){return e/1e6},url_format:function(e,t){var n="";if(e&&(n=e,t)){var r="/advertiser/",i=(0,o.Z)(e,!0).hostname,a=c.Z.settings,s=a.ADS_DOMAIN,l=a.ADS_SITE_URL;null!==i&&i!==s||(e.startsWith(l)&&(e=e.replace(l,"")),n=e.startsWith(r)?e:r+t+e)}return n}};t.Z=s},447186:function(e,t,n){"use strict";var r=n(85038),o=n(799881),i=n(737614),a=n(730762),c=n(241933),s=n(311866),l=n(233088),u=n(773559),d=n(804652),p=n(641483),f=n(858875);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="attributes")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,m,g;return t=e,(m=[{key:"get",value:function(e){return e in this.attributes?this.attributes[e]:void 0}},{key:"set",value:function(e,t){"object"===h(e)?Object.assign(this.attributes,e):this.attributes[e]=t}},{key:"isAuthenticated",value:function(){return!!i.Z.instance.is_authenticated}},{key:"isLimitedLogin",value:function(){return!!this.attributes.login_state&&2===this.attributes.login_state}},{key:"attemptCrossDomainAutologin",value:function(){-1===u.Z.settings.CORS_HANDSHAKE_DOMAINS.indexOf(window.location.origin)||r.U2(f.x3)||n.e(12749).then(n.bind(n,697974)).then((function(e){(0,e.verifyLoggedInStatus)(i.Z.instance.unauth_id)}))}},{key:"flushContextLogs",value:function(){c.Z.pause(),a.Z.getInstance().flushEvents(void 0,void 0)}},{key:"logoutWithOptions",value:function(e,t,n){return(0,p.yl)(!0),this.flushContextLogs(),s.ZP.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((function(){(0,p.tj)("logout",{tags:{app:7===i.Z.instance.app_type_detailed?"windows_desktop":"web_denzel",reason:"user_initiated",source:t}}),l.ZP.sessionStorage.clear(),l.ZP.localStorage.clear(),r.t8(f.e7,"True",(0,r.kZ)(f.e7))})).then((function(){return(0,d.D)("logoutWithOptions")})).then((function(){if(n)for(var t in n)l.ZP.localStorage.setItem(t,n[t]);null!==e&&(0,o.Z)(e)}))}},{key:"isWriteBanned",value:function(){if(this.attributes.nags&&Array.isArray(this.attributes.nags)){var e=this.attributes.nags;return e.length>0&&"write_banned"===e[0].type}return!1}}])&&b(t.prototype,m),g&&b(t,g),e}();t.Z=new m},635691:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var r=n(85038),o=n(731164),i=n(311866),a=n(447186),c=n(858875),s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer:function(e,t,n){r.t8(c.L9.name,"allowed",8760,"/"),t&&t(),o.Z.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});var a=e.subscriptionId;if(!a){var s=e.endpoint.split("/");a=s[s.length-1]}return i.ZP.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((function(t){var n=t.resource_response.data;if(!(a in n)){var r={registration_id:a,subscription_endpoint:e.endpoint};return i.ZP.create("WebPushDeviceResource",r).callCreate()}}))},subscribe:function(e,t,n){var i=this;return o.Z.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then((function(a){var s;null==a||null===(s=a.pushManager)||void 0===s||s.subscribe({userVisibleOnly:!0}).then((function(t){return i.sendSubscriptionToServer(t,e,n)}),(function(i){"Notification"in window&&"denied"!==Notification.permission?(r.t8(c.L9.name,"dismissed",8760,"/"),t&&t(),o.Z.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(r.t8(c.L9.name,"denied",8760,"/"),e&&e(),o.Z.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))}))})).catch((function(){}))},initializeState:function(){var e=this;if(a.Z.isLimitedLogin())r.t8(c.L9.name,"denied",8760,"/");else if(a.Z.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){if(t)return e.sendSubscriptionToServer(t);throw r.t8(c.L9.name,"none",8760,"/"),new Error})).catch((function(e){}));r.t8(c.L9.name,"denied",8760,"/")}else r.t8(c.L9.name,"denied",8760,"/");else r.t8(c.L9.name,"denied",8760,"/");else r.t8(c.L9.name,"denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",(function(){"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((function(){s.instance().initializeState()})).catch((function(){}))}));var l=function(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}};t.Z=s},769122:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(862371);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{execution:"sequential"},n=t.execution,o=e.reduce((function(e,t){var o=e.combinedTransitions,a=e.totalDelay,c=t.delay||0,s="sequential"===n?a+c:t.delay;return{combinedTransitions:0===o.length?(0,r.Z)(t):"".concat(o,", ").concat((0,r.Z)(i(i({},t),{},{delay:s}))),totalDelay:a+c}}),{combinedTransitions:"",totalDelay:0});return o.combinedTransitions}},862371:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r={instant:85,short:250,medium:420,semiLong:500,long:800},o={easeIn:"0.9, 0.025, 0.75, 0.625",easeOut:"0.25, 0.375, 0.1, 0.975",easeInOut:"0.66, 0.025, 0.33, 0.975",linear:"0.5, 0.5, 1.0, 1.0",spring:"1, 100, 17, 8"};function i(e){var t=e.property,n=e.duration,i=e.timingFunction,a=e.delay,c=a?" ".concat(a,"ms"):"",s="".concat("number"==typeof n?n:r[n],"ms");return"".concat(t," ").concat(s," cubic-bezier(").concat(o[i],")").concat(c)}},622400:function(e,t,n){"use strict";n.d(t,{e:function(){return b},v:function(){return m}});var r=n(423467),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}var h=function(){function e(t,n){d(this,e),o()(t,"You must pass a requestContext to check an Experiment"),o()(n,"You must pass the name of the experiment to check"),this.requestContext=t,this.experimentName=n.toLowerCase()}return f(e,[{key:"_getGroup",value:function(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}]),e}(),b=function(e){a(n,e);var t=s(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._getGroup(e)}}]),n}(h),m=function(e){a(n,e);var t=s(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"_isTreatment",value:function(e){return e.startsWith("enabled")||e.startsWith("employee")}},{key:"enabled",value:function(){return this._isTreatment(this._getGroup(!0))}},{key:"enabledWithNoActivation",value:function(){return this._isTreatment(this._getGroup(!1))}}]),n}(h)},836240:function(e,t){"use strict";t.Z=function(e){var t="downloaderIFrame",n=document.getElementById(t);null===n&&((n=document.createElement("iframe")).id=t,n.style.display="none",document.body&&document.body.appendChild(n)),n.src=e}},380488:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(697326),o=n.n(r);function i(e,t){if("undefined"==typeof window)return Promise.resolve();var n=document.querySelector("#".concat(t));if(n)return Promise.resolve();(n=document.createElement("style")).setAttribute("id",t),e.filter((function(e){return!!e.fontFaceUrl})).forEach((function(e){n&&e.fontFaceUrl&&n.appendChild(document.createTextNode("@import url('".concat(e.fontFaceUrl,"');")))}));var r=document.head;if(!r)return Promise.resolve();var i=document.createElement("style");i.setAttribute("id","".concat(t,"-font-faces")),r.appendChild(n),r.appendChild(i);var a=[];return e.forEach((function(e){e.styles.forEach((function(t){var n;e.format&&t.fontUrl&&i&&i.sheet&&i.sheet.insertRule('\n            @font-face {\n              font-family: "'.concat(null!==(n=e.fontFamily)&&void 0!==n?n:"",'";\n              font-style: "').concat(t.fontStyle,'";\n              font-weight: "').concat(t.fontWeight,'";\n              src: url("').concat(t.fontUrl,'") format("').concat(e.format,'");\n            }'),0);a.push(new(o())(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())}))})),Promise.all(a)}},454690:function(e,t,n){"use strict";var r,o=n(238402),i=n(185062);void 0===r&&(r=n.g),r._gaq=r._gaq||[];var a=[],c=function(e){if(a.length)for(var t=0;t<a.length;t+=1){var n=a[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},s=function(e){if(a=e,e.length){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}},l=2,u=3,d={};d.init=function(e,t){s(e),c(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",l])},d.initSterling=function(e,t){var n=t.isLoggedIn,r=t.advertiser,o=t.adminUser,i=t.viewingUser;s(e),n?(o?c(["_setCustomVar",1,"adminUser",o.toString(),u]):i&&i.id?c(["_setCustomVar",1,"viewingUser",i.id.toString(),u]):c(["_setCustomVar",1,"is_logged_in","logged in",u]),r&&r.id&&c(["_setCustomVar",3,"advertiserId",r.id,u])):c(["_setCustomVar",1,"is_logged_in","logged out",u])};d.trackPageview=function(e){var t,n,a,s;c(["_setCustomVar",2,"page_name",e,u]),c(["_trackPageview",(t=r.location.pathname,n=r.location.search,a=t,s=(0,i.Z)(n).q,s&&(a+="?"+(0,o.Z)({q:s})),a)]),c(["_setPageGroup",1,e])},d.trackEvent=function(e,t,n,r,o){c(["_trackEvent",e,t,n,r,o])},d.trackCategoryEvent=function(e,t,n){d.trackEvent(e+"_"+t,n)},t.Z=d},640027:function(e,t,n){"use strict";function r(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return t?r({isCanceled:!0}):n(e)}),(function(e){return r(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}n.d(t,{Z:function(){return r}})},846199:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(793550),o=n(861106),i=n(218265),a=n(753522),c=n(80209);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={gradientBackground:{left:{backgroundImage:"linear-gradient(to left, rgba(255, 255, 255, 0), #fff)",pointerEvents:"none"},right:{backgroundImage:"linear-gradient(to right, rgba(255, 255, 255, 0), #fff)",pointerEvents:"none"}},innerScrollContainer:{marginBottom:-17,overflowX:"auto",overflowY:"hidden",paddingBottom:17}},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,s=h(l);function l(){var e;d(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=s.call.apply(s,[this].concat(n))),"state",{canScrollLeft:!1,canScrollRight:!1,isContainerHover:!1,isLeftHover:!1,isRightHover:!1}),y(m(e),"scroll",(function(t){var n=m(e).scrollbar,r=e.props,o=r.extendToEdgeDistanceX,i=r.scrollSpeedPxPerMs,c=r.minScrollDuration,s=r.easingFunction;n&&0!==t&&(e.scrollAnimationManager&&e.scrollAnimationManager.cancel(),e.scrollAnimationManager=(0,a.F$)(n,t,0,{easingFunction:s,extendToEdgeDistanceX:o,scrollSpeedPxPerMs:i,minScrollDuration:c,onAnimationComplete:function(){e.refreshScroll(),e.scrollAnimationManager=null}}),e.scrollAnimationManager.start())})),y(m(e),"refreshScroll",(function(){var t=e.state,n=t.canScrollLeft,r=t.canScrollRight;if(e.scrollbar){var o=e.scrollbar,i=o.scrollLeft,a=o.scrollWidth,c=o.clientWidth,s={};if(c<a){var l=i>0,u=i<a-c;n===l&&r===u||(s.canScrollLeft=l,s.canScrollRight=u)}else(n||r)&&(s.canScrollLeft=!1,s.canScrollRight=!1);Object.keys(s).length&&e.setState(s)}})),y(m(e),"refreshScrollThrottled",(0,o.Z)(e.refreshScroll,50)),y(m(e),"handleLeftArrowClick",(function(){return e.handleArrowClick("left")})),y(m(e),"handleRightArrowClick",(function(){return e.handleArrowClick("right")})),y(m(e),"handleArrowClick",(function(t){if(e.scrollbar){var n=e.props,r=n.scrollDistanceRatio,o=n.scrollDistanceMin,i=e.scrollbar.clientWidth,a="left"===t?-1:1;e.scroll(a*Math.max(Math.floor(r*i),o))}})),y(m(e),"handleContainerMouseEnter",(function(){e.setState({isContainerHover:!0})})),y(m(e),"handleContainerMouseLeave",(function(){e.setState({isContainerHover:!1})})),y(m(e),"handleLeftArrowMouseEnter",(function(){return e.handleArrowHover("left",!0)})),y(m(e),"handleLeftArrowMouseLeave",(function(){return e.handleArrowHover("left",!1)})),y(m(e),"handleRightArrowMouseEnter",(function(){return e.handleArrowHover("right",!0)})),y(m(e),"handleRightArrowMouseLeave",(function(){return e.handleArrowHover("right",!1)})),y(m(e),"handleArrowHover",(function(t,n){var r="left"===t?"isLeftHover":"isRightHover";e.setState(y({},r,n))})),y(m(e),"saveScrollBarRef",(function(t){e.scrollbar=t})),y(m(e),"Style",u(u({},v),{},{arrowBackground:{backgroundColor:"wide"===e.props.variant?"rgba(255, 255, 255, .97)":"rgba(0, 0, 0, .1)",boxShadow:"wide"===e.props.variant?"0 1px 20px 0 rgba(0, 0, 0, .1)":void 0},arrow:{default:{position:"absolute",top:"50%",transform:"wide"===e.props.variant?"translateY(-115%)":"translateY(-50%)"},left:{left:"wide"===e.props.variant?-84:-12},right:{right:"wide"===e.props.variant?-72:-12}}})),y(m(e),"renderArrow",(function(t){var n=e.state,r=n.canScrollLeft,o=n.canScrollRight,a="wide"===e.props.variant,s=("left"===t?e.state.isLeftHover:e.state.isRightHover)?"darkGray":"gray";a&&(s="left"===t&&r||"right"===t&&o?"darkGray":"gray");var l="left"===t?"arrow-back":"arrow-forward",d="left"===t?e.Style.arrow.left:e.Style.arrow.right;return(0,c.jsx)("button",{onMouseEnter:"left"===t?e.handleLeftArrowMouseEnter:e.handleRightArrowMouseEnter,onMouseLeave:"left"===t?e.handleLeftArrowMouseLeave:e.handleRightArrowMouseLeave,onClick:"left"===t?e.handleLeftArrowClick:e.handleRightArrowClick,className:"Button borderless",style:u(u({},e.Style.arrow.default),d),children:(0,c.jsx)(i.xu,{padding:1,rounding:"circle",dangerouslySetInlineStyle:{__style:e.Style.arrowBackground},children:(0,c.jsx)(i.Sj,{icon:l,iconColor:s,bgColor:"white",size:a?"lg":"sm"})})},t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.refreshScrollThrottled),this.refreshScroll()}},{key:"componentDidUpdate",value:function(){this.refreshScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.refreshScrollThrottled),this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}},{key:"render",value:function(){var e=this.state,t=e.canScrollLeft,n=e.canScrollRight,r=e.isContainerHover,o=this.props,a=o.alwaysShowArrows,s=o.children,l=!o.showArrowsOnlyOnHover||r,u=t&&l,d=n&&l;return(0,c.jsxs)(i.xu,{onMouseEnter:this.handleContainerMouseEnter,onMouseLeave:this.handleContainerMouseLeave,position:"relative",children:[(0,c.jsx)(i.xu,{overflow:"hidden",children:(0,c.jsx)(i.xu,{ref:this.saveScrollBarRef,onScroll:this.refreshScrollThrottled,dangerouslySetInlineStyle:{__style:this.Style.innerScrollContainer},children:s})}),u&&!a&&(0,c.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,width:60,dangerouslySetInlineStyle:{__style:this.Style.gradientBackground.left}}),d&&!a&&(0,c.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,right:!0,width:60,dangerouslySetInlineStyle:{__style:this.Style.gradientBackground.right}}),(u||a)&&this.renderArrow("left"),(d||a)&&this.renderArrow("right")]})}}])&&p(t.prototype,n),r&&p(t,r),l}(r.PureComponent);y(x,"defaultProps",{easingFunction:"ease-in-out",extendToEdgeDistanceX:160,minScrollDuration:200,scrollDistanceMin:200,scrollDistanceRatio:3/4,scrollSpeedPxPerMs:1.2,showArrowsOnlyOnHover:!0,variant:"default"})},896829:function(e,t,n){"use strict";n.d(t,{Q:function(){return u},Z:function(){return d}});var r=n(793550),o=n(737614),i=n(730762),a=n(44062);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=(0,a.s)().setViewContextData;(0,r.useEffect)((function(){var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,object_id_str:e.object_id_str,aux_data:e.aux_data,clientTrackingParams:e.clientTrackingParams}),i.Z.getInstance().addEvent(s(s({},e),{},{event_type:13,request_identifier:o.Z.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER})))}),[t])}function d(e){var t=e.children;return u(e.log),t||null}},279890:function(e,t){"use strict";var n="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};t.Z=function(e){var t=e.window,r=e.duration,o=e.run,i=n(),a=0,c=null,s=function e(){var s=n()-i,l=s-a;if(r===1/0)o(0,s,l);else{var u=s/r;if(u>=1)return void o(1,s,l);o(u,s,l)}a=s,c=t.requestAnimationFrame(e)};return{start:function(){c=t.requestAnimationFrame(s)},cancel:function(){c&&(t.cancelAnimationFrame(c),c=null)}}}},312827:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(793550),o=(n(50351),n(85831)),i=n(505343);n(910289);function a(e){var t=(0,i.M)(),n=t.mountedPlacements,a=t.completeExperience,c=t.dismissExperience,s=t.experiences,l=t.fetchAllExperiences,u=t.fetchAllExperiencesMulti,d=t.fetchExperienceForPlacements,p=t.triggerExperimentsForPlacement,f=t.viewExperience,h=e?(0,o.MQ)(s,n,e):null;return(0,r.useMemo)((function(){return{completeExperience:a,dismissExperience:c,experienceForPlacement:h,fetchAllExperiences:l,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:p,viewExperience:f}}),[a,c,h,l,u,d,p,f])}},778527:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(513872),a=n.n(i),c=n(85831),s=n(505343),l=n(910289),u=n(585967),d=n(80209);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return function(t){return{experience:t.experiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0}}}function A(e,t){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,p=function(r){y(s,r);var o=x(s);function s(e){var t;return b(this,s),j(w(t=o.call(this,e)),"state",{extraContext:void 0}),j(w(t),"setExtraContextState",(function(e){a()(t.state.extraContext,e)||t.setState({extraContext:e})})),t}return g(s,[{key:"componentDidMount",value:function(){this.dispatchPlacementMount()}},{key:"componentDidUpdate",value:function(n,r){var o=this.props,i=o.dispatch,c=o.experience,s=o.requestContext,u=r.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(u=t(n,r.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!a()(u,d)&&i((0,l.pz)([e],s.isBot,d)),!c||n.experience&&c.id===n.experience.id||i((0,l.kd)(e,d))}},{key:"componentWillUnmount",value:function(){this.props.unmountPlacement(e)}},{key:"dispatchPlacementMount",value:function(){var r="function"==typeof t?t(this.props,this.state.extraContext||{}):h({},t),o=n&&null!=r&&r.advertiser_id?{advertiserId:r.advertiser_id}:void 0;this.props.mountPlacement(e,r,o)}},{key:"render",value:function(){var e=this.props,t=e.experience,r=e.experiencesMulti,o=j({},n?"advertiserExperience":"experience",(0,c.E3)(t)?t:null);return(0,d.jsx)(i,h(h(h({},this.props),{},{setPlacementExtraContext:this.setExtraContextState},o),{},{experiencesMulti:r}))}}]),s}(r.Component);function f(e){var t=(0,u.B)(),n=(0,o.useDispatch)(),r=(0,s.M)(),i=r.mountPlacement,a=r.unmountPlacement;return(0,d.jsx)(p,h(h({},e),{},{dispatch:n,mountPlacement:i,requestContext:t,unmountPlacement:a}))}return f.displayName="withPlacement(".concat(i.displayName||i.name||"Component",")"),f}var S={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.ZP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(r){var i=O(e);n=h(h({},S),n);var a=A(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return(0,o.connect)(i)(a)}}},724526:function(e,t,n){"use strict";var r=n(166800),o=n.n(r);t.Z=new RegExp(/^(https?:\/\/){0,1}/.source+"("+o().source+"){1,}"+/(\.){1,}/.source+"("+o().source+"){1,}"+/(\/){0,1}/.source,"gi")},528818:function(e,t,n){"use strict";var r=n(774665),o=n(344415);t.Z=(0,r.Z5)(o.ZP)},194620:function(e,t,n){"use strict";var r=n(774665),o=(n(297633),n(528818)),i=n(500637);t.Z=function(e){return function(t){return(0,i.compose)(o.Z,(0,r.GR)(e,{},(function(e,t){return{connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}})))(t)}}},609304:function(e,t,n){"use strict";function r(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:function(){return r}})},352483:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var r=n(793550),o=n(218265),i=n(80209);function a(e){return e.isHorizontalDesign?(0,i.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,i.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),(0,i.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,i.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,i.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,i.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):(0,i.jsxs)(o.xu,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[(0,i.jsx)(o.xu,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),(0,i.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,i.jsx)(o.xu,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),(0,i.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,i.jsx)(o.xu,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var c=n(174523);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(s,e);var t,n,r,c=m(s);function s(){var e;f(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(y(e=c.call.apply(c,[this].concat(n))),"state",{isLoaded:[!1,!1,!1],isMounted:!1}),x(y(e),"getImageArray",(function(){var t=e.props.userPins,n=[];return t&&0!==t.length?n=t.map((function(e){var t,n,r;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(r=e.images)||void 0===r?void 0:r["736x"])||{}).url})).filter(Boolean):n})),x(y(e),"getImage",(function(t,n){var r={transition:"opacity 500ms",opacity:e.state.isLoaded[n]?1:0};return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r},color:"white",height:"100%",width:"100%",children:!!t&&(0,i.jsx)(o.Ee,{naturalHeight:1,src:t,fit:"cover",alt:e.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:function(){return e.handleLoad(n)}})})})),x(y(e),"handleLoad",(function(t){var n=e.state,r=n.isLoaded,o=n.isMounted,i=d(r);i[t]=!0,o&&e.setState({isLoaded:i})})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),this.getImageArray()}},{key:"render",value:function(){var e=this.props.isHorizontalDesign,t=this.getImageArray(),n=null;return n=1===t.length?(0,i.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:this.getImage(t[0],0)}):2===t.length?(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:[this.getImage(t[0],0),(0,i.jsx)(o.xu,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,i.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),(0,i.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,i.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),(0,i.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,i.jsx)(o.xu,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[(0,i.jsx)(o.xu,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),(0,i.jsx)(o.xu,{color:"white",width:"2px",flex:"none"}),(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[(0,i.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),(0,i.jsx)(o.xu,{color:"white",height:"2px",flex:"none"}),(0,i.jsx)(o.xu,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),(0,i.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:136,children:(0,i.jsxs)(o.xu,{width:"100%",position:"relative",flex:"grow",children:[(0,i.jsx)(a,{isHorizontalDesign:e}),n,(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:I,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}])&&h(t.prototype,n),r&&h(t,r),s}(r.PureComponent);var _=function(e){var t=(0,c.ZP)();return(0,i.jsx)(w,u(u({},e),{},{i18n:t}))},j=n(151101),O=n(457175);var A=function(e){var t=(0,O.v)().logContextEvent,n=e.avatarUrl,r=e.isVerified,a=e.isHorizontalDesign,c=e.url,s=e.userFullName,l=e.viewParameter,u=e.viewType,d=a?80:86;return(0,i.jsx)(o.xu,{zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:a?-58:-64,marginLeft:a?-6:0}},display:"flex",flex:"none",rounding:"circle",children:(0,i.jsx)(o.xu,{flex:"none",height:d,width:d,children:(0,i.jsx)(o.iP,{onTap:function(e){e.event.stopPropagation(),function(e,t,n){n({event_type:101,view_type:e,view_parameter:t,component:13406,element:11373})}(u,l,t)},href:c,rounding:"circle",role:"link",children:(0,i.jsx)(j.Z,{name:s,src:n,verified:r})})})})},S=n(537343);function P(e){var t=e.text,n=e.singleLineMaxCharacters,r=e.isBold,a=e.isHorizontalDesign,c=e.numLines*n,s=(0,S.ZP)(t,c);return r?(0,i.jsx)(o.xv,{align:a?"start":"center",overflow:"normal",size:"md",weight:"bold",children:s}):(0,i.jsx)(o.xv,{align:a?"start":"center",overflow:"normal",size:"md",weight:"normal",color:a?"darkGray":"gray",children:s})}function E(e){var t=e.description,n=e.domainUrl,r=e.isHorizontalDesign,a=e.userFullName,c=t||n,s={placeholder:{__style:{transition:"opacity 200ms",opacity:c?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:c?1:0}}};return(0,i.jsxs)(o.xu,{position:"relative",width:"100%",marginTop:r?4:3,marginBottom:3,alignItems:r?"start":"center",display:"flex",direction:"column",children:[(0,i.jsx)(o.xu,{height:18,width:"100%",children:(0,i.jsx)(o.xv,{align:r?"start":"center",lineClamp:1,size:r?"lg":"md",weight:"bold",children:a})}),(0,i.jsxs)(o.xu,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[(0,i.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,i.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),(0,i.jsx)(o.xu,{height:6,flex:"none"}),(0,i.jsx)(o.xu,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),r&&!!n&&(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:(0,i.jsx)(P,{numLines:2,isBold:!0,isHorizontalDesign:r,singleLineMaxCharacters:36,text:n})}),r&&!!t&&(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:(0,i.jsx)(P,{isHorizontalDesign:r,numLines:2,singleLineMaxCharacters:36,text:t})}),!r&&!!c&&(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:(0,i.jsx)(P,{isHorizontalDesign:r,numLines:2,singleLineMaxCharacters:27,text:c})})]})]})}var k=n(575429),C=n(475896),R=n(946753);function B(e){var t=e.followText,n=e.followerCount,r=e.isHorizontalDesign,a=e.showFollowers,s=e.userFollowed,l=(0,c.ZP)();return a?(0,R.nk)(l._("{{ followCount }} {{ followText }}"," - "," -- "),{followCount:(0,i.jsx)(o.xu,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:s?void 0:.8,children:(0,i.jsx)(o.xv,{color:s?"gray":"white",size:r?"sm":"md",align:"center",weight:"bold",children:(0,i.jsx)(C.Z,{value:n||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,i.jsx)(o.xu,{"data-test-id":"followText",display:"inlineBlock",children:(0,i.jsx)(o.xv,{weight:"bold",color:s?"darkGray":"white",size:r?"sm":"md",overflow:"normal",align:"center",children:t})},"followText")}):(0,i.jsx)(o.xu,{"data-test-id":"followText",children:(0,i.jsx)(o.xv,{weight:"bold",color:s?"darkGray":"white",size:r?"sm":"md",overflow:"normal",align:"center",children:t})},"followText")}var D=n(881220),T=n(880841),J=n(289605);var V=(0,k.connect)((function(e,t){var n=t.id,r=(e.users||{})[n];return{userFollowed:!!r&&r.explicitly_followed_by_me}}),(function(e){return{follow:function(t){return e((0,J.ZN)(t))},unfollow:function(t){return e((0,J.fv)(t))}}}))((function(e){var t=e.followerCount,n=e.isHorizontalDesign,a=e.showFollowerCount,s=e.userFollowed,l=e.follow,u=e.id,d=e.viewParameter,p=e.viewType,f=e.fullName,h=e.imageUrl,b=e.profileUrl,m=(0,O.v)().logContextEvent,g=(0,c.ZP)(),y=(0,T.F9)().showOneToast,v=s?g._("Following","User follow button","User follow button"):g._("Follow","User follow button","User follow button"),x=function(e){return m({event_type:e,view_type:p,view_parameter:d,component:13406,element:11372})};return(0,i.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:n?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:(0,i.jsx)(o.iP,{onTap:function(){s?((0,J.fv)(u),x(46)):(l(u),x(45),y((function(e){var t=e.onHide;return(0,i.jsx)(D.Z,{onHide:t,text:(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(o.xv,{children:g._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,i.jsx)(o.xv,{weight:"bold",children:f})]}),href:b,imageUrl:h})})))},rounding:"pill",children:(0,i.jsx)(o.xu,{alignItems:"center",color:s?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:n?5:6,paddingY:n?3:4,rounding:"pill",children:(0,i.jsx)(B,{followerCount:t,followText:v,isHorizontalDesign:n,showFollowers:a&&0!==t,userFollowed:s})})})})}));function M(e){var t=e.avatarUrl,n=e.description,r=e.domainUrl,a=e.followerCount,c=e.id,s=e.isCreator,l=e.isHorizontalDesign,u=e.isVerified,d=e.userFullName,p=e.username,f=e.viewParameter,h=e.viewType,b=function(e){return"/".concat(e)}(p);return(0,i.jsxs)(o.xu,{alignItems:l?"start":"center",display:"flex",direction:"column",paddingX:l?5:6,paddingY:l?3:4,marginTop:2,width:"100%",children:[(0,i.jsx)(A,{avatarUrl:t,isHorizontalDesign:l,isVerified:u,url:b,userFullName:d,viewType:h,viewParameter:f}),l&&(0,i.jsxs)(o.xu,{position:"relative",width:"100%",children:[(0,i.jsx)(o.xu,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:(0,i.jsx)(V,{fullName:d,followerCount:a,id:c,imageUrl:t,isHorizontalDesign:l,profileUrl:b,showFollowerCount:s})}),(0,i.jsx)(o.xu,{width:"100%",display:"flex",left:!0,marginTop:1,children:(0,i.jsx)(E,{description:n,domainUrl:r,isHorizontalDesign:l,userFullName:d})})]}),!l&&(0,i.jsxs)(o.xu,{width:"100%",children:[(0,i.jsx)(E,{userFullName:d,domainUrl:r,description:n,isHorizontalDesign:l}),(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,i.jsx)(V,{followerCount:a,fullName:d,id:c,imageUrl:t,isHorizontalDesign:l,profileUrl:b,showFollowerCount:s})})]})]})}var F=n(451190),N=24;function U(e){var t=e.anchor,n=e.children,r=e.isHorizontalDesign;if(!t)return null;var a=r?320:236,c=t.getBoundingClientRect(),s=c.left,l=c.top,u=c.width,d=c.height,p=s+window.pageXOffset,f=l+window.pageYOffset,h=p+u+a+12>window.innerWidth,b={left:h?p:p+u,top:f+d/2},m={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:h?-12-a:12,top:-a/2-44},g={top:-12,left:-12,fill:"white"},y=h?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return(0,i.jsxs)(o.xu,{position:"absolute",zIndex:F.b,dangerouslySetInlineStyle:{__style:b},children:[(0,i.jsx)(o.xu,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:m},width:a,overflow:"hidden",children:n}),(0,i.jsx)(o.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:g},children:(0,i.jsx)("svg",{width:N,height:N,children:(0,i.jsx)("path",{d:y})})})]})}var Z=n(311866),L=n(51610),Q=n(34411),W=n(585967);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(s,e);var t,n,a,c=K(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),te($(t=c.call(this,e)),"anchorRef",(0,r.createRef)()),te($(t),"loadUser",(function(){var e=t.props.username,n=t.state.isMounted;e&&(Z.ZP.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then((function(e){var r;n&&t.setState({detailedUser:null===(r=e.resource_response)||void 0===r?void 0:r.data})})),Z.ZP.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item"}).callGet().then((function(e){var r;n&&t.setState({userPins:null===(r=e.resource_response)||void 0===r?void 0:r.data})})),n&&t.setState({isLoaded:!0}))})),te($(t),"handleScroll",(function(){clearTimeout(t.openTimeout),t.state.isMounted&&(t.setState({isVisible:!1}),t.forceUpdate())})),te($(t),"timeoutDismiss",(function(){t.dismissTimeout=setTimeout((function(){t.state.isMounted&&(t.setState({isVisible:!1}),clearTimeout(t.openTimeout))}),150)})),te($(t),"handleDisplayCard",(function(){var e=t.props,n=e.isDarkPromoter,r=e.pinId,o=e.requestContext,i=e.viewParameter,a=t.state,c=a.currentPinId,s=a.isLoaded,l=a.isMounted;clearTimeout(t.openTimeout),clearTimeout(t.dismissTimeout),r&&c!==r&&t.forceUpdate(),r&&t.setState({currentPinId:r});var u=o.experiments.getWithActivation("web_avatar_hover_cards_v2").group;156!==i&&0!==i||n||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(u)?l&&t.setState({isVisible:!1}):(s||t.loadUser(),t.openTimeout=setTimeout((function(){l&&t.setState({isVisible:!0})}),300))})),te($(t),"handleHideCard",(function(){t.timeoutDismiss()})),t.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,user:null,userPins:null},t}return t=s,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.user,r=t.detailedUser,o={user:{}};return n&&(o.user=n),r&&(o.user=G(G({},o.user),r)),o}}],(n=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.avatarSize,n=e.children,r=e.requestContext,a=e.username,c=e.viewer,s=e.viewParameter,l=e.viewType,u=this.state,d=u.isVisible,p=u.user,f=u.userPins,h=p||{},b=h.about,m=h.domain_url,g=h.follower_count,y=h.full_name,v=h.id,x=h.image_medium_url,I=h.show_creator_profile,w=h.verified_identity,j=c.isAuth&&c.id===v,O=Boolean(null==w?void 0:w.verified),A="enabled2_horizontal"===r.experiments.getWithoutActivation("web_avatar_hover_cards_v2").group;return(0,i.jsxs)(o.xu,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[(0,i.jsxs)(o.xu,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[(0,i.jsx)(o.xu,{height:t,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:t}),n]}),!j&&!!p&&!!a&&d&&(0,i.jsx)(o.xu,{children:(0,i.jsx)(L.Z,{children:(0,i.jsx)(o.mh,{children:(0,i.jsx)(U,{anchor:this.anchorRef.current,isHorizontalDesign:A,children:(0,i.jsx)(o.xu,{color:"white",zIndex:F.b,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:(0,i.jsxs)(o.xu,{width:"100%",children:[(0,i.jsx)(_,{isHorizontalDesign:A,userPins:f}),(0,i.jsx)(M,{avatarUrl:null!=x?x:"",description:null!=b?b:"",domainUrl:m,followerCount:null!=g?g:0,id:null!=v?v:"",isCreator:I,isHorizontalDesign:A,isVerified:null!=O&&O,userFullName:null!=y?y:"",username:a,viewParameter:s,viewType:l})]})})})})})})]})}}])&&X(t.prototype,n),a&&X(t,a),s}(r.PureComponent);function re(e){var t=(0,W.B)(),n=(0,Q.Z)();return(0,i.jsx)(ne,G(G({},e),{},{requestContext:t,viewer:n}))}},702403:function(e,t,n){"use strict";n.d(t,{FC:function(){return r},z9:function(){return o},EC:function(){return i},m9:function(){return a},BS:function(){return c},_5:function(){return s},A6:function(){return l}});var r=424,o=800,i=508,a=424,c=278,s=640,l=508},739603:function(e,t,n){"use strict";n.d(t,{nT:function(){return r},UA:function(){return o},ix:function(){return i},_F:function(){return a}});var r={zIndex:0},o={padding:"2px 0",fontSize:"18px",fontWeight:"bold",color:"#555555"},i={overflow:"hidden",textOverflow:"ellipsis",width:"100%"},a={border:"2px solid #fff",borderRadius:"50%",position:"absolute",bottom:50,left:8,width:40,height:40};t.ZP={display:"inline-block",float:"none",verticalAlign:"top"}},760001:function(e,t,n){"use strict";n.d(t,{Z:function(){return te}});var r=n(793550),o=n(575429),i=n(451190),a=n(174523),c=n(946753),s=n(585967),l=n(218265),u=n(80209);function d(e){var t=e.boardName,n=e.collaboratorName,r=e.onCancelTransferRequest,o=e.onDismiss,d=(0,a.ZP)(),p=(0,s.B)();return(0,u.jsx)(i.Z,{accessibilityModalLabel:d._("Board ownership transfer modal","boardCollabOwnershipTransferModal.accessibilityModalLabel","Accessibility label on board ownership transfer modal"),heading:(0,u.jsxs)(l.xu,{paddingY:8,position:"relative",children:[(0,u.jsx)(l.X6,{align:"center",size:"md",children:d._("Collaborators","boardCollabOwnershipTransferModal.heading","Heading for board ownership transfer modal")}),(0,u.jsx)(l.xu,{position:"absolute",top:!0,left:p.isRTL,right:!p.isRTL,paddingY:8,paddingX:6,children:(0,u.jsx)(l.hU,{accessibilityLabel:d._("Close","boardCollabOwnershipTransferModal.iconAccessibilityLabel","Accessibility label on cancel icon button"),icon:"cancel",iconColor:"darkGray",onClick:o})})]}),footer:(0,u.jsxs)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsx)(l.iP,{fullWidth:!1,onTap:r,children:(0,u.jsx)(l.xv,{weight:"bold",children:d._("Cancel request","boardCollabOwnershipTransferModal.cancelRequest","Option to cancel board ownership transfer request")})}),(0,u.jsx)(l.zx,{color:"red",onClick:o,size:"lg",text:d._("Got it","boardCollabOwnershipTransferModal.confirmationButton","Button confirming board ownership transfer action")})]}),onDismiss:o,children:(0,u.jsx)(l.xu,{paddingX:8,children:(0,u.jsx)(l.xv,{align:"center",children:(0,c.nk)(d._("We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins—but you won’t be able to manage collaborators, change the name, cover photo, or description of this board.","boardCollabOwnershipTransferModal.descriptionText","Explanation of transfer request and potential permissions changes"),{collaboratorName:n,boardName:(0,u.jsx)(l.xv,{inline:!0,weight:"bold",children:t})})})})})}var p=n(629318),f=n(163880);function h(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.boardId,n=e.collaboratorId,i=e.collaboratorName,c=e.isAcceptedCollaborator,s=e.onDelete,m=(0,o.useDispatch)(),g=(0,a.ZP)(),y=(0,r.useRef)(null),v=b((0,r.useState)(!1),2),x=v[0],I=v[1],w=b((0,r.useState)(!1),2),_=w[0],j=w[1],O=(0,p.Z)(),A=O.boardName,S=O.pendingOwnershipTransfer,P=S===n,E=!S,k=function(){m((0,f.xx)(t,n)),I(!1)},C=function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),e.next=3,m((0,f.Cf)(t,n));case 3:j(!0);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),R=function(e){var t=e.i18n,n=e.isAcceptedCollaborator,r=e.onCancelTransferRequest,o=e.onDelete,i=e.onRequestTransfer,a=e.showCancelRequestOption,c=e.showRequestTransferOption,s=[{onSelect:o,option:{value:"Remove from board",label:t._("Remove from board","getCollaboratorDropdownItems.removeText","Text for option to remove collaborator from board")}}];return n&&(a&&s.push({onSelect:r,option:{value:"Cancel request",label:t._("Cancel request","getCollaboratorDropdownItems.cancelText","Text for option to cancel ownership transfer request")}}),c&&s.push({onSelect:i,option:{value:"Request as board owner",label:t._("Request as board owner","getCollaboratorDropdownItems.requestText","Text for option to request ownership transfer")}})),s}({i18n:g,isAcceptedCollaborator:c,onCancelTransferRequest:k,onDelete:s,onRequestTransfer:function(){C()},showCancelRequestOption:P,showRequestTransferOption:E});return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(l.kC,{justifyContent:"center",children:[(0,u.jsx)(l.hU,{accessibilityLabel:g._("Collaborator options","boardCollabInviteOverflowButton.accessibilityLabel","Accessibility label for overflow icon button"),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return I(!x)},ref:y,selected:x}),x&&(0,u.jsx)(l.Lt,{anchor:y.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:function(){return I(!1)},zIndex:new l.Ry(1e3),children:(0,u.jsx)(l.Lt.Section,{label:g._("Options","boardCollabInviteOverflowButton.dropdownSection","Options section in dropdown menu"),children:R.map((function(e){return(0,u.jsx)(l.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)}))})})]}),_&&(0,u.jsx)(d,{boardName:A,collaboratorName:i,onCancelTransferRequest:function(){k(),j(!1)},onDismiss:function(){j(!1)}})]})}var y=n(494715),v=n(925265),x=n(34411),I=n(181307);function w(e){var t=e.actionsDisabled,n=e.invite,r=e.isDim,o=e.onApprove,i=e.onDelete,c=(0,a.ZP)(),s=(0,x.Z)(),d=n.access,f=n.board,h=n.status,b=n.invited_by_user,m=n.invited_user,w=(0,p.Z)(),_=w.pendingOwnershipTransfer,j=w.viewerIsOwner,O=s.isAuth&&m.id===s.id,A=s.isAuth&&b.id===s.id,S=m.id===b.id,P="accepted"===h,E=d.includes("approve"),k=d.includes("delete"),C=c._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),R=function(e,t,n){return e?c._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?c._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):c._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]")}(O,S,P),B=k&&!E,D=k&&E,T="/".concat(m.username,"/"),J=(0,I.tc)("web_board_ownership_transfer"),V=j&&J().anyEnabled,M=V?(0,u.jsx)(g,{boardId:f.id,collaboratorId:m.id,collaboratorName:m.full_name,onDelete:i||function(){},isAcceptedCollaborator:P}):(0,u.jsx)(l.zx,{disabled:t,onClick:i,text:R,size:"lg"}),F=_===m.id,N=V&&(void 0!==r?r:!P);return(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(y.Z,{imageUrl:m.image_medium_url||"",name:m.full_name,title:m.full_name,subtitle:function(e,t,r,o,i){var a,s=n.invited_by_user.full_name;return a=t?c._("Invitation pending","boardCollabInviteCell.pendingInvitationText","Subtext for collaborator with pending invitation"):r?c._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):o?c._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):i?c._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):(0,v.Z)(c._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:s}),e&&(a=a.concat(c._(" · Ownership pending","boardCollabInviteCell.pendingOwnershipText","Additional subtext for collaborator who has a pending board ownership transfer invitation"))),a}(F,N,O,A,S),linkURL:T,isDim:!V&&(void 0!==r?r:!P),accessory:B&&M}),D&&(0,u.jsxs)(l.xu,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[(0,u.jsx)(l.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,u.jsx)(l.zx,{fullWidth:!0,disabled:t,onClick:i,text:R,size:"lg"})}),(0,u.jsx)(l.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,u.jsx)(l.zx,{fullWidth:!0,color:"red",disabled:t,onClick:o,text:C,size:"lg"})})]})]})}var _=n(454690),j=n(881220),O=n(159617);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=(0,a.ZP)(),n=e.onCancel,r=e.onRemove,o=e.useGestaltModal,c=t._("Are you sure you want to leave this group board and remove it from your profile?"," - "," -- "),s=o?l.u_:i.Z;return(0,u.jsx)(s,{accessibilityModalLabel:t._("Leave board?"," - "," -- "),heading:t._("Leave board?"," - "," -- "),onDismiss:n,size:"sm",footer:(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.zx,{onClick:n,text:t._("Cancel"," - "," -- ")})}),(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.zx,{color:"red",onClick:r,text:t._("Leave"," - "," -- ")})})]}),children:(0,u.jsx)(l.xu,{padding:5,children:(0,u.jsx)(l.xv,{children:c})})})}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,n,o,a=R(s);function s(){var e;E(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return J(D(e=a.call.apply(a,[this].concat(n))),"state",{shouldBlock:!1}),e}return t=s,(n=[{key:"getBlockDescription",value:function(e,t){return"declineRequest"===e?t?(0,c.nk)(this.props.i18n._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):this.props.i18n._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?(0,c.nk)(this.props.i18n._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."," - "," -- "),{invited_user_first_name:t}):this.props.i18n._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}},{key:"render",value:function(){var e=this,t=this.props,n=t.removeType,o=t.firstName,a=t.fullName,s=t.onCancel,d=t.onRemove,p=t.onRemoveAndBlock,f=t.useGestaltModal,h="declineRequest"===n?(0,c.nk)(this.props.i18n._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:a}).join(""):(0,c.nk)(this.props.i18n._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:a}).join(""),b=this.props.i18n._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),m=this.getBlockDescription(n,o),g=this.state.shouldBlock?this.props.i18n._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):this.props.i18n._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),y=(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.xu,{padding:5,children:(0,u.jsx)(l.xv,{children:b})}),(0,u.jsx)(l.iz,{}),(0,u.jsxs)(l.xu,{padding:5,display:"flex",children:[(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:function(){return e.setState((function(e){return{shouldBlock:!e.shouldBlock}}))}})}),(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsxs)(l.__,{htmlFor:"banUser",children:[(0,u.jsx)(l.xv,{weight:"bold",children:(0,c.nk)(this.props.i18n._("Block {{ name }}"," - "," -- "),{name:o||""})}),(0,u.jsx)(l.xv,{size:"md",children:m})]})})]})]}),v=f?l.u_:i.Z;return(0,u.jsx)(v,{accessibilityModalLabel:h,heading:h,onDismiss:s,size:"sm",footer:(0,u.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.zx,{onClick:s,text:this.props.i18n._("Cancel"," - "," -- ")})}),(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.zx,{color:"red",onClick:this.state.shouldBlock?p:d,text:g})})]}),children:y})}}])&&k(t.prototype,n),o&&k(t,o),s}(r.Component);function F(e){var t=(0,a.ZP)();return(0,u.jsx)(M,P(P({},e),{},{i18n:t}))}var N=n(880841);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z="collaborator_decline_invite",$="collaborator_delete_invite",ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=H(i);function i(){var e;Q(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K(X(e=o.call.apply(o,[this].concat(n))),"state",{currentModal:null,loading:!1}),K(X(e),"showRemoveSuccessToast",(function(){var t=e.props.toastManagerContext,n=e.props.i18n._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");t.showOneToast((function(e){var t=e.onHide;return(0,u.jsx)(j.Z,{duration:3e3,onHide:t,text:n})}))})),K(X(e),"onDelete",(function(){var t=e.props.onModalOpen;t&&t(),e.setState({currentModal:"delete"})})),K(X(e),"onApprove",(function(){var t=e.props,n=t.approveBoardCollabInvite,r=t.onInviteDidUpdate;e.setState({loading:!0}),n().then(r).finally((function(){e.setState({loading:!1})}))})),K(X(e),"deleteBoardInvite",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props,r=n.deleteBoardCollabInvite,o=n.onBoardLeave,i=n.onInviteDidUpdate,a=e.isViewerInvitedUser,c=a?z:$;_.Z.trackEvent(c,"click"),e.setState({currentModal:null,loading:!0}),r(a,t).then((function(){_.Z.trackEvent(c,"success"),i(),e.showRemoveSuccessToast(),a&&o()})).catch((function(){_.Z.trackEvent(c,"error")})).finally((function(){e.setState({loading:!1})}))})),K(X(e),"handleDeleteBoardInvite",(function(){e.deleteBoardInvite(!1)})),K(X(e),"handleDeleteBoardInviteAndBan",(function(){e.deleteBoardInvite(!0)})),K(X(e),"handleHideModal",(function(){e.setState({currentModal:null})})),e}return t=i,(n=[{key:"isViewerInvitedUser",get:function(){var e=this.props,t=e.viewer,n=e.invite.invited_user;return t.isAuth&&t.id===n.id}},{key:"isRequestToJoin",get:function(){var e=this.props.invite,t=e.invited_user,n=e.invited_by_user;return t.id===n.id}},{key:"renderCurrentModal",value:function(){var e=this.props,t=e.invite.invited_user,n=e.useGestaltModal,r=void 0!==n&&n;return"delete"===this.state.currentModal?this.isViewerInvitedUser?(0,u.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:O.fe+1}},children:(0,u.jsx)(V,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:r})}):(0,u.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:O.fe+1}},children:(0,u.jsx)(F,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:t.first_name,fullName:t.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:r})}):null}},{key:"render",value:function(){var e=this.props,t=e.invite,n=e.isDim,r=this.state.loading;return(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(w,{invite:t,isDim:n&&"accepted"!==t.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:r}),this.renderCurrentModal()]})}}])&&W(t.prototype,n),r&&W(t,r),i}(r.Component);var te=(0,o.connect)((function(){return{}}),(function(e,t){var n=t.invite,r=t.invite,o=r.invited_user.id,i=r.board.id;return{approveBoardCollabInvite:function(){return e((0,f.q1)(i,o))},deleteBoardCollabInvite:function(t,r){return e((0,f.Jn)(n,t,r))}}}))((function(e){var t=(0,a.ZP)();return(0,u.jsx)(ee,L(L({},e),{},{toastManagerContext:(0,N.F9)(),viewer:(0,x.Z)(),i18n:t}))}))},26629:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(793550),o=n(760001),i=n(653827),a=n(174523),c=n(218265),s=n(80209);function l(e){var t=e.fetchMore,n=e.invites,r=e.isAtEnd,o=e.isFetching,l=e.onBoardLeave,u=e.refreshData,d=e.renderInvite,p=e.scroll,f=(0,a.ZP)();return(0,s.jsxs)(c.xu,{children:[p&&(0,s.jsx)(i.Z,{scrollBuffer:3*p.container.clientHeight,scrollHeight:p.container.scrollHeight,scrollTop:p.top,isAtEnd:r,isFetching:o,fetchMore:t}),n.map((function(e,t){return e&&e.invited_user&&e.invited_user.id?(0,s.jsx)(c.xu,{children:d(e,l,u)},t):null})),o&&!r&&(0,s.jsx)(c.$j,{accessibilityLabel:f._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0})]})}var u=n(494715),d=n(955801),p=n(629318),f=n(535718),h=n(946753);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(p,e);var t,n,i,a=I(p);function p(){var e;y(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(_(e=a.call.apply(a,[this].concat(n))),"handleInvitesDidUpdate",(function(){var t=e.props,n=t.invitesPendingApproval,r=t.invites;n.refresh(),r.refresh()})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e){var t=e.invites.data,n=e.pendingOwnershipTransfer,r=this.props,o=r.invites.data,i=r.pendingOwnershipTransfer;return!(o&&i===n)||!!t&&o.length!==t.length}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.board,a=n.invites,p=n.invitesPendingApproval,f=n.scrollInfo,b=n.onBoardLeave,m=n.onModalOpen,g=n.pendingOwnershipTransfer,y=n.renderInvite,v=i.owner,x=v.full_name,I=v.image_medium_url,w=v.username,_=null===(e=(a.data||[]).find((function(e){return e.invited_user.id===g})))||void 0===e?void 0:e.invited_user.full_name,j=g&&_?(0,h.nk)(this.props.i18n._("Requested {{ collaboratorName }} to change to board owner","boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle","Subtext for an owner of board who has sent an ownership transfer request"),{collaboratorName:_}).join(""):this.props.i18n._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return(0,s.jsx)(r.Fragment,{children:a.isLoaded||p.isLoaded?(0,s.jsx)(d.Z,{fetchMore:a.fetchMore,children:function(e){var n=e.onScroll,r=e.setRef;return(0,s.jsxs)(c.xu,{width:"100%",onScroll:n,ref:r,children:[(0,s.jsx)(l,{fetchMore:p.fetchMore,invites:p.data||[],isAtEnd:p.isAtEnd,isFetching:p.isFetching,onBoardLeave:b,refreshData:t.handleInvitesDidUpdate,scroll:f,renderInvite:y}),(p.data||[]).length>0?(0,s.jsx)(c.xu,{paddingY:3,children:(0,s.jsx)(c.iz,{})}):null,(0,s.jsxs)(c.xu,{paddingY:1,children:[(0,s.jsx)(u.Z,{imageUrl:I,linkURL:"/".concat(w,"/"),name:x,subtitle:j,title:x}),(a.data||[]).map((function(e){return e&&e.invited_user&&e.invited_user.id?(0,s.jsx)(o.Z,{invite:e,onBoardLeave:b,onModalOpen:m,onInviteDidUpdate:a.refresh},e.invited_user.id):null}))]})]})}}):(0,s.jsx)(c.$j,{show:!0,accessibilityLabel:this.props.i18n._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")})})}}])&&v(t.prototype,n),i&&v(t,i),p}(r.Component);function S(e){var t=(0,a.ZP)(),n=(0,p.Z)().pendingOwnershipTransfer,r=(0,f.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),o=(0,f.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return(0,s.jsx)(A,g(g({},e),{},{invites:r,invitesPendingApproval:o,i18n:t,pendingOwnershipTransfer:n}))}},494715:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(793550),o=n(151101),i=n(539484),a=n(218265),c=n(80209);function s(e){var t=e.imageUrl,n=e.name,s=e.title,l=e.subtitle,u=e.accessory,d=e.linkURL,p={__style:{opacity:e.isDim?.5:1}},f=(0,i.Z)({url:null!=d?d:""})?"nofollow":"none";return(0,c.jsx)(r.Fragment,{children:n&&s&&(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[(0,c.jsx)(a.xu,{marginEnd:2,dangerouslySetInlineStyle:p,children:(0,c.jsx)(a.iP,{role:"link",rel:f,href:d||"",rounding:"circle",children:(0,c.jsx)(o.Z,{outline:!0,size:"md",name:n,src:t})})}),(0,c.jsxs)(a.xu,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:p,children:[(0,c.jsx)(a.xv,{color:"darkGray",size:"lg",lineClamp:1,weight:"bold",children:(0,c.jsx)(a.rU,{rel:f,href:d||"",children:s})}),(0,c.jsx)(a.xv,{lineClamp:1,size:"sm",color:"gray",children:l})]}),u&&(0,c.jsx)(a.xu,{marginStart:4,children:u})]})})}},497199:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(218265),o=n(80209);function i(e){var t=e.iconNode,n=e.title,i=e.subtitle,a=e.accessory;return(0,o.jsxs)(r.xu,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[(0,o.jsx)(r.xu,{marginEnd:2,children:t}),(0,o.jsxs)(r.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[(0,o.jsx)(r.xv,{color:"darkGray",size:"lg",lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(r.xv,{lineClamp:1,size:"sm",color:"gray",children:i})]}),a&&(0,o.jsx)(r.xu,{children:a})]})}},629318:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(762803),o=n(80209),i=(0,r.ZP)("BoardOwnershipTransferContext"),a=i.Provider,c=i.useHook;function s(e){var t=e.boardName,n=void 0===t?"":t,r=e.children,i=e.pendingOwnershipTransfer,c=void 0===i?null:i,s=e.viewerIsOwner;return(0,o.jsx)(a,{value:{boardName:n,pendingOwnershipTransfer:c,viewerIsOwner:s},children:r})}t.Z=c},841317:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(793550),o=n(575429),i=n(631739),a=n(34411),c=n(164756),s=n(380322),l=n(174523),u=n(767523),d=n(159276),p=n(218265),f=n(163880),h=n(80209);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,o=I(a);function a(){var e;y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(_(e=o.call.apply(o,[this].concat(n))),"state",{selectedCollaborators:[]}),O(_(e),"handleSubmit",(function(t){var n=e.props,r=n.advertiserId,o=n.dispatch,i=n.onBoardCreate,a=n.viewer,s=n.orbacActingAs,l=(0,d.Ms)(a,s),u=(0,d.lJ)(a,s),p=g(g({name:t.name,description:t.description,privacy:t.privacy,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled},r?{advertiser_id:r}:{}),u?{orbac_subject_id:u}:Object.freeze({}));return o((0,c.aX)(p,void 0,l)).then((function(t){e.inviteSelectedColaborators(t.id),i(t)}))})),O(_(e),"handleSelectedCollaboratorsChange",(function(t){e.setState({selectedCollaborators:t})})),O(_(e),"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:e.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,d.Ms)(e.props.viewer,e.props.orbacActingAs)},pin_count:0}),e}return t=a,(n=[{key:"inviteSelectedColaborators",value:function(e){var t=this.state.selectedCollaborators.filter((function(e){return"email"===e.type}));t.length>=1&&(0,f.OA)(e,t.map((function(e){return e.type})));var n=this.state.selectedCollaborators.filter((function(e){return e.type.startsWith("user")}));n.length>=1&&(0,f.pS)(e,n.map((function(e){return e.id})))}},{key:"render",value:function(){var e=this.props,t=e.advertiserId,n=e.isAdAccountOwner,r=e.onClose,o=e.privacy,a=e.useModalWithNoLayer;return(0,h.jsx)(s.Z,{board:g(g({},this.emptyBoardData),{privacy:n?o:i.Z.BoardPrivacy.PROTECTED}),currentUserIsOwner:!0,gaCategory:"board_create",isAdAccount:!!t,isAdAccountOwner:n,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:r,onSubmit:this.handleSubmit,submitText:this.props.i18n._("Create"," - "," -- "),useModalWithNoLayer:a,title:(0,h.jsx)(p.xu,{paddingY:8,width:"100%",children:(0,h.jsx)(p.X6,{align:"center",size:"md",children:this.props.i18n._("Create board","BoardCreate.BoardCreate","Modal heading")})})})}}])&&v(t.prototype,n),r&&v(t,r),a}(r.Component);function S(e){var t=(0,l.ZP)(),n=(0,a.Z)(),r=(0,o.useSelector)((function(e){var t=e.advertiser;return t?t.id:void 0})),i=(0,u.Z)(),c=(0,o.useSelector)((function(e){var t=e.advertiser;return!t||n.isAuth&&t.owner_user_id===n.id}));return(0,h.jsx)(A,g(g({},e),{},{advertiserId:r,dispatch:(0,o.useDispatch)(),isAdAccountOwner:c,viewer:n,i18n:t,orbacActingAs:i}))}O(A,"defaultProps",{privacy:i.Z.BoardPrivacy.PUBLIC})},640012:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(793550),o=n(575429),i=n(841317),a=n(311866),c=n(330658),s=n(767523),l=n(34411),u=n(174523),d=n(621632),p=n(585967),f=n(218265),h=n(80209);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={dropdown:{alignItems:"center",backgroundColor:"#efefef",border:"none",cursor:"pointer",display:"flex",flexGrow:1,height:40,justifyContent:"space-between",minWidth:0,outline:0,padding:"0 14px",position:"relative"},button:{backgroundColor:"#e60023",border:"none",cursor:"pointer",flex:"none",height:40,outline:0,padding:"0 14px"}},S=function(e){return{color:e?"#111":"#6c6c6c"}},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(l,e);var t,n,o,s=I(l);function l(){var e;y(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(_(e=s.call.apply(s,[this].concat(n))),"state",{selectedBoard:null,showBoardCreate:!1,showFlyout:!1,suggestedBoardName:""}),O(_(e),"_setDefaultBoard",(function(){a.ZP.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0}).callGet({showError:!1}).then((function(t){var n,r=(((t||{}).resource_response||{}).data||{}).all_boards;r&&r.length>0&&e.handleItemChosen({boardId:r[0].id,url:r[0].url,title:r[0].name||"",imageCoverUrl:r[0].image_cover_url,ownerUsername:null===(n=r[0].owner)||void 0===n?void 0:n.username})}))})),O(_(e),"setButtonRef",(function(t){e.buttonRef=t})),O(_(e),"handleBoardDropdownClick",(function(){e.setState((function(e){return{showFlyout:!e.showFlyout}}))})),O(_(e),"handleSaveButtonClick",(function(){var t=e.props,n=t.onSaveClick;t.selectedItem&&n?n():e.setState({showFlyout:!0})})),O(_(e),"handleFlyoutClose",(function(){e.setState({showFlyout:!1})})),O(_(e),"handleItemChosen",(function(t){(0,e.props.onItemChosen)(t),e.handleFlyoutClose()})),O(_(e),"handleCreateSection",(function(t){var n=e.state.selectedBoard;n&&e.handleItemChosen({boardId:n.id,title:t.title||"",sectionId:t.id}),e.handleBoardCreateClose()})),O(_(e),"handleBoardCreateShow",(function(t){var n=t.title;e.setState({showBoardCreate:!0,showFlyout:!1,suggestedBoardName:n})})),O(_(e),"handleBoardCreateClose",(function(){e.setState({showBoardCreate:!1,selectedBoard:null})})),O(_(e),"handleBoardCreate",(function(t){e.props.invalidateBoardPickerBoardsResource(),e.handleItemChosen({boardId:t.id,url:t.url,title:t.name||""}),e.handleBoardCreateClose()})),O(_(e),"handleSetBoardWithSection",(function(t){e.setState({selectedBoard:t})})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedItem,n=e.useDefaultBoard,r=void 0!==n&&n,o=e.disableDefaultBoard;void 0!==o&&o||(r?this._setDefaultBoard():t||this._setDefaultBoard())}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelText,n=e.buttonText,o=e.customItem,a=e.disabled,s=e.flyoutSize,l=e.flyoutZIndex,u=e.hasError,p=e.onSaveClick,b=e.placeholder,m=e.selectedItem,y=e.showBoardCover,v=e.showButton,x=e.showCreateBoardButton,I=e.showFlyoutSaveButton,w=e.showSections,_=e.showSectionSaveButton,j=e.useLayer,O=e.useStoryboardStyle,P=e.useCreateModalWithNoLayer,E=e.requestContext,k=this.state,C=k.selectedBoard,R=k.showBoardCreate,B=k.showFlyout,D=k.suggestedBoardName,T={__style:{borderRadius:8,boxShadow:u&&!O?"0 0 0 1px #e60023":void 0,zIndex:B?l:void 0}},J=E.isRTL,V=O?16:8,M="".concat(V,"px 0 0 ").concat(V,"px"),F="0 ".concat(V,"px ").concat(V,"px 0"),N=J?F:M,U=y&&!!m,Z=g(g({},O?function(e){return{dropdown:{alignItems:"center",backgroundColor:"#ffffff",border:"2px solid ".concat(e?"#e60023":"#dddddd"),cursor:"pointer",display:"flex",flexGrow:1,height:48,justifyContent:"space-between",minWidth:0,outline:0,position:"relative",borderRadius:16}}}(u).dropdown:A.dropdown),{},{borderRadius:B||!v?V:N,padding:U?"0 14px 0 7px":"0 14px",cursor:a?"default":"pointer",pointerEvents:a?"none":"auto"}),L=g(g(g({},A.button),{},{borderRadius:J?M:F},a?{backgroundColor:"#efefef",cursor:"default"}:{}),{},{pointerEvents:a?"none":"auto"});return(0,h.jsxs)(f.xu,{column:12,position:"relative",dangerouslySetInlineStyle:T,children:[(0,h.jsxs)(f.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,h.jsxs)("button",{style:Z,onClick:this.handleBoardDropdownClick,ref:this.setButtonRef,"data-test-id":"board-dropdown-select-button",disabled:a,"aria-disabled":a,children:[(0,h.jsxs)(f.xu,{marginEnd:2,minWidth:0,overflow:"hidden",display:"flex",alignItems:"center",children:[U&&(0,h.jsx)(f.xu,{marginEnd:2,children:(0,h.jsx)(f.zd,{height:32,width:32,rounding:2,children:(0,h.jsx)(f.Ee,{alt:this.props.i18n._("Board cover","boardDropdown.button.selectedBoard.boardCover","Board cover image for selected board"),color:"lightGray",naturalHeight:1,naturalWidth:1,src:(null==m?void 0:m.imageCoverUrl)||"",fit:"cover"})})}),(0,h.jsx)(f.xv,{lineClamp:1,children:(0,h.jsx)("span",{style:S(!!m),children:m?m.title:b})})]}),(0,h.jsx)(f.xu,{flex:"none",marginEnd:-1,children:(0,h.jsx)(f.JO,{accessibilityLabel:this.props.i18n._("Choose a board","Instructions to open board picker","Instructions to open board picker"),color:a?"gray":"darkGray",icon:"arrow-down",size:12})})]}),!B&&v&&(0,h.jsx)("button",{style:L,onClick:this.handleSaveButtonClick,"data-test-id":"board-dropdown-save-button",disabled:a,"aria-disabled":a,children:(0,h.jsx)(f.xv,{color:a?"gray":"white",weight:"bold",children:n||this.props.i18n._("Save","Button to create new Pin","Button to create new Pin")})})]}),B&&(0,h.jsx)(f.J2,{anchor:this.buttonRef,idealDirection:"down",onDismiss:this.handleFlyoutClose,size:s,children:(0,h.jsx)(d.sR,{accessibilityLabelText:t,buttonText:n,customItem:o&&(0,r.cloneElement)(o,{onItemChosen:this.handleFlyoutClose}),onBoardCreate:this.handleBoardCreateShow,onButtonClick:p,onItemChosen:this.handleItemChosen,paneWidth:"number"==typeof s?s:void 0,setBoardWithSection:this.handleSetBoardWithSection,showCreateBoardButton:x,showFlyoutSaveButton:I,showSections:w,showSectionSaveButton:_,useStoryboardStyle:O,useLegoLayout:!1,showSaveToProfile:!1})}),R&&!C&&(0,h.jsx)(i.Z,{onBoardCreate:this.handleBoardCreate,onClose:this.handleBoardCreateClose,suggestedBoardName:D,useModalWithNoLayer:P}),R&&!!C&&(0,h.jsx)(c.Z,{selectedBoard:C,onClose:this.handleBoardCreateClose,onSectionCreate:this.handleCreateSection,useLayer:j})]})}}])&&v(t.prototype,n),o&&v(t,o),l}(r.Component);function E(e){var t=(0,u.ZP)(),n=(0,o.useDispatch)(),r=(0,l.Z)(),i=(0,s.Z)();return(0,h.jsx)(P,g(g({},e),{},{invalidateBoardPickerBoardsResource:function(){return n((0,d.DR)(r,i))},requestContext:(0,p.B)(),i18n:t}))}O(P,"defaultProps",{flyoutSize:"lg",flyoutZIndex:1,showButton:!0,disabled:!1})},483957:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(451190),o=n(174523),i=n(218265),a=n(80209);function c(e){var t=e.cancelButtonLabel,n=e.confirmButtonLabel,c=e.heading,s=e.message,l=e.onCancel,u=e.onConfirm,d=(0,o.ZP)(),p=c||d._("Are you sure?"," - "," -- "),f=t||d._("Cancel"," - "," -- ");return(0,a.jsx)(r.Z,{accessibilityModalLabel:p,footer:(0,a.jsxs)(i.xu,{marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-button",padding:1,children:(0,a.jsx)(i.zx,{fullWidth:!0,onClick:l,size:"lg",text:f})}),(0,a.jsx)(i.xu,{"data-test-id":"confirm-button",padding:1,children:(0,a.jsx)(i.zx,{fullWidth:!0,color:"red",onClick:u,size:"lg",text:n})})]}),heading:p,onDismiss:l,role:"alertdialog",children:(0,a.jsx)(i.xu,{padding:4,children:(0,a.jsx)(i.xv,{children:s})})})}},653827:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return p}});var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(l(e=s.call.apply(s,[this].concat(n))),"check",(function(){var t=e.props,n=t.isAtEnd,r=t.isFetching,o=t.fetchMore,i=t.scrollBuffer,a=t.scrollHeight,c=t.scrollTop;n||r||c+i>a&&o()})),e}return t=u,(n=[{key:"componentDidMount",value:function(){setTimeout(this.check)}},{key:"componentDidUpdate",value:function(){this.check()}},{key:"render",value:function(){return null}}])&&i(t.prototype,n),r&&i(t,r),u}(n(793550).PureComponent)},380322:function(e,t,n){"use strict";n.d(t,{Z:function(){return Fe}});var r=n(793550),o=n(23219),i=n(575429),a=n(476865),c=n(451875),s=n(218265),l=n(80209);function u(e){var t=e.handleTogglePinSelection,n=e.index,r=e.isSelected,o=e.pin;return(0,l.jsx)(s.iP,{onTap:function(){t(n)},rounding:c.mv,children:(0,l.jsx)(a.default,{attributionOption:"hide",blockClickEvents:!0,pin:o,pinId:o.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:r?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:n}})})}var d=n(174523),p=function(e){var t=e.boardPins,n=e.coverPinIndex,r=e.fetchMore,o=e.isLoaded,i=e.handleTogglePinSelection,a=(0,d.ZP)();return o?(0,l.jsx)(s.xu,{paddingY:4,children:(0,l.jsx)(s.Rk,{columnWidth:152,comp:function(e){var t=e.data,r=e.itemIdx;return(0,l.jsx)(u,{handleTogglePinSelection:i,index:r,isSelected:n===r,pin:t})},gutterWidth:16,items:t||[],loadItems:r})}):(0,l.jsx)(s.xu,{padding:6,children:(0,l.jsx)(s.$j,{show:!0,accessibilityLabel:a._("Loading","BoardCoverEdit.Accessibility.Label","accessibility label for loading spinner")})})},f=n(451190),h=n(311866),b=n(535718),m=n(34411),g=n(40197),y=n(159276),v=n(925265),x=n(585967);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={border:0,top:120},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;j(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(E(e=o.call.apply(o,[this].concat(n))),"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),C(E(e),"handleUpdateImage",(function(){var t=e.image;if(t){var n=t.offsetHeight,r=t.offsetWidth;e.setState((function(e){var t=e.holderHeight,o=e.holderWidth;return{isSpinnerShown:!1,startBgPos:{left:-(r-o)/2,top:-(n-t)/2}}}))}})),C(E(e),"handleOnMouseUp",(function(){e.isDragging&&(e.isDragging=!1,e.setState({startBgPos:{left:e.getBgLeft(),top:e.getBgTop()},deltaX:0,deltaY:0}),e.props.updateImgCrop(e.getCropData()))})),C(E(e),"isDragging",!1),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}},{key:"componentDidUpdate",value:function(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}},{key:"getFrameBounds",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.state,o=r.holderHeight;return{left:r.holderWidth/2-n/2,width:n,height:t,top:o/2-t/2}}},{key:"getBgLeft",value:function(){var e=this.props.frameWidth,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),o=r.imgHeight*n,i=r.imgWidth*n,a=0;return o&&i&&((a=this.state.startBgPos.left+this.state.deltaX)+i-e<t.left&&(a=t.left-i+e),a>t.left&&(a=t.left)),a}},{key:"getBgTop",value:function(){var e=this.props.frameHeight,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),o=r.imgHeight*n,i=r.imgWidth*n,a=0;return o&&i&&((a=this.state.startBgPos.top+this.state.deltaY)+o-e<t.top&&(a=t.top-o+e),a>t.top&&(a=t.top)),a}},{key:"getImgScale",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this._getImageDimensions(),o=r.imgHeight,i=r.imgWidth,a=this.getFrameBounds();if(o&&i){var c=o/i;return c=c>=a.height/a.width?n/i:t/o}return 1}},{key:"getImageBounds",value:function(){var e=this._getImageDimensions(),t=e.imgHeight,n=e.imgWidth,r={};if(t&&n){var o=this.getImgScale();r={width:o*n,height:o*t}}return r}},{key:"getBgBounds",value:function(){return{left:this.getBgLeft(),top:this.getBgTop()}}},{key:"getCropData",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.getFrameBounds(),o=this.getBgBounds(),i=this.getImgScale();return{cropX:Math.round(-(o.left-r.left)/i),cropY:Math.round(-(o.top-r.top)/i),height:Math.round(t/i),width:Math.round(n/i),scale:i}}},{key:"handleOnMouseDown",value:function(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}},{key:"handleOnMouseMove",value:function(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}},{key:"_getImageDimensions",value:function(){var e,t,n,r=null===(e=this.props.pin.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==r?void 0:r.height)&&void 0!==t?t:1,imgWidth:null!==(n=null==r?void 0:r.width)&&void 0!==n?n:1}}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.boardName,i=r.frameHeight,a=r.frameWidth,c=r.hideCoverNavigation,u=r.isFirst,d=r.isLast,p=r.isRTL,f=r.pin,h=r.showNextPin,b=r.showPrevPin,m=this.state.isSpinnerShown,g=this._getImageDimensions(),y=g.imgHeight,x=g.imgWidth,I=this.getFrameBounds(),w=this.getImageBounds(),j=this.getBgBounds(),O="";return y&&x&&(O="in"),(0,l.jsxs)("div",{className:"ImageCrop",children:[(0,l.jsxs)("div",{className:"holder",ref:function(e){n.holder=e},children:[(0,l.jsx)("div",{className:"bg",style:j,children:(0,l.jsx)("img",{alt:(0,v.Z)(this.props.i18n._("Board cover for {{ boardName }}"," - "," -- "),{boardName:o}),className:O,onLoad:this.handleUpdateImage,ref:function(e){n.image=e},src:null===(e=f.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:w})}),(0,l.jsxs)("div",{className:"mask",children:[(0,l.jsx)("span",{style:{top:0,left:0,right:0,height:I.top}}),(0,l.jsx)("span",{style:{top:I.top,left:I.left+a,right:0,height:i}}),(0,l.jsx)("span",{style:{top:i+I.top,left:0,right:0,bottom:0}}),(0,l.jsx)("span",{style:{top:I.top,left:0,width:I.left,height:i}})]}),(0,l.jsx)("div",{className:"frame",style:I}),(0,l.jsx)("div",{className:"drag",onMouseDown:function(e){n.handleOnMouseDown(e)},onMouseMove:function(e){n.handleOnMouseMove(e)},onMouseUp:function(){n.handleOnMouseUp()},role:"presentation"}),(0,l.jsx)("div",{className:"spinner",style:{display:m?"":"none"}})]}),u||c?null:(0,l.jsx)(s.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:_(_({},R),{},{left:p?void 0:100,right:p?100:void 0})},children:(0,l.jsx)(s.hU,{icon:"arrow-back",accessibilityLabel:this.props.i18n._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:b})}),d||c?null:(0,l.jsx)(s.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:_(_({},R),{},{left:p?100:void 0,right:p?void 0:100})},children:(0,l.jsx)(s.hU,{icon:"arrow-forward",accessibilityLabel:this.props.i18n._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:h})})]})}}])&&O(t.prototype,n),r&&O(t,r),i}(r.Component);function D(e){var t=(0,d.ZP)(),n=(0,x.B)().isRTL;return(0,l.jsx)(B,_(_({},e),{},{isRTL:!!n,i18n:t}))}var T=n(767523);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=236;function G(e){return e.reduce((function(e,t){return"pin"===t.type&&e.push(t),e}),[])}function X(e){var t=e.boardFeedResource.data,n=e.coverPinId;return Math.max(0,G(t||[]).findIndex((function(e){return e.id===n})))}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=Z(i);function i(){var e;F(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(Q(e=o.call.apply(o,[this].concat(n))),"state",{coverPinIndex:X(e.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),q(Q(e),"handleSave",(function(){var t,n,r,o=e.props,i=o.boardId,a=o.dispatch,c=o.viewer,s=o.orbacActingAs,l=e.state,u=l.coverPinIndex,d=l.imgCropData,p=(e.pins||[])[u],f=(0,y.lJ)(c,s);if(p){var b=null===(t=p.images)||void 0===t?void 0:t["236x"],m=null==b?void 0:b.url,v=d?{crop_x:d.cropX,crop_y:d.cropY,height:d.height,width:d.width,scale:d.scale}:{crop_x:0,crop_y:0,height:null==b?void 0:b.height,width:null==b?void 0:b.width,scale:1},x=M(M({board_id:i,url:m,pin_id:p.id,pin_image_url:m},v),f?{orbac_subject_id:f}:Object.freeze({})),I={height:null!==(n=null==b?void 0:b.height)&&void 0!==n?n:0,width:null!==(r=null==b?void 0:b.width)&&void 0!==r?r:0,x:d?d.cropX:0,y:d?d.cropY:0};h.ZP.create("BoardResource",x).callUpdate().then((function(){e.props.onSave(null!=m?m:""),a((0,g.Cr)(i,{custom_cover:!0,scale:d?d.scale:1,pin_id:p.id,crop:I,image_url:null!=m?m:""}))}))}})),q(Q(e),"updateImgCrop",(function(t){return e.setState({imgCropData:t})})),q(Q(e),"handleShowNextPin",(function(){var t=e.props.boardFeedResource,n=t.isAtEnd,r=t.isFetching,o=t.fetchMore,i=(e.pins||[]).length;i&&e.setState((function(e){return{coverPinIndex:(e.coverPinIndex+1)%i}}),(function(){e.pins&&e.state.coverPinIndex+5>=e.pins.length&&!n&&!r&&o()}))})),q(Q(e),"handleShowPrevPin",(function(){var t=(e.pins||[]).length;t&&e.setState((function(e){return{coverPinIndex:(e.coverPinIndex||t)-1}}))})),q(Q(e),"handleTogglePinSelection",(function(t){var n=e.pins||[];e.setState({coverPinIndex:t,selectedCoverPin:n[t]})})),q(Q(e),"handleCoverEditBackButtonClick",(function(){e.setState({selectedCoverPin:null})})),q(Q(e),"renderBoardCoverMasonry",(function(){var t=e.state,n=t.coverPinIndex,r=t.selectedCoverPin,o=e.props,i=o.boardName,a=o.boardFeedResource,c=o.frameHeight,s=o.frameWidth,u=e.pins||[],d=a.data,f=a.fetchMore,h=a.isLoaded;return r?(0,l.jsx)(D,{boardName:i,frameHeight:null!=c?c:H,frameWidth:null!=s?s:H,isFirst:!n,isLast:n===u.length-1,pin:r,showNextPin:e.handleShowNextPin,showPrevPin:e.handleShowPrevPin,updateImgCrop:e.updateImgCrop,hideCoverNavigation:!0}):(0,l.jsx)(p,{boardPins:d,coverPinIndex:n,fetchMore:f,handleTogglePinSelection:e.handleTogglePinSelection,isLoaded:h})})),q(Q(e),"renderCoverEditHeader",(function(){return(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"center",height:80,children:(0,l.jsx)(s.xu,{width:"100%",padding:4,children:(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.hU,{accessibilityLabel:e.props.i18n._("Navigate to cover picker","BoardEdit.back.button","Cover picker navigate back button"),icon:"arrow-back",iconColor:"darkGray",onClick:e.handleCoverEditBackButtonClick}),(0,l.jsx)(s.X6,{size:"md",children:e.props.i18n._("Move and scale to crop","BoardEdit.Heading.Experiment.Text","edit board heading")}),(0,l.jsx)(s.hU,{accessibilityLabel:e.props.i18n._("Cancel change board cover","BoardCoverEdit.icon.cancel","Cancel board cover edit"),icon:"cancel",iconColor:"darkGray",onClick:e.props.onCancel})]})})})})),e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.boardFeedResource.data;return!t.previousBoardFeedResourceData&&n?{previousBoardFeedResourceData:n,coverPinIndex:X(e)}:{previousBoardFeedResourceData:n}}}],(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach((function(e){"pin"===e.type&&((new Image).src=e.url)}))}},{key:"pins",get:function(){var e=this.props.boardFeedResource.data;return e?G(e):void 0}},{key:"render",value:function(){var e=this.props,t=e.heading,n=e.onCancel,r=this.state,o=r.coverPinIndex,i=r.selectedCoverPin,a=(this.pins||[])[o];return(0,l.jsx)(f.Z,{accessibilityModalLabel:this.props.i18n._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:i?this.renderCoverEditHeader():t,onDismiss:n,footer:i&&(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:(0,l.jsx)(s.xu,{padding:2,children:(0,l.jsx)(s.zx,{disabled:!a,onClick:this.handleSave,text:this.props.i18n._("Done","BoardCoverEdit.Button.Submit.Exp","Button for saving board cover edit")})})}),children:this.renderBoardCoverMasonry()})}}])&&N(t.prototype,n),r&&N(t,r),i}(r.Component);function K(e){var t=(0,d.ZP)(),n=(0,i.useDispatch)(),r=(0,b.Z)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return(0,l.jsx)(Y,M(M({},e),{},{boardFeedResource:r,dispatch:n,i18n:t,viewer:(0,m.Z)(),orbacActingAs:(0,T.Z)()}))}var z=n(483957),$=function(e){var t=e.label,n=e.labelId;return n?(0,l.jsx)(s.__,{htmlFor:n,children:(0,l.jsx)(s.xv,{size:"sm",children:t})}):(0,l.jsx)(s.xv,{size:"sm",children:t})};function ee(e){var t=e.children,n=e.label,o=e.labelId;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.xu,{marginBottom:2,children:(0,l.jsx)($,{label:n,labelId:o})}),t]})}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re=138;function oe(e){var t=e.coverPin,n=e.handleShowBoardCoverEditModal,o=(0,d.ZP)(),i=te((0,r.useState)(!1),2),a=i[0],c=i[1],u=(0,x.B)().isRTL;return(0,l.jsx)(ee,{label:o._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover"),children:(0,l.jsx)(s.xu,{width:re,position:"relative",children:(0,l.jsx)(s.iP,{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onTap:n,rounding:4,children:null!=t&&t.custom_cover?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.zd,{height:re,rounding:4,width:re,children:(0,l.jsx)(s.Ee,{alt:t.image_url,color:"gray",fit:"cover",naturalHeight:t.size&&t.size[0]||re,naturalWidth:t.size&&t.size[0]||re,src:t.image_url})}),(0,l.jsx)(s.xu,{position:"absolute",left:u,right:!u,bottom:!0,padding:2,children:(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:a?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,l.jsx)(s.JO,{accessibilityLabel:o._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})})})]}):(0,l.jsx)(s.xu,{alignItems:"center",color:a?"darkWash":"lightGray",display:"flex",height:re,justifyContent:"center",rounding:4,width:re,children:(0,l.jsx)(s.JO,{accessibilityLabel:o._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})})})})})}function ie(e){var t=e.children,n=e.label,o=e.labelId,i=e.subtext;return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(s.xu,{alignItems:"start",display:"flex",justifyContent:"start",paddingY:1,children:[t,(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsxs)(s.__,{htmlFor:o,children:[(0,l.jsx)(s.xv,{size:"lg",weight:"bold",children:n}),i]})})]})})}function ae(e){var t=e.hasCollabBoardEmail,n=e.isCollaborative,r=e.onCheckboxChange,o=(0,d.ZP)();return n&&(0,l.jsx)(ie,{label:o._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:(0,l.jsx)(s.xv,{color:"gray",size:"lg",children:o._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form")}),children:(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.XZ,{checked:t,id:"emailNotificationsCheckbox",name:"email",onChange:r})})})})}var ce=n(16719),se=n(946753);function le(e){var t=e.board,n=e.onCollaboratorInviteClick,r=(0,d.ZP)(),o=(0,ce.Z)({boardId:t.id,ownerName:t.owner.full_name,ownerUsername:t.owner.username,ownerImgSrc:t.owner.image_key||t.owner.image_medium_url||t.owner.image_small_url||""}),i=o.slice(0,3).map((function(e){return e.name})),a="";switch(o.length){case 3:a=(0,se.Wc)("".concat(r._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames")),{first:"".concat(i[0]),second:"".concat(i[1]),last:"".concat(i[2])});break;case 2:a=(0,se.Wc)("".concat(r._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames.")),{first:"".concat(i[0]),second:"".concat(i[1])});break;default:a=i.join(", ")}var c=o.length>3?(0,se.Wc)(r.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",o.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:a,leftCount:"".concat(o.length-3)}):(0,se.Wc)("".concat(r._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators")),{userNames:a});return(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.HE,{accessibilityLabel:c,collaborators:o.map((function(e){var t=e.name,n=e.src;return{src:null!=n&&n.endsWith("/default_75.png")?void 0:n,name:t}})),size:"md"}),(0,l.jsx)(s.hU,{accessibilityLabel:r._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"})]})}var ue=n(702922),de=n(773559);function pe(e){var t=e.board,n=e.onCollaboratorInviteClick,r=(0,d.ZP)(),o=(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(s.xv,{size:"sm",inline:!0,children:r._("Collaborators"," - "," -- ")}),(0,l.jsx)(ue.Z,{}),(0,l.jsx)(s.xv,{inline:!0,size:"sm",weight:"bold",children:(0,l.jsx)(s.rU,{inline:!0,target:"blank",href:de.Z.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,children:r._("Learn more"," - "," -- ")})})]});return(0,l.jsx)(ee,{alignTop:!0,label:o,labelId:"collaborators",children:(0,l.jsx)(le,{board:t,onCollaboratorInviteClick:n})})}function fe(e){var t=e.collaboratorInvitesEnabled,n=e.isCollaborative,r=e.onCheckboxChange,o=(0,d.ZP)();return n&&(0,l.jsx)(ie,{label:o._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,l.jsx)(s.XZ,{checked:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:r})})}function he(e){var t=e.description,n=e.descriptionValidatorErrors,r=e.onChange,o=(0,d.ZP)(),i="boardEditDescription";return(0,l.jsx)(ee,{alignTop:!0,label:o._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:i,children:(0,l.jsx)(s.Kx,{errorMessage:n.join(", "),id:i,name:"description",onChange:r,placeholder:o._("What's your board about?"," - "," -- "),value:t})})}var be=function(e){var t=e.children;return(0,l.jsx)(s.xu,{paddingX:8,role:"list",children:r.Children.map(t,(function(e,n){return e&&(0,l.jsx)(s.xu,{role:"listitem",marginBottom:n===r.Children.count(t)-1?1:8,children:e},n)}))})},me=n(631739);function ge(e){var t=e.isProtectedToggler,n=e.isToggleDisable,o=e.onChange,i=e.onCheckboxChange,a=e.privacy,c=(0,d.ZP)();if(!0===t)return(0,l.jsx)(ie,{label:c._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:(0,l.jsx)(s.xu,{paddingY:2,children:(0,l.jsx)(s.rs,{onChange:o,switched:a===me.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:n})})});if(a!==me.Z.BoardPrivacy.PROTECTED){var u=c._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),p=(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(s.xv,{color:"gray",size:"lg",children:[c._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",(0,l.jsx)(s.rU,{inline:!0,target:"blank",href:de.Z.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:c._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return(0,l.jsx)(ie,{label:u,labelId:"secret",subtext:p,children:(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(s.XZ,{checked:a===me.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:i,disabled:n})})})}return null}function ye(e){var t=e.allowHomefeedRecommendations,n=e.onCheckboxChange,r=(0,d.ZP)();return(0,l.jsx)(ie,{label:r._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:(0,l.jsx)(s.xv,{color:"gray",size:"lg",children:r._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility")}),children:(0,l.jsx)(s.XZ,{checked:t,id:"recommendation",name:"recommendation",onChange:n})})}function ve(e){var t=e.name,n=e.nameValidatorErrors,r=e.onChange,o=(0,d.ZP)();return(0,l.jsx)(ee,{label:o._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName",children:(0,l.jsx)(s.nv,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:r,placeholder:o._('Like "Places to Go" or "Recipes to Make"'," - "," -- "),size:"lg",value:t})})}var xe=n(454690),Ie=n(754999),we=n(880841),_e=n(997993);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e,t){return(0,_e.Gy)({max:e,maxErrorString:(0,Ie.Z)(t._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})})},Te=function(e){return[De(me.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},Je=function(e){return[(0,_e.aH)({message:e._("Don't forget to name your board!"," - "," -- ")}),De(me.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},Ve=function(e){var t=e.condition,n=e.children;return t?(0,l.jsx)(s.xu,{position:"absolute",zIndex:f.b,children:n}):n},Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(c,e);var t,n,i,a=Ee(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Be(Ce(t=a.call(this,e)),"handleChangeName",(function(e){var n=e.value,r=(0,_e.FU)(Je(t.props.i18n),n);t.setState({name:n,nameValidatorErrors:r})})),Be(Ce(t),"handleChangeDescription",(function(e){var n=e.value,r=(0,_e.FU)(Te(t.props.i18n),n);t.setState({description:n,descriptionValidatorErrors:r})})),Be(Ce(t),"handleChangePrivacyToggle",(function(e){var n="public";e.value&&(n=t.props.isAdAccount?"protected":"secret"),t.state.privacy!==n&&t.setState({privacy:n})})),Be(Ce(t),"handleChangePrivateToggle",(function(e){var n=e.value;t.setState({privacy:n?"secret":"public"})})),Be(Ce(t),"handleEnableSecret",(function(){t.setState({privacy:"secret",showSecretConfirmation:!1})})),Be(Ce(t),"handleShowSecretConfirmation",(function(){t.setState({showSecretConfirmation:!0})})),Be(Ce(t),"handleHideSecretConfirmation",(function(){t.setState({showSecretConfirmation:!1})})),Be(Ce(t),"handleChangeRecommendationToggle",(function(e){var n=e.value;t.setState({allowHomefeedRecommendations:n})})),Be(Ce(t),"handleChangeCollabBoardEmail",(function(e){var n=e.value;t.setState({collab_board_email:n})})),Be(Ce(t),"handleChangeCollaboratorInvitesEnabled",(function(e){var n=e.value;t.setState({collaboratorInvitesEnabled:n})})),Be(Ce(t),"handleCancel",(function(){xe.Z.trackEvent(t.props.gaCategory,"click_cancel"),t.props.onClose()})),Be(Ce(t),"handleCheckboxChange",(function(e){return function(t){var n=t.event,r=t.checked;return e({event:n,value:r})}})),Be(Ce(t),"handleSubmit",(function(e){var n=t.props.onSubmit,r=t.state,o=r.collab_board_email,i=r.collaboratorInvitesEnabled,a=r.description,c=r.name,s=r.privacy,l=r.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!t.submitDisabled()){var u=c.trim(),d=a.trim();t.setState({submitting:!0,submitError:""}),xe.Z.trackEvent(t.props.gaCategory,"click_submit"),n({name:u,collab_board_email:o,collaborator_invites_enabled:i,description:d,privacy:s,allow_homefeed_recommendations:l}).then((function(){t.setState({submitting:!1})})).catch((function(e){var n=t.props.i18n._("Uh oh! Something went wrong."," - "," -- ");if(e.message){var r=e.message,o=e.message_detail;n=o?"".concat(r," ").concat(o):r}else"string"==typeof e&&(n=e);t.setState({submitting:!1,submitError:n})}))}})),Be(Ce(t),"handleShowBoardCoverEditModal",(function(){t.setState({showBoardCoverEdit:!0})})),Be(Ce(t),"handleHideBoardCoverEditModal",(function(){t.setState({showBoardCoverEdit:!1})})),Be(Ce(t),"handleShowCollaboratorsModal",(function(){t.setState({showCollaboratorsModal:!0})})),Be(Ce(t),"handleHideCollaboratorsModal",(function(){t.setState({showCollaboratorsModal:!1})})),Be(Ce(t),"handleSaveBoardCoverEditModal",(function(e){t.handleHideBoardCoverEditModal();var n=t.props.onCropChange;n&&n(e)}));var n=e.board,r=n.collab_board_email,o=n.collaborator_invites_enabled,i=n.description,s=n.name,l=n.pin_count,u=n.privacy,d=n.allow_homefeed_recommendations;return t.state={collab_board_email:r,description:i,name:s,pin_count:l,privacy:u,allowHomefeedRecommendations:d,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:s,previousDescription:i,previousPrivacy:u},t}return t=c,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=(0,_e.FU)(Je(e.i18n),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=(0,_e.FU)(Te(e.i18n),e.board.description)),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}}],(n=[{key:"getFormFooter",value:function(){var e=this.props.submitText,t=this.state.submitError;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:(0,l.jsx)(s.xu,{height:48,children:(0,l.jsx)(s.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(s.xv,{color:"red",children:t})})]})}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,n=e.name,r=e.nameValidatorErrors,o=e.submitting;return!n||r.length>0||t.length>0||o}},{key:"render",value:function(){var e=this.props,t=e.board,n=e.board,i=n.archived_by_me_at,a=n.cover_pin,c=n.id,u=n.is_collaborative,d=e.coverImageHeight,p=e.coverImageWidth,h=e.currentUserIsOwner,b=e.handleBoardLeave,m=e.isAdAccount,g=e.isAdAccountOwner,y=e.isDeletable,v=e.isEditable,x=e.isNameAndSecretView,I=e.onClose,w=e.onDeleteButtonClick,_=e.requestContext,j=e.title,O=e.useModalWithNoLayer,A=this.state,S=A.allowHomefeedRecommendations,P=A.collab_board_email,E=A.collaboratorInvitesEnabled,k=A.description,C=A.descriptionValidatorErrors,R=A.name,B=A.nameValidatorErrors,D=A.pin_count,T=A.privacy,J=A.showBoardCoverEdit,V=A.showCollaboratorsModal,M=A.showSecretConfirmation,F=v&&D>0,N=(0,l.jsxs)(be,{children:[F&&(0,l.jsx)(oe,{coverPin:a,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,l.jsx)(ve,{name:R,nameValidatorErrors:B,onChange:this.handleChangeName}),(0,l.jsx)(he,{description:k,descriptionValidatorErrors:C,onChange:this.handleChangeDescription}),h&&!!b&&(0,l.jsx)(pe,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,l.jsx)(s.xu,{marginBottom:-7,children:(0,l.jsx)(s.xv,{size:"sm",children:this.props.i18n._("Settings","BoardForm.BoardForm","Section heading in board edit form")})}),(0,l.jsx)(ge,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:T}),!i&&(0,l.jsx)(ye,{allowHomefeedRecommendations:S,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,l.jsx)(ae,{hasCollabBoardEmail:P,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,l.jsx)(fe,{collaboratorInvitesEnabled:E,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),y&&(0,l.jsxs)(s.xu,{marginTop:-6,paddingY:4,children:[(0,l.jsx)(s.xv,{size:"sm",children:this.props.i18n._("Action","BoardForm.BoardForm.Action","Section heading in board edit form")}),(0,l.jsxs)(s.iP,{onTap:w,children:[(0,l.jsx)(s.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,l.jsx)(s.X6,{size:"sm",children:this.props.i18n._("Delete board","BoardForm.Delete","Delete board label")})}),(0,l.jsx)(s.xv,{size:"lg",color:"gray",children:this.props.i18n._("Delete this board and all its Pins forever.","BoardForm.BoardForm.Delete.Label","Delete board warning text")}),(0,l.jsx)(s.xv,{size:"lg",color:"gray",children:this.props.i18n._("You can't undo this!","BoardForm.BoardForm.Delete.LabelTwo","Delete board warning text")})]})]})]});h?x&&(N=(0,l.jsxs)(be,{children:[(0,l.jsx)(ve,{name:R,nameValidatorErrors:B,onChange:this.handleChangeName}),(0,l.jsx)(ge,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,privacy:T,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):N=(0,l.jsxs)(be,{children:[!!b&&(0,l.jsx)(pe,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,l.jsx)(ae,{hasCollabBoardEmail:P,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!i&&(0,l.jsx)(ye,{allowHomefeedRecommendations:S,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,l.jsx)(s.xv,{color:"gray",size:"lg",children:(0,se.nk)(this.props.i18n._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:(0,l.jsx)(s.xv,{color:"gray",inline:!0,size:"lg",weight:"bold",children:t.owner.full_name})})})]});var U=O?s.u_:f.Z,Z=this.props.i18n._("Change board cover","BoardForm.BoardCoverEdit.heading","Change board cover heading"),L=(0,l.jsxs)(s.xu,{paddingY:8,position:"relative",children:[(0,l.jsx)(s.X6,{align:"center",size:"md",children:Z}),(0,l.jsx)(s.xu,{position:"absolute",top:!0,left:_.isRTL,right:!_.isRTL,paddingY:8,paddingX:6,children:(0,l.jsx)(s.hU,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardForm.BoardCoverEdit.cancel","Cancel change board cover heading"),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})})]});return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(Ve,{condition:!!O,children:!J&&!V&&(0,l.jsx)(U,{accessibilityModalLabel:this.props.i18n._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:I,footer:this.getFormFooter(),heading:j,children:(0,l.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,l.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:N})})})}),J&&(0,l.jsx)(K,{boardId:c,boardName:R,coverPinId:null==a?void 0:a.pin_id,frameHeight:d,frameWidth:p,heading:L,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),M&&(0,l.jsx)(z.Z,{confirmButtonLabel:this.props.i18n._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:this.props.i18n._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:this.props.i18n._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),V&&(0,l.jsx)(o.Z,{board:t,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})]})}}])&&Se(t.prototype,n),i&&Se(t,i),c}(r.Component);Be(Me,"defaultProps",{isNameAndSecretView:!1});var Fe=(0,we.Cl)((function(e){var t=(0,d.ZP)();return(0,l.jsx)(Me,Ae(Ae({},e),{},{i18n:t,requestContext:(0,x.B)()}))}))},138881:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(21755),o=n(300970),i=n(34411),a=n(59737),c=n(585967),s=n(80209),l=function(e,t,n){return e.isAuth&&e.isPartner&&(0,o.Z)(null,e)&&"en"===t&&0===n};function u(e){var t=e.children,n=(0,i.Z)(),o=(0,c.B)(),u=o.experiments,d=o.language,p=(0,a.u7)().site_type;return(0,s.jsx)(r.Z,{activate:!0,group:u.v2GetGroup("smb_growth_boost_text")||"",isEligible:l(n,d,p),name:"smb_growth_boost_text",children:t})}},317442:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(793550),o=n(174523),i=n(80209);function a(){var e=(0,o.ZP)();return(0,i.jsx)(r.Fragment,{children:e._("400 million","[m10n] number of monthly active users on pinterest","[m10n] number of monthly active users on pinterest")})}},829522:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(793550),o=n(575429),i=n(551687),a=n(311866),c=n(689859),s=n(549156),l=n(881220),u=n(174523),d=n(946753),p=n(457175),f=n(181307),h=n(880841),b=n(991313),m=n(317485),g=n(218265),y=n(80209);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=(0,r.lazy)((function(){return n.e(6649).then(n.bind(n,6649))}));function w(e){var t=e.handleComplete,n=e.isNag,x=(0,p.v)().logContextEvent,w=(0,u.ZP)(),_=v((0,r.useState)(!1),2),j=_[0],O=_[1],A=(0,o.useDispatch)(),S=(0,h.F9)().showOneToast,P=(0,f.aq)("web_cookie_reject_all").anyEnabled;(0,r.useEffect)((function(){x({event_type:13,component:13716,view_type:474})}),[x]);var E=function(){x({event_type:101,component:13716,element:11986}),O(!0)},k=function(){x({event_type:101,component:13716,element:11984}),a.ZP.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}).callUpdate().then((function(){A((0,m.YU)()),S((function(e){var t=e.onHide;return(0,y.jsx)(l.Z,{duration:b.Q,onHide:t,text:w._("We saved your cookie preferences. You can change them in the settings section of your profile at any time.","homeFeed.cookiesConsentBanner.acceptedAllToastText","Success message after accepting all optional cookies")})})),t()}))};return(0,y.jsxs)(g.xu,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:n?2:0,children:[(0,y.jsxs)(g.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:n?0:6,overflow:"hidden",padding:n?3:6,position:"relative",rounding:4,children:[(0,y.jsx)(g.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:(0,y.jsxs)(g.xv,{children:[w._("We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.","homeFeed.cookiesConsentBanner.bannerText","Banner description about why we use cookies")," ",(0,d.nk)(w._("Read our {{ cookiePolicyLink }} for more information.","homeFeed.cookiesConsentBanner.readCookiePolicyText",'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,y.jsx)(g.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(g.rU,{href:b.l,inline:!0,target:"blank",children:w._("cookie policy","homeFeed.cookiesConsentBanner.cookiePolicyLink","Cookie policy link")},"cookie-policy-link")})})]})}),P?(0,y.jsxs)(g.xu,{alignItems:"center",display:"flex",direction:"row",flex:"none",justifyContent:"center",mdDirection:"row",smDirection:"column",marginTop:4,smMarginTop:0,children:[(0,y.jsx)(g.zx,{accessibilityLabel:w._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButtonLabel","Button that let user to opt-in on all optional cookies"),onClick:k,size:"lg",text:w._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButton","Button that let user to opt-in on all optional cookies")}),(0,y.jsx)(g.xu,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:(0,y.jsx)(g.zx,{accessibilityLabel:w._("Reject all","homeFeed.cookiesConsentBanner.rejectAllButtonLabel","Button that let user to opt-out on all optional cookies"),onClick:function(){x({event_type:101,component:13716,element:11985}),a.ZP.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}).callUpdate().then((function(){A((0,m.XM)()),S((function(e){var t=e.onHide;return(0,y.jsx)(l.Z,{duration:b.Q,onHide:t,text:w._("We saved your cookie preferences. You can change them in the settings section of your profile at any time.","homeFeed.cookiesConsentBanner.acceptedAllToastText","Success message after accepting all optional cookies")})})),t()}))},size:"lg",text:w._("Reject all","homeFeed.cookiesConsentBanner.rejectAllButton","Button that let user to opt-out on all optional cookies")})}),(0,y.jsx)(g.xu,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:(0,y.jsx)(g.zx,{accessibilityLabel:w._("Let me choose","homeFeed.cookiesConsentBanner.editButtonLabel","Button that let user choose cookies preference"),onClick:E,size:"lg",text:w._("Let me choose","homeFeed.cookiesConsentBanner.editButton","Button that let user choose cookies preference")})})]}):(0,y.jsxs)(g.xu,{alignItems:"center",display:"flex",direction:"row",flex:"none",justifyContent:"center",mdDirection:"row",smDirection:"column",marginTop:4,smMarginTop:0,children:[(0,y.jsx)(g.zx,{accessibilityLabel:w._("Manage cookies","homeFeed.cookiesConsentBanner.editButtonLabel","Button that let user choose cookies preference"),onClick:E,size:"lg",text:w._("Manage cookies","homeFeed.cookiesConsentBanner.editButton","Button that let user choose cookies preference")}),(0,y.jsx)(g.xu,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:(0,y.jsx)(g.zx,{accessibilityLabel:w._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButtonLabel","Button that let user to opt-in on all optional cookies"),color:"red",onClick:k,size:"lg",text:w._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButton","Button that let user to opt-in on all optional cookies")})})]})]}),j&&(0,y.jsx)(i.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,y.jsx)(c.Z,{children:(0,y.jsx)(s.Z,{id:"settings-modal",children:(0,y.jsx)(I,{closeModal:function(){return O(!1)},handleComplete:t})})})})]})}},991313:function(e,t,n){"use strict";n.d(t,{l:function(){return r},Q:function(){return o}});var r="https://policy.pinterest.com/cookies",o=3e3},949876:function(e,t,n){"use strict";n.r(t);var r=n(793550),o=n(151101),i=n(925265),a=n(475896),c=n(537343),s=n(549156),l=n(174523),u=n(320145),d=n(8742),p=n(181307),f=n(11200),h=n(946753),b=n(218265),m=n(80209);t.default=function(e){var t=(0,l.ZP)(),n=e.followerCount,g=e.fullName,y=e.hasVerifiedIdentity,v=e.imageUrl,x=e.isPromoted,I=e.isVerifiedMerchant,w=e.profileUrl,_=e.sponsorName,j=e.sponsorshipStatus,O=e.sponsorUsername,A=void 0===O?"":O,S=e.verified,P=e.color,E=void 0===P?"darkGray":P,k=e.onNavigateClick,C=e.onNavigateSponsorClick,R=e.openNewTab,B=(0,p.tc)("mweb_web_android_ios_backend_clbc_display_controls")().anyEnabled,D=(0,i.Z)(t._("{{ fullName }} avatar link","creatorCardProfile.avatar.accessibilityLabel","Accessibility label for user avatar"),{fullName:null!=g?g:""}),T=(0,m.jsx)(d.q,{children:function(e){var t=e.active,n=e.focused,r=e.hovered,i=e.onBlur,a=e.onFocus,c=e.onMouseEnter,s=e.onMouseLeave;return(0,m.jsx)(b.xu,{onBlur:i,onFocus:a,onMouseEnter:c,onMouseLeave:s,children:(0,m.jsx)(b.zd,{rounding:"circle",wash:r||t||n,children:(0,m.jsx)(o.Z,{accessibilityLabel:D,name:null!=g?g:"",size:"md",src:null!=v?v:"",verified:S})})})}}),J=(0,c.ZP)(g,70),V=(0,m.jsxs)(r.Fragment,{children:[x&&(0,m.jsx)(b.xv,{size:"md",lineClamp:1,weight:"bold",children:t._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin")}),(0,m.jsx)(s.Z,{id:"creator-profile-name",children:(0,m.jsx)(b.xu,{maxWidth:270,children:(0,m.jsx)(b.xv,{color:E,size:"md",weight:"bold",children:y||I?(0,m.jsx)(u.Z,{badgeSize:"xs",badgeSpacing:2,fullName:J,identityIsVerified:y,isVerifiedMerchant:I}):g})})})]}),M=A&&_,F=M||f.j.includes(j)&&B,N=M?(0,m.jsx)(b.xv,{inline:!0,size:"md",weight:"bold",children:(0,m.jsx)(b.rU,{href:"/".concat(A,"/"),onClick:C,children:(0,c.ZP)(_,20)})}):void 0;return(0,m.jsxs)(b.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,m.jsx)(b.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:w?(0,m.jsx)(b.iP,{role:"link",target:R?"blank":null,onTap:k,href:w,children:T}):T}),(0,m.jsxs)(b.xu,{children:[(0,m.jsx)(b.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:w?(0,m.jsx)(b.rU,{hoverStyle:"none",href:w,onClick:k,target:R?"blank":null,children:V}):V}),F?(0,m.jsx)(b.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,m.jsx)(f.Z,{isPromoted:x,sponsorName:N,sponsorshipStatus:j})}):!!n&&(0,m.jsx)(b.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,m.jsx)(b.xv,{color:E,size:"md",children:(0,h.nk)(t.ngettext("{{ followerCount }} follower","{{ followerCount }} followers",n,"closeup.creator.followerCount","the number of followers the creator of the pin has"),{followerCount:(0,m.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n},n)})})})]})]})}},418448:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(641483),o=n(549135);function i(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}function c(e){return s.apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(t){var n,i,a,c,s,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filename,i=t.imgSrc,a=t.imageDownloadSuccessCallback,c=t.category,s=t.isUnauth,l=t.pinId,u=t.viewParameter,d=t.viewType,"undefined"!=typeof window){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if((0,r.ZP)("web.".concat(s?"unauth":"auth",".download.click.").concat(c||"no_category")),(0,o.j)(82,{objectId:l,view:d||3,viewParameter:u||139}),!i||!document){e.next=9;break}return e.abrupt("return",fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((function(e){return e.blob()})).then((function(e){var t,r,o=document.createElement("a");o.href=window.URL.createObjectURL(e),o.setAttribute("download",n&&n.replace(".","_")),o.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(o),o.click(),null===(r=document.body)||void 0===r||r.removeChild(o),null==a||a()})).catch((function(){throw new Error("Download image error")})));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297633:function(e,t,n){"use strict";n.d(t,{y:function(){return h}});var r=n(793550),o=n(774665),i=n(500637),a=n(80209);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};var b={hover:function(e,t,n){var r=e.index;(0,e.onDragHover)(r,function(e,t){var n=t.targetEl;if(!(n&&n instanceof HTMLElement))return null;var r=e.getClientOffset(),o=r.x,i=r.y,a=n.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(a.left+a.right)/2,y:i-(a.top+a.bottom)/2},boundingBox:{width:a.width,height:a.height}}}(t,n))}},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,r,o=d(i);function i(){return s(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.connectDragSource,o=t.connectDropTarget,i=t.isDragging,c=t.isDraggingInternal;return r(o((0,a.jsx)("div",{ref:function(t){return e.targetEl=t},style:{opacity:i||c?0:1},children:n})))}}])&&l(t.prototype,n),r&&l(t,r),i}(r.Component);t.Z=(0,i.compose)((0,o.GR)((function(e){return e.type}),b,(function(e){return{connectDropTarget:e.dropTarget()}})),(0,o.Ej)((function(e){return e.type}),{beginDrag:function(e){var t=e.index;return(0,e.onDragBegin)(t),{index:t}},endDrag:function(e,t){return(0,e.onDragEnd)(t.didDrop())}},(function(e,t){return{connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}})))(m)},308125:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(747033),o=n(923784),i=n(80209);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,o.ZP)({resolved:{},chunkName:function(){return"EditorWithMentionsInternal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(65475),n.e(35978)]).then(n.bind(n,473749))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 473749}});function u(e){return(0,i.jsx)(l,c(c({},e),{},{fallback:(0,i.jsx)(r.Z,{})}))}},747033:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(174523),o=n(218265),i=n(80209);function a(){var e=(0,r.ZP)();return(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(o.$j,{accessibilityLabel:e._("Loading editor","EditorWithMentionsFallback.loading","Message shown while waiting for the editor to load"),show:!0})})}},237893:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(793550),o=n(937706);function i(e){return(0,e.children)((0,r.useContext)(o.Z))}},937706:function(e,t,n){"use strict";var r=n(793550);t.Z=(0,r.createContext)([null,function(){}])},773531:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(793550),o=n(451190),i=n(862371),a=n(218265),c=n(80209);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={backgroundColor:"transparent",border:0,borderRadius:"8px",bottom:0,cursor:"pointer",height:"100%",left:0,padding:0,position:"relative",right:0,top:0,width:"100%"};function d(e){var t=e.activeColor,n=void 0===t?"#a3081a":t,o=e.delay,l=void 0===o?0:o,d=e.disabledTimer,p=void 0!==d&&d,f=e.duration,h=e.height,b=e.hoverColor,m=void 0===b?"#ad081b":b,g=e.onClick,y=e.text,v=s((0,r.useState)(0),2),x=v[0],I=v[1],w=s((0,r.useState)(!1),2),_=w[0],j=w[1],O=s((0,r.useState)(!1),2),A=O[0],S=O[1],P=(0,r.useCallback)((function(){return j(!1)}),[]),E=(0,r.useCallback)((function(){return j(!0)}),[]),k=(0,r.useCallback)((function(){return S(!0)}),[]),C=(0,r.useCallback)((function(){return S(!1)}),[]),R=(0,r.useRef)(null),B=(0,r.useRef)(null),D=(0,r.useCallback)((function(){clearTimeout(R.current),clearTimeout(B.current),R.current=null,B.current=null})),T=(0,r.useCallback)((function(){D(),g(),S(!1),I(0)}),[g]);return(0,r.useEffect)((function(){p||(B.current=setTimeout((function(){return I(100)}),l),R.current=setTimeout(T,l+f))}),[p]),(0,r.useEffect)((function(){return D}),[]),(0,c.jsx)(a.xu,{color:"red","data-test-id":"timed-button",height:h,minWidth:100,onBlur:C,onFocus:k,onMouseEnter:E,onMouseLeave:P,overflow:"hidden",position:"relative",rounding:5,children:(0,c.jsxs)("button",{style:u,onClick:T,children:[(0,c.jsx)(a.xu,{color:"darkGray",dangerouslySetInlineStyle:{__style:{backgroundColor:p?"transparent":n,borderRadius:"8px 0px 0px 8px",transition:p?void 0:(0,i.Z)({duration:f,property:"width",timingFunction:"linear"})}},"data-test-id":"timed-button-progress-bar",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,width:"".concat(x,"%")}),(0,c.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:A||_?m:void 0}},display:"flex",justifyContent:"center",height:"100%",position:"relative",rounding:2,children:(0,c.jsx)(a.xu,{paddingX:2,children:(0,c.jsx)(a.xv,{color:"white",overflow:"normal",weight:"bold",children:y})})})]})})}var p=n(174523),f=n(946753),h=n(457175),b=n(585967);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={delay:700,duration:600,property:"opacity",timingFunction:"easeInOut"},v={delay:800,duration:600,property:"opacity",timingFunction:"easeInOut"},x={property:"opacity",duration:500,timingFunction:"easeIn",delay:3300};function I(){}function w(e){var t=e.autoAdvance,n=void 0===t||t,s=e.completionButtonText,l=e.containsHlsVideoComponent,u=e.isDismissable,g=void 0===u||u,w=e.onComplete,_=e.onDismiss,j=e.steps,O=(0,h.v)().logContextEvent,A=(0,p.ZP)(),S=m((0,r.useState)(0),2),P=S[0],E=S[1],k=m((0,r.useState)(0),2),C=k[0],R=k[1],B=m((0,r.useState)(!1),2),D=B[0],T=B[1],J=(0,b.B)().isRTL,V=(0,r.useCallback)((function(){T(!0)}),[]),M=function(){O({event_type:101,component:13473,element:11556,aux_data:{education_active_step_id:j[P]&&j[P].id}}),w()},F=(0,r.useCallback)((function(){P<j.length-1?(O({event_type:101,component:13472,element:11559}),E(P+1),T(!1)):M()}),[O,j,P,M]);return(0,r.useEffect)((function(){D&&R(1)}),[P,D]),(0,c.jsx)(o.Z,{accessibilityModalLabel:A._("In-product education modal","EducationModal.accessibilityModalLabel","Accessibility label for modal showing user eduction"),allowMediaPlay:l,heading:(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:C,transition:(0,i.Z)(y)}},height:474,width:"100%",children:[(0,r.cloneElement)(j[P].element,{onStart:V}),(0,c.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:C,transition:n?(0,i.Z)(x):void 0}},display:"flex",left:!0,marginBottom:5,padding:2,position:"absolute",right:!0,children:(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:[j.length>1&&(0,c.jsx)(a.xv,{color:"gray",size:"md",weight:"bold",children:(0,f.nk)(A._("{{ index }} of {{totalSteps}}","Footer text indicating position in guide screen (e.g. 1 of 3)","Footer text indicating position in guide screen (e.g. 1 of 3)"),{index:P+1,totalSteps:j.length})}),(0,c.jsx)(a.xu,{bottom:!0,marginEnd:5,position:"absolute",right:!J,left:J,children:(0,c.jsx)(d,{disabledTimer:!n||P===j.length-1||!D,delay:0===P?3300:void 0,duration:9e3,height:36,onClick:F,text:P<j.length-1?A._("Next","Button text to go to next step in education","Button text to go to next step in education"):s||A._("Take Tour","Button text to start tour","Button text to start tour")})})]})}),g&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:C,transition:(0,i.Z)(v)}},position:"absolute",marginEnd:4,marginTop:4,right:!J,left:J,top:!0,children:(0,c.jsx)(a.hU,{accessibilityLabel:A._("Cancel","Icon Button text to Cancel","Icon Button text to Cancel"),icon:"cancel",onClick:function(){O({event_type:101,component:13473,element:11557,aux_data:{education_active_step_id:j[P]&&j[P].id}}),_()}})})]}),onDismiss:I,role:"alertdialog",size:"lg"})}},84409:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(793550),o=n(166555),i=n.n(o),a=n(174523),c=n(218265),s=n(80209);function l(e){var t=e.anchor,n=e.children,r=e.footer,o=e.onDismiss,i=(0,a.ZP)();return(0,s.jsx)(c.J2,{anchor:t,onDismiss:function(){},positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(c.xu,{direction:"column",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,s.jsx)(c.xu,{position:"absolute",right:!0,top:!0,margin:4,children:(0,s.jsx)(c.hU,{accessibilityLabel:i._("End tour","Icon button to end the education tour","Icon button to end the education tour"),icon:"cancel",iconColor:"gray",onClick:o,size:"xs"})}),(0,s.jsx)(c.xu,{display:"flex",padding:2,marginTop:2,children:n}),(0,s.jsx)(c.xu,{children:r})]})})}var u=n(588527);function d(e,t){var n=t.duration,r=void 0===n?660:n,o=t.offset,i=t.callback,a=window.pageYOffset,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.getBoundingClientRect().top+window.pageYOffset+t}(e,o),s=performance.now();!function t(){var n=performance.now()-s,o=function(e,t,n,r){return n>r?t:e+(t-e)*((o=n/r)<.5?2*o*o:(4-2*o)*o-1);var o}(a,c,n,r);window.scroll(0,o),n>r?"function"==typeof i&&i(e):window.requestAnimationFrame(t)}()}var p=n(472125),f={__style:{color:"#000"}};function h(e){var t=e.padding,n=void 0===t?16:t,r=e.bottomMargin,o=void 0===r?0:r,i=e.targetLeft,a=e.targetTop,l=e.targetWidth,u=e.targetHeight,d=e.showMask,h=void 0===d||d,b=(0,p.Z)()||{width:0,height:0},m=b.width,g=b.height,y=a-n,v=i-n,x=u+2*n+o,I=l+2*n;return y<0?null:(0,s.jsx)(c.xu,{dangerouslySetInlineStyle:f,position:"fixed",left:!0,top:!0,width:"100%",height:"100%",opacity:.7,children:(0,s.jsxs)("svg",{width:m,height:g,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("mask",{id:"mask-main",children:[(0,s.jsx)("rect",{x:0,y:0,width:m,height:g,fill:"white"}),(0,s.jsx)("rect",{x:v,y:y,width:I,height:x,fill:"black",rx:8,ry:8})]}),(0,s.jsxs)("clipPath",{id:"clip-path",children:[(0,s.jsx)("rect",{x:0,y:0,width:m,height:y}),(0,s.jsx)("rect",{x:0,y:y,width:v,height:x}),(0,s.jsx)("rect",{x:v+I,y:y,width:m-I-v,height:x}),(0,s.jsx)("rect",{x:0,y:y+x,width:m,height:g-x-y})]})]}),(0,s.jsx)("rect",{x:0,y:0,width:m,height:g,fill:"currentColor",mask:"url(#mask-main)"}),h&&(0,s.jsx)("rect",{x:0,y:0,width:m,height:g,fill:"currentColor",clipPath:"url(#clip-path)",pointerEvents:"auto"}),(0,s.jsx)("rect",{x:i,y:a,width:l,height:u,pointerEvents:"auto",fill:"transparent",display:"block"})]})})}function b(e){var t=e.keyCode,n=e.handler;(0,r.useEffect)((function(){function e(e){e.keyCode===t&&n()}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[t,n])}var m=n(946753),g=n(457175);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={content:null,selector:null,index:-1,left:0,right:0,bottom:0,top:0,width:0,height:0,status:"INIT"};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TOUR":var n=t.payload,r=n.content,o=n.selector;return v(v({},e),{},{selector:o,content:r,status:"IN_PROGRESS",index:0});case"NEXT_STEP":var i=t.payload,a=i.content,c=i.index,s=i.selector;return v(v({},e),{},{content:a,selector:s,index:c});case"UPDATE_RECT":return v(v({},e),t.payload);case"UPDATE_STATUS":var l=t.payload.status;return v(v({},e),{},{status:l});default:return e}}function _(e){return{type:"UPDATE_STATUS",payload:{status:e}}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.onComplete,n=e.onDismiss,o=e.scrollOffset,f=(e.shouldScroll,e.steps),y=e.zIndex,v=(0,g.v)().logContextEvent,x=(0,a.ZP)(),O=j((0,r.useReducer)(w,I),2),A=O[0],S=O[1],P=j((0,r.useState)(null),2),E=P[0],k=P[1],C=(0,p.Z)()||{width:0,height:0},R=C.width,B=C.height,D=function(e){var t=function(e){var t=e.getBoundingClientRect();S(_("IN_PROGRESS")),k(e);var n=t.bottom,r=t.left,o=t.right,i=t.top,a=t.width,c=t.height;S(function(e){return{type:"UPDATE_RECT",payload:e}}({bottom:n,left:r,right:o,top:i,width:a,height:c}))};if(e){var n=e.getBoundingClientRect();if(function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left,i=e.windowHeight,a=e.windowWidth,c=e.threshold,s=void 0===c?0:c;return t>=0+s&&o>=0+s&&r<=i-s&&n<=a-s}({left:n.left,right:n.right,top:n.top,bottom:n.bottom,windowHeight:B,windowWidth:R,threshold:25}))t(e);else{var r=o||(n.height>B?-25:-B/2+n.height/2);S(_("SCROLLING")),d(e,{offset:r,callback:t})}}},T=function(){v({event_type:101,component:13472,element:11556,aux_data:{education_active_guide_id:f[A.index]&&f[A.index].id}}),t()},J=function(){v({event_type:101,component:13472,element:11557,aux_data:{education_active_guide_id:f[A.index]&&f[A.index].id}}),n()},V=(0,r.useCallback)((function(){var e=(f[A.index]||{}).onNext;e&&e();var t=f[A.index+1]||{},n=t.content,r=t.selector;A.index<f.length-1?(v({event_type:101,component:13472,element:11559}),S(function(e,t,n){return{type:"NEXT_STEP",payload:{content:e,selector:t,index:n}}}(n,r,A.index+1))):T()}),[v,f,A.index,T]);b({keyCode:u.Z.RIGHT,handler:V}),b({keyCode:u.Z.ESCAPE,handler:J}),(0,r.useEffect)((function(){var e=f[0]||{},t=e.content,n=e.selector;S(function(e,t){return{type:"START_TOUR",payload:{content:e,selector:t}}}(t,n))}),[]),(0,r.useLayoutEffect)((function(){var e="string"==typeof A.selector?document.querySelector(A.selector):A.selector;D(e);var t=i()((function(){return D(e)}),25);return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[A.index,A.selector]);var M=A.left,F=A.top,N=A.height,U=A.width;return(0,s.jsxs)(c.mh,{children:[(0,s.jsxs)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:y||999}},left:!0,position:"absolute",right:!0,top:!0,children:[(0,s.jsx)(h,{padding:f[A.index]&&f[A.index].padding,bottomMargin:f[A.index]&&f[A.index].bottomMargin,targetLeft:M,targetTop:F,targetWidth:U,targetHeight:N,showMask:"IN_PROGRESS"===A.status}),"IN_PROGRESS"===A.status&&(0,s.jsx)(l,{anchor:E,footer:(0,s.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(c.xu,{display:"flex",flex:"grow",paddingX:2,children:(0,s.jsx)(c.xv,{color:"gray",size:"md",weight:"bold",children:(0,m.nk)(x._("{{ index }} of {{totalSteps}}","Footer text indicating position in tour (e.g. 1 of 3)","Footer text indicating position in tour (e.g. 1 of 3)"),{index:A.index+1,totalSteps:f.length})})}),(0,s.jsx)(c.xu,{"data-test-id":"guide-next-button",children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:V,text:A.index<f.length-1?x._("Next","Button text to go to next guide","Button text to go to next guide"):x._("Done","Button text to end education tour","Button text to end education tour")})})]}),onDismiss:J,children:A.content})]}),(0,s.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{left:M-20,top:F-20}},height:N+40,position:"absolute",width:U+40})]})}},802314:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r="completed-in-product-education"},189509:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(218265),o=n(80209);function i(e){var t=e.htmlFor,n=e.errorMessage;return(0,o.jsx)(r.__,{htmlFor:t,children:(0,o.jsx)(r.xu,{marginTop:1,children:(0,o.jsx)(r.xv,{color:"red",size:"md",children:n})})})}},628402:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(793550),o=n(575429),i=n(893945),a=n(174523),c=n(311866);function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function u(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}function d(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callCreate();case 2:n(u(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function p(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}function f(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callDelete();case 2:n(p(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var h=n(218265),b=n(80209);function m(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.favorited,n=e.favoriteCount,c=e.isCloseupButton,s=e.onFavorite,l=e.onUnfavorite,u=e.pinId,p=e.size,y=(0,a.ZP)(),v=(0,o.useDispatch)(),x=g((0,r.useState)(!1),2),I=x[0],w=x[1],_=g((0,r.useState)(t),2),j=_[0],O=_[1],A=g((0,r.useState)(null!=n?n:0),2),S=A[0],P=A[1],E=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!j),w(!0),!j){e.next=10;break}return P(S-1),e.next=6,v(f(u));case 6:l(),w(!1),e.next=15;break;case 10:return P(S+1),e.next=13,v(d(u));case 13:s(),w(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),k=S<10?S:y._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,b.jsxs)(h.kC,{alignItems:"center",gap:1,children:[void 0!==n&&S>0&&(0,b.jsx)(h.xv,{size:"md",weight:"bold",children:k}),(0,b.jsx)(i.Z,{isCloseupButton:c,isDisabled:I,isFavorited:j,onTap:function(){E()},size:p})]})}},893945:function(e,t,n){"use strict";n.d(t,{W:function(){return c},Z:function(){return s}});var r=n(174523),o=n(218265),i=n(80209),a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},c={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s(e){var t=e.isCloseupButton,n=e.isDisabled,s=e.isFavorited,l=e.onTap,u=e.size,d=(0,r.ZP)();return t?(0,i.jsx)(o.hU,{accessibilityLabel:d._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:s?c:a,disabled:n,iconColor:"darkGray",onClick:l,size:"lg"}):(0,i.jsx)(o.iP,{disabled:n,onTap:l,children:(0,i.jsx)(o.JO,{accessibilityLabel:d._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:s?c:a,size:u})})}},801500:function(e,t,n){"use strict";function r(e){var t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((function(e){return e.pin_type===t}))}n.d(t,{J:function(){return r},E:function(){return o}})},358873:function(e,t,n){"use strict";n.d(t,{HW:function(){return d},i3:function(){return y},YW:function(){return g},o2:function(){return m}});var r=n(793550),o=n(762803),i=n(80209);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=660,p={educationId:null,paddingRight:0,zIndex:d};function f(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":var n=t.payload.educationId;return l(l({},e),{},{educationId:n});case"FOOTER_SET_PADDING_RIGHT":var r=t.payload.paddingRight;return l(l({},e),{},{paddingRight:r});case"FOOTER_SET_Z_INDEX":var o=t.payload.zIndex;return l(l({},e),{},{zIndex:o});default:return e}}var h=(0,o.ZP)("footerContext"),b=h.Provider,m=h.Consumer,g=h.useHook;function y(e){var t=e.children,n=a((0,r.useReducer)(f,p),2),o=n[0],c=n[1];return(0,i.jsx)(b,{value:l(l({},o),{},{setEducationId:function(e){return c({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})},setPaddingRight:function(e){return c({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})},setZIndex:function(e){return c({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})}}),children:t})}},291396:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(793550),o=n(177802),i=n(174523),a=n(80209);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=h(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),y(m(t=o.call(this,e)),"onImageLoad",(function(e){t.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?t.setState((function(t){return{loadedItems:[].concat(u(t.loadedItems),[e])}})):t.setState((function(e){return{errors:e.errors+1}})))})),y(m(t),"onImageError",(function(){t.mounted&&t.setState((function(e){return{errors:e.errors+1}}))})),y(m(t),"mounted",!1),y(m(t),"loadImages",(function(e){e.forEach((function(e){var n=new Image;n.onload=function(){return t.onImageLoad({height:n.naturalHeight,url:e.url,width:n.naturalWidth})},n.onerror=function(){return t.onImageError()},n.src=e.url}))})),t.state={errors:0,loadedItems:[]},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=(this.props.images.data||{}).items;this.loadImages(e||[])}},{key:"componentDidUpdate",value:function(e){var t=e.images,n=t.data,r=t.error,o=e.url,i=this.props,a=i.onError,c=i.images,s=c.isLoaded,l=c.data,u=c.error,d=i.url;if(!r&&u&&a&&a(),o!==d&&this.setState({loadedItems:[]}),s&&l){var p=(n||{}).items,f=((l||{}).items||[]).slice((p||[]).length);this.loadImages(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.images,r=n.data,o=n.error,i=n.isLoaded,a=e.url,c=r||{},s=c.items,l=c.title,u=this.state,d=u.errors,p=u.loadedItems,f=o?o.message_detail||o.message:this.props.i18n._("No images found. Check your URL and try again.","No images are found at the URL submitted","No images are found at the URL submitted"),h=i&&0===p.length&&d===(s||[]).length?f:void 0;return h&&a.includes("?")&&(h=this.props.i18n._("No images found. Remove any tracking parameters in this URL to try again.","No images are found at the URL submitted. The url may contain tracking parameters","No images are found at the URL submitted. The url may contain tracking parameters")),t({loading:!i||0===p.length&&d!==(s||[]).length,title:l,error:h,images:p})}}])&&p(t.prototype,n),r&&p(t,r),i}(r.Component);function x(e){var t=(0,i.ZP)(),n=(0,o.Z)({url:e.url});return(0,a.jsx)(v,l(l({},e),{},{images:n,i18n:t}))}},177802:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(535718);function o(e){var t=e.url;return(0,r.Z)({name:"FindPinImagesResource",options:{url:t,source:"pin_create",appendItems:!1,followRedirects:!0,scrapeMetric:"www_url_scrape"}})}},176082:function(e,t,n){"use strict";var r=n(838572),o=n(218265),i=n(80209);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="rgb(255,255,255)",u={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},d=function(e){var t=e.accessibilityLabel,n=e.active,r=e.children,a=e.color,s=void 0===a?"darkGray":a,d=e.focused,p=e.hovered,f=e.icon,h=e.isSVG,b=e.iconOnly,m=e.shouldPad,g="darkGray"===s?{hovered:{backgroundColor:"rgb(226, 226, 226)"},active:{backgroundColor:"rgb(218, 218, 218)"},focused:u,iconOnly:{backgroundColor:l}}:{hovered:{backgroundColor:"rgba(255,255,255,0.4)"},active:{backgroundColor:l},focused:u,iconOnly:{backgroundColor:"rgba(255,255,255,0.0)"}},y=b?c({},g.iconOnly):c(c(c({},p?g.hovered:Object.freeze({})),n?g.active:Object.freeze({})),d?g.focused:Object.freeze({})),v="white"===s&&n?"darkGray":s;return(0,i.jsx)(o.xu,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:r?"pill":"circle",dangerouslySetInlineStyle:{__style:y},children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:b?30:48,minWidth:b?30:48}},paddingX:m?3:0,children:[h?(0,i.jsx)(o.JO,{accessibilityLabel:t,dangerouslySetSvgPath:{__path:f},color:v,inline:!0,size:b?16:20}):(0,i.jsx)(o.JO,{accessibilityLabel:t,icon:f,color:v,inline:!0,size:b?16:20}),r]})})};t.ZP=function(e){var t=e.accessibilityLabel,n=e.children,o=e.color,a=void 0===o?"darkGray":o,c=e.onClick,s=e.icon,l=e.isSVG,u=e.shadowType,p=e.shouldPad,f=e.iconOnly;return(0,i.jsx)(r.Z,{accessibilityLabel:t,className:u||"",dataTestId:"lego-button",onClick:c,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:function(e){var r=e.active,o=e.hovered,c=e.focused;return(0,i.jsx)(d,{active:r,accessibilityLabel:t,color:a,hovered:o,focused:c,icon:s,isSVG:l,iconOnly:f,shouldPad:p,children:n})}})}},864793:function(e,t,n){"use strict";n.d(t,{rh:function(){return d},ZP:function(){return p},_E:function(){return f},G7:function(){return h},l6:function(){return b}});var r=n(631739),o=n(754975),i=n(754999),a=n(946753),c=n(998035),s=n(218265),l=n(80209),u=function(e){return["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"))};function d(e,t,n){var i,a,s;if(!t.isAuth)return!1;var l=(0,c.Nc)(e)||(0,c.o)(e),d=(null===(i=e.board)||void 0===i?void 0:i.privacy)===r.Z.BoardPrivacy.PUBLIC,p=(null===(a=e.board)||void 0===a?void 0:a.privacy)===r.Z.BoardPrivacy.PROTECTED,f=(u(n)&&p||d)&&!e.is_repin&&(null===(s=e.pinner)||void 0===s?void 0:s.id)===t.id,h=(0,o.Z)(e).isStoryPin;return l&&(!p||u(n))||t.isPartner&&f||function(e){return["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p"))}(n)&&h&&f}function p(e,t,n){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function f(e,t,n,r){var i=(0,o.Z)(e),u=i.isStoryPin,d=i.isVideo,p=(0,c.Nc)(e),f=(0,c.o)(e)&&(u||!p)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),b=(new Date).getTime()-h.getTime(),m=Math.floor(b/36e5),g=f?f["24h_realtime"].is_realtime:null,y=f?f["24h_realtime"].timestamp:null,v=null;f&&(v=u||d?f.all_time_realtime.timestamp:f["30d_realtime"].timestamp);var x=v!==y,I=function(e){return(0,a.nk)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join("")},w={timeframe:"",lastUpdated:""};if(f)if(g){var _=f["24h_realtime"].impression>=(u||d?f.all_time_realtime.impression:f["30d_realtime"].impression);w.timeframe=_?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):u||d?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),w.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(x||m>48)if(u||d){var j=r(f.all_time_realtime.timestamp);w.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),w.lastUpdated=I(j)}else{var O=r(f["30d_realtime"].timestamp);w.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),w.lastUpdated=I(O)}else{var A=r(f["24h_realtime"].timestamp);w.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),w.lastUpdated=I(A)}else w.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,l.jsxs)(s.xu,{alignItems:u||"lg"!==t?"center":void 0,display:u||"lg"!==t?"flex":void 0,children:[(0,l.jsx)(s.xv,{align:"end",color:"gray",size:"sm",children:w.lastUpdated}),(u||["md","sm"].includes(t))&&!!f&&(0,l.jsx)(s.xv,{color:"gray",inline:!0,size:"sm",children:" ・"}),(0,l.jsx)(s.xv,{align:"end",color:"gray",size:"sm",children:w.timeframe})]})}function h(e,t){return(0,i.Z)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function b(e,t){return(0,i.Z)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},668906:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(535718);function o(e){var t=e.children,n=e.fieldSetKey,o=e.pinId,i=(0,r.Z)({name:"PinResource",options:{id:o,field_set_key:n}}),a=i.data,c=i.error;return t({pin:a,loading:!i.isLoaded,error:(c||{}).message})}},777158:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(793550);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return e<160?"header-only":"none"}function c(e){var t,n,i,c=o((0,r.useState)(e.current?a(e.current.clientHeight||0):"none"),2),s=c[0],l=c[1];return t=e,n=function(e){var t=a(e.height);t!==s&&l(t)},i=(0,r.useRef)(),(0,r.useEffect)((function(){var e=t.current;if(e){var r=i.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(i.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(i.current))}})),i.current,s}},250777:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(793550),o=n(549135),i=n(626173);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=(0,i.E)(),a=n.componentType,s=n.contextLogData,l=n.viewParameter,u=n.viewType;return(0,r.useCallback)((function(){(0,o.j)(e,c(c({component:a,view:u,viewParameter:l},s),t||{}))}),[t,a,s,e,l,u])}},335529:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return c}});var r=n(793550);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=120;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=(0,r.useState)(e?"active":"inactive"),c=o(i,2),s=c[0],l=c[1];return(0,r.useEffect)((function(){if(!e){var r=setTimeout((function(){return l("inactive")}),n);return function(){clearTimeout(r)}}if(t){var o=setTimeout((function(){return l("active")}),t);return function(){clearTimeout(o)}}l("active")}),[e]),s}},818270:function(e,t,n){"use strict";n.d(t,{B:function(){return o},$:function(){return i}});var r=(0,n(762803).ZP)("SurfaceContext",{surface:"Unknown"}),o=r.Provider,i=r.useHook},626173:function(e,t,n){"use strict";n.d(t,{B:function(){return o},E:function(){return i}});var r=(0,n(762803).ZP)("trackingParametersContext"),o=r.Provider,i=r.useHook},752187:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(268648),o=n(124324),i=n(45815),a=n(233088),c=n(218265),s=n(181307),l=n(457175),u=n(626173),d=n(80209);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t,n=e.sizing,p=void 0===n?"default":n,h=e.children,b=e.collageChipId,m=e.componentType,g=e.contextLogData,y=e.elementType,v=e.pin,x=e.viewParameter,I=e.viewType,w=(0,l.v)().logContextEvent,_=(0,u.E)(),j=(0,s.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}).group,O=v.carousel_data,A=v.id,S="/pin/".concat(b||A,"/");if(O){var P=O.carousel_slots,E=void 0===P?[]:P,k=O.id,C=O.index,R=void 0===C?0:C;S="/pin/".concat(A,"/"),t={carousel_slot_id:E[R]&&E[R].id,carousel_data_id:k,carousel_slot_index:R}}t=f(f({},t||{}),(0,o.Kl)(v,g)||{});var B=(0,r.Z)({href:S,externalData:{auxData:t,pin:v}});return(0,d.jsx)(c.iP,{mouseCursor:"zoomIn",rounding:2,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),function(){if(w({event_type:101,component:m||_.componentType,element:y,object_id_str:A,view_type:I||_.viewType,view_parameter:x||_.viewParameter,aux_data:f(f({},g),(0,o.Kl)(v,g)||{})}),w({event_type:8948,view_type:I||_.viewType,view_parameter:x||_.viewParameter,component:m||_.componentType,element:y,object_id_str:A,aux_data:f(f({closeup_navigation_type:"click"},g),(0,o.Kl)(v,g)||{})}),j){var e=Number(a.y7.getItem(i.J)||0);a.y7.setItem(i.J,e+1)}}(),B({event:t})},fullWidth:"fullSize"===p,fullHeight:"fullSize"===p,href:S,role:"link",children:h})}},505812:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(752187),o=n(218265),i=n(80209),a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function c(e){var t=e.pin,n=e.enableCloseupLink,c=(t.aggregated_pin_data||{}).pin_tags_chips,s=c&&c.length>=3?c.slice(0,3):[];return(0,i.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:s.map((function(e){var c,s,l,u,d=(null===(c=e.images)||void 0===c?void 0:c["750x"])||{},p=(0,i.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(s=d.height)&&void 0!==s?s:1,naturalWidth:null!==(l=d.width)&&void 0!==l?l:1,src:null!==(u=d.url)&&void 0!==u?u:""});return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,i.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,i.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,i.jsx)(r.Z,{sizing:"fullSize",collageChipId:e.id,pin:t,children:p}):p})})})},e.id)}))})}},546352:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(218265),o=n(80209);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.children,n=e.additionalStyles,i=void 0===n?{}:n;return(0,o.jsx)(r.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:a({pointerEvents:"none"},i)},children:t})}},452963:function(e,t,n){"use strict";n.d(t,{F:function(){return c},Z:function(){return s}});var r=n(185062),o=n(218265),i=n(80209),a={impressed:{backgroundColor:"#adebad"}},c=function(){return void 0!==(0,r.Z)().debug_impression_log};function s(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,i.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,i.jsx)(o.xv,{color:"white",children:(0,i.jsx)("span",{className:"deprecatedTextSizeXL",children:r})})})})}},514560:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(793550),o=n(881220),i=n(174523),a=n(218265),c=n(80209);function s(e){var t=(0,i.ZP)(),n=e.onHide,r=(0,c.jsx)(a.xv,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,c.jsx)(o.Z,{onHide:n,text:r})}var l=n(311866),u=n(34411),d=n(880841);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.anchor,n=e.onDismiss,o=e.pinId,f=e.signals,h=(0,i.ZP)(),b=p((0,r.useState)(0),2),m=b[0],g=b[1],y=(0,u.Z)(),v=(0,d.F9)().showOneToast;if(!y.isEmployee)return null;var x=f.map((function(e){var t=e.signal_message;return{href:"#",text:null!=t?t:""}})),I=f[m],w=I.background_color,_=I.icon_url,j=I.signal_id,O=I.signal_message;return(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,c.jsxs)(a.xu,{padding:4,width:"100%",children:[f.length>1&&(0,c.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,c.jsx)(a.mQ,{activeTabIndex:m,onChange:function(e){var t=e.event,n=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),function(e){var t=e.activeTabIndex;e.event.preventDefault(),g(t)}({activeTabIndex:n,event:t})},tabs:x})}),(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.X6,{size:"sm",children:h._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,c.jsx)(a.xu,{paddingY:3,children:(0,c.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,c.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:_?(0,c.jsx)(a.Ee,{alt:h._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:_}):(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:w}},height:40,width:40})}),(0,c.jsx)(a.xv,{size:"md",children:O})]})}),(0,c.jsx)(a.xu,{marginBottom:3,children:(0,c.jsx)(a.xv,{size:"md",children:h._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,c.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:h._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:function(){var e={pin_id:o,signal_id:j,user:y.id};l.ZP.create("SignalReviewRequestResource",e).callCreate(),n(),v((function(e){var t=e.onHide;return(0,c.jsx)(s,{onHide:t})}))}}),(0,c.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:h._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:n})]})]})})})},b=n(711243),m=n(551687),g=n(689859),y=n(8742);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=e.signals,n=e.pinId,o=t[0],i=o.background_color,s=o.icon_url,l=o.signal_message,u=v((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,r.useRef)();return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(m.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,c.jsx)(g.Z,{children:(0,c.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,c.jsx)(b.Z,{children:(0,c.jsx)(y.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,c.jsx)(a.iP,{onTap:function(){return p((function(e){return!e}))},rounding:"pill",onMouseEnter:n,onMouseLeave:r,children:(0,c.jsxs)(a.xu,{color:t?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:f,children:[(0,c.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,c.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,c.jsx)(a.Ee,{alt:"",color:i,src:null!=s?s:"",naturalHeight:1,naturalWidth:1})})}),(0,c.jsx)(a.xv,{color:"white",size:"md",weight:"bold",children:l})]})})}})})})})}),d&&f&&f.current&&(0,c.jsx)(h,{anchor:f.current,onDismiss:function(){return p(!1)},pinId:n,signals:t})]})}function w(e){var t=e.pin;if(!(0,u.Z)().isEmployee)return null;var n=t.id,r=t.deb_ads,o=t.deb_content_quality,i=t.deb_inclusive_product,a=t.deb_shopping,s=t.deb_trust_and_safety;return r?(0,c.jsx)(I,{pinId:n,signals:r}):o?(0,c.jsx)(I,{pinId:n,signals:o}):i?(0,c.jsx)(I,{pinId:n,signals:i}):a?(0,c.jsx)(I,{pinId:n,signals:a}):s?(0,c.jsx)(I,{pinId:n,signals:s}):null}},7713:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(218265),o=n(335529),i=n(80209);function a(e,t){return{hidden:{opacity:0,transition:t?"opacity ".concat(t,"ms ease"):void 0},visible:{opacity:1,transition:e?"opacity ".concat(e,"ms ease"):void 0}}}function c(e){var t=e.children,n=e.fadeInDuration,c=void 0===n?0:n,s=e.fadeOutDuration,l=void 0===s?o.X:s,u=e.visibility;return"none"!==u&&t?(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(c,l)[u]},children:t}):null}},818026:function(e,t,n){"use strict";n.d(t,{ZP:function(){return v}});var r=n(793550),o=n(546352),i=n(174523),a=n(365217),c=n(451875),s=n(457175),l=n(218265),u=n(80209);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:c.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},g=["followed","related","search"],y=["pfy","pfyBoard"];function v(e){var t,n=e.feedbackType,d=e.isHomefeedTunerVariantExp,f=e.pin,b=e.hideContents,v=void 0!==b&&b,x=(0,s.v)().logContextEvent,I=(0,i.ZP)(),w=h((0,r.useState)(!1),2),_=w[0],j=w[1],O=h((0,r.useState)(!1),2),A=O[0],S=O[1];(0,r.useEffect)((function(){return j(!0)}),[]);var P=function(){return S(!0)},E=f.feedbackText,k=f.images,C=f.showFeedbackOverlay,R=f.undoAction,B=f.undoText,D=k&&(null===(t=k["236x"])||void 0===t?void 0:t.url),T=null!=E?E:{},J=T.image,V=T.subTitle,M=T.title,F=T.unfollow,N=!g.includes(n),U=y.includes(n),Z=function(){x({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,u.jsxs)(l.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:c.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:c.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[D&&(0,u.jsx)(o.Z,{additionalStyles:p(p(p({},m.background.base),_?m.background.blurred:{}),{},{backgroundImage:'url("'.concat(D,'")')})}),(0,u.jsx)(o.Z,{additionalStyles:p(p({},m.backdrop.base),m.backdrop.blurred)})]}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:p(p({},m.feedbackOverlayContainer.base),!C&&_?m.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!v&&(0,u.jsx)(l.xu,{height:"100%",children:(0,u.jsxs)(l.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.X6,{color:"white",size:"sm",children:M})}),(0,u.jsxs)(l.xu,{display:"flex",marginBottom:1,children:[J&&(0,u.jsx)(l.xu,{marginEnd:3,children:(0,u.jsx)(l.zd,{width:J.width,height:J.height,rounding:2,wash:!0,children:(0,u.jsx)(l.Ee,{alt:V||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:J.url||""})})}),(0,u.jsx)(l.xv,{color:"white",overflow:"normal",children:V})]}),d?(0,u.jsxs)(r.Fragment,{children:[R&&(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.iP,{onTap:R,children:(0,u.jsx)(l.xv,{color:"white",weight:"bold",overflow:"normal",children:I._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,u.jsxs)(l.xu,{marginTop:"auto",children:[!R&&!A&&F&&!U&&(0,u.jsx)(l.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(F.action,F.actionOptions,P)},text:I._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),N&&(0,u.jsx)(l.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:Z,text:I._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.xu,{children:N&&(0,u.jsx)(l.rU,{href:"/edit",onClick:Z,children:(0,u.jsx)(l.xv,{color:"white",weight:"bold",overflow:"normal",children:I._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,u.jsxs)(l.xu,{marginTop:"auto",children:[!R&&!A&&F&&!U&&(0,u.jsx)(l.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(F.action,F.actionOptions,P)},text:I._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),R&&(0,u.jsx)(l.zx,{fullWidth:!0,color:"white",onClick:R,text:B||I._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},665035:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(793550),o=n(575429),i=n(519922),a=n(953781),c=n(83742),s=n(537343),l=n(174523),u=n(250777),d=n(698602),p=n(493858),f=n(382064),h=n(626173),b=n(218265),m=n(80209);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n=e.feedbackData,y=e.feedbackType,v=e.pin,x=e.pinTitle,I=e.setForcePrimary,w=e.transparentBackground,_=(0,l.ZP)(),j=(0,o.useDispatch)(),O=(0,h.E)(),A=O.viewParameter,S=O.viewType,P=(0,f.f)().reportPin,E=g((0,r.useState)(!1),2),k=E[0],C=E[1],R=g((0,r.useState)(),2),B=R[0],D=R[1],T=v.ad_match_reason,J=v.show_ad_reasons,V=v.board,M=v.category,F=v.description,N=v.id,U=void 0===N?"":N,Z=v.images,L=v.is_promoted,Q=v.pinner,W=v.promoter,q=v.recommendation_reason,H=v.source_interest,G=v.videos,X=(t=L?60:50,function(e){return(0,s.ZP)((e||"").trim(),t)})(null!=F?F:""),Y=(0,i.Z)(Z,"236x"),K=(0,p.iR)(G),z=(0,u.Z)(101,{component:0,element:981,feedback_type:y,objectId:U}),$=function(){J||(I(!1),j((0,d.i0)(U)),C(!1))};return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(b.xu,{"data-test-id":"feedback-button",ref:D,children:(0,m.jsx)(b.hU,{accessibilityLabel:_._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:w?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){k?$():(I(!0),C(!0)),z()},size:"sm"})}),k&&(0,m.jsx)(b.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,m.jsx)(c.Z,{anchor:B,ad_match_reason:T,bestPinImgSrc:(0,a.Z)(v),board:V,feedbackData:n,feedbackType:y,hideDownload:K,onLinkClick:function(){k&&$()},onDismiss:$,onHide:$,onDownloadHideFlyout:function(){I(!1),C(!1)},pinCategory:M,pinDescription:X,pinId:U,pinImgSrc:Y,pinner:Q,pinTitle:x,promoter:W,recommendationReason:q,reportPin:function(){return P(v,A,S)},sourceInterest:H,viewParameter:A,viewType:S})})]})}},83742:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r=n(793550),o=n(575429),i=n(549156),a=n(218265),c=n(80209);function s(e){var t=e.iconAccessibilityLabel,n=e.icon,r=e.linkAccessibilityLabel,o=e.showNavigationIcon,s=e.text;return(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(i.Z,{id:"ad-reason-icon",children:(0,c.jsx)(a.Sj,{accessibilityLabel:t,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,c.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,c.jsx)(a.xv,{children:s})}),o&&r&&(0,c.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:r,color:"darkGray",icon:"arrow-forward"})})]})}var l=n(451190),u=n(773559),d=n(174523),p=n(946753),f=n(457175),h=u.Z.settings,b=h.ACCOUNT_SETTINGS,m=h.CANONICAL_MAIN_URL,g=h.HELP_BLOCKING,y=h.HELP_PROMOTED_PINS_URL;function v(e){var t=e.onDismiss,n=e.brandName,r=e.country,o=e.language,u=e.isAgeMatched,h=e.isBehaviorTargetingMatched,v=e.isCustomerListMatched,x=e.isGeoPostalCodeMatched,I=e.isGeoRegionMatched,w=e.isShoppingTargetingRematched,_=(0,f.v)().logContextEvent,j=(0,d.ZP)();return(0,c.jsx)(l.Z,{accessibilityModalLabel:j._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:t,children:(0,c.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,c.jsx)(a.xu,{position:"absolute",left:!0,children:(0,c.jsx)(a.hU,{accessibilityLabel:j._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})}),(0,c.jsx)(a.X6,{align:"center",size:"md",children:j._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,c.jsxs)(a.xu,{children:[(0,c.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{children:(0,p.nk)(j._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,c.jsx)(i.Z,{id:"ad-reasons-learn-more-link",children:(0,c.jsx)(a.xv,{inline:!0,children:(0,c.jsx)(a.rU,{href:y,inline:!0,onClick:function(){_({event_type:101,component:13756,element:12057})},target:"blank",children:j._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{children:(0,p.nk)(j._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,c.jsx)(i.Z,{id:"ad-reasons",children:(0,c.jsxs)(a.kC,{direction:"column",flex:"none",gap:4,children:[x||I?(0,c.jsx)(a.iP,{role:"link",href:"".concat(m).concat(b),onTap:function(){_({event_type:101,component:13756,element:12059})},target:"blank",children:(0,c.jsx)(s,{iconAccessibilityLabel:j._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:j._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,p.nk)(j._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-country-name"),language:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:o},"ad-reasons-language")})})}):null,u&&(0,c.jsx)(s,{iconAccessibilityLabel:j._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,p.nk)(j._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-age-brand-name")})}),h&&(0,c.jsx)(s,{iconAccessibilityLabel:j._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:j._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),w&&(0,c.jsx)(s,{iconAccessibilityLabel:j._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,p.nk)(j._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"retargeting-ad-reason")})}),v&&(0,c.jsx)(s,{iconAccessibilityLabel:j._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,p.nk)(j._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-customer-list")})}),(0,c.jsx)(a.xu,{marginBottom:1,children:(0,c.jsx)(a.xv,{children:j._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,c.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,c.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,c.jsx)(a.iz,{})}),(0,c.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,c.jsx)(a.X6,{size:"sm",children:j._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{children:(0,p.nk)(j._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,c.jsx)(a.xv,{inline:!0,children:(0,c.jsx)(a.rU,{inline:!0,href:g,onClick:function(){_({event_type:101,component:13756,element:12058})},target:"blank",children:j._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var x=n(535718),I=n(34411),w=n(585967);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t,n,i,a,s=e.pinId,l=e.onDismiss,u=(0,f.v)().logContextEvent,d=(0,w.B)().locale,p=(0,I.Z)().country,h=void 0===p?"":p,b=(0,x.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),m=(0,x.Z)({name:"LocalesResource"}),g=(0,o.useSelector)((function(e){return e.pins[s]}));(0,r.useEffect)((function(){u({event_type:120,component:13756})}),[u]);var y=null!=g?g:{},_=y.ad_targeting_attribution,A=y.promoter,S=null!==(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e&&Object.keys(e).filter((function(t){return"boolean"==typeof e[t]})).slice(0,t).reduce((function(t,n){return j(j({},t),{},O({},n,e[n]))}),{})}(_))&&void 0!==t?t:{},P=S.is_age_matched,E=void 0!==P&&P,k=S.is_behavior_targeting_matched,C=void 0!==k&&k,R=S.is_customer_list_matched,B=void 0!==R&&R,D=S.is_geo_postal_code_matched,T=void 0!==D&&D,J=S.is_geo_region_matched,V=void 0!==J&&J,M=S.is_shopping_retargeting_matched,F=void 0!==M&&M,N=null!==(n=null==A?void 0:A.full_name)&&void 0!==n?n:"",U=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(i=b.data)&&void 0!==i?i:[],h),Z=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(a=m.data)&&void 0!==a?a:[],d);return(0,c.jsx)(v,{brandName:N,country:U,language:Z,isAgeMatched:E,isBehaviorTargetingMatched:C,isCustomerListMatched:B,isGeoPostalCodeMatched:T,isGeoRegionMatched:V,isShoppingTargetingRematched:F,onDismiss:l})}var S=n(595657),P=n(418448),E=n(539484),k=n(374284),C=n(538958),R=n(860179),B=n(266750),D=n(778423),T=n(454217),J=n(698602),V=n(365217),M=n(500637),F=n(272828);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={color:"white",textDecorationColor:"white"},$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(s,e);var t,n,o,i=H(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),K(X(t=i.call(this,e)),"getRecommendationDescription",(function(){var e=t.props,n=e.ad_match_reason,r=e.board,o=e.feedbackType,i=e.pinner,a=e.promoter,c=e.recommendationReason,s=e.sourceInterest;return t.feedbackHelpers.getRecommendationDescription({ad_match_reason:n,board:r,feedbackType:o,makeNavigateLink:t.makeNavigateLink,pinner:i,promoter:a,recommendationReason:c,sourceInterest:s})})),K(X(t),"getRecommendationDescriptionImage",(function(){var e,n,r,o=t.props,i=o.board,s=o.feedbackType,l=o.pinner,u=o.recommendationReason;return"followed"!==s&&"pfyBoard"!==s?null:(l&&l.explicitly_followed_by_me?(e=l.image_small_url,n="50%",r="/".concat(l.username)):i&&i.image_thumbnail_url&&(e=i.image_thumbnail_url,n="4px",r=u&&u.board&&u.board.url||i.url),e?(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,c.jsx)(a.iP,{onTap:function(){var e;return t.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,c.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,c.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:e})})})}):null)})),K(X(t),"getUnfollowAction",(function(){var e=t.props,n=e.board,r=e.feedbackType,o=e.pinner,i=e.sourceInterest;return t.feedbackHelpers.getUnfollowAction({board:n,feedbackType:r,makeNavigateLink:t.makeNavigateLink,pinner:o,sourceInterest:i})})),K(X(t),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?t.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""})),K(X(t),"feedbackHelpers",(0,T.ZP)({i18n:t.props.i18n,interpolateNamedTemplate:p.nk})),K(X(t),"makeNavigateLink",(function(e,n,r,o){var i=Q({display:"inline"},o?z:{});return(0,c.jsx)(a.rU,{onClick:t.props.onLinkClick,role:"link",href:n,inline:!0,children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:i},children:r})},e)})),K(X(t),"reportPinOption",(function(){return{action:"reportPin",elementType:974,text:t.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:t.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:t.props.reportPin,dataTestId:"report-pin-option"}})),K(X(t),"hidePinOption",(function(e){var n=t.props,r=n.feedbackData,o=n.feedbackType,i=n.pinId,a=n.recommendationReason,c="search"===o?973:982,s=t.feedbackHelpers.getHidePinAction({feedbackData:r,feedbackType:o,pinId:i,recommendationReasonId:a&&a.reason&&D.ReasonToChoose[a.reason],pinFeedbackType:"pfy"===o?4:10,throughId:a&&(0,T.yl)(a),throughProperties:a&&(0,T.XZ)(a),clientTrackingParams:(0,S.Z)(i)}),l=s.action,u=s.actionOptions,d=t.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:l,actionOptions:u,feedbackText:t.pinHiddenFeedbackText(e),text:d,description:t.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:c}})),K(X(t),"stopRecommendationOption",(function(){var e=t.props,n=e.feedbackData,r=e.feedbackType,o=e.pinId,i=e.recommendationReason,a=null!=i?i:{},c=a.board,s=a.reason,l=s&&D.ReasonToChoose[s],u=i&&(0,T.yl)(i),d=i&&(0,T.XZ)(i),f="pfyBoard"===r,h=t.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:r,pinId:o,recommendationReasonId:l,pinFeedbackType:f?2:4,throughId:u,throughProperties:d,clientTrackingParams:(0,S.Z)(o)}),b=h.action,m=h.actionOptions,g=c?t.makeNavigateLink("boardUrl",c.url,c.name,!0):"";return{action:b,actionOptions:m,feedbackText:{subTitle:f&&c?(0,p.nk)(t.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:g}):t.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:f&&c?(0,p.nk)(t.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:c.name}):t.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),K(X(t),"unfollowBoardOption",(function(){var e,n,r=t.props.board,o=r?t.makeNavigateLink("boardUrl",null!==(e=r.url)&&void 0!==e?e:"",null!==(n=r.name)&&void 0!==n?n:"",!0):"",i=(0,p.nk)(t.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==r?void 0:r.name}),a=(0,p.nk)(t.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:o});return{action:"unfollowBoard",actionOptions:{board_id:null==r?void 0:r.id},feedbackText:{title:"",subTitle:a},text:i,description:(0,p.nk)(t.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==r?void 0:r.name}),elementType:10614}})),K(X(t),"unfollowTopicOption",(function(){var e=t.props.sourceInterest;if(e){var n=e.id,r=e.name,o=void 0===r?"":r,i=e.url_name,a="/topics/".concat(void 0===i?"":i),c=t.makeNavigateLink("topicUrl",a,o,!0),s=(0,p.nk)(t.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:o}),l=(0,p.nk)(t.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:B.X},feedbackText:{title:"",subTitle:l},text:s,description:(0,p.nk)(t.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),K(X(t),"unfollowUserOption",(function(){var e=t.props.pinner,n=null!=e?e:{},r=n.id,o=n.username,i=n.full_name,a="/".concat(o),c=e?t.makeNavigateLink("pinnerUrl",a,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:"",subTitle:(0,p.nk)(t.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:c})},text:(0,p.nk)(t.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:t.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),K(X(t),"downloadPinOption",(function(){return{action:"downloadPin",text:t.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}})),K(X(t),"_pinFeedbackText",(function(){var e=t.props,n=e.location,r=e.feedbackType,o=e.hideDownload,i=e.pinner,a="followed"===t.props.feedbackType,c=n.pathname.includes("following"),s=(a||"topic"===r)&&!c,l=t.hidePinOption(s),u=t.reportPinOption(),d="promoted"!==r&&!o;switch(r){case"followed":var p=c,f=!p&&t.getRecommendationDescription(),h=null!=i&&i.explicitly_followed_by_me?t.unfollowUserOption():t.unfollowBoardOption(),b=[l].concat(U(s||p?[h]:[]),U("promoted"!==r?[t.downloadPinOption()]:[]),[u]);return Q(Q({},f?{description:f}:{}),{},{options:b});case"promoted":var m=t.props,g=m.pinId,y=m.showAdReasonsModal,v=[l,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:t.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:function(){y(g)}},u];return{description:t.getRecommendationDescription(),options:v};case"topic":var x=t.unfollowTopicOption(),I=[l].concat(U(s&&x?[x]:[]),U(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:I};case"pfy":case"pfyBoard":var w=[l].concat(U("pfyBoard"===r?[t.stopRecommendationOption()]:[]),U(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:w};default:var _=[l].concat(U(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:_}}})),K(X(t),"pinHiddenFeedbackText",(function(e){var n=e?null:t.getUnfollowAction();return n?{title:"",subTitle:t.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:t.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));var n=t._pinFeedbackText();return t.state={pinFeedbackConfig:n,showSecondary:!1},t}return t=s,(n=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,V.t)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,r){var o=this.props,i=o.hidePinFeedback,a=o.onHide,c=o.pinId,s=o.showPinFeedback,l=o.showPinFeedbackOverlay,u=o.showPinFeedbackUndo,d=o.viewParameter,p=o.viewType,f=o.logContextEvent;t&&n&&r?u(c,e,(0,T.EF)(n,r,c,p,d,i,f),this.getUndoText(r)):s(c,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),l(c))}},{key:"makeStrongText",value:function(e,t){return(0,c.jsx)("strong",{children:t},e)}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.feedbackType,o=n.viewParameter,i=n.viewType;this.props.logContextEvent({event_type:101,view_type:i,view_parameter:o,element:e,component:(0,T.nb)(r),aux_data:Q({},t)})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props,n=t.hideDownload,r=t.onDownloadHideFlyout,o=t.pinId,i=t.viewType,s=t.viewParameter,l=this.state.pinFeedbackConfig.options,u=[],d=l.length,p=function(t){var d=l[t],p=V.P.includes(d.action),f=d.callback?d.callback:function(){return e.onPinHide(d.feedbackText,p,d.actionOptions,d.action)};if("downloadPin"!==d.action){var h=(0,E.Z)({url:d.link||""}),b="";Array.isArray(d.text)?b=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(b=d.text.toString()),u.push(d.link?(0,c.jsx)(a.Lt.Link,{href:d.link,isExternal:h,option:{value:d.action||"",label:b},dataTestId:d.dataTestId||""}):(0,c.jsx)(a.Lt.Item,{onSelect:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,d,f)},option:{value:d.action||"",label:b},dataTestId:d.dataTestId||""}))}else if(!n&&"undefined"!=typeof window&&"windows"!==(0,C.ZP)(window)){var m=e.props,g=m.bestPinImgSrc,y=m.pinTitle,v=m.pinDescription,x=m.pinCategory;u.push((0,c.jsx)(a.Lt.Item,{onSelect:function(){(0,P.Z)({category:x,filename:y||v,imageDownloadSuccessCallback:function(){r&&r()},imgSrc:g,pinId:o,viewParameter:s,viewType:i})},option:{value:"downloadImage",label:e.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}},f=0;f<d;f+=1)p(f);return u}},{key:"render",value:function(){var e=this.state,t=e.pinFeedbackConfig,n=e.showSecondary,o=this.props,i=o.anchor,s=o.onDismiss,l=o.feedbackData,u=o.feedbackType,d=o.hideAdReasonsModal,p=o.pinId,f=o.onHide,h=o.recommendationReason,b=o.showAdReasons,m=o.viewParameter,g=o.viewType,y=t.description,v=this.getRecommendationDescriptionImage();return(0,c.jsxs)(r.Fragment,{children:[n?(0,c.jsx)(k.Z,{anchor:i,feedbackData:l,feedbackType:u,pinId:p,onDismiss:s,onHide:f,recommendationReason:h,viewParameter:m,viewType:g}):(0,c.jsx)(a.Lt,{anchor:i,id:"pin-action-dropdown",idealDirection:"down",onDismiss:s,zIndex:R.lI,headerContent:y&&(0,c.jsxs)(a.kC,{alignItems:"center",children:[(0,c.jsx)(a.xu,{"data-pin-recommendation-reason":null==h?void 0:h.reason,maxHeight:56,overflow:"hidden",children:(0,c.jsx)(a.xv,{color:"darkGray",overflow:"normal",size:"md",children:y})}),v]}),children:this.renderButtons()}),b&&(0,c.jsx)(A,{onDismiss:function(){return d(p)},pinId:p})]})}}])&&W(t.prototype,n),o&&W(t,o),s}(r.Component);var ee=(0,M.compose)((0,o.connect)(null,(function(e){return{hidePinFeedback:function(t){return e((0,J.I1)(t))},showPinFeedback:function(t,n){return e((0,J.ZP)(t,n))},showPinFeedbackOverlay:function(t){return e((0,J.Ib)(t))},showPinFeedbackUndo:function(t,n,r,o){return e((0,J.NA)(t,n,r,o))},showAdReasonsModal:function(t){return e((0,J.b9)(t))},hideAdReasonsModal:function(t){return e((0,J.yj)(t))}}})),F.EN)((function(e){var t=(0,f.v)().logContextEvent,n=(0,d.ZP)(),r=(0,o.useSelector)((function(t){return t.pins[e.pinId]})),i=r.ad_targeting_attribution,a=r.show_ad_reasons,s=void 0!==a&&a;return(0,c.jsx)($,Q(Q({},e),{},{showAdReasons:s,adTargetingAttribution:i,i18n:n,logContextEvent:t}))}))},374284:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(174523),o=n(365217),i=n(218265),a=n(860179),c=n(946753),s=n(778423),l=n(457175),u=n(454217),d=n(80209);function p(e){var t=e.anchor,n=e.feedbackData,p=e.feedbackType,f=e.pinId,h=e.onDismiss,b=e.onHide,m=e.recommendationReason,g=e.viewParameter,y=e.viewType,v=(0,l.v)().logContextEvent,x=(0,r.ZP)(),I=(0,u.ZP)({i18n:x,interpolateNamedTemplate:c.nk}),w=function(e,t){var r=m&&m.reason&&s.ReasonToChoose[m.reason],i=m&&(0,u.yl)(m),a=m&&(0,u.XZ)(m),c=I.getHidePinAction({feedbackData:n,feedbackType:p,pinId:f,recommendationReasonId:r,throughId:i,throughProperties:a,complaintReason:e}),l=c.action,d=c.actionOptions;!function(e){v({event_type:101,view_type:y,view_parameter:g,element:e,component:(0,u.nb)(p)})}(t),(0,o.t)(l,d),b()},_="promoted"===p?[{text:x._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:x._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:x._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:x._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:x._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:x._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:x._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:x._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,d.jsx)(i.Lt,{anchor:t,idealDirection:"down",onDismiss:h,zIndex:a.lI,id:"pin-action-dropdown",children:(0,d.jsx)(i.Lt.Section,{label:x._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:_.map((function(e){var t=e.text,n=e.reason,r=e.elementType;return(0,d.jsx)(i.Lt.Item,{onSelect:function(){return w(n,r)},option:{value:"hide-reason-".concat(t.split(" ").join("-")),label:t},dataTestId:"hide-reason-".concat(t.split(" ").join("-"))})}))})})}},773788:function(e,t,n){"use strict";var r=n(793550),o=n(227457),i=n.n(o),a=n(539484),c=n(204478),s=n(174523),l=n(218265),u=n(80209);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,o=g(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(v(e=o.call.apply(o,[this].concat(n))),"state",{showBoardName:!1}),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state.showBoardName,t=this.props,n=t.isDenseView,r=t.isNewlySaved,o=t.name,s=t.shouldUseLegoStyles,d=t.type,p=t.url;if(s&&n)return null;var f,h,b="boardless"===d?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):o;if(!r||e||s){var m=s?(0,u.jsx)(l.xv,{color:"white",size:"lg",weight:"bold",children:b.length<=20?b:(0,c.Z)(b,20)}):(0,u.jsx)(l.X6,{color:"white",size:"sm",lineClamp:1,children:b}),g=(0,a.Z)({url:p})?"nofollow":"none";f=p?(0,u.jsx)(l.rU,{rel:g,href:p,children:m}):m}else f=(0,u.jsx)(l.xv,{color:"white",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return r&&(h=e?"board":"saved"),(0,u.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:s?14:void 0,paddingRight:s?14:void 0},className:s?i()("Lego__SavedPin",h):i()("SavedAnimation",h),children:f})}}])&&b(t.prototype,n),r&&b(t,r),s}(r.Component);t.Z=function(e){var t=(0,s.ZP)();return(0,u.jsx)(w,f(f({},e),{},{i18n:t}))}},488023:function(e,t,n){"use strict";n.d(t,{Y:function(){return l},Z:function(){return f}});var r=n(174523),o=n(457175),i=n(218265),a=n(80209);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],u={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},p={component:13668,view_type:4,view_parameter:3106};function f(e){var t,n=e.pinId,f=e.surface,h=(0,o.v)().logContextEvent,b=(0,r.ZP)(),m=function(){var e=l.includes(f)?p:"BaseBoardPinGrid"===f?d:"UserProfilePinGrid"===f?u:{};h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:101,element:10573},e))},g=b._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,a.jsx)(i.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:l.includes(f)?(0,a.jsx)(i.zx,{role:"link",accessibilityLabel:b._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:"/pin/".concat(n,"/analytics"),onClick:m,size:"sm",text:(t=g,t.length>14?"".concat(t.substring(0,12).trim(),"..."):t)}):(0,a.jsx)(i.hU,{role:"link",accessibilityLabel:b._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:"/pin/".concat(n,"/analytics"),icon:"ads-stats",iconColor:"darkGray",onClick:m,size:"sm"})})}},577302:function(e,t,n){"use strict";function r(e,t){var n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:function(){return r}})},851881:function(e,t,n){"use strict";n.d(t,{Z:function(){return ce}});var r=n(793550),o=n(575429),i=n(963232),a=n(754975),c=n(515528);function s(e){var t=e.isGroupBoard,n=e.pin,r=e.surface,o=n.carousel_data,i=n.grid_title,s=n.rich_summary,l=n.title,u=(0,a.Z)(n),d=u.isOwnPin,p=u.isPromoted;if(o){var f=o.carousel_slots,h=void 0===f?[]:f,b=o.index,m=void 0===b?0:b;if(h[m]&&h[m].title)return h[m].title.trim()}if(p){if(c.ZF.includes(r))return i||"";if(d&&!t&&!o&&"UserProfilePinGrid"!==r)return"";var g=s&&"mobile application"!==s.type_name&&s.display_name;return l||g||i||""}return i||""}var l=n(493858),u=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n(746857),p=n(864793),f=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function h(e){var t,n,r,o,i,c=e.attributionOption,l=e.board,u=e.contentType,h=e.experimentsClient,b=e.feedbackData,m=e.feedbackType,g=e.hasCarouselData,y=e.isGroupBoard,v=e.isOwnBoard,x=e.pin,I=e.showImageOnly,w=e.showNativeReactions,_=e.showPromotedShoppingPrice,j=e.surface,O=e.viewer,A=e.isORBACProfileManager,S=e.inMsgPinCardUpdateExp,P=void 0!==S&&S,E=(0,a.Z)(x),k=E.isPromoted,C=E.isSponsored,R=x.promoter,B=x.pin_note,D=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,o=e.pin,i=e.showImageOnly,a=e.surface,c=e.inMsgPinCardUpdateExp,s=void 0!==c&&c,l=o.is_downstream_promotion,u=o.native_creator,d=o.promoter,p=o.sponsorship;if("promoted"===n||d&&!l||p)return"default";if((!s||"ConversationView"!==a)&&f.includes(a))return"none";if(r)return"none";var h="default";return t&&("image-only"===t?h="image-only-credit":"hide"===t&&(h="none")),"followed"!==n||i?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===t?h:"TodayArticleFeed"===a&&"show"===t?"show-for-claimed-content":u?"default":"none":h}({attributionOption:c,feedbackType:m,isGroupBoard:y,pin:x,showImageOnly:I,surface:j,inMsgPinCardUpdateExp:P}),T=I?"":s({isGroupBoard:y,pin:x,surface:j}),J=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(j)&&!k&&!I&&Boolean((0,d.Z)(x,j)),V=["ShoppingList","ShoppingListRecentlyViewed"].includes(j),M="BaseBoardPinGrid"===j&&B?null===(t=B.text)||void 0===t?void 0:t.trim():null,F=k,N="shopping"===u,U=/ShoppingSquareGridRelatedProducts/.test(j),Z=2;if(k?Z=3:(J||"none"!==D)&&(Z=N||U?2:1),N||(k&&U||_)){var L,Q,W=((null===(L=x.rich_summary)||void 0===L||null===(Q=L.products)||void 0===Q?void 0:Q[0])||{}).offer_summary;n=W?W.standard_price:void 0,r=W?W.price||W.max_price:void 0}if(N&&!k){var q,H,G,X=(null===(q=x.rich_summary)||void 0===q?void 0:q.aggregate_rating)||{},Y=X.rating_count,K=X.rating_value,z=X.review_count;(Y||z)&&parseFloat(K)&&(o={count:Y||z,rating:K}),i=null===(H=x.rich_metadata)||void 0===H||null===(G=H.products)||void 0===G?void 0:G[0].shipping_info}var $=(0,p.rh)(x,O,h),ee="CreatorProfileStoryPinGrid"!==j&&"CreatorProfileActivityPinGrid"!==j,te=y&&!C;return{attributionType:D,board:l,contentType:u,feedbackData:b,feedbackType:m,isDarkPromoter:!k&&!!R,pinNoteText:M,pinTitle:T,productCurrentPrice:r,productOriginalPrice:n,productRating:o,productShipping:i,showCarouselEllipsis:g,showFavoriteButton:!A&&("BaseBoardPinGrid"===j&&v||Boolean(null==l?void 0:l.should_show_board_activity)),showGroupBoardAvatar:te,showNativeReactions:w,showOverflowMenu:F,showPinStats:$,showSource:J,showTextContent:ee,showVisitSiteButton:V,titleLines:Z}}var b=n(631739),m=n(30494),g=n(233088),y=n(702403),v=n(344886);var x=["ShoppingCatalogsProductsMetadata"];var I=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],w=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var _=n(577302),j=n(551687),O=n(586840),A={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var S=n(789875),P=n(601750),E=n(300970),k=n(215484),C=n(609304),R=n(593482);var B=n(689859),D=n(174523),T=n(767523),J=n(383722),V=n(34411),M=(n(218265),n(488023)),F=n(374897),N=n(986215),U=n(159276),Z=n(818270),L=n(626173),Q=n(197801),W=n(345513),q=n(452963),H=n(181307),G=n(382745),X=n(272828),Y=n(80209),K=["blockClickEvents","attributionOption","board","debugImpressionState","feedbackOptions","imageOnlyOption","isSocialSeasonalBoard","pinImageCrop","pinImageFit","reduxPin","resolution","saveButtonOptions","shouldShowFooter","surface","trackingParameters"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re,oe=(0,r.lazy)((function(){return Promise.all([n.e(75796),n.e(69039),n.e(21632),n.e(92982)]).then(n.bind(n,969810))})),ie=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ae=["BaseBoardPinGrid","UserProfilePinGrid"].concat(function(e){if(Array.isArray(e))return ne(e)}(re=M.Y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(re)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var ce=(0,o.connect)((function(e,t){var n=e.boards,r=n.isSocialSeasonalBoard,o=void 0!==r&&r,i=n.content,a=void 0===i?{}:i,c=e.pins,s=t.pin,l=c[t.pinId]||s,u=l.board&&l.board.id,d=(u?a["".concat(u)]:void 0)||l.board;return l.grid_title=l.grid_title||s.grid_title,{board:d,isSocialSeasonalBoard:o,reduxPin:l}}),(function(){return{}}))((function(e){var t,n,d=e.blockClickEvents,f=e.attributionOption,M=e.board,z=e.debugImpressionState,ee=e.feedbackOptions,ne=e.imageOnlyOption,re=void 0===ne?"default":ne,ce=e.isSocialSeasonalBoard,se=e.pinImageCrop,le=e.pinImageFit,ue=e.reduxPin,de=e.resolution,pe=void 0===de?"default":de,fe=e.saveButtonOptions,he=e.shouldShowFooter,be=void 0===he||he,me=e.surface,ge=e.trackingParameters,ye=te(e,K),ve=(0,D.ZP)(),xe=(0,Q.Y)(),Ie=M||{},we=Ie.collaborated_by_me,_e=Ie.collaborator_count,je=Ie.is_collaborative,Oe=ue.pinner,Ae=ue.showFeedback,Se=ue.sponsorship,Pe=(0,C.Z)(ue),Ee=(0,V.Z)(),ke=(0,T.Z)(),Ce=(0,X.TH)(),Re=ge.slotIndex,Be=ge.viewParameter,De=(0,H.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(me)).anyEnabled,Te=(0,o.useSelector)((function(e){return e.ui.views})),Je=(0,o.useSelector)((function(e){return e.ui})),Ve=Je.app?Je.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},Me=(0,N.i8)(ue.id,Ve),Fe=(0,o.useSelector)((function(e){return e.changeBoardFromToast}))||{},Ne=(0,k.Z)(ue),Ue=(0,P.Z)(ue),Ze=Ee.isAuth&&Ee.isEmployee,Le=Ee.isAuth&&((0,E.Z)(null,Ee)||(0,R.Z)(null,Ee))&&!Ee.isPartner,Qe=Le;"TodayArticleFeed"===me&&(Qe=!1),"default"!==re&&(Qe="image-only"===re),function(e){return c.zI.includes(e)}(me)&&(Qe=!1),"ShoppingSquareGridDomainNoMetadata"===me&&(Qe=!0);var We=f;Le&&!We&&(We="image-only");var qe=(0,S.Z)({feedbackOptions:ee,pin:ue,viewParameter:Be},ve),He=(ee||{}).data,Ge="number"==typeof _e&&_e>0||je,Xe=function(e,t){if("OtherProfilePinGrid"===t)return!0;var n=A[t];return!!n&&"dense"===e[n]}(Te,me),Ye=Boolean(Ge&&"BaseBoardPinGrid"===me),Ke=(0,J.Z)(),ze=(0,o.useSelector)((function(e){var t,n,r,o,i=e.users;return i&&i[null!==(t=null===(n=Ke.data)||void 0===n?void 0:n.id)&&void 0!==t?t:""]?i[null!==(r=null===(o=Ke.data)||void 0===o?void 0:o.id)&&void 0!==r?r:""]:Ke.data})),$e=(0,_.Z)(Ee,M),et=!1;if(!!(0,X.LX)(Ce.pathname,{path:"/:username/_created/",exact:!0}))et=(0,U.q6)(Ee,null==ze?void 0:ze.id,ke);else if((0,G.am)(Ce)||(0,G.OJ)(Ce)){var tt=M&&M.owner&&M.owner.id||"";et=(0,U.q6)(Ee,tt,ke)}var nt,rt=Boolean(Ee.isAuth&&Oe&&Oe.id===Ee.id),ot=Boolean(we||Ge&&$e),it=Ee.isAuth&&Ee.isPartner,at=(0,H.aq)("web_deleted_idea_pins",!(null===(t=ue.story_pin_data)||void 0===t||!t.is_deleted)).anyEnabled,ct=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDeletedStoryPin,r=e.surface,o={primaryContent:null,secondaryContent:null,actionBar:w.includes(r)?"none":"visible",accessoryContent:t?"visible":"none"};return n||I.includes(r)?(o.primaryContent="none",o.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(r)&&(o.primaryContent="visible"),o}({hasCarouselData:Ue,isDeletedStoryPin:at,surface:me})}),[Ue,at,me]),st=ue.is_quick_promotable&&!["ShoppingSquareGridHomefeedBoth","ShoppingListGrid"].includes(me),lt=(0,r.useMemo)((function(){return function(e){var t=e.board,n=e.isDenseView,r=e.isGroupBoard,o=e.isInlineBetterSave,i=e.isOwnBoard,a=e.isORBACProfileManager,s=e.isQuickPromotable,l=e.isRemovable,u=e.saveButtonOptions,d=e.surface,p=e.viewer,f=e.viewerIsCollaborator,h=p.isAuth?p.boardCount:void 0,b=u||function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)?{type:"classic"}:{type:"inline"}}(h);return s?b={type:"promote"}:(f||i||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&"BoardlessPins"!==d&&(b={type:"classic"}),o&&(b={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(l||x.includes(d)||a)&&(b={type:"none"}),{board:t,derivedSaveButtonOptions:b,showLikeButton:f&&r&&c.UP.includes(d),supportsReactionBar:!n}}({board:M,isInlineBetterSave:De,isDenseView:Xe,isGroupBoard:Ye,isOwnBoard:$e,isOwnPin:rt,isORBACProfileManager:et,isQuickPromotable:st,isRemovable:Pe,saveButtonOptions:fe,surface:me,viewer:Ee,viewerIsCollaborator:ot})}),[M,De,Xe,Ye,$e,rt,et,st,Pe,fe,me,Ee,ot]),ut=(0,a.Z)(ue).isPromoted,dt=(0,H.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0}).anyEnabled;[].concat(["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"],["ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"]).includes(me)&&!ut&&(nt="white");var pt=(0,r.useMemo)((function(){return function(e){var t=e.allowProductCarousel,n=void 0!==t&&t,r=e.shoppingLabelColor,o=e.surface;return{allowProductCarousel:n,allowShoppingPriceIndicator:c.Wv.includes(o),shoppingLabelColor:r}}({allowProductCarousel:Ne,shoppingLabelColor:nt,surface:me})}),[Ne,nt,me]),ft=(0,r.useMemo)((function(){return function(e){var t,n=e.board,r=e.feedbackData,o=e.feedbackType,c=e.isDenseView,d=e.isGroupBoard,p=e.isOwnBoard,f=e.isORBACProfileManager,h=e.pin,b=e.surface,m=e.viewer,g=(0,a.Z)(h),y=g.isOwnPin,v=g.isPromoted,x=s({isGroupBoard:d,pin:h,surface:b}),I=n&&(0,i.Z)({action:4,board:n,viewer:m})||y,w=h.savedInfo&&h.savedInfo.localPinId,_=Boolean(p&&!d||"UserProfilePinGrid"===b&&I||w),j=d&&I||_||f&&!(0,l.hy)(h),O=Boolean((null==n?void 0:n.is_collaborative)||_),A=!(v||p||d||u.includes(b)||f),S="CloseupRelatedProducts"!==b&&!f,P=h.tracked_link,E=h.link,k=!(null===(t=null!=P?P:E)||void 0===t||!t),C=d&&c?"equally-spaced":"default",R="default";return c&&(R=d?"icon-only":"truncated-text"),c&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(b)&&(R="icon-only",C="equally-spaced"),{actionBarEditBeforeShare:O,feedbackData:r,feedbackType:o,layout:C,pinTitle:x,showEditButton:j,showOverflowMenu:A,showShareButton:S,showSourceLinkButton:k,sourceLinkStyle:R}}({board:M,feedbackData:He,feedbackType:qe,isDenseView:Xe,isGroupBoard:Ye,isOwnBoard:$e,isORBACProfileManager:et,pin:ue,surface:me,viewer:Ee})}),[M,He,qe,Xe,Ye,$e,et,ue,me,Ee]),ht=!et&&(0,p.rh)(ue,Ee,xe)&&ae.includes(me),bt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(me),mt=!ut&&bt?"shopping":"standard",gt=(0,F.J6)(ue,at),yt=(0,H.tc)("web_ag_msg_pin_card_update"),vt="ConversationView"===me&&yt({dangerouslySkipActivation:!0}).anyEnabled,xt=(0,r.useMemo)((function(){return h({attributionOption:We,board:M,contentType:mt,feedbackData:He,feedbackType:qe,experimentsClient:xe,hasCarouselData:Ue,isGroupBoard:Ye,isOwnBoard:$e,isORBACProfileManager:et,pin:ue,showImageOnly:Qe,showNativeReactions:gt,showPromotedShoppingPrice:dt&&ut&&bt,surface:me,viewer:Ee,inMsgPinCardUpdateExp:vt})}),[We,M,mt,xe,He,qe,Ue,Ye,$e,et,ut,bt,ue,dt,Qe,gt,me,Ee,vt]),It=Boolean(xt.pinTitle)||xt.contentType||xt.userNote||xt.showSource||"none"!==xt.attributionType||xt.showNativeReactions||xt.productCurrentPrice||xt.productOriginalPrice||xt.showPinStats,wt=be&&(It||Ye);"BaseBoardPinGrid"===me&&$e&&it||Se?wt=!0:ie.includes(me)||Xe&&($e||we)||ce?wt=!1:rt||"CreatorProfileStoryPinGrid"!==me&&"CreatorProfileActivityPinGrid"!==me||(wt=!1);var _t=Boolean(Ae),jt=(0,H.tc)("web_others_board_feed_ads_border"),Ot={showNoPinBorderRadius:"TopicBestPinNarrow"===me||"TopicBestPinWide"===me||vt&&"ConversationView"===me,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===me&&ut&&jt().anyEnabled,shouldUseLegoWash:!0},At=(0,H.aq)("hfp_homefeed_control_cta_variants").anyEnabled,St={feedbackType:qe,isHomefeedTunerVariantExp:At},Pt=(0,H.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}).anyEnabled,Et=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDenseView,r=e.isPromoted,o=e.isSocialSeasonalBoard,i=e.pinImageCrop,a=e.pinImageFit,c=e.resolution,s=e.showPromotedVideos,l=e.surface,u="backend";"CloseupRelatedProducts"===l?u={height:v.GZ,width:v.OE}:"TopicBestPinWide"===l?u={height:y.m9,width:y.BS}:"TopicBestPinNarrow"===l?u={height:y._5,width:y.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l)?u={height:v.zX,width:v.zX}:i&&(u=i);var d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingList","ShoppingListCategories","ShoppingListRecentlyViewed","ShoppingListRecentlyViewedFeed"].includes(l),p="none",f=null!=c?c:"default";"string"!=typeof u&&(p="cover",(d||"ShoppingSquareGridCrop"===l&&r||"ShoppingDynamicHeightGrid"===l&&!a||"ShoppingSquareGridDomainNoMetadata"===l)&&(p="contain",f="high-res"));var h=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",x=(0,m.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===g.Xb.getItem(b.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:p,isDenseView:n,isSocialSeasonalBoard:o,resolution:f,rootMargin:x,pinImageCrop:u,showCarousel:t&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:s}}({hasCarouselData:Ue,isDenseView:Xe,isPromoted:ut,isSocialSeasonalBoard:ce,pinImageCrop:se,pinImageFit:le,resolution:pe,showPromotedVideos:Pt,surface:me})}),[Ue,Xe,ut,ce,se,le,pe,Pt,me]),kt=Ze&&(0,q.F)(),Ct=(0,r.useMemo)((function(){return{debugImpressionState:z,slotIndex:Re}}),[z,Re]);return(0,Y.jsx)(j.Z,{name:"PinRepConfiguration",children:(0,Y.jsx)(L.B,{value:ge,children:(0,Y.jsxs)(Z.B,{value:{surface:me},children:[(0,Y.jsx)(W.Z,$({actionBarProps:ft,blockClickEvents:d,currentlyPlayingVideo:Me,footerProps:xt,visibilityOverrides:ct,impressionsDebuggerProps:Ct,obscuredPinOverlayProps:St,pin:ue,pinVisualProps:Et,presentationProps:Ot,primaryContentProps:lt,secondaryContentProps:pt,showFooter:wt,showUnavailablePin:at,showImpressionsDebugger:kt,showObscuredPinOverlay:_t,showSeeStatsButton:ht,showSignalDebugger:Ze,surface:me},(0,O.Z)(ye,["pinId"]))),Fe.shouldOpenModal&&Fe.newPin&&(null===(n=Fe.originalPin)||void 0===n?void 0:n.id)===ue.id&&(0,Y.jsx)(j.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,Y.jsx)(B.Z,{children:(0,Y.jsx)(oe,{experience:Fe.experience,newPin:Fe.newPin})})})]})})})}))},345513:function(e,t,n){"use strict";n.d(t,{J:function(){return Mn},Z:function(){return Fn}});var r=n(793550),o=n(711243),i=n(551687),a=n(754975),c=n(689859),s=n(174523),l=n(585967),u=n(626173),d=n(100001),p=n(439887),f=n(542756);function h(e,t){var n=e.carousel_data,r=e.domain||"";return n&&n.id&&(r=function(e,t){var n=t||e&&e.index||0,r=e&&e.carousel_slots||[],o=r[n]&&r[n].link||"";return o&&(0,f.Z)(o).hostname||""}(n,t)),r.replace("www.","")}var b=n(268648),m=n(250777),g=n(124324),y=n(272828),v=n(218265),x=n(80209);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function S(e){var t=e.pin,n=e.sourceLinkStyle,o=e.surface,i=e.url,a=(0,s.ZP)(),c=j((0,r.useState)(!1),2),l=c[0],f=c[1],I=t.id,_=h(t),O=(0,y.TH)(),S=(0,g.Kl)(t)||{},P=(0,u.E)().slotIndex,E=(0,p.Z)(t,O),k=(0,m.Z)(12,w({grid_index:P,objectId:I,clientTrackingParams:E},(0,g.Kl)(t)||{})),C=(0,m.Z)(101,w({element:162,objectId:I,clientTrackingParams:E},(0,g.Kl)(t)||{})),R=(0,m.Z)(8948,w({click_type:"clickthrough",closeup_navigation_type:"click",grid_index:P,objectId:I,clientTrackingParams:E},(0,g.Kl)(t)||{})),B=function(){k(),C(),R()},D=(0,b.Z)({href:i,target:"blank",externalData:{auxData:S,pin:t,surface:o}});return"icon-only"===n?(0,x.jsx)(v.hU,{accessibilityLabel:a._("link","Website url link","Website url link"),bgColor:"white",href:i,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),B(),D({event:t})},role:"link",rel:"nofollow",size:"sm"}):(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:w(w(w({},A.container),l?A.containerHovered:Object.freeze({})),"truncated-text"===n?A.containerTruncated:Object.freeze({}))},"data-test-id":"pinrep-source-link",onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},position:"relative",children:(0,x.jsx)(d.Z,{hovered:l,pin:t,slotIndex:P,viewType:1,children:(0,x.jsx)(v.iP,{fullWidth:!1,href:i,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),B(),D({event:t})},rel:"nofollow",role:"link",rounding:4,children:(0,x.jsxs)(v.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:A.text},display:"flex",justifyContent:"between",children:[(0,x.jsx)(v.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,x.jsx)(v.JO,{accessibilityLabel:a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,x.jsx)(v.xv,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:_})})]})})})})}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=(0,r.lazy)((function(){return Promise.all([n.e(23039),n.e(49806),n.e(56103),n.e(48035)]).then(n.bind(n,395553))})),D=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,665035))})),T=(0,r.lazy)((function(){return n.e(5035).then(n.bind(n,806841))}));var J=(0,r.memo)((function(e){var t,n=e.actionBarEditBeforeShare,d=e.feedbackData,p=e.feedbackType,f=e.layout,h=e.onToggleFlyout,b=e.pin,m=e.pinTitle,g=e.setForcePrimary,y=e.showEditButton,I=e.showOverflowMenu,w=e.showShareButton,_=e.showSourceLinkButton,j=e.sourceLinkStyle,O=e.surface,A=(0,s.ZP)(),P=(0,v.JZ)(),k=(0,l.B)().isRTL,R=(0,u.E)(),J=R.viewParameter,V=R.viewType,M=b.carousel_data,F=b.id,N=b.savedInfo,U=b.tracked_link,Z=b.link,L=null!==(t=null!=U?U:Z)&&void 0!==t?t:"",Q=(0,a.Z)(b).isLeadPin,W=C((0,r.useState)(y),2),q=W[0],H=W[1],G=C((0,r.useState)(y),2),X=G[0],Y=G[1],K=C((0,r.useState)(y),2),z=K[0],$=K[1],ee=E(E({},k?{marginLeft:y&&I?-44:0}:{marginRight:y&&I?-44:0}),{},{transition:k?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"}),te={opacity:z?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},ne=E(E({},k?{marginRight:X?4:0}:{marginLeft:X?4:0}),{},{transition:k?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"});(0,r.useEffect)((function(){var e;return y&&I?(Y(!0),e=setTimeout((function(){requestAnimationFrame((function(){H(!0),requestAnimationFrame((function(){$(!0)}))}))}),800)):(Y(y),H(y),requestAnimationFrame((function(){$(y)}))),function(){clearTimeout(e)}}),[y,I]);var re=null;_&&(re=(0,x.jsx)(o.Z,{children:Q?(0,x.jsx)(v.zx,{role:"button",accessibilityLabel:A._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:A._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,x.jsx)(S,{pin:b,sourceLinkStyle:j,surface:O,url:L})}));var oe=w&&(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"send-share-link",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(T,{pin:b,setForcePrimary:g})})})})}),ie=Boolean(null==N?void 0:N.localPinId)?null==N?void 0:N.localPinId:F,ae=q&&(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:P?void 0:{__style:te},children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(B,{carouselSlotCurrentIndex:M&&M.index,component:0,onToggleModal:h,pinId:ie,style:{size:"sm"},view:V,viewParameter:J,useLegoStyles:!0})})})})});return"equally-spaced"===f?(0,x.jsxs)(v.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:re}),n?ae:oe,n?oe:ae]}):(0,x.jsxs)(v.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,x.jsx)(v.xu,{flex:"shrink",children:re}),(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:P?void 0:{__style:ee},children:(0,x.jsxs)(v.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[n?ae:oe,n?oe:ae,I&&(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:P?void 0:{__style:ne},children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(D,{feedbackData:d,feedbackType:p,pin:b,pinTitle:m,setForcePrimary:g})})})})})]})})]})})),V=n(575429),M=n(224982),F=n(589444),N=n(457175);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=e.direction,n=e.swipeHandler,r=(0,s.ZP)(),o={left:r._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:r._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,x.jsx)(v.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===t,right:"right"===t,children:(0,x.jsx)(v.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-".concat(t),children:(0,x.jsx)(v.JO,{accessibilityLabel:o[t],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[t]})})})})}var W=(0,V.connect)(null,(function(e){return{changeCarouselSlotIndex:function(t,n){return e((0,M.Z)(t,n))}}}))((function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=(0,N.v)().logContextEvent,i=(0,u.E)(),a=i.componentType,c=i.viewParameter,s=i.viewType,l=(0,F.Z)({pin:t});if(!l)return null;var d=t.id,p=void 0===d?"":d,f=l.carousel_slots,h=void 0===f?[]:f,b=l.index,m=void 0===b?0:b,y=l.id;function I(e){return function(){var o="left"===e?m-1:m+1;n(p,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;r({event_type:108,object_id_str:p,component:a,view_type:s,view_parameter:c,event_data:{pinCarouselSlotEventData:{carouselSlotId:h[e]&&Number(h[e].id),carouselDataId:Number(y),carouselSlotIndex:e,toCarouselSlotIndex:n}},aux_data:Z({},(0,g.Kl)(t)||{})})}(m,o)}}return(0,x.jsxs)(v.xu,{height:"100%",position:"relative",width:"100%",children:[m>0&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Q,{direction:"left",swipeHandler:I("left")})}),m<h.length-1&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Q,{direction:"right",swipeHandler:I("right")})})]})})),q=n(514560),H=n(151101);function G(e){var t=e.accessibilityLabel,n=e.attributionNameLink,r=e.avatarUrl,o=e.fullWidth,i=void 0===o||o,a=e.name,c=void 0===a?"":a,s=e.onClick,l=e.outline,u=void 0!==l&&l,d=e.size,p=void 0===d?32:d,f=(0,x.jsx)(v.xu,{"data-test-id":"attribution-avatar",height:p,width:p,children:(0,x.jsx)(H.Z,{name:c,src:r,accessibilityLabel:t,outline:u})});return n?(0,x.jsx)(v.iP,{fullWidth:i,role:"link",href:n,onTap:s,children:f}):f}var X=n(181307);function Y(e){var t=e.isHover,n=e.attributionNameLink,r=e.name,o=e.onClick,i=e.regularWeight,a=(0,X.aq)("web_disable_ads_blocker",!n).anyEnabled;return(0,x.jsx)(v.xu,{children:(0,x.jsx)(v.xv,{underline:t,size:"md",lineClamp:1,weight:i?"normal":"bold",children:n?(0,x.jsx)(v.rU,{onClick:o,href:n,children:r}):a?(0,x.jsx)("span",{children:r}):r})})}function K(e){var t=e.isHover,n=e.link,r=e.onClick,o=e.title,i=e.weight;return o?(0,x.jsx)(v.xv,{inline:!0,underline:t,size:"md",weight:i,children:n?(0,x.jsx)(v.rU,{onClick:r,href:n,children:o}):o}):null}var z=n(352483),$=n(234070),ee=n(550242);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=(0,V.connect)(null,(function(e){return{setMostRecentPin:function(t){e((0,ee.K)(t))}}}))((function(e){var t=e.attributionNameLink,n=e.attributionTitle,o=e.avatarUrl,i=e.display,c=void 0===i?"default":i,s=e.isDarkPromoter,l=e.isPromotedByPinCreator,d=e.pin,p=e.name,f=e.setMostRecentPin,h=e.url,b=e.verifiedIdentity,g=e.isVerifiedMerchant,y=(0,u.E)(),I=y.viewParameter,w=y.viewType,_=re((0,r.useState)(!1),2),j=_[0],O=_[1],A=d.id,S=d.pinner,P=d.sponsorship,E=d.story_pin_data_id,k=(0,a.Z)(d).isPromoted,C=S||d.promoter,R=((P||{}).creator||{}).id,B=!!E,D=(0,m.Z)(101,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({view:3,element:k?283:27,objectId:A,component:B?230:void 0},R?{creator_id:R,pin_id:A}:{})),T=function(){f(A),D()},J=function(){O((function(e){return!e}))},V=h&&!t,M="overlay"===c,F=(0,x.jsxs)(v.xu,{alignItems:"center",display:M?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,x.jsx)(v.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:M?"flex":void 0,justifyContent:"center",children:(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:M?{__style:{marginTop:-45}}:void 0,children:(0,x.jsx)(z.Z,{avatarSize:M?64:32,isDarkPromoter:s,pinId:A,user:C,username:C&&C.username,viewParameter:I,viewType:w,children:(0,x.jsx)(G,{attributionNameLink:t,avatarUrl:o,name:p,onClick:function(){return T()},accessibilityLabel:"",size:M?64:32,outline:M})})})}),(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:M?"flex":void 0,justifyContent:"center",marginTop:M?2:void 0,children:[(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,x.jsxs)(v.kC,{gap:1,children:[(0,x.jsx)(Y,{attributionNameLink:t,name:p,onClick:function(){return T()},regularWeight:!(k&&!P||l),isHover:j}),(0,x.jsx)($.Z,{size:"sm",hasVerifiedIdentity:b,isVerifiedMerchant:g})]})}),(0,x.jsx)(K,{isHover:j,title:n,weight:"normal"})]})]});return V?(0,x.jsx)(v.iP,{role:"link",onTap:function(e){e.event.stopPropagation(),T()},href:h,onMouseEnter:J,onMouseLeave:J,children:F}):F})),ae=n(479996),ce=n(577302),se=n(169897),le=n(628402),ue=n(411221),de=n(34411),pe=n(801500),fe=n(816670),he=n(613330),be=n(648381);function me(e){var t=e.board,n=e.favoriteCount,o=e.favorited,i=e.pinId,a=(0,N.v)().logContextEvent,c=(0,V.useDispatch)(),s=(0,u.E)().slotIndex,l=(0,be.s)(),d=l.currentFilter,p=l.eligibleFilters,f=l.refreshData,h=void 0===f?function(){}:f,b=l.sectionId,m=l.setShowExperienceTooltip,g=(0,r.useRef)(null),y=(0,de.Z)(),I=(0,ce.Z)(y,t),w=d===fe.Ac&&(!n||1===n),_=(0,pe.E)(p,fe.Ac),j=function(e){a({event_type:101,component:0,element:e?12225:12226,object_id_str:i,view_type:5,view_parameter:I?3069:3070})};return(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(v.xu,{ref:g,children:(0,x.jsx)(le.Z,{favorited:o,favoriteCount:n,onFavorite:function(){j(!0),_&&h(),m&&m(!0)},onUnfavorite:function(){j(!1),t&&w&&c((0,ue.Z)({feedId:b||t.id,feedType:b?he.DV.SECTION_PINS:he.DV.BOARD_PINS,itemIds:[i],itemType:"pin"}))},pinId:i,size:20})}),g&&!o&&!b&&0===s&&(0,x.jsx)(v.mh,{children:(0,x.jsx)(se.Z,{anchor:g.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ge,ye=n(55413),ve=n.n(ye),xe=n(488242),Ie=n.n(xe),we=n(863986),_e=n.n(we),je=n(475896),Oe=n(680143),Ae=n.n(Oe),Se=n(284762),Pe=n.n(Se),Ee=n(374897);function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce={goodIdea:ve(),love:_e(),thanks:Ae(),wow:Pe(),haha:Ie()},Re=(ke(ge={},7,"goodIdea"),ke(ge,1,"love"),ke(ge,13,"thanks"),ke(ge,11,"wow"),ke(ge,5,"haha"),ge),Be=["CreatorProfileStoryPinGrid"];var De=function(e){var t=e.alignment,n=void 0===t?"start":t,r=e.pinId,o=e.pinner,i=e.reactionCounts,a=e.surface,c=(0,de.Z)(),s=i?(0,Ee.At)(i):null,l=i?(0,Ee.Ud)(i):0,u=Boolean(c.isAuth&&(null==o?void 0:o.id)===c.id),d=!!s&&s.length>0&&s.map((function(e,t){var n=Ce[Re[e]];return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,x.jsx)(v.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(n,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),p=!!d&&(0,x.jsx)(v.iP,{role:"link",href:"/pin/".concat(r,"/"),children:(0,x.jsxs)(v.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:n,height:19,paddingY:3,children:[(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,x.jsx)(v.xu,{paddingX:1,children:(0,x.jsx)(v.xv,{size:"md",children:(0,x.jsx)(je.Z,{value:l,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),f=u&&Be.includes(a)&&(0,x.jsx)(v.xu,{height:24});return p||f},Te=n(752187),Je=n(660310);function Ve(e){var t=e.feedbackType,n=e.pin,r=(0,s.ZP)(),o=n.pinner,i=n.source_interest,a=o||{},c=a.full_name,l=a.username,u=(i||{}).name,d="topic"===t,p=!d&&"followed"===t,f="/".concat(l,"/"),h=(0,Je.NO)(u),b="/search/pins/?q=".concat(encodeURIComponent(h),"&rs=image_only_attribution"),m=d?b:f,g={topic:r._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:r._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:r._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:r._("Picked for you","attribution on pin rep","attribution on pin rep")}[t];if(!g)return null;if(p||d){var y=0===g.indexOf("{"),I=d?u:c,w=y?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return y?(0,x.jsxs)(v.xu,{children:[(0,x.jsx)(v.rU,{inline:!0,href:m,children:(0,x.jsx)(v.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:I})}),(0,x.jsx)(v.xv,{inline:!0,size:"md",children:w})]}):(0,x.jsxs)(v.xu,{children:[(0,x.jsx)(v.xv,{inline:!0,size:"md",children:w}),(0,x.jsx)(v.rU,{inline:!0,href:m,children:(0,x.jsx)(v.xv,{color:"darkGray",weight:"bold",inline:!0,size:"md",lineClamp:1,children:I})})]})}return(0,x.jsx)(v.xu,{children:(0,x.jsx)(Te.Z,{pin:n,children:(0,x.jsx)(v.xv,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var Me=n(665035),Fe=n(500637),Ne=n(958795),Ue=n(215828);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ge(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(i,e);var t,n,r,o=qe(i);function i(){var e;Le(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ye(Ge(e=o.call.apply(o,[this].concat(n))),"state",{spamCheck:null}),Ye(Ge(e),"spamCheckExperimentGroup",null),Ye(Ge(e),"mounted",!1),Ye(Ge(e),"handleSpammyDomainCheck",(function(){var t=e.props,n=t.location,r=t.pin,o=t.surface,i=t.url;i&&r&&(0,Ue.$3)({location:n,pin:r,surface:o})&&(0,Ue.iw)({isMounted:e.mounted,pin:r,location:n,spamCheckCallback:function(t){return e.setState({spamCheck:t})},href:i})})),Ye(Ge(e),"handleClick",(function(t){var n=e.props,r=n.auxData,o=n.location,i=n.onClick,a=n.pin,c=n.pinId,s=n.url;(0,Ue.gV)({isOffsiteUrl:!0,event:t})||(t.preventDefault(),i&&i(t),s&&(0,Ne.h)({href:s,pinId:c,pin:a,location:o,auxData:r}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleSpammyDomainCheck()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.url;return(0,x.jsx)("a",{href:n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:t})}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(r.Component);var ze=(0,Fe.compose)((0,V.connect)((function(e,t){var n=e.pins,r=t.pinId;return{pin:r&&n?n[r]:void 0}}),(function(){return{}})),y.EN)(Ke),$e=n(730762);function et(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}var tt=n(549156);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){var t,n=e.children,r=e.componentType,o=e.contextLogData,i=e.pin,a=e.surface,c=e.viewParameter,s=e.viewType,l=(0,N.v)().logContextEvent,d=(0,u.E)(),p=i.ad_destination_url,f=i.carousel_data,h=i.id,b=i.link,m=i.tracked_link,g=p||m||b||"",y="one-tap-desktop";if(f){var I=f.carousel_slots,w=void 0===I?[]:I,_=f.id,j=f.index,O=void 0===j?0:j;w[O]&&w[O].link&&(g=w[O].link),t={carousel_slot_id:w[O]&&w[O].id,carousel_data_id:_,carousel_slot_index:O},y+="-carousel"}return(0,x.jsx)(v.xu,{"data-test-id":"otpp",children:(0,x.jsx)(tt.Z,{id:y,children:(0,x.jsx)(ze,{auxData:t,onClick:function(){var e=$e.Z.getInstance(),t=e.getViewFromContext();l({event_type:12,view_type:s||d.viewType,view_parameter:c||d.viewParameter,component:r||d.componentType,object_id_str:h,aux_data:rt(rt({},o),{},{grid_index:d.slotIndex,pin_id:h,prefetch_percentage_complete:et(b||"")})}),l({event_type:8948,view_type:s||d.viewType,view_parameter:c||d.viewParameter,component:r||d.componentType,object_id_str:h,aux_data:rt(rt({},o),{},{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:d.slotIndex,pin_id:h,prefetch_percentage_complete:et(b||"")})}),l({event_type:13,object_id_str:h,component:r||d.componentType,view_type:3,aux_data:rt(rt({closeup_navigation_type:"web_closeup"},d.contextLogData),o)}),e.addViewToContext(t)},pinId:h,surface:a,url:g,children:n})})})}var at=n(586840);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){var t=e.pin,n=e.surface,r=(0,a.Z)(t),o=r.isOneTap,i=r.isVideo,c=r.isPromoted,s=r.isLeadPin,l=(0,X.tc)("web_no_tap_tap"),u=!s&&(o||i&&c&&l().anyEnabled)?it:Te.Z;return(0,x.jsx)(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({surface:o?n:void 0},(0,at.Z)(e,["surface"])))}function ut(e){var t=e.pin,n=e.pinNoteText;return(0,x.jsx)(lt,{pin:t,children:(0,x.jsx)(v.xv,{lineClamp:1,overflow:"normal",size:"md",children:n})})}var dt=n(864793),pt=n(965035);function ft(e){var t=e.value,n=e.valueFormat,r=(0,s.ZP)();return t||0===t?"TIME"===n?(0,pt.Z)(t):(0,x.jsx)(je.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:t}):(0,x.jsx)(v.u,{idealDirection:"up",text:r._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function ht(e){var t=e.pin,n=(0,s.ZP)(),r=(0,a.Z)(t),o=r.isStoryPin,i=r.isVideo,c=function(e){var t=e.aggregated_pin_data,n=e.creator_analytics,r=(t||{}).creator_analytics,o=(0,a.Z)(e).isStoryPin;return!n||!o&&r?r:n}(t),l=(0,dt.ZP)(i,o,n),u=i||o?null==c?void 0:c.all_time_realtime:null==c?void 0:c["30d_realtime"];return(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",children:l.map((function(e){var t=e.align,n=e.displayText,r=e.field,o=e.iconType,i=e.iconSize,a=void 0===i?12:i,c=e.valueFormat;return(0,x.jsxs)(v.xu,{alignItems:"center",column:4,display:"flex",justifyContent:t,children:[(0,x.jsx)(v.xu,{display:"inlineBlock",marginEnd:1,children:(0,x.jsx)(v.JO,{accessibilityLabel:n,color:"darkGray",icon:o,size:a})}),(0,x.jsx)(v.xv,{inline:!0,size:"md",children:(0,x.jsx)(ft,{value:null==u?void 0:u[r],valueFormat:c})})]},r)}))})}function bt(e){var t=e.currentPrice,n=e.originalPrice,r=e.pin,o=e.surface,i=n&&n!==t;return(0,x.jsx)(lt,{pin:r,surface:o,children:(0,x.jsxs)(v.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,x.jsx)(v.xv,{color:i?"blue":"darkGray",size:"md",weight:"bold",children:t}),i&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,x.jsx)(v.xv,{color:"gray",size:"md",weight:"bold",children:n})})]})})}var mt=n(537343),gt=n(746857);function yt(e){var t=e.pin,n=e.surface;return(0,x.jsx)(lt,{pin:t,surface:n,children:(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(v.xv,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,gt.Z)(t,n)})})})}var vt=n(11200);function xt(e){var t=e.numberOfLines,n=void 0===t?2:t,r=e.pin,o=e.pinTitle,i=e.surface;return(0,x.jsx)(v.xv,{color:"darkGray",lineClamp:n,size:"md",weight:"bold",children:(0,x.jsx)(lt,{pin:r,surface:i,children:o})})}var It=n(335529),wt={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(It.X,"ms ease")},visible:{opacity:1}}};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){var t,n,o,i,c=e.attributionType,l=e.board,u=e.feedbackData,d=e.feedbackType,p=e.hasTextContent,f=e.hasTitleOrSource,h=e.hoverTransitionState,b=e.isDarkPromoter,g=e.pin,y=e.pinNoteText,I=e.pinTitle,w=e.productCurrentPrice,_=e.productOriginalPrice,j=e.setForcePrimary,O=e.showCarouselEllipsis,A=e.showFavoriteButton,S=e.showGroupBoardAvatar,P=e.showNativeReactions,E=e.showOverflowMenu,k=e.showPinStats,C=e.showSource,R=e.showTextContent,B=e.surface,D=e.titleLines,T=(0,s.ZP)(),J=(0,V.useDispatch)(),M=g.favorited_by_me,F=g.favorite_user_count,N=g.id,U=g.pinner,Z=g.reaction_counts,L=g.sponsorship,Q=(g.story_pin_data||{}).has_affiliate_products,W=function(e,t,n){var r,o,i,c,s,l,u,d,p,f,h=e.board,b=e.link_domain,m=void 0===b?{}:b,g=e.promoter,y=e.sponsorship,v=e.native_creator,x=(y||{}).sponsor,I=(0,a.Z)(e).isPromoted,w=(m||{}).official_user,_=I&&!!y&&(null==v?void 0:v.id)!==(null==g?void 0:g.id),j=e.pinner||{},O="",A="",S="",P="",E="",k="",C=!1,R=!1;if(_)O=null!==(s=null!==(l=null==v?void 0:v.image_medium_url)&&void 0!==l?l:null==v?void 0:v.image_small_url)&&void 0!==s?s:"",A="/".concat(null!==(u=null==v?void 0:v.username)&&void 0!==u?u:"","/"),S=null==g?void 0:g.full_name,P=null==v?void 0:v.full_name,k="/".concat(null!==(d=null==v?void 0:v.username)&&void 0!==d?d:"","/"),E="/".concat(null!==(p=null==g?void 0:g.username)&&void 0!==p?p:"","/"),C=null==v||null===(f=v.verified_identity)||void 0===f?void 0:f.verified,R=null==v?void 0:v.is_verified_merchant;else if(I&&g)O=g.image_medium_url||g.image_small_url,S=g.full_name,P=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),k="/".concat(g.username,"/");else if(y&&null!=x&&x.username){var B,D,T,J,V,M;O=null!==(B=null!==(D=null!==(T=null==v?void 0:v.image_large_url)&&void 0!==T?T:null==v?void 0:v.image_medium_url)&&void 0!==D?D:null==v?void 0:v.image_small_url)&&void 0!==B?B:"",A="/".concat(null!==(J=null==v?void 0:v.username)&&void 0!==J?J:"","/"),S=x.full_name,P=null==v?void 0:v.full_name,k="/".concat(null!==(V=null==v?void 0:v.username)&&void 0!==V?V:"","/"),E="/".concat(x.username,"/"),C=null==v||null===(M=v.verified_identity)||void 0===M?void 0:M.verified,R=null==v?void 0:v.is_verified_merchant}else if(v){var F,N,U,Z,L;O=null!==(F=null!==(N=null!==(U=v.image_large_url)&&void 0!==U?U:v.image_medium_url)&&void 0!==N?N:v.image_small_url)&&void 0!==F?F:"",P=v.full_name,k="/".concat(null!==(Z=v.username)&&void 0!==Z?Z:"","/"),C=null===(L=v.verified_identity)||void 0===L?void 0:L.verified,R=v.is_verified_merchant}else if("show-for-claimed-content"===t){var Q,W,q,H;null!=w&&w.is_primary_website_verified&&w.username&&(O=null!==(Q=null!==(W=null!==(q=w.image_large_url)&&void 0!==q?q:w.image_medium_url)&&void 0!==W?W:w.image_small_url)&&void 0!==Q?Q:"",P=w.full_name,k="/".concat(w.username,"/"),C=null===(H=w.verified_identity)||void 0===H?void 0:H.verified,R=w.is_verified_merchant)}else{var G,X,Y,K;O=null!==(G=null!==(X=null!==(Y=j.image_large_url)&&void 0!==Y?Y:j.image_medium_url)&&void 0!==X?X:j.image_small_url)&&void 0!==G?G:"",A="/".concat(j.username,"/"),P=j.full_name,k=h?h.url:"",C=null===(K=j.verified_identity)||void 0===K?void 0:K.verified,R=j.is_verified_merchant}return{avatarUrl:null!==(r=O)&&void 0!==r?r:"",attributionNameLink:A,attributionTitle:null!==(o=S)&&void 0!==o?o:"",name:null!==(i=P)&&void 0!==i?i:"",sponsorUrl:E,url:null!==(c=k)&&void 0!==c?c:"",verifiedIdentity:!!C,isVerifiedMerchant:!!R}}(g,c,T),q=W.avatarUrl,H=W.attributionNameLink,Y=W.attributionTitle,z=W.name,$=W.sponsorUrl,ee=W.url,te=W.verifiedIdentity,ne=W.isVerifiedMerchant,re=!!g.promoter&&!g.is_downstream_promotion,oe=re&&(null===(t=g.native_creator)||void 0===t?void 0:t.id)===(null===(n=g.promoter)||void 0===n?void 0:n.id),ce=(0,m.Z)(101,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({view:3,element:27,pin_id:N,objectId:N,component:g.story_pin_data_id?230:void 0},null!=L&&null!==(o=L.creator)&&void 0!==o&&o.id&&null!==(i=L.sponsor)&&void 0!==i&&i.id?{creator_id:L.creator.id,sponsor_id:L.sponsor.id}:{})),se=function e(t){return J(e(t))},le=function(){se(N),ce()},ue=(0,X.tc)("web_search_ideapin_module"),de=!!g.story_pin_data_id&&"SearchItem"===B&&ue().anyEnabled,pe=(0,X.tc)("web_ag_msg_pin_card_update"),fe="ConversationView"===B&&pe({dangerouslySkipActivation:!0}).anyEnabled,he=!oe&&L?(0,x.jsx)(K,{link:$||ee,onClick:function(){return le()},title:(0,mt.ZP)(Y,20),weight:"bold"},"".concat(g.id,"-sponsor-name-link")):null,be="ConversationView"===B&&fe?{padding:"8px"}:wt.container;return(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:be},children:[O&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:f||S||"none"!==c?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,x.jsx)(ae.default,{pinId:N})}),k&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,x.jsx)(ht,{pin:g})}),(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsxs)(v.xu,{flex:"grow",children:[(!!L||Q&&!re)&&!oe&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(v.xu,{flex:"grow",overflow:"hidden",children:(0,x.jsx)(vt.Z,{hasAffiliateProducts:Q,isPromoted:re,sponsorName:he,sponsorshipStatus:null==L?void 0:L.status})})}),(R&&p||A)&&(0,x.jsxs)(v.xu,{marginBottom:1,children:[(_||w)&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(bt,{currentPrice:w,originalPrice:_,pin:g,surface:B})}),A?(0,x.jsxs)(v.kC,{alignItems:"start",children:[(0,x.jsx)(v.kC,{flex:"grow",children:(0,x.jsx)(xt,{numberOfLines:D,pin:g,pinTitle:I,surface:B})}),(0,x.jsx)(v.xu,{marginStart:3,children:(0,x.jsx)(me,{board:l,favorited:!!M,favoriteCount:null!=l&&l.should_show_board_activity?null!=F?F:0:void 0,pinId:N})})]}):!de&&(0,x.jsx)(xt,{numberOfLines:D,pin:g,pinTitle:I,surface:B}),C&&(0,x.jsx)(v.xu,{marginBottom:2,children:(0,x.jsx)(yt,{pin:g,surface:B})})]}),(0,x.jsxs)(v.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(v.xu,{flex:"grow",children:function(){var e=(0,x.jsx)(ie,{attributionNameLink:H,attributionTitle:re&&!L||oe?Y:"",avatarUrl:q,isDarkPromoter:!!b,isPromotedByPinCreator:!!oe,verifiedIdentity:de&&te,isVerifiedMerchant:de&&ne,name:z,pin:g,url:ee,display:de?"overlay":"default"});if(de)return e;switch(c){case"none":return null;case"image-only-credit":return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:wt.imageOnlyAttribution["active"===h?"visible":"hidden"]},children:(0,x.jsx)(Ve,{pin:g,feedbackType:d})});default:return Object.values(W).some((function(e){return Boolean(e)}))?e:null}}()}),E&&(0,x.jsx)(v.xu,{flex:"none",children:(0,x.jsx)(Me.default,{feedbackData:u,feedbackType:d,pin:g,pinTitle:I,setForcePrimary:j,transparentBackground:!0})})]}),P&&!!Z&&(0,x.jsx)(v.xu,{marginTop:"ConversationView"===B&&fe?2:void 0,children:(0,x.jsx)(De,{pinId:N,pinner:U,reactionCounts:Z,surface:B,alignment:de?"center":void 0})}),y&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(ut,{pin:g,pinNoteText:y})}),S&&!A&&(0,x.jsx)(v.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!A&&(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(G,{attributionNameLink:H||ee,avatarUrl:q,fullWidth:!1,name:z}),(0,x.jsx)(v.xu,{marginStart:2,flex:"grow",children:(0,x.jsx)(v.xv,{size:"md",children:z})})]})})]})})]})}var At=n(539484),St=n(278646),Pt=n(560133),Et=(0,r.lazy)((function(){return n.e(33168).then(n.bind(n,950057))})),kt=(0,r.lazy)((function(){return n.e(69221).then(n.bind(n,379575))}));function Ct(e){var t,n=e.contentType,o=e.hasTextContent,a=e.pin,l=e.pinTitle,u=e.productCurrentPrice,d=e.productOriginalPrice,p=e.productRating,f=e.productShipping,h=e.showSource,b=e.showVisitSiteButton,m=e.surface,g=e.titleLines,y=(0,N.v)().logContextEvent,I=(0,s.ZP)(),w=(0,X.tc)("web_shopping_grid_metadata_ratings_shipping"),_=w({dangerouslySkipActivation:!0}),j=_.anyEnabled,O=_.group,A=(null===(t=a.rich_summary)||void 0===t?void 0:t.url)||a.link;"shopping"!==n||O.includes("pwt")||w();var S=(0,At.Z)({url:A})?"nofollow":"none";return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:wt.productContainer},height:"100%",children:(0,x.jsx)(v.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:o&&(0,x.jsxs)(r.Fragment,{children:[(0,x.jsxs)(v.xu,{children:[(d||u)&&(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(bt,{currentPrice:u,originalPrice:d,pin:a,surface:m})}),(0,Pt.qN)(a)&&(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(Et,{})})})}),(0,Pt.SP)(a)&&(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(kt,{})})})}),(0,x.jsx)(v.xu,{marginBottom:1,children:(0,x.jsx)(xt,{numberOfLines:g,pin:a,pinTitle:l,surface:m})}),h&&(0,x.jsx)(yt,{pin:a,surface:m}),"shopping"===n&&j&&(p||Number.isFinite(null==f?void 0:f.free_shipping_value))&&(0,x.jsx)(St.L,{count:null==p?void 0:p.count,countFormat:"number",ratingValue:null==p?void 0:p.rating,shippingInfo:f})]}),b&&A?(0,x.jsx)(v.xu,{marginTop:2,children:(0,x.jsx)(v.zx,{role:"link",fullWidth:!0,href:A,rel:S,onClick:function(){y({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:I._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}var Rt=(0,r.memo)((function(e){var t=e.attributionType,n=e.blockClickEvents,r=e.board,i=e.contentType,a=e.feedbackData,c=e.feedbackType,s=e.hoverTransitionState,l=e.isDarkPromoter,u=e.pin,d=e.pinNoteText,p=e.pinTitle,f=e.productCurrentPrice,h=e.productOriginalPrice,b=e.productRating,m=e.productShipping,g=e.setForcePrimary,y=e.showCarouselEllipsis,I=e.showFavoriteButton,w=e.showGroupBoardAvatar,_=e.showNativeReactions,j=e.showOverflowMenu,O=e.showPinStats,A=e.showSource,S=e.showTextContent,P=e.showVisitSiteButton,E=e.surface,k=e.titleLines,C=p||A,R="shopping"===i?(0,x.jsx)(Ct,{contentType:i,hasTextContent:!!C,pin:u,pinTitle:p,productCurrentPrice:f,productOriginalPrice:h,productRating:b,productShipping:m,showSource:A,showVisitSiteButton:P,surface:E,titleLines:k}):(0,x.jsx)(Ot,{attributionType:t,board:r,feedbackData:a,feedbackType:c,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:s,isDarkPromoter:l,pin:u,pinNoteText:d,pinTitle:p,productCurrentPrice:f,productOriginalPrice:h,setForcePrimary:g,showCarouselEllipsis:y,showFavoriteButton:I,showGroupBoardAvatar:w,showNativeReactions:_,showOverflowMenu:j,showPinStats:O,showSource:A,showTextContent:S,surface:E,titleLines:k});return n?(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:R}):(0,x.jsx)(v.kC,{flex:"grow",children:(0,x.jsx)(o.Z,{fullWidth:!0,children:R})})})),Bt=n(773788),Dt=n(269307);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt=(0,r.lazy)((function(){return n.e(34979).then(n.bind(n,479818))})),Ft=(0,r.lazy)((function(){return Promise.all([n.e(23039),n.e(69039),n.e(49806),n.e(56103),n.e(43473)]).then(n.bind(n,845680))})),Nt=(0,r.lazy)((function(){return Promise.all([n.e(23039),n.e(69039),n.e(49806),n.e(56103),n.e(22347)]).then(n.bind(n,912836))})),Ut=(0,r.lazy)((function(){return Promise.all([n.e(75796),n.e(22538)]).then(n.bind(n,23945))})),Zt=(0,r.lazy)((function(){return n.e(1593).then(n.bind(n,34399))}));function Lt(e){var t=e.derivedSaveButtonOptions,n=e.forcePrimaryContent,a=e.showEnabledSaveBehavior,s=e.onToggleFlyout,l=e.onToggleModal,d=e.pin,p=d.id,f=d.savedInfo,h=(0,r.useRef)(!!f),b=(0,V.useSelector)((function(e){var t=e.experiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),g=(0,Dt.tY)(a).saveBehaviorType;void 0!==g&&["classic","controlled","inline"].includes(t.type)&&(t=g);var y=(0,u.E)(),I=y.viewParameter,w=y.viewType,_=(0,m.Z)(101,{element:0,objectId:p}),j=null,O={onToggleModal:s,view:w,viewParameter:I,useLegoStyles:!0};if(!t.hidePinBetterSaveDropdown&&(b||a&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){var A=t.renderPinSaveTooltip,S=void 0===A?void 0:A;j=(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(Ut,{experience:b||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:S,showEnabledSaveBehavior:a,viewParameter:I})})})})}else if("classic"===t.type||"controlled"===t.type){var P=t.renderPinSaveTooltip;j=(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(Ft,{onClickCallback:_,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:P,renderSavedStatus:function(){return!!f&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Bt.Z,{isNewlySaved:!h.current,name:f.title,type:f.type,url:f.url})})},variant:"lego",viewParameter:I})})})})})}else if("inline"===t.type){var E=d,k=t,C=k.initialSelection,R=k.onSave,B=k.renderPinSaveTooltip,D=k.hidePinBetterSaveDropdown;j=(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"better-save",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(Nt,{initialSelection:C,onSave:R,onToggleFlyout:s,onToggleModal:l,pin:E,renderPinSaveTooltip:B,renderSavedStatus:function(e){var t=e.savedInfo;return t&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Bt.Z,{isNewlySaved:!h.current,name:t.title,type:t.type,url:t.url,shouldUseLegoStyles:!0})})},variant:"pin",viewParameter:I,hideDropdown:D})})})})})}else"persistentOneClickSave"===t.type?j=(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"persistent-one-click-save",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(Mt,Jt(Jt({},O),{},{saveOptions:t,pin:d}))})})})}):"promote"===t.type&&(j=(0,x.jsx)(v.kC,{alignItems:"stretch",justifyContent:"end",children:(0,x.jsx)(i.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,x.jsx)(c.Z,{children:(0,x.jsx)(v.xu,{"data-test-id":"pin-promote-button",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(Zt,{pin:d})})})})})}));return(0,x.jsx)(i.Z,{name:"PinRepPrimaryContent",children:(0,x.jsx)(v.xu,{display:"flex",margin:3,children:j&&(0,x.jsx)(v.xu,{marginStart:"auto",flex:"grow",children:j})})})}var Qt=n(980841),Wt=n(505812),qt=n(329485),Ht=n(771400),Gt=n(598148),Xt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Yt(e){var t=e.isSelected,n=(0,s.ZP)();return(0,x.jsx)(v.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:t?Xt:{},children:(0,x.jsx)(v.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,x.jsx)(v.xu,{alignItems:"center",color:t?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,x.jsx)(v.JO,{accessibilityLabel:n._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var Kt=n(469600),zt=n(712997),$t=n(925854),en=n(80078),tn=n(852474),nn=n(731164),rn={},on=function(e){nn.Z.increment("web_prefetch_via_xhr.attempt",1);var t=(0,f.Z)(e);return new Promise((function(n,r){if(window.navigator&&window.navigator.connection){var o=window.navigator.connection;o.saveData&&(nn.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(o.effectiveType)&&(nn.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200===i.status?(rn[e]&&(rn[e].loaded=!0),nn.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(i.response)):(nn.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),r())},rn[e]||(i.send(),rn[e]={added:!0,xhr:i},nn.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},an={},cn=function(e,t){var n="string"==typeof e?e:e.url;if(t&&n){var r="control"===t?"v1.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",r)}return n};function sn(e,t){return(cn("https://v.pinimg.com/videos/mc/hls/",t)||"")+"".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6),"/").concat(e)}function ln(e){var t=e.id;t&&an[t]&&an[t].length>0&&an[t].forEach((function(e){!function(e){rn[e]&&rn[e].xhr&&!rn[e].loaded&&(nn.Z.increment("web_prefetch_abort_xhr",1),rn[e].xhr.abort(),rn[e].aborted=!0)}(e)}))}function un(e){var t=e.autoplaySettingOff,n=e.blockClickEvents,o=e.fallbackColor,i=e.imageFit,c=e.isHovering,s=e.isSocialSeasonalBoard,l=void 0!==s&&s,p=e.onError,f=e.onLoad,h=e.pin,b=e.pinImageCrop,m=e.resolution,g=void 0===m?"default":m,y=e.rootMargin,I=e.selectionState,w=e.showCarousel,_=e.showPromotedVideos,j=e.showUnavailablePin,O=e.surface,A=(0,u.E)(),S=A.contextLogData,P=A.slotIndex,E=A.viewParameter,k=A.viewType,C=(0,X.aq)("web_prefetch_video_in_feed").group,R=h.id,B=void 0===R?"":R,D=h.aggregated_pin_data,T=h.image_signature,J=h.story_pin_data,V=(D||{}).pin_tags_chips,M=(0,a.Z)(h),F=M.isOneTap,N=M.isVideo,U=M.isPromoted,Z=M.isGif,L=function(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}}(b),Q=L.cropHeight,W=L.cropWidth,q=null;if(j)q=(0,x.jsx)(Kt.Z,{width:236,height:420,rounding:0});else if(t||!N||!_&&U)if(w)q=(0,x.jsx)(v.xu,{"data-test-id":"pinrep-carousel",children:(0,x.jsx)(qt.Z,{cropHeight:Q,cropWidth:W,onError:p,onLoad:f,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,pinId:B,showCarouselBadge:!1,pin:h})});else{var H="backend"===b?function(e){var t,n=e.images,r=e.image_crop,o=n&&(null===(t=n["236x"])||void 0===t?void 0:t.height);if(r&&(0!==r.min_y||1!==r.max_y)){var i=r.min_y,a=void 0===i?0:i,c=r.max_y,s=void 0===c?0:c;return{marginTop:"".concat(a>0?-1*a*(null!=o?o:0):0,"px"),marginBottom:"".concat(s<1?Math.round(-1*(1-s)*(null!=o?o:0)):0,"px")}}return{}}(h):{};q=(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:H},"data-test-id":"pinrep-image",minHeight:55,children:(0,x.jsx)(Ht.Z,{animateGif:Z&&l,cropHeight:Q,cropWidth:W,fallbackColor:o,imageFit:i,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,mediumResOnly:"medium-res"===g,onLoad:f,onError:p,pin:h})})}else q=(0,x.jsx)(v.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:Q||void 0,justifyContent:"center",children:(0,x.jsx)(Gt.Z,{cropHeight:Q,rootMargin:y,inAdsDesktopVideoExperiment:N&&_,pin:h,surface:O,onLoad:f,viewType:k,viewParameter:E,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,onError:p,isExperimentalPinRep:!0})});var G=(0,x.jsx)(v.zd,{wash:!0,children:(0,x.jsx)(d.Z,{hovered:c,pin:h,slotIndex:P,viewType:1,children:q})}),Y=["selected-image-only","deselected-image-only"].includes(I),K="selected-image-only"===I,z=(0,r.useRef)(!0),$=(0,r.useRef)(!1),ee=(0,r.useRef)(!1),te=(0,X.aq)("web_video_quic").group;if((0,r.useEffect)((function(){z.current||!c||F||n||$.current?c||!$.current||ee.current||(ln(J||h),ee.current=!0):J?(!function(e,t){var n,r=e.id,o=e.pages,i=e.pages_preview;if(i||o){var a=i?i[0]:null==o?void 0:o[0],c=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((function(e){return 3===e.block_type}));if(c&&c.video){var s=(0,tn.Z)(c.video)||{},l=s.hlsv3,u=s.mp4||l;if(u&&r){var d,p=null!==(d=cn(u,t))&&void 0!==d?d:"";an[r]=an[r]?an[r].concat(p):[p],on(p)}}}}(J,te),$.current=!0):(!function(e,t){var n=e.id,r=(e.videos||{}).video_list,o=(0,zt.Z)({pin:e}),i=((0,$t.Z)(o)||{}).video||{},a=i.hls,c=i.hlsv3;if(r){var s=(0,tn.t)(r)||{},l=c||a||{};if(l.url){var u,d=null!==(u=cn(l.url,t))&&void 0!==u?u:"";an[n]=an[n]?an[n].concat(d):[d],on(d).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".m3u8")}))),r&&r[en.VS]){var o=sn(r[en.VS],t);return an[n]=an[n].concat(o),on(null!=o?o:"")}return null})).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".ts")}))),r&&r[0]){var o=sn(r[0],t);return an[n]=an[n].concat(o),on(null!=o?o:"")}return null}))}else if(s.url){var p,f=null!==(p=cn(s.url,t))&&void 0!==p?p:"";on(f),an[n]=an[n]?an[n].concat(f):[f]}}}(h,te),$.current=!0),z.current=!1}),[n,c,F,J,h,C,te]),n)return(0,x.jsxs)(r.Fragment,{children:[G,Y&&(0,x.jsx)(Yt,{isSelected:K}),V&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(Wt.Z,{pin:h,enableCloseupLink:!0})})]});var ne=(S||{}).commerce_data,re=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(O);return(0,x.jsxs)(lt,{contextLogData:{grid_index:P,image_signature:T,commerce_data:re?ne:void 0},elementType:35,pin:h,surface:O,children:[G,V&&(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(Wt.Z,{pin:h,enableCloseupLink:!1})})]})}var dn=n(488023),pn=n(255539),fn=n(104216),hn=pn.Z.makeSendShareButton((function(e){var t=e.handleSendShareFlyoutButtonClick,n=(0,s.ZP)(),r=(0,fn.Z)();return(0,x.jsx)(v.zx,{fullWidth:!0,onClick:r((function(e){var n=e.event;n&&n.stopPropagation&&n.stopPropagation(),t()})),text:n._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:n._("Send","Accessible label to send a pin","Accessible label to send a pin")})})),bn=n(777158);function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xn=n(452963),In=n(818026),wn=n(546352),_n=n(7713),jn=n(451875),On="#000000",An="#ffffff";function Sn(e){var t=e.selected,n=void 0!==t&&t,r=(0,s.ZP)(),o=(0,l.B)().isRTL;return(0,x.jsx)(v.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new v.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:n?On:An,borderRadius:jn.Oc,boxShadow:"inset 0 0 0 3px #fff"}},children:n?(0,x.jsx)(v.xu,{position:"absolute",bottom:!0,right:!o,left:o,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,x.jsx)(v.JO,{accessibilityLabel:r._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,x.jsx)(v.xu,{right:!o,left:o,position:"absolute",top:!0,margin:3,children:(0,x.jsx)(v.JO,{accessibilityLabel:r._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}var Pn={wrapper:{borderRadius:jn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:jn.Dv.VISUAL},savedOverlay:{backgroundColor:jn.Dv.SAVED},legoWashOverlay:{backgroundColor:jn.Dv.LEGO_WASH}};function En(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,o=e.visualOverlayVisibility,i=void 0===o?"none":o,a=e.handleMouseOverPinContent,c=e.handleMouseLeavePinContent,s=e.primaryContent,l=e.primaryContentVisibility,u=void 0===l?"none":l,d=e.secondaryContent,p=e.secondaryContentVisibility,f=void 0===p?"none":p,h=e.accessoryContent,b=e.accessoryContentVisibility,m=void 0===b?"none":b,g=e.actionBar,y=e.actionBarVisibility,I=void 0===y?"none":y,w=e.seeStatsButton,_=e.footer,j=e.selectionState,O=void 0===j?"no-selection":j,A=e.debugContent,S=e.signalDebuggerContent,P=e.signalDebuggerV2Content,E=e.signalDebuggerV2ContentVisibility,k=void 0===E?"none":E,C=e.obscuredPinOverlay,R=e.showNoPinBorderRadius,B=e.showPromotedPinBorderTreatment,D=e.shouldUseLegoWash;return(0,x.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:B?Pn.promotedPinBorderTreatment:{}},height:"100%",children:(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:R?{}:Pn.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(O)&&(0,x.jsx)(Sn,{selected:"selected"===O}),(0,x.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:R?{}:Pn.wrapper},overflow:"hidden",position:"relative",onFocus:a,onBlur:c,onMouseEnter:a,onMouseLeave:c,children:[t,(0,x.jsx)(_n.Z,{visibility:i,children:(0,x.jsx)(wn.Z,{additionalStyles:D?Pn.legoWashOverlay:Pn.visualOverlay})}),(0,x.jsx)(_n.Z,{visibility:r,children:(0,x.jsx)(wn.Z,{additionalStyles:D?Pn.legoWashOverlay:Pn.savedOverlay})}),h&&(0,x.jsx)(_n.Z,{visibility:m,children:(0,x.jsx)(wn.Z,{children:h})}),d&&(0,x.jsx)(_n.Z,{visibility:f,children:(0,x.jsx)(wn.Z,{children:d})}),s&&(0,x.jsx)(_n.Z,{visibility:u,children:(0,x.jsx)(wn.Z,{children:s})}),P&&(0,x.jsx)(_n.Z,{visibility:k,children:(0,x.jsx)(wn.Z,{children:(0,x.jsx)(v.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:P})})}),g&&(0,x.jsx)(_n.Z,{visibility:I,children:(0,x.jsx)(wn.Z,{children:(0,x.jsx)(v.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:g})})}),w&&(0,x.jsx)(wn.Z,{children:(0,x.jsx)(v.xu,{position:"absolute",left:!0,bottom:!0,children:w})}),A&&(0,x.jsx)(wn.Z,{children:A}),S]}),_,C&&(0,x.jsx)(v.xu,{children:C})]})})}var kn=n(515528);function Cn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mn=228;var Fn=(0,r.memo)((function(e){var t,n,a=e.actionBarProps,c=e.blockClickEvents,s=e.borderStyle,l=e.currentlyPlayingVideo,d=e.disableHover,p=void 0!==d&&d,f=e.footerProps,h=e.impressionsDebuggerProps,b=e.onError,m=e.onLoad,g=e.obscuredPinOverlayProps,y=e.pin,I=e.pinVisualProps,w=e.presentationProps,_=e.primaryContentProps,j=e.rounding,O=e.selectionState,A=e.secondaryContentProps,S=e.showFooter,P=e.showImpressionsDebugger,E=e.showSeeStatsButton,k=e.showSignalDebugger,C=e.showObscuredPinOverlay,R=e.showUnavailablePin,B=e.surface,D=e.visibilityOverrides,T=y.savedInfo,V=(0,u.E)().viewType,M=(0,Dt.Yh)(kn.ZF.includes(B)||kn.zI.includes(B)).showEnabledSaveBehavior,F=Jn((0,r.useState)(!1),2),N=F[0],U=F[1],Z=(0,It.Z)(N),L=function(){var e=yn((0,r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:(0,It.Z)(t,0,It.X),handleMouseOver:(0,r.useCallback)((function(){return n(!0)}),[n]),handleMouseLeave:(0,r.useCallback)((function(){return n(!1)}),[n])}}(),Q=L.isHovering,H=L.hoverTransitionState,G=L.handleMouseOver,Y=L.handleMouseLeave;p&&(Q=!1,H="inactive");var K,z=(0,It.Z)(!!T),$=Cn(z),ee=Cn(H),te=Cn(H),ne=Cn(Z),re=Cn(z),oe=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(B),ie="visible"!==$||oe?$:"none",ae={primaryContentVisibility:null!==(t=D.primaryContent)&&void 0!==t?t:Rn(te,ne,"visible"===re?"none":re),secondaryContentVisibility:(K=Rn(te,ne,re),"none"===K?"visible":"visible"===K?"none":"hidden"),actionBarVisibility:Rn(te,ne),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},ce=function(e){return U(e)},se=null;"none"!==ae.primaryContentVisibility&&(se=(0,x.jsx)(Lt,Dn({forcePrimaryContent:function(e){return U(e)},showEnabledSaveBehavior:M,onToggleFlyout:ce,onToggleModal:function(e){U(e),e||Y()},pin:y},_)));var le,ue=(0,r.useRef)(!0),de=ue.current;ue.current=!1;var pe=function(e,t){var n=e.carousel_data,o=(n||{}).index,i=mn((0,r.useState)(!n||t),2),a=i[0],c=i[1],s=(0,r.useRef)(o),l=(0,r.useRef)(null);if(n){var u=s.current;s.current=o,(o!==u||t)&&(l.current&&clearTimeout(l.current),c(!0),l.current=setTimeout((function(){c(!1),l.current=null}),4e3))}return(0,r.useEffect)((function(){return function(){l.current&&clearTimeout(l.current)}}),[]),a}(y,de),fe=Cn((0,It.Z)(pe));ae.secondaryContentVisibility=null!==(n=D.secondaryContent)&&void 0!==n?n:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(ae.secondaryContentVisibility,fe),le=(A.allowShoppingPriceIndicator||A.shoppingLabelColor||"none"!==ae.secondaryContentVisibility)&&!l&&(0,x.jsx)(v.xu,{margin:2,children:(0,x.jsx)(Qt.Z,Dn({pin:y},A))});var he=null;"visible"===D.accessoryContent&&(he=(0,x.jsx)(W,{pin:y}),ae.accessoryContentVisibility=Cn(H)),I.isSocialSeasonalBoard&&(a.showShareButton=!1);var be=null;E&&(a.showSourceLinkButton=!1,be=(0,x.jsx)(o.Z,{children:(0,x.jsx)(dn.Z,{pinId:y.id,surface:B})}));var me=D.actionBar?(0,x.jsx)(J,Dn({onToggleFlyout:ce,pin:y,setForcePrimary:U,surface:B},a)):null,ge=null;S&&(ge=(0,x.jsx)(Rt,Dn({blockClickEvents:c,hoverTransitionState:"image-only-credit"===f.attributionType?H:null,pin:y,setForcePrimary:U,surface:B},f))),I.isSocialSeasonalBoard&&(ge=(0,x.jsx)(v.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,x.jsx)(v.xu,{margin:"auto",width:Mn,children:(0,x.jsx)(hn,{isFlyoutOpen:N,onFlyoutDismiss:function(){return ce(!N)},onToggleFlyout:function(){return ce(!N)},pinId:y.id,sendType:"pin",shownWithinMasonry:!0,viewType:V})})}));var ye=P&&(0,x.jsx)(xn.Z,Dn({},h)),ve=k&&y.debug_info_html&&(0,x.jsx)(v.xu,{paddingY:1,children:(0,x.jsx)("pre",{children:y.debug_info_html})}),xe=(0,x.jsx)(q.Z,{pin:y}),Ie=(0,r.useRef)();"header-only"===(0,bn.Z)(Ie)&&(ae.actionBarVisibility="none",ae.accessoryContentVisibility="none");var we=C?(0,x.jsx)(In.ZP,Dn({pin:y},g)):null,_e="ShoppingList"===B?{height:"100%"}:{},je=(0,X.tc)("web_ag_msg_pin_card_update"),Oe="ConversationView"===B&&je({dangerouslySkipActivation:!0}).anyEnabled,Ae=(0,X.tc)("web_creator_attr_hover_overlay"),Se=S&&"default"===f.attributionType&&kn.ZF.includes(B),Pe=!y.is_promoted&&!p&&Se,Ee=Pe&&Ae({dangerouslySkipActivation:!0}).anyEnabled;return Pe&&(ge=(0,x.jsx)(v.xu,{onMouseEnter:Ae,onFocus:Ae,children:ge})),(0,x.jsx)(i.Z,{name:"PinRepContainer",children:(0,x.jsx)(v.xu,{"data-test-id":"pin","data-test-pin-id":y.id,onFocus:Ee?function(){}:G,onBlur:Ee?function(){}:Y,onMouseEnter:Ee?function(){}:G,onMouseLeave:Ee?function(){}:Y,dangerouslySetInlineStyle:{__style:_e},rounding:Oe&&"ConversationView"===B?j:void 0,borderStyle:Oe&&"ConversationView"===B?s:"none",overflow:Oe&&"ConversationView"===B?"hidden":"visible",children:(0,x.jsx)(En,Dn(Dn({visualOverlayVisibility:ee,savedOverlayVisibility:ie,handleMouseOverPinContent:Ee?G:function(){},handleMouseLeavePinContent:Ee?Y:function(){},primaryContent:se,primaryContentVisibility:ae.primaryContentVisibility,secondaryContent:le,secondaryContentVisibility:ae.secondaryContentVisibility,accessoryContent:he,accessoryContentVisibility:ae.accessoryContentVisibility,actionBar:me,actionBarVisibility:ae.actionBarVisibility,seeStatsButton:be,footer:ge,selectionState:O,debugContent:ye,signalDebuggerV2Content:xe,signalDebuggerV2ContentVisibility:ae.signalDebuggerV2ContentVisibility,signalDebuggerContent:ve,obscuredPinOverlay:we},w),{},{children:(0,x.jsx)(v.xu,{height:"100%",ref:Ie,children:(0,x.jsx)(un,Dn({blockClickEvents:c,showUnavailablePin:R,isHovering:Q,onError:b,onLoad:m,pin:y,surface:B,selectionState:O},I))})}))})})}))},476865:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(793550),o=n(575429),i=n(269935),a=n(439887),c=n(726434),s=n(538958),l=n(432921),u=n(904126),d=n(218265),p=n(80209),f={overlay:{__style:{backgroundColor:"#000"}}};function h(e){var t,n,o,i,a=e.pin,c=a.id,s=a.images,h=a.title,b=a.videos,m=a.video_status_message||{},g=s&&s["236x"],y=(b&&(null===(t=b.video_list)||void 0===t?void 0:t[u.K.V_HLSV4])||{}).duration;return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(d.Zb,{children:(0,p.jsxs)(d.iP,{role:"link",href:"/pin/".concat(c),rounding:2,children:[(0,p.jsxs)(d.xu,{overflow:"hidden",position:"relative",rounding:2,children:[g&&(0,p.jsx)(d.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(n=g.height)&&void 0!==n?n:1,naturalWidth:null!==(o=g.width)&&void 0!==o?o:1,src:null!==(i=g.url)&&void 0!==i?i:""}),!!y&&(0,p.jsx)(d.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,p.jsx)(l.Z,{duration:y})}),(0,p.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:f.overlay}),(0,p.jsxs)(d.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,p.jsx)(d.X6,{color:"white",overflow:"normal",size:"sm",children:m.title}),(0,p.jsx)(d.xu,{marginTop:4,children:(0,p.jsx)(d.xv,{color:"white",size:"md",overflow:"normal",children:m.subtitle})})]})]}),(0,p.jsx)(d.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,p.jsx)(d.xu,{flex:"grow",children:h&&(0,p.jsx)(d.xu,{paddingY:1,children:(0,p.jsx)(d.xv,{inline:!0,size:"md",weight:"bold",children:h})})})})]})})})}var b=n(493858),m=n(272828),g=n(851881),y=n(124324),v=["trackingParameters","pin","pinId"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function A(e){var t,n,l,u=e.trackingParameters,d=e.pin,f=e.pinId,x=O(e,v),w=(0,m.TH)(),j=(0,o.useSelector)((function(e){return e.pins[f]}))||d,A=(0,a.Z)(j,w),S=(0,c.Z)(j),P=!!(S&&S.url&&S.height&&S.width)||void 0,E=S&&j.videos?j.videos.id:void 0,k=_((0,r.useState)(!1),2),C=k[0],R=k[1],B=(0,r.useCallback)((function(){return R(!0)}),[]),D=(0,r.useCallback)((function(){return R(!1)}),[]),T=u.componentType,J=u.contextLogData,V=u.impressionAuxFields,M=u.slotIndex,F=u.viewData,N=u.viewParameter,U=u.viewType;return(0,p.jsx)(i.Z,{componentType:T,contextLogData:I(I(I({},"undefined"!=typeof window?{pwa_type:(0,s.ZP)(window)}:{}),J),(0,y.Kl)(j,J)),impressionAuxFields:I(I({},V||{}),{},{isNativeVideoAndWatchable:P,videoIdStr:E,clientTrackingParams:A||"".concat(j.tracking_params||"","-0"),imageURL:null!==(t=null===(n=j.images)||void 0===n||null===(l=n["236x"])||void 0===l?void 0:l.url)&&void 0!==t?t:"",richTypes:(0,y.GT)(j)}),impressionType:"Pin",isPaused:!C,loggingId:j.id,slotIndex:M,viewData:F,viewParameter:N,viewType:U,children:(0,b._J)(j)?(0,p.jsx)(h,{pin:j}):(0,p.jsx)(g.Z,I(I({},x),{},{debugImpressionState:C?"started":"paused",onError:D,onLoad:B,pin:j,pinId:f,trackingParameters:{componentType:T,contextLogData:J,slotIndex:M,viewParameter:N,viewType:U}}))})}},451875:function(e,t,n){"use strict";n.d(t,{Oc:function(){return r},mv:function(){return o},Dv:function(){return i}});var r=16,o=4,i={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},789875:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(454217),o=n(946753);function i(e,t){var n=e.feedbackOptions,i=e.pin,a=e.viewParameter,c=i.board,s=i.pinner;return(0,(0,r.ZP)({i18n:t,interpolateNamedTemplate:o.nk}).getFeedbackType)({board:c,feedback:n,pin:i,pinner:s,viewParameter:a})}},519922:function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:function(){return r}})},746857:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(754975),o=n(560133);function i(e,t){return((0,r.Z)(e).isProduct||"ShoppingList"===t&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},178862:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},o=function(e){if(!e)return"";for(var t="",n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},i=function(e,t){for(var n=t.split(" "),r=e.split(" "),i=0,a=0;a<r.length;a+=1){(o(r[a]).includes(n[i])||r[a].includes(n[i]))&&(i+=1)}return i===n.length},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=t.toLowerCase();return e.filter((function(e){return i(e[n].toLowerCase(),r)}))}},904126:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},955801:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(793550),o=n(609511),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=e.scrollTop,r=e.clientHeight,o=e.scrollHeight;return n+r+(t?t(r):2*r)>o},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r,o=u(a);function a(){var e;c(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=o.call.apply(o,[this].concat(n))),"setContainerRef",(function(t){e.containerRef=t})),h(p(e),"fetchMoreIfNecessary",i()((function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&b(e.containerRef,r)&&n()}),200)),e}return t=a,(n=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}])&&s(t.prototype,n),r&&s(t,r),a}(r.PureComponent)},562239:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(793550),o=n(80209);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,r,i=u(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=i.call.apply(i,[this].concat(n))),"handleKeyPress",(function(t){var n=e.props.onClick;!n||32!==t.charCode&&13!==t.charCode||(t.preventDefault(),n())})),e}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.rounded,r=e.color,i=e.onClick,c=e.children,s=e.style,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cursor:i?"pointer":"default",borderRadius:n?"8px":0,boxShadow:t?"0 0 0 2px ".concat(r):"none",outline:"none"},s);return(0,o.jsx)("div",{role:"button",onClick:i,onKeyPress:this.handleKeyPress,tabIndex:"0",style:l,children:c})}}])&&s(t.prototype,n),r&&s(t,r),d}(r.Component);h(b,"defaultProps",{selected:!1,rounded:!0,color:"#e60023"})},255539:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(793550),o=n(415339),i=n(204891),a=n(451190),c=n(237574),s=n(549135),l=n(104216),u=n(218265),d=n(80209);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=new u.Ry(1),j=function(e){return(0,e.children)((0,l.Z)({shouldStopEventPropagation:!1}))},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(p,e);var t,n,r,l=y(p);function p(){var e;b(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=l.call.apply(l,[this].concat(n))),"handleDismiss",(function(){(0,e.props.onFlyoutDismiss)()})),w(x(e),"onHide",(function(){e.props.onClick(),e.handleDismiss()})),w(x(e),"flyoutProps",(function(){var t=e.props,n=t.gridDescription,r=t.idealDirection,a=t.imageSrc,s=t.pinId,l=t.userId,u=t.board,p=t.sendType,f=t.url,b=t.fullName,m=t.profileUrl,g=t.viewParameter,y=t.viewType,v=t.onExternalSend,x=t.showCaret,I=t.todayArticle,w={description:n,id:s,imageUrl:a,name:"",type:c.d.PIN,url:"/pin/".concat(s,"/")},_=c.d.PIN;switch(p){case"user":w={description:n,id:l,imageUrl:a,name:b,type:c.d.PINNER,url:m},_=c.d.USER;break;case"board":w=u&&{description:u.description,id:u.id,imageUrl:u.imageUrl,name:u.name,type:c.d.BOARD,url:u.url},_=c.d.BOARD;break;case"today_article":w=I&&{description:I.subtitle||"",id:I.id,imageUrl:a,name:I.title,type:c.d.TODAY_ARTICLE,url:(0,i.bz)(I)},_=c.d.TODAY_ARTICLE;break;case"search":w=h(h({},w),{},{type:c.d.SEARCH,url:f}),_=c.d.SEARCH}var j={isFlyout:!0,onHide:e.onHide,onExternalSend:v,sendType:_,sharedObject:w,viewParameter:g,viewType:y};return{anchor:e.flyoutAnchor,idealDirection:r,onDismiss:e.handleDismiss,showCaret:x,children:(0,d.jsx)(o.default,h({},j))}})),e}return t=p,r=[{key:"makeSendShareButton",value:function(e){var t=this;return function(n){return(0,d.jsx)(t,h({ref:n.shareButtonRef,Subject:e},n))}}}],(n=[{key:"toggle",value:function(){var e=this.props,t=e.isOwnProfile,n=e.onToggleFlyout,r=e.sendType,o=e.userId;"user"===r&&(0,s.j)(101,{component:13675,element:1079,objectId:o,view:4,viewParameter:t?3106:3107}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.Subject,r=t.inModal,o=t.isFlyoutOpen,i=t.shownWithinMasonry,c=t.shownWithinProfileHeader,s=this.flyoutProps(),l=s.anchor,p=s.idealDirection,f=s.onDismiss,b=s.showCaret,m=s.children;return(0,d.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(u.xu,{ref:function(t){t&&(e.flyoutAnchor=t)},children:(0,d.jsx)(j,{children:function(t){return(0,d.jsx)(n,h({handleSendShareFlyoutButtonClick:t((function(t){null!=t&&t.stopPropagation&&t.stopPropagation(),e.toggle()}))},e.props))}})}),o&&(i||c?(0,d.jsx)(u.mh,{zIndex:c?_:void 0,children:(0,d.jsx)(u.xu,{zIndex:r?a.b:void 0,position:r?"absolute":void 0,top:!!r||void 0,children:(0,d.jsx)(u.J2,{anchor:l,idealDirection:p,onDismiss:f,showCaret:b,size:"xl",positionRelativeToAnchor:!1,children:m})})}):(0,d.jsx)(u.J2,{anchor:l,idealDirection:p,onDismiss:f,showCaret:b,size:"xl",children:m}))]})}}])&&m(t.prototype,n),r&&m(t,r),p}(r.Component);w(O,"defaultProps",{idealDirection:"down",onClick:function(){}})},11200:function(e,t,n){"use strict";n.d(t,{j:function(){return s},Z:function(){return l}});var r=n(174523),o=n(218265),i=n(181307),a=n(946753),c=n(80209),s=[0,2,3];function l(e){var t,n=e.hasAffiliateProducts,l=e.isPromoted,u=e.sponsorName,d=e.sponsorshipStatus,p=e.textWeight,f=(0,r.ZP)(),h=(0,i.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;l?t=(0,a.nk)(f._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:u}):d||0===d?t=u&&!s.includes(d)?(0,a.nk)(f._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:u}):f._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):n&&(t=f._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));var b=h&&!l?"Ad • ":"";return(0,c.jsxs)(o.xv,{inline:!0,size:"md",weight:p,children:[b,t]})}},382979:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t,n=[],o="",i=r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(o){var c=!!a.match(/\s/),s=!!o.match(/\s/);if(c===s)o+=a;else if(!s&&o.includes("-")){for(var l=0,u=0;u<o.length;u+=1)"-"===o[u]&&(n.push(o.substring(l,u+1)),l=u+1);n.push(o.substring(l)),o=a}else n.push(o),o=a}else o=a}}catch(d){i.e(d)}finally{i.f()}return o.length&&n.push(o),n}function a(e){var t,n,o=e.font,a=e.fontSize,c=e.textList,s=e.width;if("undefined"==typeof document||!document.body||s<=0||a<=0)return[];var l=document.body,u=document.createElement("div");l.appendChild(u);var d=null!=(null===(t=o.fontOverrides)||void 0===t?void 0:t.letterSpacing)?"".concat(o.fontOverrides.letterSpacing,"px"):void 0,p=(null===(n=o.fontOverrides)||void 0===n?void 0:n.lineHeight)||1.1,f={letterSpacing:d,lineHeight:String(p),fontFamily:o.fontFamily,fontSize:"".concat(a,"px"),visibility:"hidden"};Object.assign(u.style,f);var h=document.createElement("div");h.style.display="inline",u.appendChild(h);var b=document.createTextNode("");h.appendChild(b);var m,g=[],y="",v=function(e){var t=e.trim();return b.textContent=t,{text:t,width:h.offsetWidth}},x=function e(t){var n=!!t.match(/\s/),o=0===y.length;if(b.textContent="".concat(y).concat(t),h.offsetWidth>s)if(n)g.push(v(y)),y="";else if(o){var i,a=r(t);try{for(a.s();!(i=a.n()).done;){e(i.value)}}catch(c){a.e(c)}finally{a.f()}}else g.push(v(y)),y="",e(t);else y+=t},I=r(null!=c?c:[]);try{for(I.s();!(m=I.n()).done;){var w=m.value;0===w.length&&g.push(v(y)),i(w).forEach((function(e){return x(e)})),y.length&&(g.push(v(y)),y="")}}catch(_){I.e(_)}finally{I.f()}return h.remove(),u.remove(),g}function c(e){var t,n,r=e.boxHeight,o=e.boxWidth,i=e.font,c=e.startFontSize,s=e.text;if("undefined"==typeof document||!document.body)return{fontSize:c,lines:[]};var l=document.body,u=document.createElement("div");l.appendChild(u);var d=null==s?void 0:s.split(/\r?\n/g),p=c,f=null!=(null===(t=i.fontOverrides)||void 0===t?void 0:t.letterSpacing)?"".concat(i.fontOverrides.letterSpacing,"px"):void 0,h=(null===(n=i.fontOverrides)||void 0===n?void 0:n.lineHeight)||1.1,b={letterSpacing:f,lineHeight:String(h),fontFamily:i.fontFamily,fontSize:"".concat(p,"px"),position:"absolute",visibility:"hidden",width:"".concat(o,"px")};Object.assign(u.style,b);var m=document.createElement("div");for(m.style.display="inline",u.appendChild(m),(null!=d?d:[]).forEach((function(e,t){var n=document.createElement("span");n.style.wordBreak="break-word",m.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=s?s:"").length-1&&n.appendChild(document.createElement("br"))}));(m.offsetHeight>r||m.offsetWidth>o)&&p>0;)p-=1,u.style.fontSize="".concat(p,"px");return m.remove(),u.remove(),{fontSize:p,lines:p>0?a({font:i,fontSize:p,textList:d,width:o}):[]}}n.d(t,{Y:function(){return i},K:function(){return c}})},533127:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(176082),o=n(80209);function i(e){var t=e.accessibilityLabel,n=e.handleClick,i=e.icon,a=e.iconColor,c=e.isSVG,s=e.iconOnly;return(0,o.jsx)(r.ZP,{accessibilityLabel:t,color:a,onClick:n,icon:i,isSVG:c,iconOnly:s})}},998035:function(e,t,n){"use strict";n.d(t,{SR:function(){return i},Nc:function(){return a},o:function(){return c},dZ:function(){return s},$l:function(){return l},nU:function(){return u},Lb:function(){return d},bm:function(){return p},IS:function(){return f},NE:function(){return h}});var r=n(616240),o=n(493858);function i(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function c(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function s(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function l(e){var t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function u(e){var t=e.native_creator,n=e.pinner,r=e.domain;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===r)&&!e.is_promoted||t}function d(e){if(e.story_pin_data_id){var t=e.story_pin_data,n=(t=void 0===t?{}:t).metadata,r=t.pages;return{metadata:n,detailsPage:(void 0===r?[]:r)[1]}}}var p=function(e){var t=e.viewer,n=e.pin;return(0,r.su)(t)&&n.is_quick_promotable_by_pinner};function f(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}function h(e){var t=e.carouselInfo,n=e.closePanelWidth,r=e.isWideVideo,o=e.isShortImage,i=e.naturalWidth,a=e.showCloseupContentRight;return!(r||!a)&&(!!o||!t&&i<n)}},558892:function(e,t,n){"use strict";n.d(t,{YO:function(){return a},Nb:function(){return c},Of:function(){return s},x4:function(){return u}});var r=n(793550),o=n(583704),i=n(35764),a=function(e){var t=e.showPdp,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?i.Uj:i.zT:1},c=(0,o.qe)((function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showPdp:e.showPdp,updateCloseupBodyContainerHeight:e.updateCloseupBodyContainerHeight,viewportSize:e.viewportSize,maxWidth:e.maxWidth}})),s={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:function(){},viewportSize:"lg",paneWidth:{pdp:i.CI,regular:i.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:i.Kn,regular:i.u6}},l=(0,r.createContext)(s);function u(){var e=(0,r.useContext)(l);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=l},35764:function(e,t,n){"use strict";n.d(t,{Gg:function(){return r},u6:function(){return o},CI:function(){return i},Kn:function(){return a},Ch:function(){return c},Gb:function(){return s},Uj:function(){return l},zT:function(){return u},d2:function(){return d},Ie:function(){return p},KP:function(){return f},JV:function(){return h},bx:function(){return b},g9:function(){return m},CC:function(){return g},a7:function(){return y},iB:function(){return v}});var r=508,o=2*r,i=488,a=992,c=672,s=1176,l=.6,u=.84,d=40,p=72,f=740,h=60,b=912,m=32,g=60,y=40,v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},373078:function(e,t,n){"use strict";var r=n(595657);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e,field_set_key:"auth_web_main_pin",is_landing_page:!1,client_tracking_params:(0,r.Z)(e),noCache:!0,fetch_visual_search_objects:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},595657:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(439887),o=n(584489);function i(e,t){var n,i=o.Z.instance;if(i){var a=i.getState();if(a.pins&&e){var c=a.pins[e],s=a.location;if(null!=t&&t.shouldTrackForPrevLocation){var l=(null==c?void 0:c.tracking_params_map)||{},u=Object.keys(l).find((function(e){return"PinResource"!==e}));c&&(n=u?l[u]:l.PinResource)}else c&&(n=(0,r.Z)(c,s))}}return n}},925854:function(e,t,n){"use strict";var r=n(445443),o=n(979593);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,r.Z)((function(e){var t=e.pin.videos||{},n=t.id,r=t.video_list,i=void 0===r?{}:r,c=i.V_720P,s=i.V_HLSV4,l=i.V_HLSV3_MOBILE,u=(0,o.V)(s),d=(0,o.V)(l),p=(0,o.V)(c),f=p||u||d;return n&&f?a(a({},e),{},{video:{id:n,hasVideo:f,mp4:p||void 0,hls:u||void 0,hlsv3:d||void 0}}):null}));t.Z=s},479996:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(575429),o=n(224982),i=n(589444),a=n(124324),c=n(549135),s=n(558892),l=n(218265),u=n(80209);function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=e.carouselData,n=e.carouselIndex,p=e.componentType,f=e.contextLogData,b=e.handleCarouselSwipe,m=e.isCloseup,g=e.isEditMode,y=e.pinId,v=e.viewParameter,x=e.viewType,I=e.variant,w=(0,r.useSelector)((function(e){return e.pins[y]}),r.shallowEqual),_=t||(0,i.Z)({pin:w}),j=(0,r.useDispatch)();if(!_)return null;var O=function(e,t,n){g||void 0===o.Z||(e.preventDefault(),e.stopPropagation(),j((0,o.Z)(String(y),n))),void 0!==b&&b(n),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0;if(!(arguments.length>9?arguments[9]:void 0)){var d=o.carousel_slots,p=o.id;(0,c.j)(108,h(h({},u),{},{objectId:t,component:l,view:s,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==d?void 0:d[n])&&Number(d[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:r}}},(0,a.Kl)(e)||{}))}}(w,y,t,n,_,v,x,p,f,g)},A=_.carousel_slots,S=void 0===A?[]:A,P=_.index,E=void 0!==n?n:P,k="default"===I,C=k?"white":"#555",R=k?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,u.jsx)(s.ZP.Consumer,{children:function(e){return"sm"===e.viewportSize?null:(0,u.jsx)(l.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:g?1:0,children:d(Array(S.length).keys()).map((function(e){var t;return(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.iP,{accessibilityLabel:null!==(t=S[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:function(t){var n=t.event;return O(n,E,e)},rounding:"circle",children:(0,u.jsx)(l.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===E?C:R}},rounding:"circle"})})},y+e)}))})}})}},100001:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(793550),o=n(595657),i=n(712997),a=n(831251),c=n(57158),s=n(124324),l=n(493858),u=n(549135),d=n(80209);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.children,n=e.hovered,p=e.pin,h=e.slotIndex,m=e.trafficSource,g=e.viewType,y=b((0,r.useState)(),2),v=y[0],x=y[1],I=b((0,r.useState)(),2),w=I[0],_=I[1],j=p.id,O=p.tracked_link,A=p.link,S=O||A||"",P=function(){x(!0)},E=(0,c.Z)((0,i.Z)({pin:p})),k=(0,r.useCallback)((function(){(function(e,t,n){var r={check_only:n,pin_id:e.id,url:t,client_tracking_params:(0,o.Z)(e.id),aux_data:JSON.stringify(f(f({clickthrough_type:"rightClick",objectId:j},h||{}),(0,s.Kl)(e)||{}))};return(0,a.Z)(r)})(p,S,!1).callGet({showError:!1}).then((function(e){e&&((0,u.j)(12,f(f({clickthrough_type:"rightClick",objectId:j,view:g,viewParameter:E},h||{}),(0,s.Kl)(p)||{})),(0,u.j)(8948,f(f({click_type:"clickthrough",closeup_navigation_type:m&&(0,l.sV)(m)?"deeplink":"click",clickthrough_type:"rightClick",view:g,objectId:j,viewParameter:E},h||{}),(0,s.Kl)(p)||{})))}))})),C=function e(t){var n;v&&(/^\/pin/.test(null===(n=t.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(k(),x(!1)),window.removeEventListener(w,e,!1))};return(0,r.useEffect)((function(){var e,t,n,r,o,i;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?_("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.msHidden)?_("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(i=o.document)||void 0===i?void 0:i.webkitHidden)&&_("webkitvisibilitychange")}),[]),(0,r.useEffect)((function(){return v&&window&&window.addEventListener(w,C,!1),function(){return window.removeEventListener(w,C)}}),[v,w]),(0,r.useEffect)((function(){return n&&window.addEventListener("contextmenu",P),function(){window.removeEventListener("contextmenu",P)}}),[n]),(0,d.jsx)(r.Fragment,{children:t})}},621632:function(e,t,n){"use strict";n.d(t,{xH:function(){return Pe},uC:function(){return Ae},sR:function(){return Se},DR:function(){return Oe}});var r=n(793550),o=n(575429),i=n(423405),a=n(174523),c=n(218265),s=n(80209);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,o,a=b(l);function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return v(g(e=a.call.apply(a,[this].concat(n))),"state",{hovered:!1}),v(g(e),"handleMouseEnter",(function(){e.setState({hovered:!0})})),v(g(e),"handleMouseLeave",(function(){e.setState({hovered:!1})})),v(g(e),"handleTouch",(function(){var t=e.props,n=t.board;(0,t.onClick)(t.section,n)})),v(g(e),"handleButtonClick",(function(t){var n=t.event,r=e.props.onButtonClick;e.handleTouch(),r&&r(),n.stopPropagation()})),v(g(e),"tapAreaRef",(0,r.createRef)()),e}return t=l,(n=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e,t,n,r,o,a,l=this.state.hovered,u=this.props,d=u.buttonText,p=u.section,f=u.showSectionSaveButton,h=u.useLegoLayout;return(0,s.jsx)(c.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:(0,s.jsxs)(c.xu,{color:l?"lightGray":"white","data-test-id":"section-row-".concat(p.title||""),display:"flex",alignItems:"center",height:h?64:52,marginStart:h?2:0,marginEnd:h?2:0,padding:h?2:0,marginTop:h?0:1,rounding:3,dangerouslySetInlineStyle:{__style:h?{}:{marginLeft:53,marginRight:11}},children:[h&&!(null===(e=p.preview_pins)||void 0===e||!e.length)&&(0,s.jsx)(i.Z,{image_url:null!==(t=p.preview_pins[0].image_square_url)&&void 0!==t?t:"",naturalHeight:null!==(n=null===(r=p.preview_pins[0].image_square_size_pixels)||void 0===r?void 0:r.height)&&void 0!==n?n:1,naturalWidth:null!==(o=null===(a=p.preview_pins[0].image_square_size_pixels)||void 0===a?void 0:a.width)&&void 0!==o?o:1}),(0,s.jsx)(c.xu,{flex:"grow",paddingY:1,marginStart:h?0:4,children:(0,s.jsx)(c.xv,{lineClamp:1,weight:h?"bold":"normal",children:p.title})}),l&&f&&(0,s.jsx)(c.xu,{marginEnd:h?0:2,flex:"none",children:(0,s.jsx)(c.zx,{accessibilityLabel:"save button",color:"red",text:d||this.props.i18n._("Save","save button","save button"),onClick:this.handleButtonClick})})]})})}}])&&f(t.prototype,n),o&&f(t,o),l}(r.Component);function I(e){var t=(0,a.ZP)();return(0,s.jsx)(x,d(d({},e),{},{i18n:t}))}v(x,"defaultProps",{showSectionSaveButton:!0});var w=n(535718);function _(e){var t=(0,a.ZP)(),n=e.board,r=e.buttonText,o=e.onClick,i=e.onButtonClick,l=e.showSectionSaveButton,u=e.useLegoLayout,d=(0,w.Z)({name:"BoardSectionsRepinResource",options:{board_id:n.id},noCache:!0}),p=d&&d.data||[];return(0,s.jsxs)(c.xu,{children:[!d.isLoaded&&(0,s.jsx)(c.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,s.jsx)(c.$j,{accessibilityLabel:t._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})}),d.isLoaded&&(0,s.jsxs)(c.xu,{children:[u&&(0,s.jsx)(c.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,s.jsx)(c.xv,{size:"sm",children:t._("Section","PinBetterSave.BoardFlyout.SectionPlaceholderText","section list title")})}),p.map((function(e){return(0,s.jsx)(I,{board:n,buttonText:r,onButtonClick:i,onClick:o,section:e,showSectionSaveButton:l,useLegoLayout:u},e.id)}))]})]})}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.isBoardCreate,n=e.onCreateBoardClick,o=e.useLegoLayout,i=(0,a.ZP)(),l=j((0,r.useState)(!1),2),u=l[0],d=l[1];return(0,s.jsx)(c.xu,{"data-test-id":"create-board",height:"100%",display:"flex",children:(0,s.jsx)(c.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:n,rounding:2,children:(0,s.jsxs)(c.xu,{display:"flex",alignItems:"center",padding:o?4:2,color:u?"lightGray":"white",width:"100%",height:"100%",children:[(0,s.jsx)(c.xu,{rounding:o?2:0,dangerouslySetInlineStyle:{__style:o?{padding:"14px"}:{}},marginStart:o?0:4,marginEnd:o?2:5,color:o?"lightGray":"transparent",children:(0,s.jsx)(c.JO,{accessibilityLabel:"",size:o?20:28,icon:o?"add":"add-circle",color:o?"darkGray":"red"})}),t?(0,s.jsx)(c.xv,{align:"center",lineClamp:1,weight:"bold",children:i._("Create board"," - "," -- ")}):(0,s.jsx)(c.xv,{align:"center",lineClamp:1,weight:"bold",children:i._("Create section"," - "," -- ")})]})})})}var S=n(609055),P=n(311866),E=n(549156),k=n(34411);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){var t=e.onClick,n=e.title,o=e.showIcon,i=(0,a.ZP)(),l=C((0,r.useState)(!1),2),u=l[0],d=l[1];return(0,s.jsx)(c.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:function(){t({title:n})},children:(0,s.jsxs)(c.xu,{color:u?"lightGray":"white",display:"flex",alignItems:"center",height:o?64:52,marginStart:3,marginEnd:3,marginBottom:1,rounding:3,children:[(0,s.jsx)(c.xu,{flex:"none",marginBottom:1,marginStart:o?1:2,marginEnd:3,marginTop:1,overflow:"hidden",width:o?48:36,height:o?48:36,rounding:o?2:1,children:(0,s.jsx)(c.xu,{alignItems:o?"center":void 0,color:"lightGray",display:o?"flex":void 0,height:"100%",justifyContent:o?"center":void 0,width:"100%",children:o&&(0,s.jsx)(c.JO,{icon:"add",color:"darkGray",size:20,accessibilityLabel:i._("Create board icon","BoardSuggestionRow.AccessibilityLabel.Text","accessibility label text form add icon")})})}),(0,s.jsx)(c.xu,{flex:"grow",paddingY:1,children:(0,s.jsx)(c.xv,{lineClamp:1,weight:"bold",children:n})}),u&&(0,s.jsx)(c.xu,{marginEnd:2,children:(0,s.jsx)(c.zx,{accessibilityLabel:"create button",color:"red",text:i._("Create","create button to create a new board","create button to create a new board")})})]})})}var D=function(e){var t=(0,a.ZP)(),n=e.suggestionsResource,o=e.onClick,i=e.pinBuilderSuggestions,l=e.inWebRepinFlowExp,u=i||n&&n.data||[],d=(0,s.jsxs)(r.Fragment,{children:[l&&(0,s.jsx)(c.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,s.jsx)(c.xv,{size:"sm",children:t._("Suggestions","PinBetterSave.BoardFlyout.SectionPlaceholderText","section list title")})}),u.map((function(e,t){return(0,s.jsx)(B,{title:e.title,onClick:o,showIcon:l},t)}))]});return(0,s.jsx)(r.Fragment,{children:u?d:(0,s.jsx)(c.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,s.jsx)(c.$j,{accessibilityLabel:t._("loading board suggestions","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})})})},T=n(178862),J=n(860179),V=n(301314),M=n(549135),F=n(100998),N=n(631739);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,o,i=H(a);function a(){var e;Q(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return K(X(e=i.call.apply(i,[this].concat(n))),"state",{hovered:!1}),K(X(e),"handleMouseEnter",(function(){e.setState({hovered:!0})})),K(X(e),"handleMouseLeave",(function(){e.setState({hovered:!1})})),K(X(e),"handleTouch",(function(){var t=e.props,n=t.board;(0,t.onClick)(n)})),K(X(e),"handleButtonClick",(function(t){var n=t.event,r=e.props.onButtonClick;e.handleTouch(),r&&r(),n.stopPropagation()})),K(X(e),"tapAreaRef",(0,r.createRef)()),e}return t=a,(n=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e=this.state.hovered,t=this.props,n=t.accessibilityLabelText,r=t.board,o=t.buttonText,i=t.isSectionOpen,a=t.shouldOpenSections,l=t.showSaveToProfile,u=t.showFlyoutSaveButton,d=t.useLegoLayout,p=!!r.section_count&&r.section_count>0,f=p?"boardWithSection":"boardWithoutSection",h=r.image_cover_url;return(0,s.jsx)(E.Z,{id:f,children:(0,s.jsx)(c.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:(0,s.jsxs)(c.xu,{alignItems:"center",color:e?"lightGray":"white","data-test-id":"board-row-".concat(r.name||""),display:"flex",height:d?64:52,marginStart:d?2:3,marginEnd:d?2:3,marginBottom:d?0:1,marginTop:d?0:1,padding:d?2:0,rounding:3,children:[(0,s.jsxs)(c.xu,{"aria-hidden":"true",flex:"none",height:d?48:36,marginBottom:d?0:1,marginStart:d?0:2,marginEnd:d?2:3,marginTop:d?0:1,overflow:"hidden",width:d?48:36,children:[l&&"boardless"===r.type&&(0,s.jsx)(c.zd,{rounding:2,width:48,height:48,children:(0,s.jsx)(c.xu,{color:e?"white":"lightGray",display:"flex",height:"100%",width:"100%",children:(0,s.jsx)(c.xu,{padding:3,children:(0,s.jsx)(c.JO,{accessibilityLabel:this.props.i18n._("Save to profile icon","BoardRow.TapArea.Icon","Icon to indicate saving to profile."),color:"darkGray",icon:"history",size:24})})})}),h&&!a&&(0,s.jsx)(c.zd,{height:d?48:36,rounding:2,wash:!0,width:d?48:36,children:(0,s.jsx)(c.Ee,{src:h,alt:"",naturalHeight:d?48:36,naturalWidth:d?48:36,fit:"cover"})}),h&&a?(0,s.jsx)(c.zd,{rounding:2,wash:!0,width:d?48:36,height:d?48:36,children:(0,s.jsx)(c.Ee,{src:h,alt:"",naturalHeight:d?48:36,naturalWidth:d?48:36,fit:"cover"})}):(0,s.jsx)(c.xu,{color:a?"lightGray":"transparent",width:"100%",height:"100%"})]}),(0,s.jsx)(c.xu,{flex:"grow",paddingY:1,overflow:"hidden",marginStart:d?0:1,children:(0,s.jsx)(c.xv,{lineClamp:1,weight:a||!a?"bold":"normal",children:r.name})}),r&&(!e||e&&p&&!i)?(0,s.jsx)(c.xu,{children:(0,s.jsx)(F.Z,{board:r,isOpen:r.isOpen,showCollaborativeIcon:!!r.is_collaborative,showPrivateIcon:r.privacy===N.Z.BoardPrivacy.SECRET,showProtectedIcon:r.privacy===N.Z.BoardPrivacy.PROTECTED,showSectionsIcon:p&&a,useLegoLayout:d})}):null,e&&(0===r.section_count||!a)&&u&&(0,s.jsx)(c.xu,{marginEnd:d?0:2,flex:"none",children:(0,s.jsx)(c.zx,{accessibilityLabel:n||this.props.i18n._("save button","boardRow.saveButton","Default accessibility label for the board row save button"),color:"red",onClick:this.handleButtonClick,text:o||this.props.i18n._("Save","save button","save button")})})]})})})}}])&&W(t.prototype,n),o&&W(t,o),a}(r.Component);K(z,"defaultProps",{shouldOpenSections:!0,showFlyoutSaveButton:!0});var $=(0,r.forwardRef)((function(e,t){var n=(0,a.ZP)();return(0,s.jsx)(z,L(L({},e),{},{ref:t,i18n:n}))})),ee=n(767523),te=n(585967),ne=n(670473);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,c,"next",e)}function c(e){oe(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){return e?498:439},ve=360,xe=function(e){return e?80:52},Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(a,e);var t,n,o,i=fe(a);function a(){var e;ue(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ge(be(e=i.call.apply(i,[this].concat(n))),"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0}),ge(be(e),"getItems",(function(t){var n=e.props,r=n.boardResource,o=n.changeBoardModal,i=n.showSaveToProfile;if(null==r||!r.data)return[];var a=r.data.all_boards,c=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:e.props.i18n._("Profile","pinBetterSave.initialSelection.boardlessPinsOption","Option to save to profile without a board."),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],s=e.getAllBoards().map((function(t){return e.mapBoards(t,"allBoards",0)})),l=e.getShortlist().map((function(t,n){return e.mapBoards(t,"shortlist",n+1)})),u=i&&!o&&a.length>=3?[].concat(c,se(l.slice(0,2))):l,d=e.state.searchQuery;return d.length>=2?se((0,T.j)(s,d)):[].concat(se(a.length<3&&i?[{type:"header",title:e.props.i18n._("Quick save and organize later","BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle","Header saving to profile")}].concat(c):[]),se(a.length>3&&u&&u.length?[{type:"header",title:t?e.props.i18n._("Top choices","PinBetterSave.BoardFlyout.TopChoicesSectionTitle","Header for top suggestions in board picker"):e.props.i18n._("Top board suggestions","Header for top suggesions in board picker","Header for top suggesions in board picker")}].concat(se(u)):[]),se(a.length>0?[{type:"header",title:a.length<3&&i?e.props.i18n._("Save to board","BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle","Header for boards when there are less than 3 boards in board picker"):e.props.i18n._("All boards","Header for all boards in board picker","Header for all boards in board picker")}].concat(se(s)):[]))})),ge(be(e),"mapBoards",(function(t,n,r){var o=e.state,i=o.selectedBoardId,a=o.selectedBoardCategory,c=t.id===i&&n===a;return ce(ce({},t),{},{category:n,isOpen:c,gridIndex:r})})),ge(be(e),"handleBack",(function(){var t=e.props.setBoardWithSection;e.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),t&&t(null)})),ge(be(e),"handleSectionClick",(function(t,n){var r=e.props.onItemChosen;(0,M.j)(101,{component:13282,element:36,objectId:n.id,view:91,grid_index:n.gridIndex}),r({boardId:n.id,url:t.slug?"".concat(n.url).concat(t.slug,"/"):n.url,sectionId:t.id,title:t.title||"",type:t.type,imageCoverUrl:n.image_cover_url,ownerUsername:n.owner&&n.owner.username||""})})),ge(be(e),"getPinBuilderSuggestions",ie(regeneratorRuntime.mark((function t(){var n,r,o,i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.props.pin)){t.next=7;break}return o=P.ZP.create("BoardTitleSuggestionsResource",{pin_id:n.id}),t.next=5,o.callGet({retries:1,showError:!1});case 5:i=t.sent,null!==(r=i.resource_response)&&void 0!==r&&r.data&&(a=i.resource_response.data,c=a.map((function(e){return{title:e.title}}))||[],e.setState({boardSuggestions:c}));case 7:case"end":return t.stop()}}),t)})))),ge(be(e),"getAllBoards",(function(){var t,n=e.props,r=n.boardResource,o=n.advertiser_id;return((null==r||null===(t=r.data)||void 0===t?void 0:t.all_boards)||[]).filter((function(e){return!o||"secret"!==e.privacy}))})),ge(be(e),"getShortlist",(function(){var t,n=e.props,r=n.suggestedBoardsShortListResource,o=n.displayShortlistMostRecentBoard,i=n.boardResource,a=(null==i||null===(t=i.data)||void 0===t?void 0:t.boards_shortlist)||[];return o?a:(null==r?void 0:r.data)||[]})),ge(be(e),"getBoards",(function(t){return"allBoards"===t?e.getAllBoards():"shortlist"===t?e.getShortlist():[]})),ge(be(e),"handleBoardWithSectionsClick",(function(t){var n=e.props.setBoardWithSection,r=e.state,o=r.selectedBoardId,i=r.selectedBoardCategory,a=e.getBoards(t.category).find((function(e){return e.id===t.id})),c=o===t.id&&i===t.category;a&&n&&n(a),e.setState({isSectionOpen:!0,selectedBoardId:c?"":t.id,selectedBoardCategory:c?"":t.category})})),ge(be(e),"handleBoardClick",(function(t){var n=t.board,r=t.toggleSections,o=e.props.onItemChosen;e.setState({searchBoxFocused:!1}),r?e.handleBoardWithSectionsClick({id:n.id,category:n.category}):((0,M.j)(101,{component:13282,element:36,objectId:n.id,view:91,grid_index:n.gridIndex}),o({boardId:n.id,url:n.url,title:n.name||"",type:n.type,imageCoverUrl:n.image_cover_url}))})),ge(be(e),"handleSearchQueryUpdate",(function(t){e.setState((function(e){return ce(ce({},e),{},{searchQuery:t})}))})),ge(be(e),"boardSectionsHeaderRef",(0,r.createRef)()),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.boardResource&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd(),this.props.setBoardWithSection&&this.props.setBoardWithSection(null)}},{key:"componentDidUpdate",value:function(e,t){e.boardResource&&!e.boardResource.isLoaded&&this.props.boardResource&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd(),this.state.isSectionOpen&&!t.isSectionOpen&&this.boardSectionsHeaderRef.current&&this.boardSectionsHeaderRef.current.focus()}},{key:"setPWTLoadingEnd",value:function(){var e=this.props,t=e.boardResource,n=e.boardPickerStopwatch;n&&(!t||t.error?n.error():n.stop())}},{key:"render",value:function(){var e=this,t=this.props,n=t.accessibilityLabelText,o=t.boardResource,i=t.buttonText,a=t.changeBoardModal,l=t.customItem,u=t.onBoardCreate,d=t.onButtonClick,p=t.paneHeight,f=t.paneWidth,h=t.requestContext,b=t.showSaveToProfile,m=t.showCreateBoardButton,g=t.showFlyoutSaveButton,y=t.showSections,v=t.showSectionSaveButton,x=t.suggestedBoardsShortListResource,I=t.useStoryboardStyle,w=t.useLegoLayout,j=this.state,O=j.boardSuggestions,P=j.isSectionOpen,k=j.searchBoxFocused,C=j.searchQuery;if(!o)return null;var R=o.isLoaded,B=o.error,T=[];(R&&!B||x&&x.data&&!x.error)&&(T=this.getItems(!!w));var V=T.filter((function(e){return e&&"allBoards"===e.category})).length;V<=3&&0===O.length&&this.getPinBuilderSuggestions();var M=I?200:322,F=I?214:334,N=p||290,U=h.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",Z="";null!==P&&(Z=h.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");var L=function(t){return(0,s.jsxs)(r.Fragment,{children:[!w&&(0,s.jsx)(c.iz,{}),(0,s.jsx)(c.xu,{overflow:"hidden",height:xe(w),borderStyle:w&&V>=3&&T.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},children:(0,s.jsx)(A,{onCreateBoardClick:function(){return u({title:e.state.searchQuery})},isBoardCreate:t,useLegoLayout:w})})]})};return(0,s.jsxs)(c.xu,{width:w&&!a?"100%":f,rounding:2,overflow:"hidden",height:I||a?"100%":ye(w),color:"white",zIndex:J.lI,children:[R?null:(0,s.jsx)(c.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:w&&!a?ve:f,children:(0,s.jsx)(c.$j,{accessibilityLabel:this.props.i18n._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})}),(0,s.jsx)(c.kC,{direction:"row",children:R&&(0,s.jsx)("div",{className:P?U:Z,children:(0,s.jsx)(c.xu,{position:"relative",children:(0,s.jsxs)(c.xu,{display:"flex",direction:"row",width:w&&!a?720:2*(null!=f?f:0),zIndex:new c.Ry(0),children:[(0,s.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:w&&!a?ve:f,children:[w&&!a&&(0,s.jsx)(c.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,s.jsx)(c.xv,{align:"center",size:"lg",weight:"bold",children:b?this.props.i18n._("Save","PinBetterSave.BoardFlyout.SavePlaceholder","flyout header text to indicate save options"):this.props.i18n._("Save to board","PinBetterSave.BoardFlyout.SaveToBoardPlaceholder","flyout header text")})}),!a&&(0,s.jsx)(c.xu,{padding:w?0:3,paddingX:w?4:3,height:w?64:"auto",children:(0,s.jsx)(S.Z,{accessibilityLabel:this.props.i18n._("Search through your boards","search bar placeholder text","search bar placeholder text"),focused:k,id:"pickerSearchField",onChange:function(t){var n=t.value;return e.handleSearchQueryUpdate(n)},placeholder:this.props.i18n._("Search","search bar placeholder text","search bar placeholder text"),value:C})}),(0,s.jsxs)(c.xu,{minHeight:w?290:M,maxHeight:w?N:M,overflow:"scrollY",children:[x&&!x.isLoaded?(0,s.jsx)(E.Z,{id:"suggestedBoardsContainer",children:(0,s.jsx)(c.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,s.jsx)(c.$j,{accessibilityLabel:this.props.i18n._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})})}):null,l,T.map((function(t,r){return"header"===t.type?(0,s.jsx)(c.xu,{paddingX:w?4:3,paddingY:1,marginTop:r>0?2:1,children:(0,s.jsx)(c.xv,{size:w?"sm":"md",children:t.title})},t.title):(0,s.jsx)(c.xu,{children:(0,s.jsx)($,{accessibilityLabelText:n,board:t,buttonText:i,onClick:function(t){e.handleBoardClick({board:t,toggleSections:y&&!!t.section_count})},onButtonClick:d,shouldOpenSections:y,showFlyoutSaveButton:g,showSaveToProfile:b,useLegoLayout:w})},"".concat(t.category,"-").concat(t.id))})),V<=3&&(0,s.jsx)(D,{onClick:u,pinBuilderSuggestions:O,inWebRepinFlowExp:w})]}),m&&L(!0)]}),P&&(0,s.jsxs)(c.xu,{display:"flex",direction:"column",width:w&&!a?ve:f,marginBottom:w?2:0,children:[(0,s.jsxs)(c.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,s.jsx)(c.sg,{span:2,children:(0,s.jsx)(c.xu,{display:"flex",justifyContent:"start",alignContent:"center",alignItems:"center",marginStart:3,children:(0,s.jsx)(c.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,s.jsx)(c.sg,{span:8,children:(0,s.jsx)(c.kC,{alignItems:"center",height:w?64:52,justifyContent:"center",children:(0,s.jsx)(c.xv,{weight:"bold",children:w?this.props.i18n._("Save Pin to","PinBetterSave.BoardFlyout.SectionHeader","Header for section header"):this.props.i18n._("Choose section","Header for section header","Header for section header")})})}),(0,s.jsx)(c.sg,{span:2,children:(0,s.jsx)(c.xu,{})})]}),!w&&(0,s.jsx)(c.iz,{}),(0,s.jsx)(c.xu,{minHeight:w?354:F,maxHeight:w?N:F,overflow:"scrollY",children:T?(0,s.jsx)(r.Fragment,{children:T&&T.map((function(t){return"header"===t.type?null:(0,s.jsx)(c.xu,{children:t.isOpen&&(0,s.jsxs)(r.Fragment,{children:[w&&(0,s.jsx)(c.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,s.jsx)(c.xv,{size:"sm",children:e.props.i18n._("Board","PinBetterSave.BoardFlyout.BoardPickerTitle","board title on section picker")})}),(0,s.jsx)($,{board:t,buttonText:i,isSectionOpen:!0,onClick:function(t){e.handleBoardClick({board:t,toggleSections:!1})},onButtonClick:d,shouldOpenSections:!1,showFlyoutSaveButton:g,ref:e.boardSectionsHeaderRef,useLegoLayout:w}),(0,s.jsx)(_,{board:t,buttonText:i,onClick:e.handleSectionClick,onButtonClick:d,showSectionSaveButton:v,useLegoLayout:w})]})},"".concat(t.category,"-").concat(t.id))}))}):null}),m&&!a&&L(!1)]})]})})})})]})}}])&&de(t.prototype,n),o&&de(t,o),a}(r.PureComponent);function we(e){var t=(0,a.ZP)();return(0,s.jsx)(Ie,ce(ce({},e),{},{boardPickerStopwatch:(0,ne.iN)(),requestContext:(0,te.B)(),i18n:t}))}function _e(e,t,n){var r,o=e.advertiser;if(n&&n.user&&n.user.username&&(r=n.user.username),t&&o){var i=e.advertiser;if(t.isAuth&&i.is_impersonation)return{hasMUA:!1,advertiser_id:i.id,username:i.owner_user_id};if(t.isAuth&&i.owner_user_id!==t.id)return{hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id};if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,username:r}}function je(e){var t=e.advertiser_id,n=e.hasMUA,r=e.username;return!e.useStoryboardStyle&&e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(r=e.orbacActingAs.user.username),ce(ce({field_set_key:"board_picker",filter:n?"protected":"all"},r?{username:r}:Object.freeze({})),t?{advertiser_id:t}:{})}function Oe(e,t){return function(n,r){return n((0,V.jB)("BoardPickerBoardsResource",je(_e(r(),e,t))))}}function Ae(e){var t=(0,k.Z)(),n=(0,o.useSelector)((function(e){return _e(e,t)})),r=ce(ce({},e),n),i=(0,w.Z)({name:"BoardPickerBoardsResource",options:je(r)});return(0,s.jsx)(we,ce(ce({},r),{},{boardResource:i}))}function Se(e){var t=(0,ee.Z)();return(0,s.jsx)(Ae,ce(ce({},e),{},{orbacActingAs:t}))}function Pe(e){var t=(0,w.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pin.id,shortlist_length:3,num_shortlist_suggestions:3}});return(0,s.jsx)(we,ce(ce({},e),{},{suggestedBoardsShortListResource:t}))}ge(Ie,"defaultProps",{paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},100998:function(e,t,n){"use strict";var r=n(209067),o=n(130874),i=n(218265),a=n(80209),c=function(e){var t=e.collaborator_count,n=e.useLegoLayout,o=e.type;return n?(0,a.jsx)(i.xu,{marginEnd:t?2:0,children:(0,a.jsx)(r.Z,{type:o})}):(0,a.jsx)(r.Z,{type:o})};t.Z=function(e){var t,n=e.board,s=e.showCollaborativeIcon,l=e.showPrivateIcon,u=e.showProtectedIcon,d=e.showSectionsIcon,p=e.useLegoLayout,f=(null==n||null===(t=n.collaborating_users)||void 0===t?void 0:t.length)||0;return s||l||u||d?(0,a.jsxs)(i.xu,{display:"flex",direction:"row",marginEnd:p?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[l&&(0,a.jsx)(c,{collaborator_count:f,useLegoLayout:p,type:"secret"}),u&&(0,a.jsx)(c,{collaborator_count:f,useLegoLayout:p,type:"protected"}),s&&(p?(0,a.jsx)(o.Z,{board:n,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(r.Z,{type:"group"})),d&&(0,a.jsx)(r.Z,{type:"sections"})]}):null}},494353:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(881220),o=n(174523),i=n(946753),a=n(218265),c=n(80209);function s(e){var t=e.boardName,n=e.boardUrl,s=e.isBoardlessPin,l=e.isFromPinBuilder,u=e.newPin,d=e.onChangeButtonClick,p=e.onVisitButtonClick,f=void 0===p?function(){}:p,h=e.onHide,b=e.onUndo,m=e.pinImageUrl,g=(0,o.ZP)(),y=(0,c.jsx)(a.xu,{color:"lightGray",display:"flex",height:48,overflow:"hidden",width:48,children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsx)(a.JO,{accessibilityLabel:g._("Saved to profile thumbnail","PostSavedPinToast.thumbnail.accessibilityLabel","Thumbnail for saved to profile."),color:"darkGray",icon:"history",size:24})})}),v=(!!d||!!b)&&(0,c.jsx)(a.zx,{text:u&&s&&d?g._("Change","PostSavedPinToast.ChangeButton","Change saved pin to a different destination"):g._("Undo","PostSavedPinToast.UndoButton","Undo Saved Pin"),size:"lg",onClick:u&&s&&d?function(){return d(u)}:b},"button-key"),x=(0,c.jsx)(a.zx,{text:g._("Visit","PostSavedPinToast.VisitButton","Visit Pin saved from PinBuilder"),size:"lg",onClick:f});return(0,c.jsx)(r.Z,{button:l?x:v,duration:s?6e3:3e3,iconThumbnail:s?y:void 0,imageUrl:m,onHide:h,text:(0,c.jsx)(a.xv,{size:"md",overflow:"normal",children:(0,i.nk)(g._("Saved to {{ destination }}","PostSavedPinToast.SavedToBoardLabel","Saved to label for better save"),{destination:(0,c.jsx)(a.rU,{href:s?"/me/":null!=n?n:"",children:(0,c.jsx)(a.xv,{size:"md",weight:"bold",lineClamp:1,children:t},"PostSavedPinToastBoardName")})})})})}},423405:function(e,t,n){"use strict";var r=n(218265),o=n(80209);t.Z=function(e){var t=e.image_url,n=e.naturalHeight,i=e.naturalWidth;return(0,o.jsx)(r.xu,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:(0,o.jsx)(r.zd,{wash:!0,width:48,height:48,rounding:2,children:(0,o.jsx)(r.Ee,{src:t,alt:"",naturalHeight:n,naturalWidth:i})})})}},729787:function(e,t,n){"use strict";n.d(t,{W:function(){return a},Z:function(){return c}});var r=n(218265),o=n(80209),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(r.xu,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:i,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c(e){var t=e.disabled,n=e.name,i=e.onClick,c=e.size,s=e.submitting,l=e.text;return(0,o.jsxs)(r.xu,{display:"flex",position:"relative",children:[s&&(0,o.jsx)(a,{}),(0,o.jsx)(r.zx,{color:"red",disabled:t||s,name:n,onClick:i,size:c,type:"submit",text:l})]})}},320145:function(e,t,n){"use strict";var r=n(793550),o=n(234070),i=n(218265),a=n(80209);t.Z=function(e){var t=e.badgeSize,n=e.badgeSpacing,c=e.fullName,s=e.identityIsVerified,l=e.isVerifiedMerchant,u=e.truncate,d=void 0!==u&&u,p=c.split(" "),f=p.slice(0,p.length-1).join(" "),h=" ".concat(p[p.length-1]);return d?(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(i.xv,{lineClamp:1,weight:"bold",children:c}),(0,a.jsx)(i.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},paddingX:1,children:(0,a.jsx)(o.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:l})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:f}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h," ",(0,a.jsx)(i.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},children:(0,a.jsx)(o.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:l})})]})]})}},325946:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(21755),o=n(585967),i=n(80209);function a(e){var t=e.activate,n=e.children,a=e.isEligible,c=e.name;return(0,i.jsx)(o.LC,{children:function(e){return(0,i.jsx)(r.Z,{activate:t,group:e.experiments.v2GetGroup(c)||"",isEligible:a,name:c,children:n})}})}},233949:function(e,t,n){"use strict";n.d(t,{KS:function(){return r.Z}});var r=n(325946)},45815:function(e,t,n){"use strict";n.d(t,{J:function(){return r},o:function(){return o}});var r="numSearchCloseups",o=20},933390:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ce}});var r=n(793550),o=n(829522),i=n(575429),a=n(85038),c=n(218265),s=n(80209);var l=function(e){var t=e.accessibilityLabel,n=e.iconType,r=e.iconBackgroundColor,o=e.iconColor,i=e.onClickHander,a=e.text,l=e.widthInColumn;return(0,s.jsx)(c.xu,{column:l,display:"flex",justifyContent:"center",minWidth:248,children:(0,s.jsx)(c.iP,{onTap:i,children:(0,s.jsxs)(c.kC,{alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(c.xu,{color:r,display:"flex",justifyContent:"center",alignItems:"center",width:70,height:70,rounding:"circle",children:(0,s.jsx)(c.JO,{accessibilityLabel:t,color:o,icon:n,size:40})}),(0,s.jsx)(c.xu,{display:"inlineBlock",marginStart:2,children:(0,s.jsx)(c.xv,{inline:!0,children:(0,s.jsx)("span",{className:"deprecatedTextSizeXL",children:a})})})]})})})},u=n(311866),d=n(451190),p=n(174523),f=n(997993);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=x(i);function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(w(e=o.call.apply(o,[this].concat(n))),"state",{websiteUrl:e.props.websiteUrl||"",websiteUrlErrors:[]}),j(w(e),"validators",{websiteUrl:[(0,f.Jx)({message:e.props.i18n._("Not a valid url.","[m10n] Validation error when a url is not a valid format","[m10n] Validation error when a url is not a valid format")})]}),j(w(e),"handleWebsiteChange",(function(t){var n=t.value,r=(0,f.FU)(e.validators.websiteUrl,n);e.setState({websiteUrl:n,websiteUrlErrors:r});var o=e.props.onWebsiteInputChange;o&&o(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.onDismiss,n=e.onComplete,r=this.state.websiteUrlErrors;return(0,s.jsx)(d.Z,{accessibilityModalLabel:this.props.i18n._("What's your website","Accessibility label for modal to input user website","Accessibility label for modal to input user website"),footer:(0,s.jsxs)(c.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[(0,s.jsx)(c.xu,{"data-test-id":"user-website-input-close",flex:"shrink",paddingX:4,children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:t,text:this.props.i18n._("Cancel","Button label for cancelling the action to set profile cover pins","Button label for cancelling the action to set profile cover pins")})}),(0,s.jsx)(c.xu,{"data-test-id":"user-website-input-next",flex:"shrink",children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:function(e){t(),n()},text:this.props.i18n._("Next","Button label for opening the claim website modal","Button label for opening the claim website modal")})})]}),heading:this.props.i18n._("What's your website","Header for the user website input modal.","Header for the user website input modal."),onDismiss:t,size:"sm",children:(0,s.jsx)(c.xu,{height:130,padding:6,children:(0,s.jsx)(c.nv,{errorMessage:r&&r.join(", "),id:"userWebsite",name:"website_url",onChange:this.handleWebsiteChange,placeholder:this.props.i18n._("www.red-shoes-online.com","Sample website prompt for claiming a website","Sample website prompt for claiming a website"),size:"lg",value:this.state.websiteUrl||""})})})}}])&&y(t.prototype,n),r&&y(t,r),i}(r.Component);function A(e){var t=(0,p.ZP)();return(0,s.jsx)(O,m(m({},e),{},{i18n:t}))}var S=n(34411),P=n(836240),E=n(792575),k=n(549156),C=n(641483),R=n(535718),B=n(778527),D=n(858875),T=n(265044),J=n(932129),V=n(457175),M=n(312827);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){var n=(e||"default").replace(/ /g,"");(0,C.ZP)("web.partner.claimWebsiteTagUpsell.".concat(n,".").concat(t))}var K=502468,z=1000298,$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,n,r,o=W(i);function i(){var e;Z(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(H(e=o.call.apply(o,[this].concat(n))),"state",{downloadClicked:!1,modalStep:1,verificationType:""}),X(H(e),"componentDidMount",(function(){var t,n=e.props.experience;n&&n.experience_id===K&&Y((null==n||null===(t=n.display_data)||void 0===t?void 0:t.tag_integration)||"default","render")})),X(H(e),"handleForward",(function(){return e.setState({modalStep:2})})),X(H(e),"handleBack",(function(){return e.setState({modalStep:1})})),X(H(e),"handleSubmit",(function(){var t,n=e.props,r=n.website_url,o=n.experience,i=n.experienceClient,c=n.onHide;(e.props.logContextEvent({event_type:101,element:10736}),u.ZP.create("DomainVerifyResource",{type:e.state.verificationType,domain:r}).callUpdate(),e.props.attemptToClaimWebsite(),a.t8(D.T7,"1",(0,a.kZ)(D.T7)),e.props.onSuccess&&e.props.onSuccess(),o&&o.experience_id===K)?(e.props.logContextEvent({event_type:120,component:13624}),i.viewExperience(z,K),Y((null==o||null===(t=o.display_data)||void 0===t?void 0:t.tag_integration)||"default","complete"),e.setState({modalStep:3})):c()})),X(H(e),"handleInstall",(function(){e.props.logContextEvent({event_type:101,component:13624,element:11926}),e.props.experienceClient.completeExperience(z,K)})),X(H(e),"handleDismissTag",(function(){var t=e.props,n=t.experience,r=void 0===n?null:n,o=t.experienceClient,i=t.onHide;e.props.logContextEvent({event_type:101,component:13624,element:11925}),o.dismissExperience(z,K),Y(r&&r.display_data&&r.display_data.tag_integration||"default","dismiss"),i()})),X(H(e),"handleDownload",(function(){e.setState({downloadClicked:!0}),(0,P.Z)("/website/confirm/download/")})),X(H(e),"handleCopy",(function(){window.document.getElementById("textAreaMetatag").select(),document.execCommand("copy")})),X(H(e),"renderNextFooter",(function(t){return(0,s.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2,children:(0,s.jsx)(k.Z,{id:"claim-website-next",children:(0,s.jsx)(c.zx,{color:t?"red":"gray",text:e.props.i18n._("Next","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),onClick:e.handleForward,disabled:!t})})})})),X(H(e),"renderModalStep1",(function(){var t,n=e.state,r=n.downloadClicked,o=n.verificationType,i="metatag"===o||"filename"===o&&r,a='<meta name="p:domain_verify" content="'+(null!==(t=e.props.domainVerifyResource.data)&&void 0!==t?t:{}).verification_code+'"/>';return(0,s.jsxs)(d.Z,{accessibilityModalLabel:e.props.i18n._("Confirm your website","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:e.renderNextFooter(i),heading:e.props.i18n._("Pick claim option","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:e.props.onHide,size:"md",children:[(0,s.jsxs)(c.xu,{paddingY:7,paddingX:3,children:[(0,s.jsxs)(c.kC,{alignItems:"start",justifyContent:"start",children:[(0,s.jsx)(c.xu,{paddingX:3,flex:"shrink",children:(0,s.jsx)(c.EU,{checked:"metatag"===o,id:"metatag",name:"websiteVerification",onChange:function(){return e.setState({verificationType:"metatag"})},size:"md",value:"metatag"})}),(0,s.jsxs)(c.xu,{flex:"grow",marginTop:1,children:[(0,s.jsx)(c.xu,{marginBottom:1,children:(0,s.jsx)(c.xv,{color:"darkGray",weight:"bold",children:e.props.i18n._("Add HTML tag","Label for adding an HTML tag to claim a website","Label for adding an HTML tag to claim a website")})}),(0,s.jsx)(c.xu,{children:(0,s.jsx)(c.xv,{children:e.props.i18n._("Paste this tag into the <head> section of your site’s index.html file","Label for adding an HTML tag to claim a website","Label for adding an HTML tag to claim a website")})})]})]}),"metatag"===o&&(0,s.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:3,paddingY:3,children:(0,s.jsx)(c.xu,{column:12,children:(0,s.jsx)(c.Kx,{id:"textAreaMetatag",onChange:function(t,n){e.forceUpdate()},value:a})})})]}),(0,s.jsxs)(c.xu,{marginBottom:8,paddingX:3,children:[(0,s.jsxs)(c.kC,{alignItems:"start",justifyContent:"start",children:[(0,s.jsx)(c.xu,{paddingX:3,flex:"shrink",children:(0,s.jsx)(c.EU,{checked:"filename"===o,id:"filename",name:"websiteVerification",size:"md",onChange:function(){return e.setState({verificationType:"filename"})},value:"filename"})}),(0,s.jsxs)(c.xu,{flex:"grow",marginTop:1,children:[(0,s.jsx)(c.xu,{marginBottom:1,children:(0,s.jsx)(c.xv,{color:"darkGray",weight:"bold",children:e.props.i18n._("Upload HTML file","Label for uploading an html file to claim a website","Label for uploading an html file to claim a website")})}),(0,s.jsx)(c.xu,{children:(0,s.jsx)(c.xv,{children:e.props.i18n._("Download this file and upload it to your website's root directory","Label for uploading an html file to claim a website","Label for uploading an html file to claim a website")})})]})]}),"filename"===o&&(0,s.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:3,paddingY:3,children:(0,s.jsx)(c.zx,{fullWidth:!0,color:r?"gray":"red",onClick:e.handleDownload,text:e.props.i18n._("Download","Button label for downloading a file to claim a website","Button label for downloading a file to claim a website")})})]})]})})),X(H(e),"renderModalStep2",(function(){var t=(0,s.jsxs)(c.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[(0,s.jsx)(c.xu,{flex:"shrink",marginEnd:4,children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"gray",text:e.props.i18n._("Back","Button label for going back to step 1 of the claim website sequence","Button label for going back to step 1 of the claim website sequence"),onClick:e.handleBack})}),(0,s.jsx)(c.xu,{flex:"shrink",marginStart:4,children:(0,s.jsx)(k.Z,{id:"claim-website-submit",children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"red",text:e.props.i18n._("Submit","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),onClick:e.handleSubmit})})})]});return(0,s.jsx)(d.Z,{accessibilityModalLabel:e.props.i18n._("Submit for review","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:t,heading:e.props.i18n._("Submit for review","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:e.props.onHide,size:"md",children:(0,s.jsx)(c.xu,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:6,paddingX:6,children:(0,s.jsx)(c.xv,{children:e.props.i18n._("All set? We'll check your site for the meta tag and email you in the next 24 hours.","Confirmation message before claiming website","Confirmation message before claiming website")})})})})),X(H(e),"renderTagUpsellModal",(function(){var t,n,r,o=e.props.experience,i=(null==o||null===(t=o.display_data)||void 0===t?void 0:t.tag_integration)||"",a=(0,J.S)(i,e.props.i18n)||e.props.i18n._("To track how well ads drive conversion events on your claimed site, install the Pinterest tag.","[m10n] website_modal.tag_upsell_step.body2","Message describing Pinterest tag and prompting the user to install"),l=(0,T.E)((null===(n=e.props.experience)||void 0===n||null===(r=n.display_data)||void 0===r?void 0:r.tag_integration)||""),u=(0,s.jsxs)(c.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[(0,s.jsx)(c.xu,{flex:"shrink",children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:e.handleDismissTag,text:e.props.i18n._("Done","[m10n] website_modal.tag_upsell_step.done","Button label for completing claim website flow and exiting the modal")})}),(0,s.jsx)(c.xu,{flex:"shrink",marginStart:2,children:(0,s.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:e.handleInstall,role:"link",href:l,text:e.props.i18n._("Install tag","[m10n] website_modal.tag_upsell_step.install","Button label for installing the Pinterest tag")})})]});return(0,s.jsx)(d.Z,{accessibilityModalLabel:e.props.i18n._("Tag upsell modal","[m10n] website_modal.tag_upsell_step.accessibility_label","Accessibility label for tag install screen on the claim website modal"),footer:u,heading:e.props.i18n._("Success!","[m10n] website_modal.tag_upsell_step.title","Modal heading for tag upsell screen"),onDismiss:e.props.onHide,size:"sm",children:(0,s.jsxs)(c.xu,{paddingX:8,children:[(0,s.jsx)(c.xu,{marginBottom:4,children:(0,s.jsx)(c.xv,{children:e.props.i18n._("You’ll be notified once we review your site for the meta tag; it may take up to 24 hours.","[m10n] website_modal.tag_upsell_step.body1","Message describing Pinterest tag and prompting the user to install")})}),(0,s.jsx)(c.xu,{children:(0,s.jsx)(c.xv,{children:a})})]})})})),e}return t=i,(n=[{key:"render",value:function(){if(!this.props.domainVerifyResource.isLoaded){var e=(0,s.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2,children:(0,s.jsx)(c.zx,{color:"gray",text:this.props.i18n._("Next","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),disabled:!0})});return(0,s.jsx)(d.Z,{accessibilityModalLabel:this.props.i18n._("Claim your website","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:e,heading:this.props.i18n._("Pick claim option","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:(0,s.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10,children:(0,s.jsx)(c.$j,{accessibilityLabel:this.props.i18n._("Loading","Accessibility label for loading spinner","Accessibility label for loading spinner"),show:!0})})})}if(this.props.domainVerifyResource.error)return(0,s.jsx)(E.Z,{error:this.props.domainVerifyResource.error,onHide:this.props.onHide});switch(this.state.modalStep){case 1:return this.renderModalStep1();case 2:return this.renderModalStep2();case 3:return this.renderTagUpsellModal();default:return null}}}])&&L(t.prototype,n),r&&L(t,r),i}(r.Component);var ee=(0,B.ZP)(z)((function(e){var t=(0,V.v)().logContextEvent,n=(0,p.ZP)(),r=(0,R.Z)({name:"DomainVerifyResource",noCache:!0}),o=(0,M.Z)();return(0,s.jsx)($,U(U({},e),{},{domainVerifyResource:r,experienceClient:o,i18n:n,logContextEvent:t}))})),te=n(272828);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r,o=se(i);function i(){var e;ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pe(ue(e=o.call.apply(o,[this].concat(n))),"state",{attemptToClaimWebsite:"1"===a.U2(D.T7),showUserWebsiteInputModal:!1,websiteModalShown:!1,websiteUrl:e.props.viewer.isAuth?e.props.viewer.domainUrl:void 0}),pe(ue(e),"handleClaimWebsiteSuccess",(function(){e.props.logContextEvent({event_type:7509,view_type:1,view_parameter:92,component:13233}),e.setState({attemptToClaimWebsite:"1"===a.U2(D.T7)})})),pe(ue(e),"closeUserWebsiteInputModal",(function(){return e.setState({showUserWebsiteInputModal:!1})})),pe(ue(e),"closeClaimWebsiteModal",(function(){e.setState({websiteModalShown:!1})})),pe(ue(e),"handleWebsiteChange",(function(t){e.setState({websiteUrl:t})})),pe(ue(e),"navigateToCreatePin",(function(){var t=e.props.history;e.props.logContextEvent({event_type:101,view_type:1,view_parameter:92,component:13233,element:10797}),t.push("/pin-builder/")})),pe(ue(e),"openClaimWebsiteModal",(function(){e.setState({websiteModalShown:!0});var t=e.state.websiteUrl,n=e.props.viewer;t!==(n.isAuth?n:{}).domainUrl&&u.ZP.create("UserSettingsResource",{website_url:t}).callUpdate().finally((function(){a.zN(D.T7.name)}))})),pe(ue(e),"showUserWebsiteInputModal",(function(){e.props.logContextEvent({event_type:101,view_type:1,view_parameter:92,component:13233,element:10796}),e.setState({showUserWebsiteInputModal:!0})})),pe(ue(e),"renderChecklistAction",(function(t,n){var r;switch(t){case"show_claim_website":var o=e.state.attemptToClaimWebsite;return r=e.props.i18n._("Claim your website","Label for claiming website","Label for claiming website"),(0,s.jsx)(l,{accessibilityLabel:r,iconType:o?"ellipsis":"globe",iconBackgroundColor:"white",iconColor:"blue",onClickHander:e.showUserWebsiteInputModal,text:r,widthInColumn:n});case"show_create_pin":var i=e.props.pinCreatedViaCreatorChecklist;return r=e.props.i18n._("Create your first Pin","Label for creating the first pin","Label for creating the first pin"),(0,s.jsx)(l,{accessibilityLabel:r,iconType:i?"check":"pin",iconBackgroundColor:i?"green":"white",iconColor:i?"white":"blue",onClickHander:e.navigateToCreatePin,text:r,widthInColumn:n});default:return null}})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.actionList,r=t.handleDismiss,o=t.header,i=t.viewer,a=this.state,l=a.showUserWebsiteInputModal,u=a.websiteModalShown,d=a.websiteUrl,p=n&&n.length?Math.floor(12/n.length):1,f=o||this.props.i18n._("Follow these steps to get going on Pinterest","The headline of new business user's checklist","The headline of new business user's checklist");return(0,s.jsxs)(c.xu,{display:"flex",justifyContent:"between",height:150,color:"lightGray",position:"relative",children:[(0,s.jsx)(c.xu,{color:"blue",display:"flex",alignItems:"center",justifyContent:"center",width:"40%",minWidth:352,paddingX:8,paddingY:8,dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"240px 476px"}},children:(0,s.jsx)(c.X6,{color:"white",children:f})}),(0,s.jsx)(c.xu,{display:"flex",width:"60%",alignItems:"center",justifyContent:"center",paddingX:12,children:n.map((function(t){return e.renderChecklistAction(t,p)}))}),(0,s.jsx)(c.xu,{position:"absolute",top:!0,right:!0,padding:2,children:(0,s.jsx)(c.hU,{accessibilityLabel:this.props.i18n._("Close","Close the experience UI","Close the experience UI"),icon:"cancel",onClick:r})}),l&&(0,s.jsx)(A,{onComplete:this.openClaimWebsiteModal,onDismiss:this.closeUserWebsiteInputModal,onWebsiteInputChange:this.handleWebsiteChange,websiteUrl:i.isAuth?i.domainUrl:""}),u&&(0,s.jsx)(ee,{onHide:this.closeClaimWebsiteModal,attemptToClaimWebsite:function(){},onSuccess:this.handleClaimWebsiteSuccess,website_url:d})]})}}])&&ae(t.prototype,n),r&&ae(t,r),i}(r.Component);function he(e){var t=(0,V.v)().logContextEvent,n=(0,p.ZP)(),r=(0,i.useSelector)((function(e){var t=e.creatorChecklist;return!!t&&t.pinCreatedViaCreatorChecklist}));return(0,s.jsx)(fe,oe(oe({},e),{},{history:(0,te.k6)(),pinCreatedViaCreatorChecklist:r,viewer:(0,S.Z)(),i18n:n,logContextEvent:t}))}var be=n(855356),me=n(520108),ge=n(569716),ye=function(e){var t=e.color,n=e.completeButtonText,r=e.completeButtonUrl,o=e.completeButtonUrlInNewTab,i=e.dismissButtonText,a=e.handleComplete,c=void 0===a?function(){}:a,l=e.handleDismiss,u=void 0===l?function(){}:l,d=e.header,f=void 0===d?"":d,h=e.headerSubtitle,b=void 0===h?"":h,m=(0,p.ZP)();return(0,s.jsx)(ge.Z,{message:(f+" "+b).trim(),dismissButtonText:i||m._("Close","Closing a Hero banner","Closing a Hero banner"),completeButtonText:n||m._("Go","Completing the Hero banner","Completing the Hero banner"),completeUrl:r,onComplete:c,onDismiss:u,external:o,color:t})};var ve=function(e){var t=e.color,n=e.completeButtonText,r=e.completeButtonUrl,o=e.completeButtonUrlInNewTab,i=e.handleComplete,a=void 0===i?function(){}:i,c=e.header,l=void 0===c?"":c,u=e.headerSubtitle,d=void 0===u?"":u,f=(0,p.ZP)();return(0,s.jsx)(ge.Z,{message:(l+" "+d).trim(),completeButtonText:n||f._("Go","Completing the Hero banner","Completing the Hero banner"),completeUrl:r,onComplete:a,external:o,color:t||"darkGray"})},xe=n(354783),Ie=n(151101),we=n(946753);function _e(e){var t=e.completeButtonText,n=e.headerSubtitle,r=e.handleComplete,o=e.handleDismiss,i=(0,p.ZP)(),a=(0,S.Z)(),l=a.isAuth?a:{},u=l.firstName,d=l.imageLargeUrl;return(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,s.jsxs)(c.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,s.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(c.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,s.jsx)(Ie.Z,{name:u,src:d,size:"lg",outline:!0})}),(0,s.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,s.jsx)(c.xu,{marginBottom:2,children:(0,s.jsx)(c.X6,{size:"sm",children:(0,we.nk)(i._("Welcome back, {{ name }}",'shown on a banner, "welcome back, first_name"','shown on a banner, "welcome back, first_name"'),{name:u})})}),(0,s.jsx)(c.xv,{children:n})]})]}),(0,s.jsx)(c.xu,{marginEnd:4,children:(0,s.jsx)(c.zx,{color:"white",size:"lg",text:t,onClick:r})}),(0,s.jsx)(c.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,s.jsx)(c.hU,{accessibilityLabel:i._("Close","accessible label for close button","accessible label for close button"),iconColor:"darkGray",icon:"cancel",onClick:o,size:"sm"})})]})})}var je=n(131264),Oe=n(585967);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t=e.completeButtonUrl,n=e.onDismiss,i=e.placementId,a=Ee((0,r.useState)(!1),2),l=a[0],u=a[1],d=(0,Oe.B)();return(0,s.jsx)(me.Z,{placementId:i,eligibleTypes:[13],children:function(e){var r=e.complete,i=e.dismiss,a=e.experience,p=a.display_data,f=a.experience_id;t&&(p.complete_button_url=t);var h=function(e){switch(e){case 502597:return o.default;case 500863:return _e;case 500840:return he;case 501117:case 501153:case 501487:return ve;default:return ye}}(f),b=Se({requestContext:d,experienceId:f,handleComplete:r,handleDismiss:function(){n&&n(),i()},color:"blue"},(0,be.Z)(xe.Z)(p));return l||u(!0),(0,s.jsx)(je.Z,{in:l,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:(0,s.jsx)(c.xu,{marginBottom:4,children:(0,s.jsx)(h,Se({},b))})})}})}},786259:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(793550),o=n(975796),i=n(218265),a=n(80209),c=37.8,s=277.1569,l=32.441,u=function(){return(0,a.jsxs)("svg",{width:440,height:316,style:{opacity:1,overflow:"visible",transform:"scale(.95)"},viewBox:"0 0 440 316",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsxs)("defs",{children:[(0,a.jsx)("path",{d:"M15.9508 11.963c-2.2026 0-3.9877 1.7852-3.9877 3.9878 0 2.2025 1.7851 3.9877 3.9877 3.9877 2.2025 0 3.9877-1.7852 3.9877-3.9877 0-2.2026-1.7852-3.9877-3.9877-3.9877m-11.9631 0c2.2025 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7852 3.9877-3.9877 3.9877C1.7852 19.9385 0 18.1533 0 15.9508c0-2.2026 1.7852-3.9877 3.9877-3.9877zm23.9261 0c2.2026 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7851 3.9877-3.9877 3.9877-2.2025 0-3.9876-1.7852-3.9876-3.9877 0-2.2026 1.7851-3.9877 3.9876-3.9877z",id:"a"}),(0,a.jsx)("path",{d:"M8.4456.6691l1.3182 4.3182h4.3945c.8974 0 1.2824 1.153.569 1.705L11.133 9.4709l1.3475 4.4165c.2699.8827-.7398 1.5963-1.4654 1.0349l-3.466-2.6794-3.4659 2.6794c-.7266.5614-1.7363-.1522-1.4664-1.035L3.9653 9.471.37 6.6923c-.7124-.552-.3274-1.705.57-1.705h4.3935L6.6527.6691c.2727-.8921 1.5202-.8921 1.7929 0",id:"b"}),(0,a.jsx)("path",{d:"M8.0882 12.9614c-2.6756 0-4.853-2.1808-4.853-4.8606 0-2.6797 2.1774-4.8605 4.853-4.8605 2.6756 0 4.853 2.1808 4.853 4.8605 0 2.6798-2.1774 4.8606-4.853 4.8606m10.6126 2.3314l-3.444-3.4486c.5848-1.1203.9197-2.3921.9197-3.7434C16.1765 3.6268 12.5554 0 8.0882 0 3.6211 0 0 3.6267 0 8.1008s3.6211 8.1009 8.0882 8.1009c1.3492 0 2.619-.3354 3.7376-.921L15.269 18.73c.948.9494 2.4839.9494 3.4318 0 .948-.9486.948-2.4878 0-3.4372",id:"c"}),(0,a.jsx)("path",{d:"M0 39.5562c0 16.8872 10.5846 31.3054 25.4808 36.9784-.3626-3.0887-.7483-8.1815.0824-11.7548.7153-3.0722 4.6182-19.5737 4.6182-19.5737s-1.1768-2.3569-1.1768-5.8477c0-5.472 3.171-9.5594 7.1234-9.5594 3.3622 0 4.984 2.5217 4.984 5.5444 0 3.3788-2.1525 8.4288-3.2633 13.113-.9263 3.9193 1.9679 7.1167 5.8312 7.1167 6.9982 0 12.381-7.3805 12.381-18.0343 0-9.4308-6.7772-16.0202-16.452-16.0202-11.201 0-17.7772 8.4023-17.7772 17.0882 0 3.3854 1.302 7.0114 2.9305 8.9859.3197.3922.3692.7318.2736 1.1306-.3 1.246-.9659 3.9194-1.0944 4.4666-.1747.7186-.5703.8735-1.3186.524-4.9181-2.2876-7.9903-9.477-7.9903-15.2521 0-12.424 9.022-23.8293 26.0148-23.8293 13.66 0 24.2776 9.7341 24.2776 22.7415 0 13.571-8.554 24.4952-20.434 24.4952-3.992 0-7.74-2.0767-9.0255-4.526 0 0-1.9745 7.5223-2.4525 9.3617-.9295 3.5732-3.5073 8.0958-5.106 10.6637 3.6853 1.134 7.5948 1.7437 11.6493 1.7437 21.8449 0 39.5561-17.7112 39.5561-39.5561C79.1123 17.7112 61.4011 0 39.5562 0 17.7112 0 0 17.7113 0 39.5562",id:"d"})]}),(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M15.12 33.6034c-7.6878 0-13.92 6.2322-13.92 13.92V300.88c0 7.6878 6.2322 13.92 13.92 13.92h409.76c7.6878 0 13.92-6.2322 13.92-13.92V47.5234c0-7.6878-6.2322-13.92-13.92-13.92H15.12z",stroke:"#DEDEDE",strokeWidth:"2.4",fill:"#FFF"}),(0,a.jsxs)("g",{transform:"translate(0 ".concat(l,")"),children:[(0,a.jsx)("path",{d:"M15.12 0h409.76C433.2305 0 440 6.7695 440 15.12v48.6067H0V15.12C0 6.7695 6.7695 0 15.12 0z",fill:"#DEDEDE"}),(0,a.jsx)("rect",{fill:"#FFF",x:"15.5858",y:"12.0152",width:"218.9216",height:"38.8841",rx:"19.442"}),(0,a.jsx)("use",{fill:"#FFF",xlinkHref:"#a",transform:"translate(384.8501 15.6198)"}),(0,a.jsx)("use",{fill:"#DEDEDE",xlinkHref:"#b",transform:"translate(206.2125 24.0304)"}),(0,a.jsx)("use",{fill:"#DEDEDE",xlinkHref:"#c",transform:"translate(26.376 21.6274)"})]}),(0,a.jsxs)("g",{fill:"#DEDEDE",children:[(0,a.jsx)("rect",{id:"content-morph",x:31,y:139,width:"230.7843",height:"126.3732"}),(0,a.jsx)("rect",{className:"content-bar",x:"281.4706",y:"139.3346",width:"126.1765",height:"14.0415"}),(0,a.jsx)("rect",{className:"content-bar",x:"281.4706",y:"164.1772",width:"85.1961",height:"14.0415"})]}),(0,a.jsx)("ellipse",{fill:"#FFF",fillOpacity:"0.49",cx:38,cy:38,rx:38,ry:37.8,id:"pinterest-logo-pop-bg"}),(0,a.jsxs)("g",{id:"pinterest-logo",transform:"translate(".concat(s,") scale(").concat(1,")"),children:[(0,a.jsx)("ellipse",{fill:"#FFF",cx:"37.8",cy:"37.8479",rx:c,ry:c}),(0,a.jsxs)("g",{transform:"translate(0 .0493)",children:[(0,a.jsx)("mask",{id:"e",fill:"#fff",children:(0,a.jsx)("use",{xlinkHref:"#d"})}),(0,a.jsx)("g",{mask:"url(#e)",fill:"#E60023",children:(0,a.jsx)("rect",{width:"80.1649",height:"80.1649"})})]})]})]})]})};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e,t,n){return e-t/2*(n-1)},w=30,_=I(s,75.6,1.4),j=I(0,75.6,1.4),O=I(279,76,2.1),A=I(2,75.6,2.1),S={targets:".simplePopExtensionContent",opacity:[0,1],duration:500,easing:"easeInOutQuad"},P={targets:["#content-morph",".content-bar"],opacity:[0,1]},E={targets:"#content-morph",width:w,height:w,x:220,y:203,rx:20},k={targets:".content-bar",width:0,height:0,x:215,y:218},C={targets:"#content-morph",x:301,y:24},R={targets:"#pinterest-logo",translateX:[s,_],translateY:j,scale:1.4,direction:"alternate"},B={targets:"#pinterest-logo",translateX:[_,s],translateY:0,scale:1,direction:"alternate"},D={targets:"#pinterest-logo-pop-bg",translateX:[279,O],translateY:[2,A],scale:2.1,direction:"alternate"},T={targets:"#pinterest-logo-pop-bg",translateX:[O,279],translateY:[A,2],scale:1},J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,c=b(s);function s(){return p(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props.isLooping;window.requestAnimationFrame((function(){var t=function(e){var t=500+(e?0:750),n=t+300,r=n,i=n+280,a=r+210,c=o.Z.timeline({easing:"easeInOutQuad",loop:e,direction:"normal",autoplay:!1});return c.add(v(v({},P),{},{duration:500})),e||c.add({duration:750}),c.add(v(v({},E),{},{duration:300}),t).add(v(v({},k),{},{duration:300}),t).add(v(v({},C),{},{duration:300}),n).add(v(v({},R),{},{duration:280}),n).add(v(v({},D),{},{duration:210}),r).add(v(v({},B),{},{duration:190,easing:"cubicBezier(0, 0, 0.23, 0.8)"}),i).add(v(v({},T),{},{duration:300}),a).add({duration:1400}),c}(e);(0,o.Z)(S).finished.then((function(){return t.play()}))}))}},{key:"render",value:function(){return(0,a.jsx)(i.xu,{display:"flex",flex:"grow",justifyContent:"center",alignItems:"center",marginTop:Math.floor(-8.11025),children:(0,a.jsx)(u,{})})}}])&&f(t.prototype,n),r&&f(t,r),s}(r.PureComponent);x(J,"defaultProps",{isLooping:!1});var V=J,M=n(174523),F=function(e){var t=e.header,n=e.installClick,o=e.isExtensionInstalled,c=void 0!==o&&o,s=e.isFromPinBuilder,l=e.skipClick,u=e.subheader,d=(0,M.ZP)(),p=d._("Get the Pinterest browser button","extensionUpsell.modal.defaultHeader","Heading for downloading Pinterest chrome extension app"),f=d._("Save creative ideas from around the web","extensionUpsell.modal.defaultSubheader","Subheader text for downloading Pinterest chrome extension app"),h=d._("With the Pinterest Save Button you can save your favorite ideas without ever leaving the page you're on.","extensionUpsell.modal.defaultHeader","Heading for downloading Pinterest chrome extension app"),b=d._("Save your favorite ideas with just one click","extensionUpsell.modal.defaultSubheader","Subheader text for downloading Pinterest chrome extension app");return s?(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.Ee,{src:"https://i.pinimg.com/originals/d4/d9/89/d4d9897b5d404678fa38c9cad904fc85.png",alt:d._("Pinterest Browser Extension","extensionUpsell.graphicAltText","Alt text for Browser Extension upsell graphic from PinBuilder"),naturalHeight:258,naturalWidth:540,children:(0,a.jsx)(i.xu,{display:"block",height:40,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!0,top:!0,width:40,children:(0,a.jsx)(i.hU,{accessibilityLabel:d._("Close","extensionUpsell.cancelLabel","Accesibility label to close modal for Browser Extension upsell"),icon:"cancel",iconColor:"darkGray",onClick:l})})}),(0,a.jsxs)(i.xu,{display:"flex",direction:"column",margin:"auto",width:360,children:[(0,a.jsx)(i.xu,{marginTop:8,children:(0,a.jsx)(i.X6,{size:"md",align:"center",children:t||b})}),(0,a.jsx)(i.xu,{marginTop:4,children:(0,a.jsx)(i.xv,{align:"center",children:u||h})}),(0,a.jsx)(i.xu,{display:"flex",direction:"row",marginTop:8,marginBottom:8,children:c?(0,a.jsx)(i.zx,{accessibilityLabel:d._("Got it","extensionUpsell.button.gotItLabel","Accesibility label to dismiss modal for users with extension installed"),color:"red",onClick:l,text:d._("Got it","extensionUpsell.button.gotIt","Got it message to dismiss modal for users with extension installed"),size:"lg"}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginStart:12,children:(0,a.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:d._("Maybe Later","extensionUpsell.button.maybeLaterLabel","Accesibility label for dismissing the install for Pinterest browser extension"),onClick:l,text:d._("Maybe Later","extensionUpsell.button.maybeLaterLabel","Dismiss button text for install browser extension upsell"),size:"lg"})}),(0,a.jsx)(i.xu,{display:"inlineBlock",marginStart:2,children:(0,a.jsx)(i.zx,{accessibilityLabel:d._("Get the Pinterest browser extension","extensionUpsell.button.getItNowLabel","Accesibility label for the Pinterest browser extension"),color:"red",onClick:n,text:d._("Get it now","extensionUpsell.button.getItNow","Get the Pinterest browser extension"),size:"lg"})})]})})]})]}):(0,a.jsxs)(i.xu,{padding:8,children:[(0,a.jsx)(i.X6,{align:"center",size:"md",children:t||f}),(0,a.jsx)(i.xu,{marginTop:4,children:(0,a.jsx)(i.xv,{align:"center",children:u||p})}),(0,a.jsx)(i.xu,{display:"flex",flex:"grow",marginTop:8,paddingY:8,children:(0,a.jsx)(V,{isLooping:!0})}),(0,a.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:c?(0,a.jsx)(i.zx,{accessibilityLabel:d._("Got it","extensionUpsell.button.gotItLabel","Accesibility label to dismiss modal for users with extension installed"),color:"red",onClick:l,text:d._("Got it","extensionUpsell.button.gotIt","Got it message to dismiss modal for users with extension installed"),size:"lg"}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginEnd:2,children:(0,a.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:d._("Cancel","extensionUpsell.button.cancelLabel","Accesibility label for cancel install Pinterest browser extension"),onClick:l,text:d._("Cancel","extensionUpsell.button.cancel","Cancel button text for install browser extension upsell"),size:"lg"})}),(0,a.jsx)(i.zx,{accessibilityLabel:d._("Get the Pinterest browser extension","extensionUpsell.button.getItNowLabel","Accesibility label for the Pinterest browser extension"),color:"red",onClick:n,text:d._("Get it now","extensionUpsell.button.getItNow","Get the Pinterest browser extension"),size:"lg"})]})})]})}},936821:function(e,t,n){"use strict";n.d(t,{vv:function(){return r},xA:function(){return o},gU:function(){return i},Lw:function(){return a},Ov:function(){return c}});var r={Referrer:"ref",DisplayModal:"d",ModalType:"t"},o={BrowserExtension:"dbe",OffsiteSave:"os"},i={ShowModal:"t"},a={Signup:"signup",Login:"login"},c={Referrer:"ref"}},305274:function(e,t,n){"use strict";n.d(t,{mj:function(){return I},tk:function(){return w},qV:function(){return _},tI:function(){return j},ZW:function(){return O},UF:function(){return A},Wh:function(){return S},On:function(){return P},L7:function(){return E},Qc:function(){return k},_1:function(){return C},rC:function(){return R},P5:function(){return B},CR:function(){return D},jy:function(){return T},QI:function(){return J},GE:function(){return V}});var r=n(6657),o=n.n(r),i=n(76567),a=n.n(i),c=n(672440),s=n.n(c),l=n(581300),u=n.n(l),d=n(742682),p=n.n(d),f=n(849639),h=n.n(f),b=n(180415),m=n.n(b),g=n(676868),y=n.n(g),v=n(844733),x=n.n(v),I="nux_picker",w=18e4,_=1,j=5,O="en-US",A="US",S=1,P="NUX_TOPIC_PICKER_STEP_STATUS",E=1,k=2,C={color:"#333",fontSize:"24px",fontWeight:"700",lineHeight:"28px",maxWidth:"640px"},R={MWEB:{COLUMNS:3,COLUMN_WIDTH:106,GUTTER_WIDTH:8,STYLES:{paddingTop:16}},DESKTOP:{COLUMNS:5,COLUMN_WIDTH:136,GUTTER_WIDTH:14,STYLES:{}},FULLSCREEN_NUX_PICKER:{COLUMNS:3,COLUMN_WIDTH:236,GUTTER_WIDTH:24,STYLES:{maxWidth:"1300px",margin:"0 auto"}}},B=[{name:"Etsy",image:o(),value:"ETSY"},{name:"Shopify",image:p(),value:"SHOPIFY"},{name:"WooCommerce",image:y(),value:"WOO_COMMERCE"},{name:"OpenCart",image:s(),value:"OPEN_CART"},{name:"Squarespace Commerce",image:h(),value:"SQUARESPACE_COMMERCE"},{name:"PrestaShop",image:u(),value:"PRESTA_SHOP"},{name:"Magento",image:a(),value:"MAGENTO"},{name:"Zen Cart",image:x(),value:"ZEN_CART"},{name:"Wix Stores",image:m(),value:"WIX_STORES"}],D="SELL_PRODUCTS",T=["retailer","online_marketplace","online_retail_or_marketplace"],J=["retailer","online_marketplace","online_retail_or_marketplace","brand","professional"];function V(e){var t=new Map,n=e._("*Pinterest Ads Manager, US, November 2020","biznux.description.audience_size_citation_1","Citation for business vertical audience size value: Pinterest Ads Manager, US, November 2020"),r=e._("*Pinterest Ads Manager, Global Markets with Ad Targeting, Aug 2019","biznux.description.audience_size_citation_2","Citation for business vertical audience size value: Pinterest Ads Manager, Global Markets with Ad Targeting, Aug 2019");return t.set("BEAUTY",{label:e._("Beauty","biznux.description.business_vertical.beauty","Beauty label for business vertical"),value:"BEAUTY",audienceSize:e._("71M+","biznux.description.audience_size.beauty","Beauty audience size for business vertical"),audienceSizeCitation:n,adIntentDesc:e._("beauty","biznux.description.advertising_intent_description.beauty","Beauty description for business vertical")}),t.set("FASHION",{label:e._("Fashion","biznux.description.business_vertical.fashion","Fashion label for business vertical"),value:"FASHION",audienceSize:e._("63M+","biznux.description.audience_size.fashion","Fashion audience size for business vertical"),audienceSizeCitation:n,adIntentDesc:e._("fashion","biznux.description.advertising_intent_description.fashion","Fashion description for business vertical")}),t.set("HOME",{label:e._("Home","biznux.description.business_vertical.home","Home label for business vertical"),value:"HOME",audienceSize:e._("85M+","biznux.description.audience_size.home","Home audience size for business vertical"),audienceSizeCitation:n,adIntentDesc:e._("home","biznux.description.advertising_intent_description.home","Home description for business vertical")}),t.set("TRAVEL",{label:e._("Travel","biznux.description.business_vertical.travel","Travel label for business vertical"),value:"TRAVEL",audienceSize:e._("50M+","biznux.description.audience_size.travel","Travel audience size for business vertical"),audienceSizeCitation:r,adIntentDesc:e._("travel","biznux.description.advertising_intent_description.travel","Travel description for business vertical")}),t.set("FOOD_AND_DRINK",{label:e._("Food and drink","biznux.description.business_vertical.food_and_drink","Food and drink label for business vertical"),value:"FOOD_AND_DRINK",audienceSize:e._("72M+","biznux.description.audience_size.food_and_drink","Food and drink audience size for business vertical"),audienceSizeCitation:n,adIntentDesc:e._("food and beverage","biznux.description.advertising_intent_description.food_and_drink","Food and drink description for business vertical")}),t.set("DIY_AND_CRAFT",{label:e._("DIY and craft","biznux.description.business_vertical.diy_and_craft","DIY and craft label for business vertical"),value:"DIY_AND_CRAFT"}),t.set("HEALTH_AND_FITNESS",{label:e._("Health and fitness","biznux.description.business_vertical.health_and_fitness","Health and fitness label for business vertical"),value:"HEALTH_AND_FITNESS"}),t.set("EDUCATION",{label:e._("Education","biznux.description.business_vertical.education","Education label for business vertical"),value:"EDUCATION"}),t.set("DESIGN_AND_ART",{label:e._("Design and art","biznux.description.business_vertical.design_and_art","Design and art label for business vertical"),value:"DESIGN_AND_ART"}),t.set("EVENTS",{label:e._("Events","biznux.description.business_vertical.events","Events label for business vertical"),value:"EVENTS"}),t.set("OTHER",{label:e._("Other","biznux.description.business_vertical.other","Other label for business vertical"),value:"OTHER"}),t}},233495:function(e,t,n){"use strict";var r=n(773559),o=n(641483),i={scope:"profile email",client_id:r.Z.settings.GPLUS_CLIENT_ID,app_package_name:r.Z.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=function(e){return(0,o.ZP)("unauth_web.gapi_auth2_load.success"),e()},c=function(e){(0,o.ZP)("unauth_web.init_google.sdk.".concat(e))};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return new Promise((function(t,n){c("start"),window.gapi.auth2?(c("exists"),window.gapi.auth2.init(e).then((function(){return a(t)}))):(c("load"),window.gapi.load("auth2",{callback:function(){c("load_success"),window.gapi.auth2.init(e).then((function(){return a(t)}))},onerror:function(){c("load_error"),n()},timeout:15e3,ontimeout:function(){c("load_timeout"),n()}}))}))}},250789:function(e,t,n){"use strict";n.d(t,{ZP:function(){return C}});var r=n(793550),o=n(151101),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=function(r){var o=r.target;t>0&&(setTimeout((function(){o.src="".concat(e,"?").concat(Date.now()).concat(t)}),n),t-=1,n*=2)};return r},a=n(174523),c=n(432921),s=n(535258),l=n(218265),u=n(80209),d=function(e){var t=(0,a.ZP)(),n=e.skipImageReloadOnError,o=void 0!==n&&n,d=e.pin,p=e.video,f=(0,r.createRef)();(0,r.useEffect)((function(){f.current&&p&&(f.current.currentTime=p.thumbnail)}),[p,f]);var h=void 0===e.containerWidth?s.xf:e.containerWidth,b=e.imgHeight||void 0;if(!d&&!p)return null;var m,g,y,v,x,I,w,_,j,O;return Boolean(p)?function(){if(!p)return null;var e=p.customCoverImg;return(0,u.jsxs)(l.xu,{position:"relative",overflow:"hidden",display:"flex",direction:"column",justifyContent:"center",width:h,children:[(0,u.jsx)(l.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:e?(0,u.jsx)(l.Ee,{alt:e.name,naturalHeight:e.height,naturalWidth:e.width,src:e.src}):(0,u.jsx)(l.nk,{accessibilityMaximizeLabel:t._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:t._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:t._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:t._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:t._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:t._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:p.width/p.height,captions:"",playing:!0,src:p.src})}),(0,u.jsx)(l.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,u.jsx)(c.Z,{duration:1e3*p.duration})})]})}():(x=d.images,w=(I=void 0===x?{}:x)["236x"]||void 0,_=I["474x"]||void 0,j=I["736x"]||void 0,(O=I.orig||w||_||j||void 0)?(0,u.jsx)(l.xu,{rounding:2,overflow:"hidden",display:"flex",direction:"column",justifyContent:"center",width:h,height:b,children:(0,u.jsx)(l.Ee,{alt:null!==(m=d.alt_text)&&void 0!==m?m:"",color:d.dominant_color||"#efefef",naturalWidth:null!==(g=O.width)&&void 0!==g?g:1,naturalHeight:null!==(y=O.height)&&void 0!==y?y:1,onError:o?function(){}:function(){var e;i(null!==(e=O.url)&&void 0!==e?e:"",5)},src:null!==(v=O.url)&&void 0!==v?v:"",fit:b?"cover":"none"})}):null)},p=n(537343);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={base:function(e){return{borderRadius:4,display:"flex",flexDirection:"column",height:e.height,outline:"none",padding:8,transition:"background-color 0.25s cubic-bezier(0.31, 1, 0.34, 1)"}},focused:function(){return{padding:4,border:"4px solid rgba(0, 132, 255, 0.5)"}},hovered:function(){return{backgroundColor:"rgba(0, 0, 0, 0.05)",cursor:"pointer"}},selected:function(){return{padding:6,border:"2px solid #e60023"}}},S=function(e,t){var n=((e.rich_summary||{}).displayName||"").trim(),r=(e.description||"").trim(),o=(e.title||"").trim();return(0,p.ZP)(o||n||r,t)},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,r,o=I(i);function i(){var e;y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(_(e=o.call.apply(o,[this].concat(n))),"state",{isHovered:!1,isFocused:!1}),O(_(e),"getIsActionable",(function(){return!!e.props.onSelect})),O(_(e),"getStyle",(function(){var t=e.state,n=t.isFocused,r=t.isHovered,o=e.props.selected,i=e.getIsActionable(),a={base:!0,focused:i&&n,hovered:i&&r,selected:o};return Object.entries(a).reduce((function(t,n){var r=m(n,2),o=r[0],i=r[1];return b(b({},t),i?A[o](e.props):{})}),{})})),O(_(e),"handleMouseEnter",(function(){e.setState({isHovered:!0})})),O(_(e),"handleMouseLeave",(function(){e.setState({isHovered:!1})})),O(_(e),"handleClick",(function(){var t=e.props,n=t.onSelect,r=t.pin;n&&n(r)})),O(_(e),"handleKeyPress",(function(t){"Enter"===t.key&&e.handleClick()})),O(_(e),"handleFocus",(function(){e.setState({isFocused:!0})})),O(_(e),"handleBlur",(function(){e.setState({isFocused:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.pin,n=e.imageHeight,r=e.hideAuthorAttribution,o=e.maxDescriptionLength,i=e.promoted,a=e.showDescription,c=e.skipImageReloadOnError,p=e.width,f=e.video,h=S(t,o),m=this.props.i18n._("No description available","[m10n]quickPromote.pin.noDescription","[m10n] Accessibility label when there is no description available"),g=this.getIsActionable()?{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleClick,onKeyPress:this.handleKeyPress,onFocus:this.handleFocus,onBlur:this.handleBlur,role:"button",tabIndex:0}:{};return(0,u.jsxs)("div",b(b({style:this.getStyle()},g),{},{"aria-label":h||m,children:[(0,u.jsx)(d,{pin:t,video:f,imgHeight:n,containerWidth:p,skipImageReloadOnError:c}),!i&&t.video_signature&&(0,u.jsx)(l.xu,{marginTop:1,children:(0,u.jsx)(l.JO,{icon:"play",accessibilityLabel:this.props.i18n._("Video play button","[m10n] Accessibility label for a video play icon","[m10n] Accessibility label for a video play icon"),color:"darkGray",size:12,inline:!0})}),i&&!r&&(0,u.jsx)(E,{name:i.businessName}),a&&h.length>0&&(0,u.jsx)(l.xu,{padding:i?1:void 0,paddingX:i?void 0:1,paddingY:i?void 0:4,maxWidth:p||s.xf,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:h})}),i&&(0,u.jsx)(k,{avatarUrl:i.avatarImageSmallUrl,businessName:i.businessName})]}))}}])&&v(t.prototype,n),r&&v(t,r),i}(r.Component);O(P,"defaultProps",{showDescription:!0});var E=function(e){var t=e.name,n=(0,a.ZP)();return(0,u.jsxs)(l.xu,{display:"flex",padding:1,children:[(0,u.jsx)(l.xu,{marginEnd:1,children:(0,u.jsx)(l.JO,{accessibilityLabel:n._("Pin link arrow","Accessibility label for pin preview link icon","Accessibility label for pin preview link icon"),icon:"arrow-up-right",color:"darkGray",inline:!0,size:10})}),(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.xv,{inline:!0,size:"md",children:t})})]})},k=function(e){var t=e.avatarUrl,n=e.businessName,r=(0,a.ZP)();return(0,u.jsxs)(l.xu,{display:"flex",padding:1,children:[(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},children:(0,u.jsx)(o.Z,{name:n,src:t,size:"sm"})}),(0,u.jsxs)(l.xu,{marginStart:2,children:[(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:r._("Promoted by","Label for who promoted the pin","Label for who promoted the pin")}),(0,u.jsx)(l.xv,{size:"md",children:n})]})]})},C=function(e){var t=(0,a.ZP)();return(0,u.jsx)(P,b(b({},e),{},{i18n:t}))}},370389:function(e,t,n){"use strict";var r=n(793550),o=n(227457),i=n.n(o),a=n(218265),c=n(174523),s=n(80209);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,o=h(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),y(m(t=o.call(this,e)),"handleMouseDown",(function(e){"mousedown"===e.type&&0!==e.button||(t.isOpen?t.handleClose():t.handleOpen())})),y(m(t),"handleOpen",(function(){t._shouldManageOwnState?t.setState({isOpen:!0}):t.props.onOpen()})),y(m(t),"handleClose",(function(){t._shouldManageOwnState?t.setState({isOpen:!1}):t.props.onClose()})),t._shouldManageOwnState=e.onOpen===v&&e.onClose===v,t.state={selected:e.value,isOpen:!1},t.mounted=!0,t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.value&&e.value!==t.selected?{selected:e.value}:null}}],(n=[{key:"componentDidUpdate",value:function(){this.mounted&&this.isOpen&&this.scrollItemIntoView(this.selectedOption)}},{key:"isOpen",get:function(){return this._shouldManageOwnState?Boolean(this.state.isOpen):Boolean(this.props.isOpen)}},{key:"setValue",value:function(e){var t={selected:e};this.fireChangeEvent(t),this.setState(t),this.handleClose()}},{key:"scrollItemIntoView",value:function(e){var t=this.menu,n=e;t&&n&&(n.offsetTop>t.scrollTop+t.offsetHeight||n.offsetTop<t.scrollTop)&&(t.scrollTop=n.offsetTop-t.offsetTop)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t=this,n=e===this.state.selected,r=i()({ReactDropdown__option:!0,"ReactDropdown__option--selected":n});return(0,s.jsx)("div",{className:r,onClick:this.setValue.bind(this,e),onMouseDown:this.setValue.bind(this,e),ref:n?function(e){t.selectedOption=e}:null,role:"button",tabIndex:"0",children:e.label},e.value)}},{key:"renderMenu",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map((function(t){if("group"===t.type){var n,r=(0,s.jsx)("div",{className:"title",children:t.name});return(0,s.jsxs)("div",{className:"group",children:[r,null===(n=t.items)||void 0===n?void 0:n.map((function(t){return e.renderOption(t)}))]},t.name)}return e.renderOption(t)}));return n.length?n:(0,s.jsx)("div",{className:"ReactDropdown--noresults",children:this.props.i18n._("No options found"," - "," -- ")})}},{key:"render",value:function(){var e=this,t=this.isOpen,n=i()({ReactDropdown:!0,"ReactDropdown--open":t}),r=i()({ReactDropdown__control:!0,"ReactDropdown__control--advertiserDropdown":this.props.isAdvertiserDropdown}),o=null;return t&&(o=(0,s.jsx)("div",{className:"ReactDropdown__menu",ref:function(t){e.menu=t},children:this.renderMenu(this.props.options)})),(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("div",{className:r,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown,children:(0,s.jsxs)("div",{className:"ReactDropdown__placeholder",children:[this.state.selected.label,(0,s.jsx)("span",{className:"caret",children:(0,s.jsx)(a.JO,{accessibilityLabel:this.props.i18n._("see options","accessible label for dropdown arrow","accessible label for dropdown arrow"),color:"darkGray",icon:"arrow-down",size:18})})]})}),o]})}}])&&p(t.prototype,n),r&&p(t,r),c}(r.Component);y(x,"defaultProps",{isAdvertiserDropdown:!1,isOpen:!1,onChange:v,onClose:v,onOpen:v,options:[],value:{label:"Select...",value:""}}),t.Z=function(e){var t=(0,c.ZP)();return(0,s.jsx)(x,d(d({},e),{},{i18n:t}))}},903781:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return u}});var i=n(773559).Z.settings,a=i.CANONICAL_MAIN_URL,c=i.CANONICAL_ADS_URL,s=i.CANONICAL_ANALYTICS_URL,l=(o(r={},0,a),o(r,3,c),o(r,4,s),r);function u(e){var t=e.currentSiteType,n=e.destinationSiteType,r=e.inputPath,o=Object.keys(l).includes(String(t))&&Object.keys(l).includes(String(n)),i="/"===r[0]?r:"/".concat(r);return o&&n!==t?"".concat(l[n]).concat(i):i}},39782:function(e,t,n){"use strict";n.d(t,{Z:function(){return no}});var r=n(793550),o=n(575429),i=n(569716),a=n(628594);var c=n(20877),s=n.n(c),l=n(707683),u=n.n(l),d=n(954981),p=n.n(d),f=n(769122),h=n(862371),b=n(174523),m=n(137878),g=n(730630),y=n(218265),v=n(80209);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O={property:"opacity",duration:1600,timingFunction:"easeInOut",delay:500},A={opacity:1},S={opacity:0},P=[{property:"height",duration:400,timingFunction:"easeInOut",delay:500},{property:"width",duration:400,timingFunction:"easeInOut",delay:500},{property:"left",duration:400,timingFunction:"easeInOut",delay:500},{property:"top",duration:400,timingFunction:"easeInOut",delay:500},{property:"box-shadow",duration:500,timingFunction:"easeInOut",delay:900}],E={boxShadow:"0 0 0 500px rgba(197, 226, 238, 0)",top:"0%",left:"0%",height:"100%",width:"100%"},k={boxShadow:"0 0 0 500px rgba(197, 226, 238, 1)",left:"8%",top:"8%",height:"84%",width:"84%"},C=[{property:"opacity",duration:200,timingFunction:"easeInOut",delay:1500},{property:"left",duration:800,timingFunction:"easeInOut",delay:2e3}],R={opacity:0,left:"0px"},B={left:"164px",opacity:1},D={property:"background-color",duration:"medium",timingFunction:"easeIn",delay:4200},T={backgroundColor:"rgba(17, 82, 194, 0)",marginLeft:"8px"},J={backgroundColor:"rgba(17, 82, 194, 1)"};function V(e){var t=e.onStart,n=(0,b.ZP)(),o=(0,r.useRef)(null),i=(0,r.useRef)(0),a=(0,r.useRef)(null),c=_((0,r.useState)({cropper:!1,font:!1,image:!1,logo:!1}),2),l=c[0],d=c[1],x=_((0,r.useState)(null),2),w=x[0],j=x[1],V=_((0,r.useState)(!1),2),M=V[0],F=V[1],N=_((0,r.useState)(E),2),U=N[0],Z=N[1],L=_((0,r.useState)(R),2),Q=L[0],W=L[1],q=_((0,r.useState)(A),2),H=q[0],G=q[1],X=_((0,r.useState)(T),2),Y=X[0],K=X[1],z=_((0,r.useState)(" "),2),$=z[0],ee=z[1],te=n._("Picture-perfect outdoor seating","Sample text describing an image of visually-appealing outdoor seating","Sample text describing an image of visually-appealing outdoor seating");(0,r.useEffect)((function(){l.font||(0,g.a2)().then((function(){j(g.Wt[m.WK]),d(I(I({},l),{},{font:!0}))})),Object.keys(l).reduce((function(e,t){return e&&l[t]}),!0)&&F(!0)}),[l]),(0,r.useEffect)((function(){if(M){Z(k),W(B),G(S),K(J),t&&t();var e=setTimeout((function(){return setInterval((function(){return e=te,t=i.current,ee(e.substr(0,t)),t>te.length&&(clearInterval(a.current),a.current=null),void(i.current=t+1);var e,t}),500/te.length)}),3200);o.current=e}return function(){clearTimeout(o.current),clearInterval(a.current),o.current=null,a.current=null}}),[M,t]);var ne=[n._("Crop images or use a preset size","Text describing editing images","Text describing editing images"),n._("Add a logo to showcase your brand","Text describing adding a logo to images","Text describing adding a logo to images"),n._("Use fonts and colors to make text pop","Text describing the text overlay feature in Pin creation","Text describing the text overlay feature in Pin creation")];return(0,v.jsxs)(y.xu,{bottom:!0,"data-test-id":"pinbuilder-education-editing-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,v.jsx)(y.xu,{alignItems:"center",minWidth:342,dangerouslySetInlineStyle:{__style:{backgroundColor:"#c5e2ee"}},display:"flex",justifyContent:"center",padding:8,position:"relative",width:342,children:(0,v.jsxs)(y.xu,{height:"100%",overflow:"hidden",position:"relative",width:"100%",rounding:2,children:[(0,v.jsx)(y.xu,{left:!0,right:!0,bottom:!0,top:!0,position:"absolute",rounding:2,children:(0,v.jsx)(y.Ee,{alt:n._("Sample image of a Pin of outdoor furniture","Alt text describing image of outdoor furniture","Alt text describing image of outdoor furniture"),fit:"contain",onLoad:function(){d(I(I({},l),{},{image:!0}))},src:u(),naturalHeight:568,naturalWidth:804})}),(0,v.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:I(I({},U),{},{transition:(0,f.Z)(P,{execution:"parallel"})})},position:"absolute",right:!0,bottom:!0,rounding:2,children:[(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:I(I({},H),{},{transition:(0,h.Z)(O)})},left:!0,right:!0,bottom:!0,top:!0,position:"absolute",children:(0,v.jsx)(y.Ee,{alt:"Cropper",fit:"contain",onLoad:function(){d(I(I({},l),{},{cropper:!0}))},src:s(),naturalWidth:568,naturalHeight:804})}),(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:I(I({},Q),{},{transition:(0,f.Z)(C,{execution:"parallel"})})},margin:4,position:"relative",top:!0,width:36,height:36,children:(0,v.jsx)(y.Ee,{onLoad:function(){d(I(I({},l),{},{logo:!0}))},alt:n._("A sample logo on an image to demonstrate editing on Pinterest","A sample logo on an image to demonstrate image editing features on Pinterest","A sample logo on an image to demonstrate image editing features on Pinterest"),color:"transparent",fit:"contain",src:p(),naturalWidth:60,naturalHeight:70})}),(0,v.jsx)(y.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:I(I({},Y),{},{borderRadius:"0 0 8px 8px",transition:(0,h.Z)(D)})},display:"flex",position:"absolute",bottom:!0,justifyContent:"center",left:!0,right:!0,padding:4,children:(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:I(I({},w),{},{color:"white",fontSize:"21px",textAlign:"center"})},children:$})})]})]})}),(0,v.jsx)(y.xu,{flex:"grow",display:"flex",alignItems:"center",paddingX:10,children:(0,v.jsxs)(y.xu,{children:[(0,v.jsx)(y.X6,{children:n._("New ways to edit","Heading for describing ways to edit Pins","Heading for describing ways to edit Pins")}),(0,v.jsx)(y.xu,{paddingY:4,children:ne.map((function(e,t){return(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",flex:"none",paddingY:1,children:[(0,v.jsx)(y.xu,{color:"darkGray",display:"flex",rounding:"circle",width:8,height:8}),(0,v.jsx)(y.xu,{paddingX:2,children:(0,v.jsx)(y.xv,{overflow:"normal",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]},"editing-screen-point-".concat(t))}))})]})})]})}var M=n(773531),F=n(389122),N=n(933390),U=n(60849),Z=n(277602),L=n(235777),Q=n(508841),W=n(170308),q=n(80078);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e){var t=e.onStart,n=(0,b.ZP)(),i=H((0,r.useState)(!1),2),a=i[0],c=i[1],s=(0,o.useSelector)((function(e){return e.ui.app})).appInFocus;(0,r.useEffect)((function(){a&&t&&t()}),[a,t]);var l=[n._("Combine up to 5 images","Text describing maximum images can be combined","Text describing maximum images can be combined"),n._("Reorder images to make it yours","Text describing reordering images","Text describing reordering images"),n._("Pick the best Pin size for your content","Text describing changing Pin size","Text describing changing Pin size")];return(0,v.jsxs)(y.xu,{bottom:!0,"data-test-id":"pinbuilder-education-layouts-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,v.jsx)(y.xu,{color:"lightGray",position:"relative",width:342,children:(0,v.jsx)(W.Z,{accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityUnmuteLabel:"",aspectRatio:a?342/474:0,appInFocus:s,captions:"",hlsConfig:{startLevel:q.VS},isAutoPlay:!0,loop:!0,onReady:function(){return c(!0)},playing:!0,src:"https://v.pinimg.com/videos/mc/hls/7f/20/86/7f20869b2522dca00ebf1f745313b90b.m3u8",volume:0})}),(0,v.jsx)(y.xu,{flex:"grow",display:"flex",alignItems:"center",paddingX:10,children:(0,v.jsxs)(y.xu,{children:[(0,v.jsx)(y.X6,{children:n._("Create a collage","A heading text for creating a collage Pin","A heading text for creating a collage Pin")}),(0,v.jsx)(y.xu,{paddingY:4,children:l.map((function(e,t){return(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,v.jsx)(y.xu,{color:"darkGray",display:"flex",flex:"none",rounding:"circle",width:8,height:8}),(0,v.jsx)(y.xu,{paddingX:2,children:(0,v.jsx)(y.xv,{children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]},"layouts-screen-point-".concat(t))}))})]})})]})}var Y=n(983441),K=n(398843),z=n(81260),$=n(981444),ee=n(182463);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){if(e.image){var t,n,r=(null===(t=e.image.images)||void 0===t?void 0:t["345x"])||(null===(n=e.image.images)||void 0===n?void 0:n["236x"])||{};return{height:r.height,src:r.url,width:r.width,id:(0,$.Z)(),signature:e.image_signature,type:"webImage"}}if(e.video&&e.video.video_list&&e.video.video_list.V_HLSV3_MOBILE){var o=e.video.video_list.V_HLSV3_MOBILE,i=o.height,a=o.width,c=o.url,s=o.thumbnail;return{id:(0,$.Z)(),width:a,height:i,src:c,customCoverImg:{src:s},type:"webVideo",signature:e.video_signature}}return null}function ie(e){var t,n,r,o;if(!e||e.type!==z.h8.LINK)return ee.vU;var i=e.text,a=void 0===i?"":i,c=e.src_url,s=void 0===c?"":c,l=e.canonical_url,u=void 0===l?"":l,d=e.normalized_url,p=void 0===d?"":d,f=e.image,h=e.image_signature;return{text:a,srcUrl:s,canonicalUrl:u,normalizedUrl:p,imageUrl:(null==f||null===(t=f.images)||void 0===t||null===(n=t.originals)||void 0===n?void 0:n.url)||(null==f||null===(r=f.images)||void 0===r||null===(o=r["345x"])||void 0===o?void 0:o.url),imageSignature:h,isFetching:!1}}function ae(e){var t,n,r,o=(null!==(t=e.blocks)&&void 0!==t?t:[]).filter((function(e){return 1===e.block_type}))[0],i=(null!==(n=e.blocks)&&void 0!==n?n:[]).filter((function(e){return 0===e.block_type}))[0],a=(null!==(r=e.blocks)&&void 0!==r?r:[]).filter((function(e){return 4===e.block_type}))[0];return ne(ne({},ee.E3),{},{title:o&&o.text||"",description:i&&i.text||"",linkBlock:ie(a),media:oe(e)})}function ce(e){return function(t,n){e&&e.story_pin_data&&t(function(e){return function(t,n){var r,o=e.id,i=e.board,a=e.section,c=e.story_pin_data,s={mode:"edit",selectedItem:ne({boardId:null==i?void 0:i.id,title:a?a.title:null==i?void 0:i.name},a?{sectionId:a.id}:{}),type:"story",status:"saved",pinItemIds:[],pinItemIndex:0};t((0,Y.Z)(o,s)),c&&(null!==(r=c.pages)&&void 0!==r?r:[]).map(ae).forEach((function(e,n){t((0,K.Z)(o,n.toString(),e,{saveIndex:!0}))}))}}(e))}}var se=n(195693);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={checked:{__style:{border:"solid 2px #e60023"}},unchecked:{__style:{border:"dashed 2px #767676"}}},Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,e);var t,n,r,o=be(i);function i(){var e;pe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ve(ge(e=o.call.apply(o,[this].concat(n))),"state",{isHovering:!1}),ve(ge(e),"handleMouseEnter",(function(){e.setState({isHovering:!0})})),ve(ge(e),"handleMouseLeave",(function(){e.setState({isHovering:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onClick,r=this.state.isHovering;return(0,v.jsx)(y.xu,{rounding:"circle",color:t?"red":"transparent",dangerouslySetInlineStyle:t?xe.checked:xe.unchecked,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,v.jsx)(y.hU,{accessibilityLabel:t?this.props.i18n._("Deselect Pin","Button to deselect Pin from bulk editing","Button to deselect Pin from bulk editing"):this.props.i18n._("Select Pin","Button to select Pin from bulk editing","Button to select Pin from bulk editing"),bgColor:"transparent",icon:t||r?"check":void 0,iconColor:t?"white":"gray",onClick:n})})}}])&&fe(t.prototype,n),r&&fe(t,r),i}(r.Component);function we(e){var t=(0,b.ZP)();return(0,v.jsx)(Ie,de(de({},e),{},{i18n:t}))}var _e=n(506074),je=n(562239),Oe=n(76535),Ae=n(549135),Se=n(602402),Pe=n(743174),Ee=n(887018),ke=n(585967);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=new y.H3([new y.Ry(Ee.v9)]),Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(a,e);var t,n,o,i=Ve(a);function a(){var e;De(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Ue(Fe(e=i.call.apply(i,[this].concat(n))),"pinDraftRef",(0,r.createRef)()),Ue(Fe(e),"handleSelectPinDraft",(function(){var t=e.props.selectPinDraft;(0,Ae.j)(101,{component:13308,element:11332}),t()})),Ue(Fe(e),"getCallout",(function(){return{error:{title:e.props.i18n._("Product tagging limit reached","pinbuilder.productTagging.error","Error when user tries to tag more than 8 products"),message:e.props.i18n._("To add another item, remove one or more tagged products","pinbuilder.productTagging.error.instructions","Instructions on how to add another product")},warning:{title:e.props.i18n._("Products will be deleted","pinbuilder.carousel.warningHeader","Warning header when adding a carousel after tagging products"),message:e.props.i18n._("Your tagged products will be deleted if you add a carousel image","pinbuilder.carousel.warning","Warning when user tries to add a carousel after tagging products")}}})),Ue(Fe(e),"handleClick",(function(){var t=e.props,n=t.deselectPinDraft,r=t.pinDraftId,o=t.selectedPinDraftIds,i=t.status,a=!Ee.x1.includes(i);o.includes(r)?n():a&&e.handleSelectPinDraft()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.pinDraftRef.current&&!this.props.skipScrolling&&this.pinDraftRef.current.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.props,t=e.numPinDrafts,n=e.pinDraftId,r=e.selectedPinDraftIds,o=e.status,i=e.setStlCallout,a=e.stlCallout,c=e.requestContext.isRTL,s=a||{},l=s.showCallout,u=s.type,d=r.includes(n),p=r.length,f=c?{left:"-60px",transformOrigin:"right center"}:{right:"-60px",transformOrigin:"left center"},h={__style:Be({top:"20px",opacity:d?void 0:.6,transition:"transform 250ms ".concat(Ee.rc),transform:p>0?"scale(2)":void 0},f)},b={backgroundColor:"rgba(255,255,255,0.7)",borderRadius:16,height:"100%",width:"100%",zIndex:"publishing"===o?Ee.v9:void 0},m="publishing"===o||"uploading"===o&&1===t,g=!Ee.x1.includes(o),x=this.getCallout();return(0,v.jsxs)(y.xu,{paddingY:3,ref:this.pinDraftRef,"data-group-id":"pin-builder-pin-draft","data-test-id":"pin-builder-pin-draft-".concat(n),children:[(0,v.jsxs)(y.xu,{position:"relative",children:[(0,v.jsx)(_e.ZP,{pinDraftId:n}),t>1&&g&&(Oe.Z.enabled("multi_pin")||Oe.Z.enabled("multi_pin_pinner"))&&(0,v.jsx)(y.xu,{position:"absolute",dangerouslySetInlineStyle:h,"data-test-id":"pin-draft-select",children:(0,v.jsx)(we,{checked:d,onClick:this.handleClick})}),(p>0||m)&&(0,v.jsx)(y.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:Ze,children:(0,v.jsx)(je.Z,{selected:d,onClick:this.handleClick,style:b,children:m&&(0,v.jsx)(y.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,v.jsx)(y.$j,{show:!0,accessibilityLabel:this.props.i18n._("Saving Pin...","Spinner accessibility label when saving the pin","Spinner accessibility label when saving the pin")})})})})]}),l&&u&&(0,v.jsx)(y.xu,{position:"absolute",bottom:!0,width:Ee.of,dangerouslySetInlineStyle:{__style:{marginBottom:"30px"}},children:(0,v.jsx)(y.UW,{dismissButton:{accessibilityLabel:this.props.i18n._("Dismiss banner","pinbuilder.error.dismissButton","Button to dismiss the banner"),onDismiss:i},iconAccessibilityLabel:this.props.i18n._("Error icon","pinBuilder.taggedObjects.error","Error icon"),type:u,title:x[u].title,message:x[u].message})})]})}}])&&Te(t.prototype,n),o&&Te(t,o),a}(r.Component);function Qe(e){var t=(0,b.ZP)(),n=(0,Se.f)(),r=n.shopTheLook,i=n.setStlCallout,a=e.pinDraftId,c=e.skipScrolling,s=(0,o.useDispatch)(),l=(0,o.useSelector)((function(e){return e.pinbuilder})),u=l.pinDraftIds,d=l.pinDrafts,p=l.selectedPinDraftIds,f=r.stlCallout;return(0,v.jsx)(Le,Be(Be({},e),{},{deselectPinDraft:function(){return s((0,Pe.deselectPinBuilderPinDraft)(a))},numPinDrafts:u.length,selectedPinDraftIds:p,status:d[a].status,stlCallout:f,requestContext:(0,ke.B)(),selectPinDraft:function(){return s((0,Pe.selectPinBuilderPinDraft)(a))},setStlCallout:function(){return i({showCallout:!1})},skipScrolling:c,i18n:t}))}var We=n(34411),qe=n(778527),He=n(68545),Ge=n(500637);function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=["upload","search"],ze=new Map;var $e=(0,Ge.compose)((0,qe.ZP)(1000287),(0,qe.ZP)(1000288),(0,o.connect)((function(e){return{pinDraftIds:e.pinbuilder.pinDraftIds,isSelecting:e.pinbuilder.selectedPinDraftIds.length>0}})))((function(e){var t=e.isSelecting,n=e.pinDraftIds,i=(0,b.ZP)(),c={__style:{transformOrigin:"top center",transition:"transform 250ms ".concat(Ee.rc,", height 250ms ").concat(Ee.rc),transform:t?"scale(0.5)":void 0,height:t?"50%":"100%"}},s=[{href:"#",text:i._("Create a Pin","pinbuilder.tabTitle.createPin","Tab title for creating a Pin (upload) in Pinbuilder")},{href:"#",text:i._("Save from website","pinbuilder.tabTitle.saveFromSite","Tab title for creating a Pin (save from site) in Pinbuilder")}],l=Xe((0,r.useState)(0),2),u=l[0],d=l[1],p=(0,o.useDispatch)(),f=(0,We.Z)();return(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:c,children:(0,v.jsx)(y.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:7,children:(0,v.jsxs)(y.xu,{children:[(Oe.Z.enabled("pinbuilder_v2_tabs")||Oe.Z.enabled("pinbuilder_v2_full"))&&(0,v.jsx)(y.xu,{display:"flex",alignItems:"start",paddingY:5,children:(0,v.jsx)(y.mQ,{activeTabIndex:u,bgColor:"transparent",onChange:function(e){var t=e.activeTabIndex;e.event.preventDefault();var n=f.isAuth&&f.isEmployee,r=(0,$.Z)();d(t),p((0,Pe.clearPinBuilderPinDrafts)()),p((0,a.Z)(r,void 0,void 0,n)),p((0,He.c8)(r,Ke[t]))},tabs:s})}),(0,v.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:(0,v.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:n.map((function(e){return(0,v.jsx)(y.xu,{ref:function(t){return ze.set(e,t)},children:(0,v.jsx)(Qe,{pinDraftId:e,skipScrolling:1===n.length})},e)}))})})]})})})})),et=n(69640),tt=n(272828);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft={__style:{borderRadius:2}},ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(i,e);var t,n,r,o=st(i);function i(){var e;it(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pt(ut(e=o.call.apply(o,[this].concat(n))),"handleAddDraftClick",(function(){var t=e.props,n=t.addPinDraft,r=t.location;(0,Ae.j)(101,{component:13395,element:11329});var o=r.state||{},i=o.board,a=o.boardSection;n(i?{selectedItem:ot({boardId:i.id,title:a?a.title:i.name},a?{sectionId:a.id}:{})}:{})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.pinDraftIds,r=e.pinDraftRefs,o=e.scrollPosition,i=e.requestContext.isRTL,a=n.length,c={backgroundColor:"#fff",border:0,borderRadius:8,boxSizing:"border-box",cursor:t?"default":"pointer",height:60,outline:"none",opacity:t?.5:void 0,padding:0,width:40};return(0,v.jsxs)(y.xu,{height:"100%",display:"flex",direction:"column","data-test-id":"pin-builder-controls",children:[(0,v.jsx)(y.xu,{"data-tutorial-id":"pin-builder-batch-create",flex:"none",padding:4,children:(0,v.jsx)("button",{onClick:this.handleAddDraftClick,disabled:t,style:c,children:(0,v.jsx)(y.xu,{rounding:2,display:"flex",justifyContent:"center",alignItems:"center","data-test-id":"pin-builder-add-draft",children:(0,v.jsx)(y.JO,{accessibilityLabel:this.props.i18n._("Create new Pin","Button to add another Pin draft","Button to add another Pin draft"),icon:"add",color:t?"gray":"darkGray"})})})}),(0,v.jsx)(y.xu,{height:1,color:"lightWash",marginStart:2,marginEnd:2}),(0,v.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",overflow:"auto",children:(0,v.jsx)(y.xu,{marginTop:3,children:n.map((function(e,t){return(0,v.jsxs)(y.xu,{paddingX:4,paddingY:1,position:"relative",children:[(0,v.jsx)(et.Z,{pinDraftId:e,pinDraftRefs:r}),Math.min(Math.floor(o*a),a-1)===t&&(0,v.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!i,right:i,marginTop:1,marginBottom:1,color:"darkGray",width:4,dangerouslySetInlineStyle:ft})]},e)}))})})]})}}])&&at(t.prototype,n),r&&at(t,r),i}(r.Component);function bt(e){var t=(0,b.ZP)(),n=(0,We.Z)(),i=n.isAuth&&n.isEmployee,c=(0,o.useDispatch)(),s=(0,o.useSelector)((function(e){return e.pinbuilder})),l=s.pinDrafts,u=s.pinDraftIds,d=s.selectedPinDraftIds;return(0,v.jsx)(ht,ot(ot({},e),{},{addPinDraft:(0,r.useCallback)((function(e){return c((0,a.Z)((0,$.Z)(),e,void 0,i))}),[]),disabled:d.length>0||u.filter((function(e){return"succeeded"!==l[e].status})).length>=Ee.TK,location:(0,tt.TH)(),pinDraftIds:u,requestContext:(0,ke.B)(),i18n:t}))}function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(i,e);var t,n,r,o=wt(i);function i(){var e;vt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return At(jt(e=o.call.apply(o,[this].concat(n))),"state",{checked:!1}),At(jt(e),"handleChange",(function(t){var n=t.checked;e.setState({checked:n})})),At(jt(e),"handleButtonClick",(function(t){var n=t.event;(0,e.props.onButtonClick)({event:n,checked:e.state.checked})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.alertText,n=e.buttonText,r=e.headingText,o=e.id,i=e.onDismiss,a=this.state.checked;return(0,v.jsx)(y.u_,{accessibilityModalLabel:this.props.i18n._("Alert modal","Alert modal to confirm action","Alert modal to confirm action"),heading:(0,v.jsx)(y.xu,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:2,paddingX:6,marginTop:6,children:(0,v.jsx)(y.X6,{size:"md",children:r})}),onDismiss:i,footer:(0,v.jsxs)(y.xu,{display:"flex",marginStart:-1,marginEnd:-1,children:[(0,v.jsx)(y.xu,{flex:"grow",paddingX:1,children:(0,v.jsx)(y.zx,{fullWidth:!0,text:this.props.i18n._("Cancel","Button to close alert modal","Button to close alert modal"),onClick:i,size:"lg"})}),(0,v.jsx)(y.xu,{flex:"grow",paddingX:1,children:(0,v.jsx)(y.zx,{fullWidth:!0,text:n,onClick:this.handleButtonClick,color:"red",size:"lg"})})]}),size:"sm",role:"alertdialog",children:(0,v.jsxs)(y.xu,{paddingY:4,paddingX:6,children:[(0,v.jsx)(y.xv,{align:"center",children:t}),(0,v.jsxs)(y.xu,{alignItems:"center",justifyContent:"center",display:"flex",marginTop:4,children:[(0,v.jsx)(y.XZ,{checked:a,id:o,size:"sm",onChange:this.handleChange}),(0,v.jsx)(y.__,{htmlFor:o,children:(0,v.jsx)(y.xu,{paddingX:2,children:(0,v.jsx)(y.xv,{children:this.props.i18n._("Do not show this message again","Checkbox option to never show alert modal again","Checkbox option to never show alert modal again")})})})]})]})})}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function Pt(e){var t=(0,b.ZP)();return(0,v.jsx)(St,yt(yt({},e),{},{i18n:t}))}var Et=n(233088);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ft(e);if(t){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(e,t){if(t&&("object"===kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut="pin-builder-delete-menu-alert-modal",Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(a,e);var t,n,o,i=Jt(a);function a(){var e;Bt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(Mt(e=i.call.apply(i,[this].concat(n))),"state",{showModal:!1}),Nt(Mt(e),"handleShowModal",(function(){e.setState({showModal:!0})})),Nt(Mt(e),"handleHideModal",(function(){e.setState({showModal:!1})})),Nt(Mt(e),"handleButtonClick",(function(){var t=e.props.onClickDelete,n=Et.Xb.getItem(Ut);(0,Ae.j)(101,{component:13208,element:11327}),n?t():e.handleShowModal()})),Nt(Mt(e),"handleAlertButtonClick",(function(t){var n=t.checked,r=e.props.onClickDelete;n&&Et.Xb.setItem(Ut,!0),r()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.state.showModal;return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.hU,{accessibilityLabel:this.props.i18n._("Delete","Button to bulk delete selected Pin drafts","Button to bulk delete selected Pin drafts"),bgColor:"transparent",icon:"trash-can",onClick:this.handleButtonClick}),e&&(0,v.jsx)(Pt,{alertText:this.props.i18n._("This will delete your entire Pin canvas. This action cannot be undone","Warning message shown before Pin drafts are deleted","Warning message shown before Pin drafts are deleted"),buttonText:this.props.i18n._("Delete","Button to bulk delete selected Pin drafts","Button to bulk delete selected Pin drafts"),headingText:this.props.i18n._("Are you sure?","Alert modal to confirm action","Alert modal to confirm action"),id:Ut,onButtonClick:this.handleAlertButtonClick,onDismiss:this.handleHideModal})]})}}])&&Dt(t.prototype,n),o&&Dt(t,o),a}(r.Component);function Lt(e){var t=(0,b.ZP)(),n=(0,o.useDispatch)(),r=(0,We.Z)(),i=r.isAuth&&r.isEmployee;return(0,v.jsx)(Zt,Rt(Rt({},e),{},{onClickDelete:function(){return n((0,Pe.deleteSelectedPinBuilderPinDrafts)(i))},i18n:t}))}var Qt=n(72984),Wt=n(640012),qt=n(451190),Ht=n(230118),Gt=n(946753),Xt=n(47966);function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rn(this,n)}}function rn(e,t){if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(i,e);var t,n,r,o=nn(i);function i(){var e;$t(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cn(on(e=o.call.apply(o,[this].concat(n))),"state",{description:e.props.initialDescription,descriptionFocused:!1,dirtyFields:new Set,link:e.props.initialLink,linkError:null,publishOption:e.props.initialPublishOption,scheduledDate:e.props.initialScheduledDate,scheduledTime:e.props.initialScheduledTime,selectedItem:e.props.initialSelectedItem,title:e.props.initialTitle,titleFocused:!1}),cn(on(e),"mounted",!1),cn(on(e),"handleDescriptionFocus",(function(){e.setState({descriptionFocused:!0})})),cn(on(e),"handleDescriptionBlur",(function(){e.setState({descriptionFocused:!1})})),cn(on(e),"handleTitleFocus",(function(){e.setState({titleFocused:!0})})),cn(on(e),"handleTitleBlur",(function(){e.setState({titleFocused:!1})})),cn(on(e),"handleLinkBlur",(function(t){var n=t.value;(0,Ht.qi)(e.props.i18n,n).then((function(t){if(t&&t.length>0&&e.mounted){var n=t[0].message;e.setState({linkError:n})}}))})),cn(on(e),"handleDescriptionChange",(function(t){var n=t.value;e.setState((function(e){return{description:n.substring(0,Ee.JO),dirtyFields:e.dirtyFields.add("description")}}))})),cn(on(e),"handleLinkChange",(function(t){var n=t.value;e.setState((function(e){return{link:n,linkError:null,dirtyFields:e.dirtyFields.add("link")}}))})),cn(on(e),"handleScheduledDateChange",(function(t){var n=t.value;e.setState((function(e){return{scheduledDate:n,dirtyFields:e.dirtyFields.add("date")}}))})),cn(on(e),"handleScheduledTimeChange",(function(t){var n=t.value;e.setState((function(e){return{scheduledTime:n,dirtyFields:e.dirtyFields.add("time")}}))})),cn(on(e),"handleTitleChange",(function(t){var n=t.value;e.setState((function(e){return{title:n.substring(0,Ee.Ke),dirtyFields:e.dirtyFields.add("title")}}))})),cn(on(e),"handleBoardItemChosen",(function(t){e.setState((function(e){return{selectedItem:t,dirtyFields:e.dirtyFields.add("board")}}))})),cn(on(e),"handlePublishOptionChange",(function(t){return function(){e.setState((function(e){return zt({publishOption:t,dirtyFields:e.dirtyFields.add("publishOption")},"publish-immediately"===t?{scheduledDate:null,scheduledTime:null}:{scheduledDate:(0,Qt.Z)(new Date,1),scheduledTime:new Date((new Date).setHours(12,0,0,0))})}))}})),cn(on(e),"handleSubmitClick",(function(){var t=e.props,n=t.onDismiss,r=t.onSubmit,o=e.state,i=o.description,a=o.link,c=o.publishOption,s=o.scheduledDate,l=o.scheduledTime,u=o.selectedItem,d=o.title;(0,Ae.j)(101,{component:13396,element:11331}),(0,Ht.qi)(e.props.i18n,a).then((function(t){if(!t||t&&0===t.length)r(zt(zt(zt(zt(zt(zt(zt({},null!=i?{description:i}:Object.freeze({})),null!=a?{link:a}:Object.freeze({})),null!=c?{publishOption:c}:Object.freeze({})),void 0!==s?{scheduledDate:s}:Object.freeze({})),void 0!==l?{scheduledTime:l}:Object.freeze({})),void 0!==u?{selectedItem:u}:Object.freeze({})),null!=d?{title:d}:Object.freeze({}))),n();else if(t&&e.mounted){var o=t[0].message;e.setState({linkError:o})}}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.numPins,n=e.onDismiss,r=this.state,o=r.description,i=r.descriptionFocused,a=r.dirtyFields,c=r.link,s=r.linkError,l=r.selectedItem,u=r.title,d=r.titleFocused,p=this.props.i18n._("Field updated","Icon symbolizing that the value for a field will be updated","Icon symbolizing that the value for a field will be updated");return(0,v.jsx)(qt.Z,{accessibilityModalLabel:this.props.i18n._("Edit Pin info","Label to describe the bulk Pin edit modal","Label to describe the bulk Pin edit modal"),footer:(0,v.jsxs)(y.xu,{padding:1,display:"flex",justifyContent:"between",alignItems:"center",children:[(0,v.jsx)(y.xu,{paddingX:3,children:(0,v.jsx)(y.xv,{size:"md",color:"gray",children:(0,Gt.nk)(this.props.i18n.ngettext("Editing info for {{ numPins }} Pin","Editing info for {{ numPins }} Pins",t,"Number of Pins selected for bulk edit","Number of Pins selected for bulk edit"),{numPins:t})})}),(0,v.jsx)(y.xu,{"data-test-id":"pin-builder-edit-modal-save-button",children:(0,v.jsx)(y.zx,{text:this.props.i18n._("Update info","Button to save info to selected Pins","Button to save info to selected Pins"),color:"red",disabled:0===a.size,onClick:this.handleSubmitClick})})]}),heading:this.props.i18n._("Edit info","Heading for the bulk Pin info edit modal","Heading for the bulk Pin info edit modal"),onDismiss:n,size:"md",children:(0,v.jsxs)(y.xu,{column:12,paddingX:8,paddingY:6,"data-test-id":"pinbuilder-bulk-edit-modal",children:[(0,v.jsxs)(y.xu,{marginBottom:6,children:[(0,v.jsx)(y.__,{htmlFor:"pin-builder-edit-modal-board",children:(0,v.jsxs)(y.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,v.jsx)(y.xv,{children:this.props.i18n._("Board","Label for bulk apply board dropdown","Label for bulk apply board dropdown")}),a.has("board")&&(0,v.jsx)(y.xu,{paddingX:1,children:(0,v.jsx)(y.JO,{icon:"check-circle",accessibilityLabel:p,color:"green",size:12})})]})}),(0,v.jsx)(Wt.Z,{flyoutSize:480,onItemChosen:this.handleBoardItemChosen,placeholder:void 0===l?this.props.i18n._("Multiple","Placeholder text for board dropdown with multiple boards","Placeholder text for board dropdown with multiple boards"):this.props.i18n._("Select","Placeholder text for board dropdown to select board","Placeholder text for board dropdown to select board"),selectedItem:l,showButton:!1,showCreateBoardButton:!1,showFlyoutSaveButton:!1,showSectionSaveButton:!1,useLayer:!1})]}),(0,v.jsxs)(y.xu,{marginBottom:6,children:[(0,v.jsx)(y.__,{htmlFor:"pin-builder-edit-modal-title",children:(0,v.jsxs)(y.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,v.jsx)(y.xv,{children:this.props.i18n._("Title","Label for bulk apply title text field","Label for bulk apply title text field")}),a.has("title")&&(0,v.jsx)(y.xu,{paddingX:1,children:(0,v.jsx)(y.JO,{icon:"check-circle",accessibilityLabel:p,color:"green",size:12})})]})}),(0,v.jsx)(y.nv,{id:"pin-builder-edit-modal-title",onBlur:this.handleTitleBlur,onChange:this.handleTitleChange,onFocus:this.handleTitleFocus,onKeyDown:this.handleTitleChange,placeholder:void 0===u?this.props.i18n._("Multiple","Placeholder text for title field with multiple titles","Placeholder text for title field with multiple titles"):void 0,size:"lg",value:u||""}),(0,v.jsx)(y.xu,{column:12,marginTop:1,minHeight:15,children:d&&(0,v.jsxs)(y.xu,{column:12,display:"flex",justifyContent:"between",children:[(0,v.jsx)(y.xu,{flex:"grow",children:(0,v.jsx)(y.xv,{size:"sm",color:"gray",children:this.props.i18n._("Your first 40 characters are what usually show up in feeds","pinbuilder.header.editModal.title.helper","Helper education text for title on Pin creation")})}),(0,v.jsx)(y.xu,{flex:"none",children:(0,v.jsx)(y.xv,{size:"sm",color:"darkGray",children:Ee.Ke-(u||"").length})})]})})]}),(0,v.jsxs)(y.xu,{marginBottom:6,children:[(0,v.jsx)(y.__,{htmlFor:"pin-builder-edit-modal-description",children:(0,v.jsxs)(y.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,v.jsx)(y.xv,{children:this.props.i18n._("Description","Label for bulk apply description text field","Label for bulk apply description text field")}),a.has("description")&&(0,v.jsx)(y.xu,{paddingX:1,children:(0,v.jsx)(y.JO,{icon:"check-circle",accessibilityLabel:p,color:"green",size:12})})]})}),(0,v.jsx)(y.Kx,{id:"pin-builder-edit-modal-description",onChange:this.handleDescriptionChange,onKeyDown:this.handleDescriptionChange,onFocus:this.handleDescriptionFocus,onBlur:this.handleDescriptionBlur,placeholder:void 0===o?this.props.i18n._("Multiple","Placeholder text for description field with multiple descriptions","Placeholder text for description field with multiple descriptions"):void 0,rows:4,value:o||""}),(0,v.jsx)(y.xu,{column:12,marginTop:1,minHeight:15,children:i&&(0,v.jsxs)(y.xu,{column:12,display:"flex",justifyContent:"between",children:[(0,v.jsx)(y.xu,{flex:"grow",children:(0,v.jsx)(y.xv,{size:"sm",color:"gray",children:this.props.i18n._("People will usually see the first 50 characters when they click on your Pin","pinbuilder.header.editModal.description.helper","Helper education text for description on Pin creation")})}),(0,v.jsx)(y.xu,{flex:"none",children:(0,v.jsx)(y.xv,{size:"sm",color:"darkGray",children:Ee.JO-(o||"").length})})]})})]}),(0,v.jsxs)(y.xu,{children:[(0,v.jsx)(y.__,{htmlFor:"pin-builder-edit-modal-link",children:(0,v.jsxs)(y.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,v.jsx)(y.xv,{children:this.props.i18n._("Link","Label for bulk apply link text field","Label for bulk apply link text field")}),(a.has("link")||!!s)&&(0,v.jsx)(y.xu,{paddingX:1,children:(0,v.jsx)(y.JO,{icon:s?"alert":"check-circle",accessibilityLabel:p,color:s?"red":"green",size:12})})]})}),(0,v.jsx)(y.nv,{hasError:!!s,id:"pin-builder-edit-modal-link",onBlur:this.handleLinkBlur,onChange:this.handleLinkChange,onKeyDown:this.handleLinkChange,placeholder:void 0===c?this.props.i18n._("Multiple","Placeholder text for link field with multiple links","Placeholder text for link field with multiple links"):void 0,size:"lg",value:c||""}),(0,v.jsx)(y.xu,{column:12,marginTop:1,minHeight:15,children:!!s&&(0,v.jsx)(y.xu,{column:12,display:"flex",justifyContent:"between",children:(0,v.jsx)(y.xv,{size:"sm",color:"red",children:s})})})]})]})})}}])&&en(t.prototype,n),r&&en(t,r),i}(r.Component);var ln=(0,o.connect)((function(e){return zt(zt({},(0,Xt.p)(e)),{},{numPins:(0,Xt.xA)(e).length})}),(function(e){return{onSubmit:function(t){return e((0,Pe.setPinBuilderSharedData)(t))}}}))((function(e){var t=(0,b.ZP)();return(0,v.jsx)(sn,zt(zt({},e),{},{i18n:t}))}));function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){xn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var o=vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(a,e);var t,n,o,i=mn(a);function a(){var e;fn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xn(yn(e=i.call.apply(i,[this].concat(n))),"state",{showModal:!1}),xn(yn(e),"handleShowModal",(function(){(0,Ae.j)(101,{component:13208,element:11325}),e.setState({showModal:!0})})),xn(yn(e),"handleHideModal",(function(){e.setState({showModal:!1})})),e}return t=a,(n=[{key:"render",value:function(){var e=this.state.showModal;return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.hU,{accessibilityLabel:this.props.i18n._("Edit","Button to bulk edit Pin images","Button to bulk edit Pin images"),icon:"edit",onClick:this.handleShowModal}),e&&(0,v.jsx)(ln,{onDismiss:this.handleHideModal})]})}}])&&hn(t.prototype,n),o&&hn(t,o),a}(r.Component);function wn(e){var t=(0,b.ZP)();return(0,v.jsx)(In,pn(pn({},e),{},{i18n:t}))}var _n=n(767523),jn=n(159276);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dn(e);if(t){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rn(this,n)}}function Rn(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(i,e);var t,n,r,o=Cn(i);function i(){var e;Pn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tn(Bn(e=o.call.apply(o,[this].concat(n))),"handleSelectAllClick",(function(){var t=e.props.onSelectAll;(0,Ae.j)(101,{component:13208,element:11323}),t()})),Tn(Bn(e),"handleClearAllClick",(function(){var t=e.props.onClickClear;(0,Ae.j)(101,{component:13208,element:11324}),t()})),Tn(Bn(e),"handlePublishClick",(function(){var t=e.props,n=t.numSelected,r=t.onClickPublish;(0,Ae.j)(101,{component:13208,element:11328,pin_builder_data:JSON.stringify({publish_count:n})}),r()})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.allSelected,n=e.numSelected;return(0,v.jsxs)(y.xu,{display:"flex",color:"white",justifyContent:"between",alignItems:"center",height:"100%",children:[(0,v.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(y.xu,{paddingX:6,children:(0,v.jsx)(y.xv,{color:"darkGray",children:(0,Gt.nk)(this.props.i18n.ngettext("{{ numSelected }} Pin selected","{{ numSelected }} Pins selected",n,"Number of Pins selected for bulk edit or save","Number of Pins selected for bulk edit or save"),{numSelected:n})})}),(0,v.jsx)(y.xu,{width:1,height:32,color:"lightGray"}),(0,v.jsx)(y.xu,{paddingX:4,"data-test-id":"pin-builder-select-all",children:(0,v.jsx)(y.zx,{text:t?this.props.i18n._("Deselect all","Button to deselect all Pin drafts for bulk actions","Button to deselect all Pin drafts for bulk actions"):this.props.i18n._("Select all","Button to select all Pin drafts for bulk actions","Button to select all Pin drafts for bulk actions"),color:"white",onClick:t?this.handleClearAllClick:this.handleSelectAllClick})})]}),(0,v.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsxs)(y.xu,{display:"flex",alignItems:"center",paddingX:5,children:[(0,v.jsx)(y.xu,{paddingX:1,"data-test-id":"pin-builder-edit-selected",children:(0,v.jsx)(wn,{})}),(0,v.jsx)(y.xu,{paddingX:1,"data-test-id":"pin-builder-delete-selected",children:(0,v.jsx)(Lt,{})}),(0,v.jsx)(y.xu,{paddingX:1,"data-test-id":"pin-builder-publish-all",children:(0,v.jsx)(y.zx,{text:this.props.i18n._("Publish","Button to publish all selected Pins","Button to publish all selected Pins"),color:"red",name:"publish",onClick:this.handlePublishClick})})]}),(0,v.jsx)(y.xu,{width:1,height:32,color:"lightGray"}),(0,v.jsx)(y.xu,{paddingX:6,children:(0,v.jsx)(y.hU,{accessibilityLabel:this.props.i18n._("Cancel changes","Button to deselect all Pins","Button to deselect all Pins"),bgColor:"transparent",icon:"cancel",onClick:this.handleClearAllClick})})]})]})}}])&&En(t.prototype,n),r&&En(t,r),i}(r.Component);function Vn(e){var t=(0,b.ZP)(),n=(0,o.useDispatch)(),r=(0,We.Z)(),i=(0,_n.Z)(),a=(0,jn.lJ)(r,i),c=r.isAuth?r.id:"",s=r.isAuth?r.country:"",l=r.isAuth&&r.isPartner,u=(0,o.useSelector)((function(e){return e.pinbuilder.selectedPinDraftIds.length})),d=(0,o.useSelector)((function(e){var t=e.pinbuilder,n=t.pinDrafts,r=t.pinDraftIds,o=t.selectedPinDraftIds;return r.filter((function(e){return!Ee.x1.includes(n[e].status)})).length===o.length}));return(0,v.jsx)(Jn,Sn(Sn({},e),{},{allSelected:d,numSelected:u,onClickClear:function(){return n((0,Pe.clearSelectedPinBuilderPinDrafts)())},onClickPublish:function(){return n((0,Pe.publishSelectedPinBuilderPinDrafts)(c,s,l,t,a))},onSelectAll:function(){return n((0,Pe.selectAllPinBuilderPinDrafts)())},i18n:t}))}var Mn=n(805092),Fn=n(32023),Nn=n.n(Fn);function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qn={top:474},Hn={top:-276},Gn={property:"top",duration:8e3,timingFunction:"easeOut",delay:250};function Xn(e){var t=e.onStart,n=(0,b.ZP)(),o=Qn((0,r.useState)(!1),2),i=o[0],a=o[1],c=Qn((0,r.useState)(!1),2),s=c[0],l=c[1],u=Qn((0,r.useState)(qn),2),d=u[0],p=u[1];(0,r.useEffect)((function(){s&&(a(!0),t&&t()),i&&p(Hn)}),[i,s,t]);var f=[n._("Make multiple Pins at a time","Text describing that multiple Pins can be at once","Text describing that multiple Pins can be at once"),n._("Create any format, from video to carousel","Text describing the different Pin formats that can be used","Text describing the different Pin formats that can be used"),n._("See how Pins look before you publish","Text describing the Pin preview feature","Text describing the Pin preview feature")];return(0,v.jsxs)(y.xu,{bottom:!0,"data-test-id":"pinbuilder-education-publish-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,v.jsx)(y.xu,{minWidth:342,dangerouslySetInlineStyle:{__style:{backgroundColor:"#fbcccd"}},position:"relative",width:342,children:(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:Zn(Zn({},d),{},{transition:(0,h.Z)(Gn)})},height:"100%",paddingX:8,position:"relative",width:"100%",children:(0,v.jsx)(y.Ee,{alt:n._("Example Pins","Alt text for an image showing example Pins","Alt text for an image showing example Pins"),onLoad:function(){return l(!0)},src:Nn(),naturalHeight:1660,naturalWidth:606})})}),(0,v.jsx)(y.xu,{flex:"grow",display:"flex",alignItems:"center",paddingX:10,children:(0,v.jsxs)(y.xu,{children:[(0,v.jsx)(y.X6,{children:n._("Why stop at one?","A heading text for describing creating multiple Pins at once","A heading text for describing creating multiple Pins at once")}),(0,v.jsx)(y.xu,{paddingY:4,children:f.map((function(e,t){return(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,v.jsx)(y.xu,{color:"darkGray",display:"flex",flex:"none",rounding:"circle",width:8,height:8}),(0,v.jsx)(y.xu,{paddingX:2,children:(0,v.jsx)(y.xv,{children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]},"publish-screen-point-".concat(t))}))})]})})]})}var Yn=n(84409),Kn=n(535718),zn=n(268751),$n=n(180317),er=n(378869),tr=n.n(er),nr=n(784591),rr=n.n(nr),or=n(24852),ir=n.n(or),ar=n(226420),cr=n.n(ar),sr=n(85251),lr=n.n(sr);function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e){return function(e){if(Array.isArray(e))return mr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||br(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||br(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){if(e){if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mr(e,t):void 0}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gr={property:"top",timingFunction:"easeInOut",duration:3700,delay:1725},yr=[{property:"opacity",duration:500,timingFunction:"easeInOut",delay:4200},{property:"margin-top",duration:500,timingFunction:"easeInOut",delay:4200}],vr=[{src:tr(),keyframe:{start:{top:-77},end:{top:-663}},naturalHeight:1684,naturalWidth:360},{src:rr(),keyframe:{start:{top:-1},end:{top:-636}},naturalHeight:1684,naturalWidth:360},{src:ir(),keyframe:{start:{top:-121},end:{top:-654}},naturalHeight:1684,naturalWidth:360},{src:cr(),keyframe:{start:{top:-5},end:{top:-646}},naturalHeight:1684,naturalWidth:360},{src:lr(),keyframe:{start:{top:-142},end:{top:-650}},naturalHeight:1684,naturalWidth:360}],xr={marginTop:24,maxWidth:500,opacity:0},Ir={marginTop:0,maxWidth:500,opacity:1};function wr(e){var t=e.onStart,n=(0,b.ZP)(),o=hr((0,r.useState)(!1),2),i=o[0],a=o[1],c=hr((0,r.useState)(vr.map((function(){return!0}))),2),s=c[0],l=c[1],u=hr((0,r.useState)(xr),2),d=u[0],p=u[1],m=hr((0,r.useState)(vr.reduce((function(e,t){return[].concat(fr(e),[t.keyframe.start])}),[])),2),g=m[0],x=m[1];return(0,r.useEffect)((function(){0===s.filter((function(e){return e})).length&&(a(!0),t&&t()),i&&(p(Ir),x(vr.reduce((function(e,t){return[].concat(fr(e),[t.keyframe.end])}),[])))}),[i,s,t]),(0,v.jsxs)(y.xu,{bottom:!0,"data-test-id":"pinbuilder-welcome-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[vr.map((function(e,t){var r=vr[t],o=r.src,i=r.naturalHeight,a=r.naturalWidth,c=t>vr.length/2?4:void 0,u=t<vr.length/2-1?4:void 0;return(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:dr(dr({},g[t]),{},{transition:(0,h.Z)(gr)})},height:240,marginStart:c,marginEnd:u,width:164,position:"relative",children:(0,v.jsx)(y.Ee,{alt:n._("Column of example Pins","Image alt text describing a column of example Pins","Image alt text describing a column of example Pins"),color:"transparent",onLoad:function(){var e=fr(s);e[t]=!1,l(e)},naturalHeight:i,naturalWidth:a,src:o})},"education-image-strip-".concat(t))})),(0,v.jsx)(y.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:(0,v.jsxs)(y.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:dr(dr({},d),{},{transition:"".concat((0,f.Z)(yr,{execution:"parallel"}))})},direction:"column",display:"flex",justifyContent:"center",padding:12,children:[(0,v.jsx)(y.X6,{children:n._("Great Pins made easy","In-product education heading text for creating Pins","In-product education heading text for creating Pins")}),(0,v.jsx)(y.xu,{paddingY:4,children:(0,v.jsx)(y.xv,{align:"center",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:n._("Add text and logos, make multiple Pins at once and edit like a pro. New tools let you create Pins your way.","Text describing how to make Pins on Pinterest","Text describing how to make Pins on Pinterest")})})})]})})]})}var _r=n(937706);var jr=n(802314),Or=n(878243),Ar=n(349079),Sr=n(159617),Pr=n(310054),Er=n(221469),kr=n(116955),Cr=n(622400),Rr=n(181307),Br=n(131451),Dr=n(910289),Tr=n(142196),Jr=n(358873),Vr=n(880841);function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e){return function(e){if(Array.isArray(e))return Qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||Lr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(e,t){if(t&&("object"===Mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yr(e)}function Yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $r={header:{__style:{zIndex:Sr.fe+1}}},eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(c,e);var t,n,o,a=Gr(c);function c(){var e;Wr(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zr(Yr(e=a.call.apply(a,[this].concat(n))),"state",{isDraggingOver:!1,scrollPosition:0,bannerDomainMessage:null}),zr(Yr(e),"preparePinBuilderForExternalSource",(function(t){var n=e.props,r=n.addWebsiteMedia,o=n.externalButtonQuery,i=n.savePinDraftWebsiteMediaExternal;if(o){var a=o.media;r(t,{height:1,width:1,id:(0,$.Z)(),sourceURL:o.url,src:a,type:"webImage"}),i(t)}})),zr(Yr(e),"preparePinBuilderForMultiSelectExperiment",(function(t){var n=e.props,r=n.externalButtonQuery,o=n.setWebsiteLink,i=n.addWebsiteMedia;r&&(i(t,{height:1,width:1,id:(0,$.Z)(),sourceURL:r.url,src:r.media,type:"webImage"}),o(t,r.url,r.media))})),zr(Yr(e),"goBack",(function(){var t=e.props,n=t.isLandingPage,r=t.location,o=t.history,i=(0,Er.mB)(r.search),a=i.crossSite,c=i.redirUrl;a?window.history.back():c&&(0,$n.Z)({url:c})&&(0,Q.Z)(c)?o.push((0,se.Z)({url:c})):n?o.push("/"):o.goBack()})),zr(Yr(e),"pinDraftRefs",new Map),zr(Yr(e),"setPinDraftRef",(function(t,n){e.pinDraftRefs.set(t,n)})),zr(Yr(e),"handleOnDragEnter",(function(){(Oe.Z.enabled("multi_pin")||Oe.Z.enabled("multi_pin_pinner"))&&e.setState({isDraggingOver:!0})})),zr(Yr(e),"handleOnDragLeave",(function(){e.setState({isDraggingOver:!1})})),zr(Yr(e),"handleOnDragOver",(function(e){e.preventDefault(),e.stopPropagation()})),zr(Yr(e),"handleOnDrop",(function(t){var n=e.props.createFromAssets;if(t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),Oe.Z.enabled("multi_pin")||Oe.Z.enabled("multi_pin_pinner")){var r=(0,Mn.Z)(t.dataTransfer);(0,zn.Z)(e.props.i18n,r,{allowVideo:Oe.Z.enabled("video")}).then((function(e){var t=e.reduce((function(e,t){return"error"!==t.type&&e.push(t),e}),[]);t.length>0&&n(t)}))}})),zr(Yr(e),"handleOnScroll",(function(t){var n=t.currentTarget,r=n.clientHeight,o=n.scrollHeight,i=n.scrollTop;e.setState({scrollPosition:i/(o-r)})})),zr(Yr(e),"handleOnEducationExperienceDismiss",(function(){(0,e.props.dismissExperience)(1000135,501657)})),zr(Yr(e),"handleOnEducationExperienceComplete",(function(){(0,e.props.completeExperience)(1000135,501657)})),zr(Yr(e),"handleOnEducationModalComplete",(function(){var t=Zr(e.context,2),n=t[0],r=t[1];n!==Ee.aD&&r(Ee.aD)})),zr(Yr(e),"handleOnEducationModalDismiss",(function(){var t=e.props.footerContext.setZIndex,n=Zr(e.context,2),r=n[0],o=n[1];r&&o(jr.I),t(Jr.HW),e.handleOnEducationExperienceDismiss()})),zr(Yr(e),"handleOnTourComplete",(function(){var t=e.props.footerContext.setZIndex,n=Zr(e.context,2),r=n[0],o=n[1];r&&o(jr.I),t(Jr.HW),e.handleOnEducationExperienceComplete()})),zr(Yr(e),"handleOnTourDismiss",(function(){var t=e.props.footerContext.setZIndex,n=Zr(e.context,2),r=n[0],o=n[1];r&&o(jr.I),t(Jr.HW),e.handleOnEducationExperienceDismiss()})),zr(Yr(e),"handleUnload",(function(t){var n=e.props,r=n.requestContext;if(!n.allPinDraftsSaved&&new Cr.v(r,"web_pin_builder_prompt_before_exit").enabled())return t.preventDefault(),t.returnValue=!0;return null})),zr(Yr(e),"showControls",(function(){var t=e.props.firstPinDraftView;return!(!Oe.Z.enabled("multi_pin")&&!Oe.Z.enabled("multi_pin_pinner"))&&(!Oe.Z.enabled("pinbuilder_v2_tabs")&&!Oe.Z.enabled("pinbuilder_v2_full")||(Oe.Z.enabled("pinbuilder_v2_tabs")||Oe.Z.enabled("pinbuilder_v2_full"))&&"upload"===t)})),e}return t=c,(n=[{key:"initialize",value:function(){var e,t=this.props,n=t.requestContext,r=t.viewer,o=t.userResource,i=t.pinDraftType,a=t.location,c=t.advertiser,s=t.createPinDraft,l=t.history,u=t.pinDraftIds,d=t.pinId,p=t.pinResource,f=t.loadPinDraft,h=t.externalButtonQuery,b=t.setPinDraftViewExternal,m=t.setPinDraftViewScrape,g=t.setPinDraftCreateMethod,y=t.setWebsiteLink,v=t.orbacActingAs;"story"===i?e="story_pin":h&&(e="offsite_pin_creation"),Oe.Z.initialize({user:null==o?void 0:o.data,requestContext:n,viewer:r,location:a,advertiser:c,scenario:e,orbacActingAs:v});var x=!(a.state||{}).disableAddPinDraft;if(u.length<1&&x){var I,w=a.state||{},_=w.board,j=w.boardSection,O=_||i?Ur(Ur({},_?{selectedItem:Ur(Ur({boardId:_.id,title:j?j.title:_.name},j?{sectionId:j.id}:Object.freeze({})),{},{ownerUsername:null==_||null===(I=_.owner)||void 0===I?void 0:I.username})}:Object.freeze({})),i?{type:i}:{}):void 0;if(d){if(p&&p.isLoaded&&p.data){var A=p.data;A.story_pin_data?r.isAuth&&A.native_creator&&A.native_creator.id===r.id?f():(s((0,$.Z)(),O),l.replace("/idea-pin-builder/")):(s((0,$.Z)(),O),l.replace("/pin-builder/"))}}else{var S=(0,$.Z)();s(S,O);var P=(0,U.Z)(),E=(0,Z.Z)({url:P}).url;new Cr.v(n,"web_bizhub_create_pin_from_website").enabled()&&E&&(m(S),y(S,E,"")),h&&(b(S),g(S,h.method),Oe.Z.enabled("offsite_pin_creation_multi_select")?this.preparePinBuilderForMultiSelectExperiment(S):this.preparePinBuilderForExternalSource(S))}}this.handleUnload=this.handleUnload.bind(this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.closeupImageSignature,n=e.entryPoint,r=e.inStlToolingExp,o=e.pinDraftType,i=e.externalButtonQuery,a=e.pinId;e.advertiser,this.initialize(),r&&(0,Ae.j)(13,Ur(Ur({component:13308,view:212},a||t?{pin_id:a,image_signature:t}:{}),{},{entry_point_source:n})),"story"===o&&(0,Ae.j)(13,{view:226,viewParameter:3228}),i&&(window.opener||"bookmarklet"===i.method)&&(window.innerHeight<Tr.CX||window.innerWidth<Tr.N$)&&window.resizeTo(Tr.N$,Tr.CX),window.addEventListener("beforeunload",this.handleUnload)}},{key:"componentDidUpdate",value:function(e){var t,n=this.props,r=n.firstPinDraftMediaType,o=n.footerContext,i=n.formatType,a=n.pinDraftIds,c=n.setPlacementExtraContext,s=n.takeOverExperience,l=n.viewExperience,u=n.orbacActingAs,d=Zr(this.context,2),p=d[0],f=d[1],h=o.zIndex,b=o.setZIndex;(null==u?void 0:u.id)!==(null===(t=e.orbacActingAs)||void 0===t?void 0:t.id)&&this.initialize(),0===a.length&&0!==e.pinDraftIds.length&&this.goBack(),e.firstPinDraftMediaType!==r&&c({firstPinDraftMediaType:r}),"number"==typeof h&&p&&p!==jr.I&&b(null),function(e,t){return"story"!==t&&e&&501657===e.experience_id}(s,i)&&!p&&(f(Ee.Lc),l(1000135,501657))}},{key:"componentWillUnmount",value:function(){(0,this.props.clearPinDrafts)(),window.removeEventListener("beforeunload",this.handleUnload)}},{key:"render",value:function(){var e,t=this.props,n=t.pinDraftIds,o=t.removeError,a=t.showHeader,c=t.errorMessage,s=t.headerHeight,l=t.requestContext.isRTL,u=t.showEmailVerificationReminderModal,d=t.activateRequireEmailVerificationExp,p=t.requireEmailVerification,f=this.state,h=f.isDraggingOver,b=f.scrollPosition,m=f.bannerDomainMessage,g=Zr(this.context,1)[0],x={__style:{border:"4px solid ".concat(h?"#0074e8":"transparent")}};return p&&d().anyEnabled&&(u(),n.forEach((function(e){o(e)}))),(0,v.jsxs)(r.Fragment,{children:[a&&(0,v.jsx)(y.xu,{height:s,top:!0,left:!0,right:!0,position:"fixed",dangerouslySetInlineStyle:$r.header,children:(0,v.jsx)(Vn,{})}),(0,v.jsxs)(y.xu,{position:"fixed",left:!0,right:!0,bottom:!0,display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{top:s}},children:[m&&(0,v.jsx)(i.Z,{message:m}),(0,v.jsx)(y.xu,{flex:"none",children:c?(0,v.jsx)(F.Z,{errorMessage:c,primaryAction:(0,v.jsx)(y.hU,{accessibilityLabel:this.props.i18n._("Close Error Banner","Accessibility label to close the error banner","Accessibility label to close the error banner"),icon:"cancel",iconColor:"white",onClick:function(){return o(n[0])},size:"sm"})}):(0,v.jsx)(N.default,{placementId:1000161})}),(0,v.jsxs)(y.xu,{color:"lightGray","data-test-id":"pin-builder",flex:"grow",height:"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,position:"relative",children:[(0,v.jsx)(y.xu,{display:"visuallyHidden",children:(0,v.jsx)(y.X6,{accessibilityLevel:1,children:this.props.i18n._("Pin Builder","pinBuilder.heading","The page heading for Pin Builder")})}),(0,v.jsx)(y.xu,{height:"100%",overflow:"auto",dangerouslySetInlineStyle:x,onScroll:this.handleOnScroll,children:(0,v.jsx)($e,{setPinDraftRef:this.setPinDraftRef})}),this.showControls()&&(0,v.jsx)(y.xu,{position:"absolute",top:!0,left:!l,right:l,bottom:!0,children:(0,v.jsx)(bt,{pinDraftRefs:this.pinDraftRefs,scrollPosition:b})})]})]}),g===Ee.Lc&&(0,v.jsx)(M.Z,{containsHlsVideoComponent:!!Oe.Z.enabled("layouts"),onComplete:this.handleOnEducationModalComplete,onDismiss:this.handleOnEducationModalDismiss,steps:[{id:"pinbuilder-welcome",element:(0,v.jsx)(wr,{})},{id:"pinbuilder-editing",element:(0,v.jsx)(V,{})}].concat(Fr(Oe.Z.enabled("layouts")?[{id:"pinbuilder-layout",element:(0,v.jsx)(X,{})}]:[]),[{id:"pinbuilder-publish",element:(0,v.jsx)(Xn,{})}])}),g===Ee.aD&&(0,v.jsx)(Yn.Z,{steps:(0,L.Z)((e=this.props.i18n,[{selector:'[data-tutorial-id="pin-builder-title-and-description"]',id:"guide-pin-builder-title",heading:e._("Title & description","Heading text describing the title and description step when creating Pins","Heading text describing the title and description step when creating Pins"),description:e._("Add a title and description to help tell your story. People see this in their home feed, on search and when they tap on your Pin.","Text describing the reason to add title and description to Pins when creating them","Text describing the reason to add title and description to Pins when creating them"),padding:0},{selector:'[data-tutorial-id="pin-builder-destination-link"]',id:"guide-pin-builder-link",heading:e._("Destination link","Heading text describing the destination link step when creating Pins","Heading text describing the destination link step when creating Pins"),description:e._("Pick where people land when they tap on your Pin. Make sure it’s relevant!","Text describing the reason to add a destination link to Pins when creating them","Text describing the reason to add a destination link to Pins when creating them"),padding:0},{selector:'[data-tutorial-id="pin-builder-media-draft-view"]',id:"guide-pin-builder-media-draft-view",heading:e._("Edits","Heading text describing the ability to edit Pins while creating them","Heading text describing the ability to edit Pins while creating them"),description:e._("Upload an image or video, then personalize it by cropping, trimming or adding logos and text","Text describing the ability to edit images and videos when creating Pins","Text describing the ability to edit images and videos when creating Pins"),padding:0},{selector:'[data-tutorial-id="pin-builder-batch-create"]',id:"guide-pin-builder-batch-create",heading:e._("Batch create","Heading text describing the ability to create multipe Pins at once","Heading text describing the ability to create multipe Pins at once"),description:e._("Lots to say? Add more images and videos to create multiple Pins at once.","Text describing the ability to create multiple Pins at once","Text describing the ability to create multiple Pins at once"),padding:0}])),onComplete:this.handleOnTourComplete,onDismiss:this.handleOnTourDismiss})]})}}])&&qr(t.prototype,n),o&&qr(t,o),c}(r.Component);zr(eo,"contextType",_r.Z);var to=(0,Ge.compose)((0,o.connect)((function(){var e=(0,Pr.nL)();return function(t){var n=t.pinbuilder,r=n.closeupImageSignature,o=n.entryPoint,i=n.pinDraftIds,a=n.pinDrafts,c=n.selectedPinDraftIds,s=i[0],l=s?e(t,{pinDraftId:i[0]}):null,u=(s?a[s]:{}).type,d=function(e,t,n){return null===t?null:"story"===n?(0,Ar.lY)(e,{pinItemId:t}):(0,Or.Bg)(e,{pinItemId:t})}(t,l,u),p=s?t.pinbuilder.pinDrafts[s].view:"",f=i.reduce((function(e,t){return null!=e?e:a[t].apiError}),null),h=i.reduce((function(e,t){return null!=e?e:a[t].apiErrorCode===kr.H9}),null),b=i.every((function(e){var n=a[e],r=n.pinItemIds;return"succeeded"===n.status||r.every((function(e){var n=t.pinbuilder.pinItems[e];return""===n.description&&""===n.title&&null===n.media&&""===n.link}))}));return{closeupImageSignature:r,entryPoint:o,formatType:u,pinDraftIds:i,takeOverExperience:t&&t.experiences&&t.experiences[1000135]||{},errorMessage:f,requireEmailVerification:h,firstPinDraftMediaType:d?d.type:null,firstPinDraftView:p,isLandingPage:0===t.history.previous.length,showHeader:c.length>0,allPinDraftsSaved:b}}}),(function(e,t){var n=t.pinResource,r=t.viewer,o=r.isAuth&&r.isEmployee,i=r.isAuth?r.id:"",c=r.isAuth?r.country:"";return{clearPinDrafts:function(){return e((0,Pe.clearPinBuilderPinDrafts)())},createFromAssets:function(n){return e((0,Pe.createPinDraftsFromAssets)(n,o,i,c,t.i18n))},createPinDraft:function(t,n){return e((0,a.Z)(t,n,void 0,o))},removeError:function(t){return e((0,He.lT)(t,null))},loadPinDraft:function(){n&&e(ce(n.data))},completeExperience:function(t,n){return e((0,Dr.CK)(t,n))},dismissExperience:function(t,n){return e((0,Dr.Qu)(t,n))},viewExperience:function(t,n){return e((0,Dr.UT)(t,n))},setPinDraftCreateMethod:function(t,n){return e((0,He.e5)(t,n))},setPinDraftViewScrape:function(t){return e((0,He.c8)(t,"scrape"))},setPinDraftViewExternal:function(t){return e((0,He.c8)(t,"external"))},setWebsiteLink:function(t,n,r){return e((0,He.f9)(t,n,null,r))},addWebsiteMedia:function(t,n){return e((0,He.dj)(t,n))},savePinDraftWebsiteMediaExternal:function(t){return e((0,He.q0)(t,"external"))}}})),tt.EN,(0,qe.ZP)(1000135,(function(e){return{format_type:e.formatType,media_type:e.firstPinDraftMediaType}})),(0,qe.ZP)(1000161))(eo);function no(e){var t=(0,b.ZP)(),n=(0,We.Z)(),r=(0,Kn.Z)({name:"UserResource",options:{username:n.isAuth&&n.username,field_set_key:"profile"}}),o=(0,_n.Z)(),i=(0,Rr.tc)("require_email_verification_pin_create"),a=(0,Br.y9)().showEmailVerificationReminderModal;return(0,v.jsx)(to,Ur(Ur({},e),{},{footerContext:(0,Jr.YW)(),history:(0,tt.k6)(),location:(0,tt.TH)(),toastManagerContext:(0,Vr.F9)(),orbacActingAs:o,userResource:r,viewer:n,i18n:t,showEmailVerificationReminderModal:a,activateRequireEmailVerificationExp:i}))}},7769:function(e,t,n){"use strict";n.d(t,{e_:function(){return o},lE:function(){return i},V3:function(){return a}});var r=(0,n(762803).ZP)("pinBuilderContext",{shouldRenderPinEditorStandalone:!1,openHelpTextInNewWindow:!1}),o=r.Provider,i=r.Consumer,a=r.useHook},743174:function(e,t,n){"use strict";n.r(t),n.d(t,{clearPinBuilderPinDrafts:function(){return _},deletePinDraft:function(){return j},duplicatePinDraft:function(){return O},selectPinBuilderPinDraft:function(){return A},deselectPinBuilderPinDraft:function(){return S},clearSelectedPinBuilderPinDrafts:function(){return P},deleteSelectedPinBuilderPinDrafts:function(){return E},publishSelectedPinBuilderPinDrafts:function(){return k},publishAllPinBuilderPinDrafts:function(){return C},selectAllPinBuilderPinDrafts:function(){return R},deselectAllPinBuilderPinDrafts:function(){return B},setPinBuilderSharedData:function(){return D},addPinBuilderAsset:function(){return T},createPinDraftsFromAssets:function(){return V},createLayoutPinDraftFromAssets:function(){return M},addAssetsToPinDraft:function(){return F},setPinBuilderFailureErrorLogged:function(){return N},setPinBuilderBatchEditMode:function(){return U},setPinEditorPinDraft:function(){return Z},addPinBuilderPinDraftItemUpload:function(){return L},setPinBuilderPinDraftUploadStatus:function(){return Q},setPinBuilderPinItemUploadStatus:function(){return W},setPinBuilderPinItemUploadXhr:function(){return q},removePinBuilderPinItemUpload:function(){return H},removePinBuilderPinDraftUpload:function(){return G},abortPinDraftItemUpload:function(){return X},addCreatedPinId:function(){return Y},removeCreatedPinId:function(){return K},clearCreatedPinIds:function(){return z},setCloseupImageSignature:function(){return $},setPinBuilderEntryPoint:function(){return ee}});var r=n(983441),o=n(545840),i=n(628594),a=n(721869),c=n(453512),s=n(371599),l=n(945596),u=n(265585),d=n(234756),p=n(874048),f=n(981444),h=n(887018),b=n(68545),m=["publishOption","scheduledDate","scheduledTime","selectedItem"];function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){return{type:"PIN_BUILDER_CLEAR_PIN_DRAFTS"}}function j(e,t){return function(n,r){var o=r().pinbuilder.pinDraftIds;n((0,l.Z)(e)),o.length<=1&&n((0,i.Z)((0,f.Z)(),void 0,void 0,t))}}function O(e){return function(t,n){var i=n().pinbuilder,a=i.pinDrafts,c=i.pinItems,s=a[e],l=(0,f.Z)(),u=s.pinItemIds.map((function(e){var n=(0,f.Z)();return t((0,o.Z)(l,n,c[e])),n}));t((0,r.Z)(l,I(I({},s),{},{pinItemIds:u}),{insertBefore:e}))}}function A(e){return{type:"PIN_BUILDER_SELECT_PIN_DRAFT",payload:{pinDraftId:e}}}function S(e){return{type:"PIN_BUILDER_DESELECT_PIN_DRAFT",payload:{pinDraftId:e}}}function P(){return{type:"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS"}}function E(e){return function(t,n){var r=n().pinbuilder,o=r.pinDraftIds,a=r.selectedPinDraftIds;a.forEach((function(e){t(S(e)),t((0,l.Z)(e))})),a.length===o.length&&t((0,i.Z)((0,f.Z)(),void 0,void 0,e))}}function k(e,t,n,r,o){return function(i,a){a().pinbuilder.selectedPinDraftIds.forEach((function(a){i(S(a)),i((0,b.Ju)(a,void 0,e,o,t,n,r))}))}}function C(e,t,n,r){return function(o,i){var a,c=i().pinbuilder,s=c.pinDrafts,l=y(c.pinDraftIds);try{for(l.s();!(a=l.n()).done;){var u=a.value;"succeeded"!==s[u].status&&(o(S(u)),o((0,b.Ju)(u,void 0,e,void 0,t,n,r)))}}catch(d){l.e(d)}finally{l.f()}}}function R(){return function(e,t){var n=t().pinbuilder,r=n.selectedPinDraftIds,o=n.pinDrafts;n.pinDraftIds.forEach((function(t){var n=o[t].status;r.includes(t)||h.x1.includes(n)||e(A(t))}))}}function B(){return function(e,t){t().pinbuilder.selectedPinDraftIds.forEach((function(t){e(S(t))}))}}function D(e){return function(t,n){var r=n().pinbuilder.selectedPinDraftIds,o=e.publishOption,i=e.scheduledDate,a=e.scheduledTime,c=e.selectedItem,s=g(e,m);r.forEach((function(e){t((0,b.NA)(e,I(I(I(I({},null!=o?{publishOption:o}:Object.freeze({})),void 0!==c?{selectedItem:c}:Object.freeze({})),void 0!==i?{scheduledDate:i}:Object.freeze({})),void 0!==a?{scheduledTime:a}:{}))),s.editorInstanceId=(0,f.Z)(),t((0,b.to)(e,s))}))}}function T(e){return{type:"PIN_BUILDER_ADD_ASSET",payload:{asset:e}}}function J(e,t){var n=e.pinbuilder,r=n.pinDrafts,o=n.pinItems,i=r[t],a=i.selectedItem,c=i.pinItemIds,s=i.publishOption;return!a&&"publish-immediately"===s&&c.every((function(e){var t=o[e],n=t.description,r=t.link,i=t.media,a=t.title;return!(n||r||a||i)}))}function V(e,t,n,r,a){return function(c,s){var u=s(),p=u.pinbuilder.pinDraftIds;e.concat().reverse().reduce((function(e,s){return e.then((function(){var e=(0,f.Z)(),l=(0,f.Z)();"localImage"!==s.type&&"webImage"!==s.type&&"localVideo"!==s.type||(c((0,o.Z)(e,l,I({media:s},"webImage"===s.type?{link:s.sourceURL}:{}))),"localVideo"===s.type&&c((0,d.dG)(e,l,n,r,a))),c((0,i.Z)(e,{pinItemIds:[l]},void 0,t))}))}),Promise.resolve()).then((function(){var e=p.findIndex((function(e){return!J(u,e)}));p.slice(0,e>=0?e:void 0).forEach((function(e){return c((0,l.Z)(e))}))}))}}function M(e,t){return function(n,r){var a=r(),s=a.pinbuilder.pinDraftIds;(0,c.Z)(e).then((function(e){var r=e.media,a=e.canvasJson,c=(0,f.Z)(),s=(0,f.Z)();n((0,o.Z)(c,s,{media:I(I({},r),{},{id:(0,f.Z)(),name:"",type:"localImage",isLayout:!0}),canvasJson:a})),n((0,i.Z)(c,{pinItemIds:[s]},void 0,t))})).then((function(){var e=s.findIndex((function(e){return!J(a,e)}));s.slice(0,e>=0?e:void 0).forEach((function(e){return n((0,l.Z)(e))}))}))}}function F(e,t,n){return function(r,c){var l=c(),d=t||(0,f.Z)(),b=l.pinbuilder.pinDrafts[d]&&l.pinbuilder.pinDrafts[d].pinItemIds||[],m=b.length,g=(l.pinbuilder.pinItems[b[0]]||{}).media,y=l.pinbuilder.pinItems[b[m-1]],v=e.length>0&&"localImage"===e[0].type?e[0]:{},x=v.width,_=v.height,j=b[m-1],O=e.reduce((function(e,t,n){return e.push((0,f.Z)()),e}),y?[j]:[]),A=(0,s.Z)(g&&g.width||x,g&&g.height||_),S=0===m?m:m-1,P=e.slice(0,h.dS-S).reduce((function(e,t){return I(I({},e),{},w({},(0,f.Z)(),I(I({},u.E),{},{media:"localImage"===t.type?t:null})))}),{});(0,a.Z)(Object.keys(P),P,A).then((function(e){var a=e.map((function(e,t){var n=O[t]||(0,f.Z)();return r(n===j?(0,p.nh)(n,e):(0,o.Z)(d,n,e)),n}));if(e.length+S<h.dS){var c=(0,f.Z)();r((0,o.Z)(d,c,null,{saveIndex:!0})),a.push(c)}t||r((0,i.Z)(d,{pinItemIds:a},void 0,n))}))}}function N(e){return{type:"PIN_BUILDER_SET_FAILURE_ERROR_LOGGED",payload:{failureErrorLogged:e}}}function U(e){return{type:"PIN_BUILDER_SET_BATCH_EDIT_MODE",payload:{isBatchEditMode:e}}}function Z(e){return{type:"PIN_EDITOR_SET_PIN_DRAFT",payload:{editedPinDraftId:e}}}function L(e,t,n){return{type:"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD",payload:{pinDraftId:e,pinItemId:t,upload:n}}}function Q(e,t){return{type:"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS",payload:{pinDraftId:e,status:t}}}function W(e,t,n){return{type:"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS",payload:{pinDraftId:e,pinItemId:t,status:n}}}function q(e,t,n){return{type:"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR",payload:{pinDraftId:e,pinItemId:t,xhr:n}}}function H(e,t){return{type:"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD",payload:{pinDraftId:e,pinItemId:t}}}function G(e){return{type:"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD",payload:{pinDraftId:e}}}function X(e,t){return function(n,r){var o=r().pinbuilder.pinDraftIdUploadStatusMap[e];o&&o.items[t]&&o.items[t].xhr&&(o.items[t].xhr.abort(),Object.keys(o.items).length<=1?n(G(e)):n(H(e,t)))}}function Y(e){return{type:"PIN_BUILDER_ADD_CREATED_PIN_ID",payload:{pinId:e}}}function K(e){return{type:"PIN_BUILDER_REMOVE_CREATED_PIN_ID",payload:{pinId:e}}}function z(){return{type:"PIN_BUILDER_CLEAR_CREATED_PIN_IDS"}}function $(e){return{type:"PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE",payload:{closeupImageSignature:e}}}function ee(e){return{type:"PIN_BUILDER_ENTRY_POINT",payload:{entryPoint:e}}}},68545:function(e,t,n){"use strict";n.d(t,{c8:function(){return U},e5:function(){return Z},p3:function(){return L},TD:function(){return W},lT:function(){return q},Nv:function(){return H},xb:function(){return G},RR:function(){return X},I0:function(){return Y},Yr:function(){return K},$K:function(){return z},Ve:function(){return $},QZ:function(){return ee},KT:function(){return te},_B:function(){return ne},Cj:function(){return re},Wo:function(){return ie},ej:function(){return ae},Fz:function(){return ce},dI:function(){return se},Qc:function(){return le},XB:function(){return ue},qF:function(){return de},GX:function(){return pe},X3:function(){return fe},f9:function(){return he},dj:function(){return be},YY:function(){return me},YN:function(){return ge},Ug:function(){return ye},c_:function(){return ve},hb:function(){return xe},DL:function(){return Ie},KN:function(){return we},q0:function(){return _e},By:function(){return je},kp:function(){return Oe},NA:function(){return Ae},_e:function(){return Se},u9:function(){return Pe},to:function(){return Ee},vS:function(){return Ce},WT:function(){return Re},z0:function(){return Fe},iX:function(){return Le},th:function(){return Qe},KF:function(){return We},Ju:function(){return qe},m_:function(){return He},Fu:function(){return Ge}});var r=n(983441),o=n(545840),i=n(129206),a=n(232392),c=n(420884),s=n(578429),l=n(945596),u=n(311866),d=n(76535),p=n(479669),f=n(40197),h=n(757839),b=n(613330),m=n(301314),g=n(310054),y=n(418102),v=n(194099),x=n(549135),I=n(787130),w=n(981444),_=n(547793),j=n(743174),O=n(630269),A=n(919850),S=n(292829),P=n(887018),E=n(874048),k=n(336849),C=n(836110),R=n(234756),B=n(101691);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return{type:"PIN_DRAFT_SET_VIEW",payload:{pinDraftId:e,view:t}}}function Z(e,t){return{type:"PIN_DRAFT_SET_CREATE_METHOD",payload:{pinDraftId:e,createMethod:t}}}function L(e,t){return{type:"PIN_DRAFT_SET_STATUS",payload:{pinDraftId:e,status:t}}}function Q(e,t){return{type:"PIN_DRAFT_SET_PUBLISHING_STATUS",payload:{pinDraftId:e,publishingStatus:t}}}function W(e,t){return{type:"PIN_DRAFT_SET_IS_AD_INELIGIBLE",payload:{pinDraftId:e,isAdIneligible:t}}}function q(e,t,n){return{type:"PIN_DRAFT_SET_API_ERROR",payload:{pinDraftId:e,apiError:t,apiErrorCode:n}}}function H(e,t){return{type:"PIN_DRAFT_SET_SELECTED_ITEM",payload:{pinDraftId:e,selectedItem:t}}}function G(e,t){return{type:"PIN_DRAFT_SET_BOARD_ERROR",payload:{pinDraftId:e,boardError:t}}}function X(e,t){return{type:"PIN_DRAFT_SET_PUBLISH_OPTION",payload:{pinDraftId:e,publishOption:t}}}function Y(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_DATE",payload:{pinDraftId:e,scheduledDate:t}}}function K(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR",payload:{pinDraftId:e,scheduledDateError:t}}}function z(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_TIME",payload:{pinDraftId:e,scheduledTime:t}}}function $(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR",payload:{pinDraftId:e,scheduledTimeError:t}}}function ee(e,t){return{type:"PIN_DRAFT_SET_LAST_EDITED_TIME",payload:{pinDraftId:e,lastEditedTime:t}}}function te(e,t){return{type:"PIN_DRAFT_SET_LAST_SAVED_TIME",payload:{pinDraftId:e,lastSavedTime:t}}}function ne(e,t){return{type:"PIN_DRAFT_SET_MEDIA_ERROR",payload:{pinDraftId:e,mediaError:t}}}function re(e,t){return{type:"PIN_DRAFT_SET_PIN_ITEM_INDEX",payload:{pinDraftId:e,pinItemIndex:t}}}function oe(e,t){return{type:"PIN_DRAFT_SET_PIN_ID",payload:{pinDraftId:e,pinId:t}}}function ie(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN",payload:{pinDraftId:e,storyPin:t}}}function ae(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID",payload:{pinDraftId:e,storyPinDraftId:t}}}function ce(e,t){return{type:"PIN_DRAFT_UPDATE_STORY_PIN_METADATA",payload:{pinDraftId:e,storyPinMetadata:t}}}function se(e,t){return{type:"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED",payload:{pinDraftId:e,isCommentsAllowed:t}}}function le(e,t){return{type:"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED",payload:{pinDraftId:e,isShoppingRecAllowed:t}}}function ue(e,t){return{type:"PIN_DRAFT_SET_PIN_ITEM_IDS",payload:{pinDraftId:e,pinItemIds:t}}}function de(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS",payload:{pinDraftId:e,pinItemIds:t}}}function pe(e){return{type:"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS",payload:{pinDraftId:e}}}function fe(e,t){return{type:"PIN_DRAFT_REMOVE_PIN_ITEM",payload:{pinDraftId:e,pinItemId:t}}}function he(e,t,n,r){return{type:"PIN_DRAFT_SET_WEBSITE_LINK",payload:{pinDraftId:e,websiteLink:t,websiteDefaultImageUrl:r,error:n}}}function be(e,t){return{type:"PIN_DRAFT_ADD_WEBSITE_MEDIA",payload:{pinDraftId:e,media:t}}}function me(e,t){return{type:"PIN_DRAFT_REMOVE_WEBSITE_MEDIA",payload:{pinDraftId:e,mediaUrl:t}}}function ge(e,t){return{type:"PIN_DRAFT_ADD_INTEREST_TAG",payload:{pinDraftId:e,tag:t}}}function ye(e,t){return{type:"PIN_DRAFT_REMOVE_INTEREST_TAG",payload:{pinDraftId:e,id:t}}}function ve(e){return{type:"PIN_DRAFT_CLEAR_INTEREST_TAGS",payload:{pinDraftId:e}}}function xe(e){return{type:"PIN_DRAFT_CLEAR_WEBSITE_MEDIA",payload:{pinDraftId:e}}}function Ie(e,t){return{type:"PIN_DRAFT_SET_ALT_TEXT",payload:{pinDraftId:e,altText:t}}}function we(e,t){return{type:"PIN_DRAFT_SET_ALT_TEXT_ERROR",payload:{pinDraftId:e,altTextError:t}}}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload";return function(n,i){var a=i().pinbuilder.pinDrafts[e],c=a.pinItemIds,s=a.pinItemIndex,l=a.websiteLink,u=a.websiteMedia;if(u.length>0){var p=c[s];n((0,E.mO)(p,u[0])),n((0,E.PF)(p,"webImage"===u[0].type&&u[0].sourceURL?u[0].sourceURL:l)),n((0,E.lZ)(p,null))}u.length>1&&(d.Z.enabled("multi_pin")||d.Z.enabled("multi_pin_pinner")?u.slice(1).forEach((function(e){var t=(0,w.Z)();n((0,r.Z)(t));var i=(0,w.Z)();n((0,o.Z)(t,i,{media:e,link:"webImage"===e.type?e.sourceURL:l}))})):u.slice(1).forEach((function(t){return n((0,o.Z)(e,(0,w.Z)(),{media:t,link:l}))}))),n(xe(e)),n(he(e,"")),n(U(e,t))}}function je(e){return function(t,n){var r=n().pinbuilder.pinDrafts[e],o=r.pinItemIds,i=r.pinItemIndex,a=r.websiteLink,c=r.websiteMedia,s=[];if(c.length>0){var l=o[i];t((0,E.mO)(l,c[0])),t((0,E.PF)(l,"webImage"===c[0].type&&c[0].sourceURL?c[0].sourceURL:a)),t((0,E.lZ)(l,null)),c.forEach((function(e){s.push(e)}))}return t(U(e,"board")),s}}function Oe(e,t){return function(n,r){var i=r().pinbuilder,a=i.pinDrafts,c=i.pinItems,s=i.storyPinItems,l=a[e],u=l.pinItemIds,d=l.type,p=u.indexOf(t),f=u.length-1,h="story"===d?C.hC:E.mO;if(p===f){var b=("story"===d?s[t]:c[t]).media;b&&"webImage"===b.type&&n((0,E.PF)(t,"")),b&&"localVideo"===b.type&&n((0,j.abortPinDraftItemUpload)(e,t)),n(h(t,null))}else n(fe(e,t)),"carousel"===d&&c[u[f]].media&&n((0,o.Z)(e,(0,w.Z)(),null,{saveIndex:!0}))}}function Ae(e,t){return{type:"PIN_DRAFT_UPDATE_DATA",payload:{pinDraftId:e,pinDraft:t}}}function Se(e,t){return{type:"PIN_DRAFT_SET_UPLOAD_START_TIME",payload:{pinDraftId:e,uploadStartTime:t}}}function Pe(e,t){return function(n,r){var o=r(),i=o.pinbuilder.pinDrafts[e],a=i.pinItemIds,c=i.pinItemIndex;if(n(function(e,t){return{type:"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE",payload:{pinDraftId:e,pinItemShareable:t}}}(e,t)),t){var s=a[c],l=o.pinbuilder.pinItems[s],u=l.description,d=l.descriptionError,p=l.link,f=l.linkError,h=l.title,b=l.titleError;a.forEach((function(e){return n((0,E.nh)(e,{description:u,descriptionError:d,link:p,linkError:f,title:h,titleError:b}))}))}}}function Ee(e,t){return function(n,r){var o=r().pinbuilder.pinDrafts[e],i=o.pinItemIds,a=o.pinItemIndex;(o.pinItemShareable?i:[i[a]]).forEach((function(e){return n((0,E.nh)(e,t))}))}}function ke(e,t){var n=t?(0,c.Z)(e,t):null;if(e.customCoverImg){if(n){var r=n.origin_x,o=void 0===r?0:r,i=n.origin_y,a=void 0===i?0:i,s=n.width,l=void 0===s?e.width:s,u=n.height,d=void 0===u?e.height:u;return(0,A.B)(e.customCoverImg.src,{x:o,y:a,width:l,height:d})}return Promise.resolve(e.customCoverImg.src)}if(n){var p=n.origin_x,f=void 0===p?0:p,h=n.origin_y,b=void 0===h?0:h,m=n.width,g=void 0===m?e.width:m,y=n.height,v=void 0===y?e.height:y,x=e.trimmedStartTime,I=e.trimmedEndTime,w=e.duration,_=e.thumbnail,j=x||0,O=_>=j&&_<=(I||w)?_:j;return(0,A.v)(e,O,{x:f,y:b,width:g,height:v})}return(0,A.v)(e,e.thumbnail)}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return function(r,o){var i=o().pinbuilder.pinDrafts[e].interestTags.map((function(e){return e.id}));if(i.length>0){var a={pinId:t,interestIds:i,zenSource:n};u.ZP.create("InterestTaggingResource",a).callCreate().catch((function(){throw new Error("Cannot add tags to the Pin.")}))}}}function Re(e,t){return function(n,r){var o=r().pinbuilder.pinDrafts;n(ee(e,new Date)),!t&&P.qm.includes(o[e].status)||n(L(e,"edited"))}}function Be(e){return new Promise((function(t,n){Promise.all(e.map((function(e){return e.linkBlock&&e.linkBlock.imageUrl&&(0,I.Mn)(e).then((function(t){return Promise.resolve(F(F({},e),{},{linkBlock:t}))})),Promise.resolve(F({},e))}))).then((function(e){t({metadata:{},pages:e.map(k.Zb)})})).catch((function(e){n(e)}))}))}function De(e,t,n,r,o){return{metadata:{pin_title:r,pin_image_signature:e[0].coverImgSignature,basics:null!=o&&o.basics?(0,h.Fe)(o.basics):void 0,diy_data:null==o?void 0:o.diyData,recipe_data:null==o?void 0:o.recipeData,template_type:null==o?void 0:o.templateType},pages:e.map((function(e,n){return(0,k.ng)(e,e.blockIds.map((function(e){return t[e]})),n)}))}}function Te(e,t,n,r,o,i,c){return new Promise((function(s,l){var u=t,p=u.advertiser,f=u.pinbuilder,h=(f.fonts,f.pinDrafts),b=f.pinItems,m=f.storyPinItemBlocks,y=f.storyPinItems,v=h[e],x=v.altText,I=v.pinItemIds,w=v.pinItemIndex,_=v.selectedItem,j=v.storyPinMetadata,A=v.type;if(!_)throw new Error(c._("Cannot create a Pin without a board.","pinBuilder.error.noBoard","Error message about user trying to create a Pin without a board"));var S=o&&p&&p.owner_user_id!==o?p.id:null,E=F(F(F(F({board_id:_.boardId,field_set_key:"create_success",skip_pin_create_log:!0},x?{alt_text:x}:Object.freeze({})),_.sectionId?{section:_.sectionId}:Object.freeze({})),S?{advertiser_id:S}:Object.freeze({})),r?{orbac_subject_id:r}:Object.freeze({}));if("carousel"===A)(0,O.Ch)(I.map((function(e){return b[e]})),e).then((function(e){s(F(F(F({},E),e.metadata),{},{carousel_data_json:{carousel_slots:e.slots}}))})).catch((function(e){l(e)}));else if("story"===A)if(d.Z.enabled("storyPinExpressive")){var k=De(I.map((function(e){return y[e]})).filter((function(e){return!!e.blockIds.length})),m,0,(0,g.pc)(t,{pinDraftId:e}),j);s(F(F({},E),{},{story_pin:JSON.stringify(k)}))}else{Be(I.map((function(e){return y[e]})).filter((function(e){return!!e.media}))).then((function(e){s(F(F({},E),{},{story_pin:JSON.stringify(e)}))})).catch((function(e){l(e)}))}else if("single"===A){var C=I[w],R=b[C],B=R.description,D=R.link,T=R.media,J=R.canvasJson,V=R.title,M=R.userMentionTags;if(!T)throw new Error(c._("Cannot create a Pin without an image or video.","pinBuilder.error.noMedia","Error message about user trying to create a Pin without an image or video"));var N=V.substring(0,P.Ke),U=B.substring(0,P.JO);if("localImage"===T.type)(0,O.xc)(T.src,e).then((function(e){var t=e.signature;t?s(F(F({},E),{},{description:U,link:D,title:N,image_url:(0,O.f)(t),method:"uploaded",upload_metric:{source:(0,a.Z)(i)},user_mention_tags:M})):l()})).catch((function(){var t=c._("Hmm, your upload failed for some reason. Please try again.","pinBuilder.mediaUpload.error","Error message uploading a video file and process fails");n(ne(e,t)),l(new Error(c._("Cannot create Pin because the image could not be uploaded.","pinBuilder.error.noImageUploaded","Error message about user trying to create a Pin without an image uploaded")))}));else if("webImage"===T.type){var Z=h[e].createMethod;s(F(F({},E),{},{description:U,link:D,title:N,image_url:T.src,method:Z||"scraped",scrape_metric:{source:"www_url_scrape"},user_mention_tags:M}))}else{if("localVideo"!==T.type)throw new Error(c._("Cannot create Pin because the media type is not recognized.","pinBuilder.error.noMediaRecognized","Error message about user trying to create a Pin without a recognized media type"));ke(T,J).then((function(t){return(0,O.xc)(t,e).then((function(e){var t=e.signature;if(t)return{image_url:(0,O.f)(t)};throw new Error}))})).then((function(e){var t=e.image_url;return s(F(F({},E),{},{description:U,link:D,title:N,image_url:t,media_upload_id:T.uploadId,user_mention_tags:M}))})).catch((function(){var t=c._("Hmm, your upload failed for some reason. Please try again.","Error message uploading a video file and process fails","Error message uploading a video file and process fails");n(ne(e,t)),l(new Error(c._("Cannot create Pin because the video could not be uploaded.","pinBuilder.error.noVideoUploaded","Error message about user trying to create a Pin without an video uploaded")))}))}}}))}function Je(e,t,n,r,o){return new Promise((function(n,r){var i=t.pinbuilder,a=i.pinDrafts,c=i.pinItems,s=a[e],l=c[s.pinItemIds[s.pinItemIndex]].media;if(!l)throw new Error("Invalid media");if("localImage"===l.type)(0,O.wL)(l.src,e,o).then((function(e){return n({image_signature:e})})).catch((function(){r(new Error("Cannot schedule the Pin."))}));else{if("localVideo"!==l.type)throw new Error("Cannot upload this media type.");var u=l.uploadId;ke(l).then((function(t){return(0,O.wL)(t,e,o)})).then((function(e){return n({image_signature:e,media_upload_id:u})})).catch((function(){r(new Error("Cannot schedule the Pin"))}))}}))}function Ve(e,t,n){return function(r,o){var a=o();if(t&&(t.message||t.message_detail)){var c=t.message_detail||t.message,s=a.pinbuilder.pinDrafts[e],l=s.pinItemIds[s.pinItemIndex],u=[];switch(t.api_error_code){case 9:switch((t.data||{}).source_field){case"description":u.push(F(F({},(0,i.Z)("DESCRIPTION_INVALID",n,l)),{},{message:c}));break;case"title":u.push(F(F({},(0,i.Z)("TITLE_INVALID",n,l)),{},{message:c}));break;default:u.push(F(F({},(0,i.Z)("URL_INVALID",n,l)),{},{message:c}))}break;case 2378:u.push(F(F({},(0,i.Z)("CAROUSEL_DIFFERENT_RATIOS",n,e)),{},{dispatchId:e,message:c}));break;default:r(q(e,c,t.api_error_code))}u.length>0&&r((0,_.dS)(u,e))}}}function Me(e,t,n,r,o,i){return function(a,c){var l=c().pinbuilder.pinDrafts;a(function(e,t){return function(n,r){var o=r().pinbuilder,i=o.pinDrafts,a=o.pinDraftIds,c=o.pinItems,s=o.storyPinItems,l=i[e],u=l.pinItemIds,f=l.type,h=l.interestTags,b=u[0],m="story"===f,g=m?s[b]:c[b],y=g.title,v=g.description,x=g.media,I=m?[]:c[b].userMentionTags,w=m?s[b].linkBlock&&s[b].linkBlock.srcUrl:c[b].link,_=x&&"localVideo"===x.type?"video":"image",j="single"===f?_:f,O=!!y,A=!!v,S=!!w,P=u.reduce((function(e,t){var n=m?s[t]:c[t],r=n.canvasJson,o=n.signals,i=Object.keys(o).map((function(e){return{signal:e,value:o[e]}}));return{canvasJsons:[].concat(T(e.canvasJsons),[r]),signals:[].concat(T(e.signals),T(i))}}),{canvasJsons:[],signals:[]}),E=P.canvasJsons,k=P.signals,C={signals:k,is_multi_pin_create:a.length>1,num_images:!!E&&Math.max.apply(Math,T(E.map((function(e){return e&&e.layout?e.layout.sections.length:1}))))||1,text:E.reduce((function(e,t){return t&&t.text&&e.push({font_family:t.text.fontFamily,position:t.text.position,font_size:t.text.fontSize,margin:t.text.margin,bg_color:t.text.backgroundColor,bg_opacity:t.text.backgroundOpacity,text_color:t.text.textColor}),e}),[]),logo:E.reduce((function(e,t){return t&&t.logo&&e.push({position:t.logo.position,margin:t.logo.margin,size:t.logo.size,bg_color:t.logo.backgroundColor,bg_opacity:t.logo.backgroundOpacity}),e}),[])};x&&"localVideo"===x.type&&d.Z.enabled("videoTagging")&&(C.interest_tags=h.length);var R=F(F({pin_draft_id:e,has_description:A,has_link:S,has_title:O,is_video:"video"===j,media_upload_id:x&&"localVideo"===x.type?x.uploadId:void 0,pin_builder_data:JSON.stringify(C),pin_format:j,num_user_mention_tags:I.length,signals:JSON.stringify(k)},"image"===j||"carousel"===j||"video"===j&&d.Z.enabled("videoEditing")?{has_logo:E.some((function(e){return!!e&&!!e.logo})),has_text:E.some((function(e){return!!e&&!!e.text})),is_cropped:E.some((function(e){if(!e||!e.layout)return!1;var t=e.layout.sections.map((function(e){return e.media}));return t.length>1||1===t.length&&!!t[0]&&(0!==t[0].angle||t[0].flipX||t[0].flipY||t[0].viewbox&&(1!==t[0].viewbox.width||1!==t[0].viewbox.height))})),is_trimmed:x&&"localVideo"===x.type?!!x.trimmedStartTime&&!!x.trimmedEndTime&&!!x.duration&&(x.trimmedStartTime>0||x.duration-x.trimmedEndTime>.01):void 0}:Object.freeze({})),{},{pin_builder_scenario:d.Z.scenario()});if((0,p.Z)(1,F({objectId:t},R)),x&&"localVideo"===x.type)if(x.customCoverImg)(0,p.Z)(7896,{objectId:t});else{var B=(100*x.thumbnail/x.duration).toFixed(2);(0,p.Z)(7517,{objectId:t,percentage_scrubbed:B})}}}(e,t.id));var u=l[e],h=u.pinItemIds,m=u.pinItemIndex,g=u.selectedItem,v=h[m],x=t.board&&t.board.id||g&&g.boardId;return a((0,E.f5)(v,t.id,n&&n.advertiser_id,r,i)).then((function(){a(oe(e,t.id)),a((0,f.Br)({boardId:x,sectionId:t.section?t.section.id:null,increment:1})),a((0,s.Z)({feedId:t.section?t.section.id:x,feedType:t.section?b.DV.SECTION_PINS:b.DV.BOARD_PINS,itemIds:[t.id],itemType:"pin"})),a((0,B.JS)({userId:o,increment:1})),y.eE.publish(x,"pinCreated",{pin:t})}))}}function Fe(e,t,n){return function(r,o){var i=o().pinbuilder.pinDrafts[e].selectedItem,a=t.board,c=a&&a.id||i&&i.boardId;r(oe(e,t.id)),r((0,f.Br)({boardId:c,sectionId:t.section?t.section.id:null,increment:1})),r((0,s.Z)({feedId:t.section?t.section.id:c,feedType:t.section?b.DV.SECTION_PINS:b.DV.BOARD_PINS,itemIds:[t.id],itemType:"pin"})),r((0,B.JS)({userId:n,increment:1})),y.eE.publish(c,"pinCreated",{pin:t})}}function Ne(e){return function(t,n){var r=n().pinbuilder.pinDraftIdUploadStatusMap;return!(!r||!r[e]||"uploading"!==r[e].status)}}function Ue(e){var t=function(){return new Promise((function(e){return setTimeout(e,P.VP)}))},n=function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return u.ZP.create("StoryPinResource",e).callCreate().catch((function(e){return r<P.g1?t().then((function(){return n(r+1)})):Promise.reject(e)}))};return new Promise((function(e,t){n().then((function(t){return e(t)})).catch((function(e){return t(e)}))}))}function Ze(e,t,n,r,o,i){return function(a,c){var s=c().pinbuilder,l=s.pinDrafts,u=s.storyPinItemBlocks,p=s.storyPinItems,f=l[e],h=f.pinItemIds,b=d.Z.enabled("storyPinExpressive"),g=b?h.reduce((function(e,t){var n=p[t].blockIds.map((function(e){return u[e]}));return[].concat(T(e),T(n))}),[]):[],y=g.filter((function(e){var t;return["localImage","webImage"].includes(null===(t=e.media)||void 0===t?void 0:t.type)})).length,v=g.filter((function(e){var t;return["localVideo","webVideo"].includes(null===(t=e.media)||void 0===t?void 0:t.type)})).length;return null==t||t.addBinaryAnnotation("image.count",y,"I16"),null==t||t.addBinaryAnnotation("video.count",v,"I16"),null==t||t.addBinaryAnnotation("page.count",l[e].pinItemIds.length,"I16"),a(L(e,"publishing")),(0,x.j)(8787,{eventData:{storyPinData:{isExpressive:b,numImages:y,numVideos:v,numPages:l[e].pinItemIds.length}},story_pin_upload_id:e}),l[e].uploadStartTime||a(Se(e,new Date)),a((0,_.ZP)(e,"save",i)).then((function(){return a(q(e,null)),a(function(e,t,n,r){return function(o,i){var a=i().pinbuilder,c=a.pinDraftIdUploadStatusMap,s=a.storyPinItemBlocks,l=a.storyPinItems;if(c[e]){var u=Object.keys(c[e].items).filter((function(t){return"queueEdit"===c[e].items[t].status}));if(u.length>0)return u.forEach((function(i){var a=l[i].blockIds.find((function(e){var t;return"localVideo"===(null===(t=s[e].media)||void 0===t?void 0:t.type)}));a&&s[a].media&&s[a].media.signature&&o((0,R.wY)(e,i,t,n,r))})),!0}return!1}}(e,n,r,i))||a(Ne(e))?(a((0,j.setPinBuilderPinDraftUploadStatus)(e,"queueCreate")),null):a((0,S.Wh)(e,i)).then((function(){return a((0,S.Eu)(e))})).then((function(){return a((0,_.ZP)(e,"publishStoryPin",i))})).then((function(){var t=c();return Te(e,t,a,void 0,n,o,i)})).then((function(e){return Promise.all([Ue(e),e])})).then((function(t){var r=D(t,2),o=r[0],i=r[1],s=c().pinbuilder.pinDrafts,l=o.resource_response.data,u=s[e].uploadStartTime,p=u?new Date-u:-1;a((0,m.Sr)("StoryPinResource",i,o)),a(ie(e,l)),a(Fe(e,l,n)),s[e].interestTags.length&&a(Ce(e,l.id,3)),a(function(e){var t=e.imageSig,n=e.numImages,r=e.numPages,o=e.numVideos,i=e.pinDraftId,a=e.pinId,c=e.storyPinDataId,s=e.uploadTime;return function(e){(0,x.j)(7590,{eventData:{storyPinData:{numImages:n,numPages:r,numVideos:o,isExpressive:d.Z.enabled("storyPinExpressive"),storyPinDataIdStr:c}},objectId:a,image_signature:t,story_pin_upload_id:i,upload_time:s})}}({numImages:y,numVideos:v,pinDraftId:e,imageSig:l.imageSignature,numPages:s[e].pinItemIds.length,pinId:l.id,storyPinDataId:l.story_pin_data_id,uploadTime:p})),f.storyPinDraftId?a((0,S.XJ)(f.storyPinDraftId,n)).finally((function(){return a(L(e,"succeeded"))})):a(L(e,"succeeded"))}))})).catch((function(t){var n=c().pinbuilder.pinDrafts,r=n[e].uploadStartTime,o=r?new Date-r:-1;a(Ve(e,t,i)),(0,x.j)(7726,{eventData:{storyPinData:{isExpressive:b,numImages:y,numVideos:v,numPages:n[e].pinItemIds.length}},story_pin_create_failure_message:!!t&&(t.message_detail||t.message),story_pin_upload_id:e,upload_time:o}),a(L(e,"attempted")),a(Se(e,null))}))}}function Le(e,t,n,r,o,i,a){return function(c,s){var p=s().pinbuilder.pinDrafts[e],f=p.scheduledDate,h=p.scheduledTime,b=p.type;c(f&&h?function(e,t,n,r){return function(o,i){var a=i(),c=a.pinbuilder,s=c.pinDrafts,p=c.pinItems;o(L(e,"publishing"));var f=s[e],h=f.pinItemIds,b=f.pinItemIndex,m=f.scheduledDate,g=f.scheduledTime,y=f.selectedItem,x=p[h[b]],I=x.description,w=x.link,O=x.media,A=x.title;return o((0,_.ZP)(e,"save",n)).then((function(){if(o(Ne(e)))return d.Z.enabled("multi_pin")||d.Z.enabled("multi_pin_pinner")?(o((0,j.setPinBuilderPinDraftUploadStatus)(e,"queueCreate")),o(L(e,"uploading"))):o((0,l.Z)(e)),null;if(!m||!g)throw new Error("Cannot schedule a Pin without a scheduled date or time.");var n=new Date(m.getFullYear(),m.getMonth(),m.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()).getTime()/1e3;return Promise.all([Je(e,a,0,0,r),n]).then((function(e){var t=D(e,2),n=t[0],o=t[1];if(!y)throw new Error("Cannot schedule a Pin without a board.");var i=A.substring(0,P.Ke),a=I.substring(0,P.JO),c=n.image_signature,s=n.media_upload_id,l=F(F({description:a,image_signature:c,link:w,media_upload_id:s,title:i,board:y.boardId,scheduled_timestamp:o},y.sectionId?{section:y.sectionId}:{}),r?{orbac_subject_id:r}:{});return u.ZP.create("ScheduledPinResource",l).callCreate()})).then((function(n){if(!O)throw new Error("Cannot schedule a Pin without an image.");var i=n.resource_response.data,a=F(F({},i),{},{localMedia:O.src});o(function(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_PIN",payload:{pinDraftId:e,scheduledPin:t}}}(e,a)),o((0,v.Tn)(i)),o((0,B.h6)({userId:r||t,increment:1})),o(L(e,"succeeded"))}))})).catch((function(){throw o(L(e,"attempted")),new Error("Cannot schedule the Pin.")}))}}(e,n,a,r):"story"===b?Ze(e,t,n,o,i,a):function(e,t,n,r,o,i){return function(a,c){var s=c();return"uploading"!==s.pinbuilder.pinDrafts[e].status&&a(L(e,"publishing")),a((0,_.ZP)(e,"save",i)).then((function(){return a(Q(e,"publishing")),a(Ne(e))?(a((0,j.setPinBuilderPinDraftUploadStatus)(e,"queueCreate")),d.Z.enabled("multi_pin")||d.Z.enabled("multi_pin_pinner")?a(L(e,"uploading")):a((0,l.Z)(e)),null):Te(e,s,a,t,r,o,i).then((function(e){return Promise.all([u.ZP.create("PinResource",e).callCreate(),e])})).then((function(o){var i=D(o,2),c=i[0],s=i[1],l=c.resource_response.data;a((0,m.Sr)("PinResource",s,c)),d.Z.enabled("videoTagging")&&a(Ce(e,l.id)),a(Me(e,l,s,n,r,t)).then((function(){a(L(e,"succeeded")),a(Q(e,"succeeded")),a((0,j.addCreatedPinId)(l.id))}))})).catch((function(t){a(Ve(e,t,i)),a(L(e,"attempted")),a(Q(e,"serverError"))}))})).catch((function(){a(L(e,"created")),a(Q(e,"clientError"))}))}}(e,r,o,n,i,a))}}function Qe(e,t){return function(n,r){var o=r().pinbuilder,i=o.pinDrafts,a=o.pinItems,c=o.storyPinItems,s=i[e],l=s.pinItemIds,u=s.pinItemIndex,d=s.type;if("single"===d||"story"===d){var p=l[u],f=("story"===d?c[p]:a[p]).media;if(f&&!f.signature){var h=f.src;(0,O.GV)(h,"pinimage").then((function(r){var o=r.signature;n((0,E.Sz)(p,{signature:o})),n((0,_.ZP)(e,"signal",t,{fieldToCheck:"image_signature"})).catch((function(){}))}))}}}}function We(e,t,n,r,o,i,a,c){return function(s,l){var u=l().pinbuilder.pinDrafts[e],d=u.pinItemIds,p=u.type;d.forEach((function(e){var i=n[e]||{},a=i.canvasJson,c=i.media,l=t===e?r:c,u=t===e?o:a,d="story"===p?C.WZ:E.k8;u&&l&&s(d(e,l,u))}));var f=n[t].media;"single"===p&&f&&"localVideo"===f.type?s((0,R.qX)(e,i,a,c)):s(Qe(e,c))}}function qe(e,t,n,r,o,i,a){return function(c,s){var l=s().pinbuilder,u=l.pinDrafts,d=l.pinDraftIds,p=l.pinItems,f=l.storyPinItems,h=u[e],b=h.mode,m=h.pinItemIds,g=h.pinItemIndex,y=h.type,v=m[g],x=("story"===y?f[v]:p[v]).media;if("create"===b){if(x&&"localVideo"===x.type&&0===d.length)return c((0,R.dG)(e,v,n,o,a)),void c((0,j.setPinBuilderPinDraftUploadStatus)(e,"queueCreate"));c(Le(e,t,n,r,o,i,a))}else"edit"===b&&c(function(e,t,n){return function(r,o){var i=o().pinbuilder.pinDrafts[e],a=i.pinItemIds[i.pinItemIndex];r((0,E.EY)(a,e,t,n))}}(e,o,r))}}function He(e,t,n,r,i,a){return function(c,s){var l=s().pinbuilder.pinDrafts[e],u=l.pinItemIds,d=l.pinItemIndex,p=l.websiteLink,f=l.websiteMedia,h=l.selectedItem,b=l.createMethod,m="webImage"===f[0].type&&f[0].sourceURL?f[0].sourceURL:p,g=u[d];c((0,E.mO)(g,f[0])),c((0,E.PF)(g,m)),c(Le(e,void 0,t,a,n,r,i)),f.slice(1).forEach((function(e){var s=(0,w.Z)(),l=(0,w.Z)();c((0,o.Z)(s,l,{media:e,link:m})),c(H(s,h)),b&&c(Z(s,b)),c(Le(s,void 0,t,a,n,r,i))}))}}function Ge(e){return function(t,n){var r,o=n().pinbuilder.pinDrafts,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=J(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(Object.entries(o));try{for(i.s();!(r=i.n()).done;){var a=D(r.value,2),c=a[0];if(a[1].pinId===e)return void t((0,l.Z)(c))}}catch(s){i.e(s)}finally{i.f()}}}},874048:function(e,t,n){"use strict";n.d(t,{jP:function(){return v},kS:function(){return x},mO:function(){return I},Sz:function(){return w},PF:function(){return _},lZ:function(){return j},OD:function(){return O},C_:function(){return S},k8:function(){return P},nh:function(){return E},yV:function(){return C},EY:function(){return B},f5:function(){return D},kf:function(){return T},oe:function(){return J},hL:function(){return V},b0:function(){return M}});var r=n(83235),o=n(508841),i=n(373078),a=n(945596),c=n(311866),s=n(878243),l=n(926142),u=n(301314),d=n(297189),p=n(396848),f=n(549135),h=n(981444),b=n(630269);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n){return{type:"PIN_ITEM_SET_DESCRIPTION_ERROR",payload:{pinItemId:e,descriptionError:t,signals:n}}}function x(e,t,n){return{type:"PIN_ITEM_SET_TITLE_ERROR",payload:{pinItemId:e,titleError:t,signals:n}}}function I(e,t){return{type:"PIN_ITEM_SET_MEDIA",payload:{pinItemId:e,media:t}}}function w(e,t){return{type:"PIN_ITEM_UPDATE_MEDIA",payload:{pinItemId:e,media:t}}}function _(e,t){return{type:"PIN_ITEM_SET_LINK",payload:{pinItemId:e,link:t}}}function j(e,t,n){return{type:"PIN_ITEM_SET_LINK_ERROR",payload:{pinItemId:e,linkError:t,signals:n}}}function O(e,t){return{type:"PIN_ITEM_SET_TAG_ERROR",payload:{pinItemId:e,tagError:t}}}function A(e,t){return function(n,r){n("created"===r().pinbuilder.pinTags[t].status?function(e,t){return{type:"PIN_ITEM_REMOVE_PIN_TAG",payload:{pinItemId:e,pinTagId:t}}}(e,t):(0,d.Cf)(t,"deleted"))}}function S(e,t){return{type:"PIN_ITEM_SET_SELECTED_PIN_TAG_ID",payload:{pinItemId:e,selectedPinTagId:t}}}function P(e,t,n){return{type:"PIN_ITEM_SET_EDITED_IMAGE",payload:{pinItemId:e,editedMedia:t,canvasJson:n}}}function E(e,t){return{type:"PIN_ITEM_UPDATE_DATA",payload:{pinItemId:e,pinItem:t}}}var k=function(e){(0,f.j)(9070,{view:212,component:13308,element:10973,api_error_code:e.api_error_code,api_error_message:e.message})};function C(e){var t=(0,l.A$)();return function(n,r){var o=r(),i=o.pinbuilder.pinItems[e].selectedPinTagId;n(S(e,null)),i&&0===t(o,{pinTagId:i}).length&&n(A(e,i))}}function R(e,t,n){return e.map((function(e){var r=e.id,i=e.link,a=e.media,c=e.type;return!!(0,o.Z)(i)&&/\/pin\/[\w-]+\/?$/.test(i)||"pin"===c?{id:r}:(0,b.iX)(g({link:i,board_id:t,image_url:a?a.url:"",method:"scraped",scrape_metric:{source:"www_url_scrape"}},n?{orbac_subject_id:n}:Object.freeze({})))}))}function B(e,t,n,r){return function(o,s){var l=s(),d=l.pinbuilder,f=d.pinItems,h=d.pinTags,m=f[e].pinTagIds.map((function(e){var o=h[e].status;return"deleted"===o?function(e,t,n,r){return c.ZP.create("VisualLinkPinTagResource",{pinTagId:e,id:t,orbacSubjectId:r}).callDelete()}(e,t,0,r):"created"===o?function(e,t,n,r,o){var i=n.pinbuilder,a=i.pinTags,s=i.taggedObjects,l=a[e],u=l.taggedObjectIds,d=l.x,p=l.y;return(0,b.Fv)(o).then((function(e){var n=R(u.map((function(e){return s[e]})),e.id,o);return Promise.all(n).then((function(e){return c.ZP.create("VisualLinkPinTagsAndObjectsResource",g({pinId:t,pinTagsAndObjects:[{country:r,height:0,tagged_objects:e.map((function(e){return e.id})),width:0,x_coord:100*d,y_coord:100*p}]},o?{orbacSubjectId:o}:Object.freeze({}))).callUpdate().catch((function(e){k(e)}))}))}))}(e,t,l,n,r):"edited"===o?function(e,t,n,r){var o=n.pinbuilder,i=o.pinTags,a=o.taggedObjects,s=i[e],l=s.pinTagKey,u=s.taggedObjectIds,d=s.x,p=s.y;return(0,b.Fv)(r).then((function(n){var o=R(u.filter((function(e){return"created"===a[e].status})).map((function(e){return a[e]})),n.id,r);return Promise.all(o).then((function(n){var o=c.ZP.create("VisualLinkTaggedObjectsBatchResource",g({pinTagKey:l,taggedObjectIds:n.map((function(e){return e.id})),taggedObjectSource:"pinterest-client"},r?{orbac_subject_id:r}:Object.freeze({}))).callUpdate(),i=c.ZP.create("VisualLinkTaggedObjectsResource",{pinTagId:e,taggedObjectIds:u.filter((function(e){return"deleted"===a[e].status}))}).callDelete();return Promise.all([o,i]).then((function(){return c.ZP.create("VisualLinkPinTagResource",g({pinTagId:e,id:t,pinTag:{dimensions:{x:100*d,y:100*p}}},r?{orbacSubjectId:r}:Object.freeze({}))).callCreate()}))}))}))}(e,t,l,r):null}));Promise.all(m).then((function(){o((0,u.jB)("PinResource",(0,i.Z)(t))),o((0,u.jB)("VisualLinkTopTaggedObjectsResource",(0,p.topTaggedObjectsResourceOptions)(t,!0))),o((0,a.Z)(t))}))}}function D(e,t,n,r,o){return function(i,a){var s=a().pinbuilder,l=s.pinItems,u=s.pinTags,d=s.taggedObjects;if(!l[e])return Promise.resolve();var p=l[e].pinTagIds,f=p.reduce((function(e,t){return u[t].taggedObjectIds.forEach((function(t){return e.push(d[t])})),e}),[]);return f.length>0?(0,b.Fv)(o).then((function(e){var i=R(f,e.id,o);return Promise.all(i).then((function(e){var i=e.map((function(e){return e.id})),a=p.map((function(e){var t=u[e],n=t.taggedObjectIds,o=t.x,a=t.y,c=i.splice(0,n.length);return{country:r,height:0,tagged_objects:c,width:0,x_coord:100*o,y_coord:100*a}}));c.ZP.create("VisualLinkPinTagsAndObjectsResource",g({pinId:t,pinTagsAndObjects:a,advertiserId:n},o?{orbacSubjectId:o}:Object.freeze({}))).callUpdate({}).catch((function(e){k(e)}))}))})):Promise.resolve()}}function T(e,t){return{type:"PIN_ITEM_SET_IS_TAGGABLE",payload:{pinItemId:e,isTaggable:t}}}function J(e,t){return function(n){n((0,r.Z)(e,t,{id:t,x:0,y:0})),n(S(e,t))}}function V(e,t,n){return function(o){var i=(0,h.Z)();o((0,r.Z)(e,i,{id:i,x:t,y:n})),o(S(e,i))}}function M(e){var t=(0,s.vd)(),n=(0,l.A$)();return function(r,o){var i=o();r(O(e,null)),t(i,{pinItemId:e}).forEach((function(t){0===n(i,{pinTagId:t}).length&&r(A(e,t))}))}}},297189:function(e,t,n){"use strict";n.d(t,{uM:function(){return s},mz:function(){return l},Cf:function(){return u},Go:function(){return d},Dn:function(){return p}});var r=n(167646),o=n(258411);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return{type:"PIN_TAG_SET_COORDINATES",payload:{pinTagId:e,x:t,y:n}}}function l(e,t,n){return{type:"PIN_TAG_SET_LINK",payload:{pinTagId:e,link:t,error:n}}}function u(e,t){return{type:"PIN_TAG_SET_STATUS",payload:{pinTagId:e,status:t}}}function d(e,t){return function(n,r){n("created"===r().pinbuilder.taggedObjects[t].status?function(e,t){return{type:"PIN_TAG_REMOVE_TAGGED_OBJECT",payload:{pinTagId:e,taggedObjectId:t}}}(e,t):(0,o.k)(t,"deleted"))}}function p(e,t,n){return function(o,i){o((0,r.Z)(e,t,a(a({},n),{},{id:t,link:i().pinbuilder.pinTags[e].link}))),o(l(e,""))}}},406516:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(545840),o=n(741993),i=n(234205),a=n(629973),c=n(371599),s=n(232392),l=n(731164),u=n(76535),d=n(372802),p=n(743174),f=n(575108),h=n(292829),b=n(234756),m=n(874048),g=n(981444),y=n(129206),v=n(297583),x=n(887018),I=n(68545),w=n(836110);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,_,O,A){return function(S,P){var E=P(),k=E.pinbuilder.pinDrafts[e],C=k.pinItemIds,R=k.pinItemIndex,B=k.pinItemShareable,D=k.status,T=k.type,J=C.length,V="story"===T,M=V&&u.Z.enabled("storyPinExpressive"),F=D;S((0,I.p3)(e,"processing")),S((0,I._B)(e,null));var N=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n){S(t&&M?(0,I.WT)(e,!0):(0,I.p3)(e,F)),n()}))},U=t.map((function(e){return(0,d.Z)(A,e,{allowVideo:u.Z.enabled("video"),forStoryPin:u.Z.enabled("storyPinExpressive")})}));return Promise.all(U).then((function(t){var d=!1,P=[],k=[],D=C[0],F=E.pinbuilder,U=F.pinItems,Z=F.storyPinItemBlocks,L=F.storyPinItems,Q=V?L[D]:U[D],W=Q.description,q=Q.media,H=Q.title,G=M&&L[D].blockIds||[],X=C.length<=1&&(!q&&!M||M&&!G.length),Y=C[R],K=L[Y],z=!1;K&&(z=M?!!K.blockIds.find((function(e){return!!Z[e].media})):!!K.media);var $=!V||V&&!z||X;if(V&&!M&&0===R&&$&&"localVideo"===t[0].type){S((0,I.lT)(e,(0,y.Z)("STORY_PIN_VIDEO_ON_COVER",A).message));var ee=t.findIndex((function(e){return"localVideo"!==e.type}));if(-1===ee)return N();t.splice(0,ee)}if(function(e,t,n){return"story"===t?e:"carousel"!==t&&e.length>0&&"localVideo"===e[0].type?e.slice(0,1):e.filter((function(e){return"localVideo"!==e.type}))}(t,T).forEach((function(e){"localImage"===e.type?(k.push(e),l.Z.increment("pin_builder.media_upload.image_selected",1,{source:(0,s.Z)(n)})):"localVideo"===e.type?(k.push(e),l.Z.increment("pin_builder.media_upload.video_selected",1,{source:(0,s.Z)(n)})):P.push(e)})),V&&P.length&&function(e){e.forEach((function(e){switch(e.id){case"STORY_PIN_VIDEO_OVER_MAX_DURATION":l.Z.increment("story_pin.upload.video.over_max_duration",1,{app_type:"web"});break;case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":l.Z.increment("story_pin.upload.video.over_max_file_size",1,{app_type:"web"});break;case"VIDEO_UNRECOGNIZED_ENCODING":l.Z.increment("story_pin.upload.video.invalid_format",1,{app_type:"web"})}}))}(P),!k.length)return P.length>0&&(u.Z.enabled("storyPinExpressive")&&P.length>1?S((0,I._B)(e,A._("Uh oh, your files could not be uploaded. Please make sure the files chosen fit within our requirements","pinbuilder.processFiles.invalidFiles","Error message notifying User all of their selected files could not be uploaded"))):S((0,I._B)(e,P[P.length-1].message))),N();P.length>0&&u.Z.enabled("storyPinExpressive")&&S((0,I._B)(e,A._("Uh oh, one or more of your files could not be uploaded","pinbuilder.processFiles.invalidFiles","Error message notifying User some of their selected files could not be uploaded")));var te="carousel"===T||"single"===T&&k.length>1,ne=q||k[0],re=V?x.yX:x.dS,oe=function(t,n,o,a){var c=o?Object.assign(t,o.getCanvasOutput({width:a})):t;M&&"localImage"===c.type&&delete c.fileSrc;var s=o?o.toJSON():null,l=V?void 0:U[D].link,u={media:c,canvasJson:s},y=C[R];if(V)if(0===n&&$){var x=L[y].media;d=!!x&&1===k.length,x&&"localVideo"===x.type&&S((0,p.abortPinDraftItemUpload)(e,y)),S((0,w.JQ)(e,y,u)),M&&0===R&&(S((0,f.Uo)(e,y,(0,g.Z)(),v.j7)),S((0,w.d5)(e,y,7)))}else y=(0,g.Z)(),S((0,i.Z)(e,y,u,{saveIndex:X})),M&&S((0,w.d5)(e,y,7));else{var I=j(j({},B?{description:W,link:l,title:H}:{}),u);if(0===n){var P=U[y].media;d=!!P&&1===k.length,P&&"localVideo"===P.type&&S((0,p.abortPinDraftItemUpload)(e,y)),S((0,m.nh)(y,I))}else y=(0,g.Z)(),S((0,r.Z)(e,y,I))}"localVideo"===c.type?S((0,b.dG)(e,y,_,O,A)):"localImage"===c.type&&M&&S((0,h.Uz)(e,y))},ie=function(t){return k.slice(0,$?re-J+1:re-J).reduce((function(e,n,r){return e.then((function(){return"localImage"===n.type&&t?(t.resize(n.width,n.height),t.setImage(n.src).then((function(){var e=ne.width;if(t)if(V)if(M){var o=n.width/n.height;if(o<1)e=Math.min(v.er,n.width);else e=Math.min(v.er,n.height)*o}else t.setAspectRatio((0,a.Z)("story")[0]);else{var i,s,l=X&&k.length>1?(0,c.Z)(null!==(i=ne.width)&&void 0!==i?i:1,null!==(s=ne.height)&&void 0!==s?s:1):{w:ne.width,h:ne.height};t.setAspectRatio(l)}return oe(n,r,t,e)}))):oe(n,r)}))}),Promise.resolve()).then((function(){!P.length&&te&&!d&&J+k.length<=x.dS&&S((0,r.Z)(e,(0,g.Z)(),null,{saveIndex:!0})),S((0,I._B)(e,P.length?P[P.length-1].message:null)),V||te||!u.Z.enabled("imageSignals")||S((0,I.th)(e,A))}))};return te||V?(0,o.Z)().then((function(e){var t=new e(document.createElement("div"));return ie(t).then((function(){return N(!0)}))})):ie().then((function(){return N(!0)}))}))}}},258411:function(e,t,n){"use strict";function r(e,t){return{type:"TAGGED_OBJECT_SET_STATUS",payload:{taggedObjectId:e,status:t}}}n.d(t,{k:function(){return r}})},547793:function(e,t,n){"use strict";n.d(t,{dS:function(){return u}});var r=n(612657),o=n(129206),i=n(230118),a=n(68545),c=n(874048),s=n(836110);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(n,i){e.forEach((function(e){var u=e.dispatchId||"",d=i().pinbuilder;switch(r.default.logToServer(r.default.SERVER_LOG_TYPE.ERROR,r.default.HTTP_METHOD.POST,{errorObj:{name:"React PinBuilder Exception",message:e.message,store:{pinbuilder:d}},auxData:{dispatchId:e.dispatchId,pinDraftId:t}}),(0,o.G)(e.id,e.message),e.id){case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":n((0,a.KN)(u,e.message));break;case"BOARD_MISSING":n((0,a.xb)(u,e.message));break;case"DATE_TOO_FAR_IN_FUTURE":case"DATE_IN_PAST":case"DATE_MISSING":n((0,a.Yr)(u,e.message));break;case"CAROUSEL_DIFFERENT_RATIOS":n((0,a.lT)(u,e.message));break;case"CAROUSEL_INVALID_FORMAT":case"MEDIA_MISSING":n((0,a._B)(u,e.message));break;case"TIME_MISSING":n((0,a.Ve)(u,e.message));break;case"TITLE_INVALID":n((0,c.kS)(u,e.message));break;case"DESCRIPTION_INVALID":n((0,c.jP)(u,e.message));break;case"IMAGE_IS_BLURRY":case"IMAGE_IS_SCREENSHOT":case"LINK_LOADS_SLOWLY":case"LINK_IS_AGGREGATOR":case"IMAGE_UNDER_MIN_DIMENSIONS":case"VIDEO_UNDER_MIN_DIMENSIONS":case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":n((0,c.nh)(u,{signals:l({},e.id,!0)}));break;case"TAG_INVALID":case"URL_INVALID":case"URL_IS_REDIRECT":case"URL_MISSING":case"URL_UNREACHABLE":case"URL_CONTAINS_PORN_DOMAIN":var p=i().pinbuilder,f=p.pinDrafts,h=p.pinDraftIds,b="URL_UNREACHABLE"===e.id||"URL_CONTAINS_PORN_DOMAIN"===e.id?l({},e.id,!0):void 0;h&&"story"===f[h[0]].type?(n((0,s.qG)(u,e.message)),n((0,s.pq)(u,{isFetching:!1}))):n((0,c.lZ)(u,e.message,b));break;case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":case"STORY_PIN_COVER_PAGE_TITLE_MISSING":case"STORY_PIN_TITLE_MISSING":case"STORY_PIN_NOT_ENOUGH_PAGES":case"STORY_PIN_VIDEO_ON_COVER":n((0,a.lT)(u,e.message))}}))}}t.ZP=function(e,t,n,r){return function(o,a){return o(function(e,t,n,r){return function(o){switch(t){case"save":return o((0,i.x)(e,n));case"edit":return o((0,i.J6)(e,n));case"publishStoryPin":return o((0,i.f5)(e,n));case"link":return Promise.all(o((0,i.Oc)(e,n))).then((function(e){return e.filter(Boolean).flat()}));case"signal":var a=r?r.fieldToCheck:null;return o((0,i.DY)(e,n,a)).then((function(e){return e.filter(Boolean)}));default:return Promise.resolve([])}}}(e,t,n,r)).then((function(t){if(t.length>0&&(o(u(t,e)),t.some((function(e){return e.blocking}))))throw new Error;return Promise.resolve()}))}}},234756:function(e,t,n){"use strict";n.d(t,{wY:function(){return I},dG:function(){return w},qX:function(){return _}});var r=n(420884),o=n(731164),i=n(76535),a=n(479669),c=n(887018),s=n(874048),l=n(575108),u=n(836110),d=n(176948),p=n(743174),f=n(68545),h=n(630269);function b(e,t,n,r,o,c){return function(d,p){var f=p().pinbuilder,h=f.storyPinItemBlocks,b=f.storyPinItems;if(o)if(i.Z.enabled("storyPinExpressive")&&b[t]&&b[t].blockIds.length){var m=b[t].blockIds.find((function(e){return"story_pin_video_block"===h[e].type}));m&&d((0,l.PF)(e,m,{uploadId:n}))}else d((0,u.Bl)(t,{uploadId:n}));else d((0,s.Sz)(t,{uploadId:n}));(0,a.Z)(7518,{file_size_mb:r.fileSrc.size/Math.pow(1024,2),media_upload_id:n,story_pin_page_id:c,video_duration:r.duration})}}function m(e){var t=e.amzId2,n=e.amzRequestId,r=e.statusCode,i=e.storyPageNumber,c=e.uploadId,s=e.uploadTime,l=e.video;(0,a.Z)(7519,{aws_tracking_ids:JSON.stringify([n,t]),file_size_mb:l.fileSrc.size/Math.pow(1024,2),media_upload_id:c,status_code:r,story_pin_page_id:i,upload_time:s,video_duration:l.duration}),o.Z.increment("video_pin_creation.uploading.success",1,{app_type:"web"})}function g(e,t,n,r){(0,a.Z)(8809,{file_size_mb:n.fileSrc.size/Math.pow(1024,2),media_upload_id:e,story_pin_page_id:r,video_duration:n.duration,video_signature:t})}function y(e,t,n,r,o){(0,a.Z)(7520,{file_size_mb:r.fileSrc.size/Math.pow(1024,2),media_upload_id:e,processing_time:t,story_pin_page_id:o,video_duration:r.duration,video_signature:n}),(0,a.Z)(7521,{file_size_mb:r.fileSrc.size/Math.pow(1024,2),media_upload_id:e,story_pin_page_id:o,video_duration:r.duration,video_signature:n})}function v(e,t,n,r,i){(0,a.Z)(8786,{error_message:t,file_size_mb:r.fileSrc.size/Math.pow(1024,2),media_upload_failure_reason:n||"general",media_upload_id:e,story_pin_page_id:i,video_duration:r.duration}),o.Z.increment("video_pin_creation.uploading.failure",1,{failure_reason:t})}function x(e,t,n){(0,a.Z)(7684,{file_size_mb:t.fileSrc.size/Math.pow(1024,2),media_upload_id:e,story_pin_page_id:n,video_duration:t.duration})}function I(e,t,n,r,o){return function(i,a){var c=a().pinbuilder,s=c.storyPinItemBlocks,u=c.storyPinItems;if(u[t]&&u[t].blockIds.length){var b=u[t].blockIds.find((function(e){return"story_pin_video_block"===s[e].type})),m=b?s[b].media:null;if(b&&m&&"localVideo"===m.type&&m.signature&&void 0!==m.trimmedEndTime&&void 0!==m.trimmedStartTime&&(0!==m.trimmedStartTime||m.trimmedEndTime!==m.duration)){var g=m.signature,y=m.trimmedEndTime,v=m.trimmedStartTime;i((0,p.setPinBuilderPinItemUploadStatus)(e,t,"uploadingEdit")),i((0,l.PF)(e,b,{signature:null})),(0,h.Yv)(g,"video-story-pin",{time_start:(0,d.TA)(v),time_end:(0,d.TA)(y)},{onStartEdits:function(t){return i((0,l.PF)(e,b,{uploadId:t}))}}).then((function(c){var s=a().pinbuilder.pinDraftIdUploadStatusMap;i((0,l.PF)(e,b,{signature:c.signature})),i((0,p.setPinBuilderPinItemUploadStatus)(e,t,"completed"));var u=Object.keys(s[e].items).filter((function(t){return s[e].items[t].status.startsWith("uploading")||s[e].items[t].status.startsWith("queue")}));(0===u.length||1===u.length&&u[0]===t)&&"queueCreate"===s[e].status&&(i((0,f.iX)(e,void 0,n,void 0,r,!1,o)),i((0,p.removePinBuilderPinDraftUpload)(e)))})).catch((function(){i((0,f._B)(e,o._("Video edit upload failed","pinbuilder.upload.video.edit.error","Error message for setting the edit values for video"))),i((0,f.p3)(e,"attempted")),i((0,l.PF)(e,b,{signature:g})),i((0,p.setPinBuilderPinItemUploadStatus)(e,t,"queueEdit"))}))}}}}function w(e,t,n,r,o){return function(a,d){var w=d().pinbuilder,_=w.pinDrafts,j=w.pinDraftIds,O=w.pinItems,A=w.storyPinItemBlocks,S=w.storyPinItems,P=_[e],E=P.pinItemIds,k=P.status,C="story"===P.type,R=(C?S[t]:O[t]).media,B=i.Z.enabled("storyPinExpressive"),D=C?E.findIndex((function(e){return e===t})):void 0,T=B&&S[t]&&S[t].blockIds.length?S[t].blockIds.find((function(e){return"story_pin_video_block"===A[e].type})):null,J=T?A[T].media:R;if(!J||"localVideo"!==J.type)throw new Error("Unable to upload video - media is invalid.");a((0,f._B)(e,null)),"succeeded"===k&&a((0,f.p3)(e,"uploading")),a((0,p.setPinBuilderPinDraftUploadStatus)(e,"uploading")),a((0,p.addPinBuilderPinDraftItemUpload)(e,t,{status:"uploading",xhr:null}));var V=function(e){return a((0,u.Bl)(t,{uploadProgress:Math.round(e.loaded/e.total*100)}))};B&&T&&(V=function(t){return a((0,l.PF)(e,T,{uploadProgress:Math.round(t.loaded/t.total*100)}))});!function w(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,h.fh)(J.fileSrc,C?"video-story-pin":"video",B||!i.Z.enabled("videoEditing"),{onCancelUpload:function(e){return x(e,J,D)},onFailureUpload:function(e){var t=e.message,n=e.failureReason;return v(e.uploadId,t,n,J,D)},onFinishProcessing:function(e){var t=e.processingTime,n=e.signature;return y(e.uploadId,t,n,J,D)},onFinishUpload:function(e){var t=e.amzId2,n=e.amzRequestId,r=e.statusCode,o=e.uploadId,i=e.uploadTime;return m({amzId2:t,amzRequestId:n,statusCode:r,storyPageNumber:D,uploadId:o,uploadTime:i,video:J})},onProgress:function(e){return C?V(e):a((0,s.Sz)(t,{uploadProgress:Math.round(e.loaded/e.total*100)}))},onStartProcessing:function(e){var t=e.signature;return g(e.uploadId,t,J,D)},onStartUpload:function(n){var r=n.uploadId;return a(b(e,t,r,J,C,D))},setXhr:function(n){return a((0,p.setPinBuilderPinItemUploadXhr)(e,t,n))}}).then((function(c){var h=d().pinbuilder.pinDraftIdUploadStatusMap;if(a((0,p.setPinBuilderPinItemUploadXhr)(e,t,null)),C)if(B&&T){if(a((0,l.PF)(e,T,{signature:c.signature})),h[e]&&h[e].items[t]&&"queueEdit"===h[e].items[t].status)return void("queueCreate"===h[e].status&&a(I(e,t,n,r,o)))}else a((0,u.Bl)(t,{signature:c.signature}));else a((0,s.Sz)(t,{signature:c.signature}));a((0,p.setPinBuilderPinItemUploadStatus)(e,t,"completed"));var b=Object.keys(h[e].items).filter((function(t){return h[e].items[t].status.startsWith("uploading")||h[e].items[t].status.startsWith("queue")}));"queueCreate"===h[e].status&&(0===b.length||1===b.length&&b[0]===t)&&(a((0,f.iX)(e,void 0,n,void 0,r,!1,o)),a((0,p.setPinBuilderPinDraftUploadStatus)(e,"completed"))),(0===b.length||1===b.length&&!!h[e].items[t])&&(i.Z.enabled("multi_pin")||i.Z.enabled("multi_pin_pinner")||i.Z.enabled("offsite_pin_creation_multi_select")||C||"queueCreate"!==h[e].status)&&a((0,p.removePinBuilderPinDraftUpload)(e))})).catch((function(n){var r=d().pinbuilder.pinDraftIdUploadStatusMap;if(!n||n.isError)if(B&&_<c.g1)w(_+1);else{var i=j.length>1?o._("Upload failed","pinbuilder.upload.video.upload.error","Error message uploading a video file"):o._("Upload failed. Try again?","pinbuilder.upload.video.upload.error","Error message uploading a video file + asks User if they would like to try again");a((0,f._B)(e,i)),a((0,f.p3)(e,"attempted")),a((0,p.removePinBuilderPinItemUpload)(e,t)),1===Object.keys(r[e].items).length&&a((0,p.removePinBuilderPinDraftUpload)(e))}}))}()}}function _(e,t,n,o){return function(i,a){var c=a().pinbuilder,l=c.pinDrafts,u=c.pinItems,d=c.pinDraftIds,b=l[e],m=b.pinItemIds,g=b.pinItemIndex;if("single"===b.type){var y=m[g],v=u[y],x=v.media,I=v.canvasJson,w=x&&x.signature?x.signature:null;if(x&&w){var _=I?(0,r.Z)(x,I):null;_&&(0,h.Yv)(w,"video",_,{onStartEdits:function(e){return i((0,s.Sz)(y,{uploadId:e}))}}).then((function(){"queueCreate"===a().pinbuilder.pinDraftIdUploadStatusMap[e].status&&i((0,f.iX)(e,void 0,t,void 0,n,!1,o)),i((0,p.removePinBuilderPinDraftUpload)(e))})).catch((function(){var t=d.length>1?o._("Upload failed","pinbuilder.upload.video.edit.error","Error message uploading an edit for the video"):o._("Upload failed. Try again?","pinbuilder.upload.video.edit.error","Error message uploading an edit for the video + asks if they would like to try again");i((0,f._B)(e,t)),i((0,f.p3)(e,"attempted")),i((0,p.removePinBuilderPinDraftUpload)(e))}))}}}}},964581:function(e,t,n){"use strict";n.d(t,{Z:function(){return ar}});var r=n(793550),o=n(174523),i=n(218265),a=n(80209);function c(e){var t=e.color,n=e.duration,c=e.type,s=(0,o.ZP)();return(0,a.jsx)(i.xu,{color:t,display:"flex",rounding:"pill",paddingX:2,paddingY:1,children:"localVideo"===c||"dropboxVideo"===c?(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.JO,{accessibilityLabel:s._("Video icon","Icon label to tell if media type is a video","Icon label to tell if media type is a video"),color:"white",icon:"video-camera"}),!!n&&(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xv,{color:"white",size:"md",children:n})})]}):(0,a.jsx)(i.xv,{color:"white",size:"md",children:s._("GIF","Text to represent media is a GIF image","Text to represent media is a GIF image")})})}var s=n(892882),l=n(805092),u=n(887018);function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.addAssets,n=(0,o.ZP)(),c=(0,r.useCallback)((function(e){return t?t(e):function(){}}),[t]);return(0,a.jsx)(i.xu,{height:160,marginBottom:4,rounding:2,width:160,children:(0,a.jsx)(s.Z,{accept:[].concat(d(u.xl),d(u.ss)).join(","),allowMultipleFiles:!0,id:"asset-empty-view-upload",onChange:function(e){var t=Array.from(e.target.files);c(t)},onDrop:function(e){var t=(0,l.Z)(e.dataTransfer);c(t)},children:function(){return(0,a.jsx)(i.xu,{alignItems:"center",color:"lightGray",display:"flex",height:"100%",justifyContent:"center",rounding:2,children:(0,a.jsx)(i.JO,{accessibilityLabel:n._("Add assets","Accessibility label for adding images and videos","Accessibility label for adding images and videos"),icon:"add-circle",size:32})})}})})}function h(e){return-1===e.indexOf(".")?"":e.trim().split(".").pop().toLowerCase()}function b(e){var t=h(e.name);return"dropboxFolder"===e.type||!!t&&u.P7.includes(t)||!!t&&u.sc.includes(t)}function m(e){var t=e.item,n=t.name,r=t.type,o=t.thumbnail?"data:image/jpeg;base64,".concat(t.thumbnail):"",c=b(t);return(0,a.jsx)(i.zd,{rounding:2,height:"100%",width:"100%",children:(0,a.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:c&&o?(0,a.jsx)(i.Ee,{alt:n||"",fit:"cover",src:o,naturalHeight:1,naturalWidth:1}):(0,a.jsx)(i.JO,{icon:"dropboxFolder"===r?"folder":"file-unknown",accessibilityLabel:"dropboxFolder"===r?"Folder icon":"Unknown file icon",size:"60%"})})})}var g=n(352693);function y(e){var t=e.height,n=e.image,r=e.width,o=n.height,c=n.src,s=n.width;return(0,a.jsxs)(i.zd,{rounding:2,height:"100%",width:"100%",children:[(0,a.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,a.jsx)(g.Z,{fillColor:"rgba(0, 0, 0, 0.12)"})}),(0,a.jsx)(i.Ee,{alt:n.name||"",fit:t||r?"cover":void 0,naturalHeight:t||o||1,src:c,naturalWidth:r||s||1})]})}function v(e){var t=e.height,n=e.pin,r=e.width,o=n.description,c=n.images,s=n.title,l=(null==c?void 0:c["474x"])||(null==c?void 0:c["236x"])||{},u=l.height,d=l.width,p=l.url;return(0,a.jsx)(i.zd,{rounding:2,height:t||"100%",width:r||"100%",children:(0,a.jsx)(i.Ee,{alt:s||o||"",fit:t||r?"cover":void 0,naturalHeight:null!=u?u:1,naturalWidth:null!=d?d:1,src:null!=p?p:""})})}function x(e){var t=e.height,n=e.width,r=e.video.customCoverImg;return(0,a.jsx)(i.zd,{height:t,rounding:2,width:n,children:(0,a.jsx)(i.Ee,{alt:r&&r.name||"",fit:t||n?"cover":void 0,naturalHeight:t||r&&r.height||0,src:r&&r.src||"",naturalWidth:n||r&&r.width||0})})}function I(e){var t=e.asset,n=e.height,r=e.width;return"localImage"===t.type||"webImage"===t.type?(0,a.jsx)(y,{image:t,height:n,width:r}):"pin"===t.type?(0,a.jsx)(v,{pin:t,height:n,width:r}):"localVideo"===t.type?(0,a.jsx)(x,{height:n,width:r,video:t}):"dropboxFile"===t.type||"dropboxFolder"===t.type?(0,a.jsx)(m,{item:t}):null}var w=n(427750),_=n(482452),j=n(965035);function O(e){var t=e.number;return(0,a.jsx)(i.xu,{alignItems:"center",color:"red",display:"flex",height:24,justifyContent:"center",margin:3,right:!0,position:"absolute",rounding:"circle",top:!0,width:24,"data-test-id":"number-overlay",children:(0,a.jsx)(i.xv,{color:"white",size:"md",weight:"bold",children:t})})}var A=n(562239),S=n(76535);function P(e,t){var n=e.lastIndexOf(".")-3,r=e.substr(n);return e.length>t&&n-3>=1?"".concat(e.substr(0,t-(r.length+3)),"...").concat(r):e}var E=n(889164);function k(e){var t=e.addAssets,n=e.asset,o=e.onSelect,s=e.selected,l=e.selectedIndex,d=(0,r.useCallback)((function(){return o(n)}),[n]);if("blank"===n.type)return(0,a.jsx)(f,{addAssets:t});var p="localVideo"===n.type?1e3*n.duration:void 0,h=("pin"===n.type&&n.videos?n.videos:{}).video_list,b=(h&&h.V_720P||{}).duration,m=(0,w.Z)(n),g=p||b?(0,j.Z)(p||b||0):void 0,y=S.Z.enabled("shop_the_pin")&&"pin"===n.type,v=y?(0,E.mt)(n):"",x=y?(0,E.BE)(n):"";return(0,a.jsxs)(i.xu,{"data-group-id":"asset-picker-view-grid-group-item",column:12,children:[(0,a.jsxs)(A.Z,{onClick:d,rounded:!0,selected:s,children:[(0,a.jsxs)(i.xu,{position:"relative","data-test-id":"asset-picker-view-item",children:[(0,a.jsx)(I,{asset:n}),!!m&&(0,a.jsx)(i.xu,{bottom:!0,left:!0,margin:1,position:"absolute",children:(0,a.jsx)(c,{color:"transparentDarkGray",duration:g,type:m})})]}),l>=0&&(0,a.jsx)(O,{number:l+1})]}),y&&(0,a.jsxs)(i.xu,{children:[!!v&&(0,a.jsx)(i.xu,{children:(0,a.jsx)(i.xu,{paddingY:1,display:"flex",children:(0,a.jsx)(_.Z,{text:v,icon:"tag"})})}),!!x&&(0,a.jsx)(i.xu,{width:u.MN,children:(0,a.jsx)(i.xv,{overflow:"breakWord",size:"md",weight:"bold",children:x})})]}),!!n.name&&(0,a.jsx)(i.xu,{paddingY:1,title:n.name,children:(0,a.jsx)(i.xv,{size:"md",children:P(String(n.name),20)})})]})}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(c,e);var t,n,r,o=T(c);function c(){var e;R(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(V(e=o.call.apply(o,[this].concat(n))),"getIndexOfAsset",(function(t){var n=e.props.selectedAssets,r=n.indexOf(t);return r>-1?r:n.findIndex((function(e){return e.id===t.id}))})),F(V(e),"shouldSelectAsset",(function(t){var n=e.props.selectedAssets;return!!n.includes(t)||!!n.find((function(e){return t.id===e.id}))})),F(V(e),"renderAssetGridItem",(function(t){var n=t.data,r=t.itemIdx,o=e.props,i=o.addAssets,c=o.onSelect,s=o.showAddAssetButton,l=(void 0===s||s)&&0===r;return(0,a.jsx)(k,{addAssets:i,asset:l?{id:"pinbuilder_asset_picker_blank",type:"blank"}:n,onSelect:l?function(){}:c,selected:!l&&e.shouldSelectAsset(n),selectedIndex:l?-1:e.getIndexOfAsset(n)})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.assets,n=e.loadItems,r=e.scrollContainer;return(0,a.jsx)(i.Rk,{comp:this.renderAssetGridItem,columnWidth:158,gutterWidth:16,items:t,loadItems:n,scrollContainer:r,minCols:5})}}])&&B(t.prototype,n),r&&B(t,r),c}(r.Component);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={border:"none",bottom:0,borderRadius:"0px 16px 16px 0px",height:"100%",width:"40px"},$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(c,e);var t,n,r,o=H(c);function c(){var e;Q(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K(X(e=o.call.apply(o,[this].concat(n))),"state",{value:e.props.initialValue||""}),K(X(e),"handleOnChange",(function(t){var n=t.value;e.setState({value:n})})),K(X(e),"handleOnSubmit",(function(t){var n=e.props.onSubmit,r=e.state.value;t.preventDefault(),n({event:t,value:r})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.placeholder,r=e.type,o=this.state.value;return(0,a.jsx)(i.xu,{color:"lightGray",rounding:4,children:(0,a.jsx)("form",{onSubmit:this.handleOnSubmit,noValidate:!0,children:(0,a.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",children:[(0,a.jsx)(i.xu,{position:"relative",width:"100%",paddingX:1,flex:"grow",children:(0,a.jsx)(i.nv,{id:t,onChange:this.handleOnChange,placeholder:n,size:"lg",type:r,value:o})}),(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)("button",{style:z,type:"submit",right:"",children:(0,a.jsx)(i.JO,{accessibilityLabel:this.props.i18n._("Submit","Icon Button for submitting a text field value","Icon Button for submitting a text field value"),icon:"arrow-forward",inline:!0})})})]})})})}}])&&W(t.prototype,n),r&&W(t,r),c}(r.Component);function ee(e){var t=(0,o.ZP)();return(0,a.jsx)($,L(L({},e),{},{i18n:t}))}var te=n(535718),ne=n(180317),re=n(181307),oe=n(585967);function ie(e){var t=e.itemId,n=e.onSelect,r=e.onSubmit,c=e.selectedAssets,s=(0,o.ZP)(),l=(0,re.aq)("pin_builder_multi_feed_endpoint_decider").anyEnabled,u=(0,oe.B)().advertiser,d=(0,te.Z)({name:l?"ProductGroupItemIdPinResource":"ProductGroupProductPinResource",options:{merchantId:null==u?void 0:u.merchant_id,itemId:t,filters:{1:[t]}}}),p=d.data;if(!d.isLoaded)return(0,a.jsx)(i.$j,{accessibilityLabel:s._("Loading...","Loading","Loading"),show:!0});var f=(null!=p?p:[]).reduce((function(e,t){if(t){if(t.type="pin",t.rich_metadata){var n=t.rich_metadata.url||t.rich_metadata.id;(0,ne.Z)({url:n||""})&&(t.link=n)}e.push(t)}return e}),[]);return(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{paddingX:3,marginBottom:4,children:(0,a.jsx)(ee,{id:"asset-picker-itemid",initialValue:t,onSubmit:r,placeholder:s._("Enter product item ID","Placeholder for entering an item ID for a product from a catalog","Placeholder for entering an item ID for a product from a catalog")})}),f.length>0?(0,a.jsx)(N,{assets:f,onSelect:n,selectedAssets:c,showAddAssetButton:!1}):(0,a.jsx)(i.xu,{padding:5,maxWidth:468,children:(0,a.jsx)(i.xv,{align:"center",color:"red",size:"md",children:s._("Hmm, there’s no Pin for that. Correct any item ID formatting errors and try again.","Error message when no pins are returned after searching via catalogs item ID","Error message when no pins are returned after searching via catalogs item ID")})})]})}var ae=n(549135);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(c,e);var t,n,r,o=fe(c);function c(){var e;ue(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(be(e=o.call.apply(o,[this].concat(n))),"state",{itemId:"",validationError:null}),ge(be(e),"handleOnSubmit",(function(t){var n=t.value.trim().toLowerCase();n?((0,ae.j)(7472,{component:13392,element:11451}),e.setState({itemId:n,validationError:""})):e.setState({validationError:e.props.i18n._("Hmm, there’s no Pin for that. Correct any item ID formatting errors and try again.","AssetPickerCatalogTab.NoPinError","Error message when no pins are returned after searching via catalogs item ID")})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.onSelect,n=e.selectedAssets,r=e.visible,o=this.state,c=o.itemId,s=o.validationError;return(0,a.jsx)(i.xu,{column:12,height:"100%",display:r?"block":"none",padding:3,children:c.length>0?(0,a.jsx)(ie,{itemId:c,onSubmit:this.handleOnSubmit,onSelect:t,selectedAssets:n}):(0,a.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",padding:4,children:[(0,a.jsxs)(i.xu,{marginBottom:3,children:[(0,a.jsx)(i.xv,{align:"center",weight:"bold",children:this.props.i18n._("Add a product with its item ID","Prompt for adding a product from a catalog using an item ID","Prompt for adding a product from a catalog using an item ID")}),(0,a.jsx)(i.xv,{align:"center",children:this.props.i18n._("Product item IDs can be found in your data source","Helper text for where to find a product's item ID in a catalog","Helper text for where to find a product's item ID in a catalog")})]}),(0,a.jsx)(i.xu,{width:486,children:(0,a.jsx)(ee,{id:"asset-picker-itemid",onSubmit:this.handleOnSubmit,placeholder:this.props.i18n._("Enter product item ID","Placeholder for entering an item ID for a product from a catalog","Placeholder for entering an item ID for a product from a catalog")})}),s&&(0,a.jsx)(i.xu,{padding:5,maxWidth:468,children:(0,a.jsx)(i.xv,{align:"center",color:"red",size:"md",children:s})})]})})}}])&&de(t.prototype,n),r&&de(t,r),c}(r.Component);function ve(e){var t=(0,o.ZP)();return(0,a.jsx)(ye,le(le({},e),{},{i18n:t}))}var xe=n(575429),Ie=n(151101);function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je={paddingInlineStyle:{__style:{padding:6}},disabledOverlayInlineStyle:{__style:{padding:2,opacity:.5}},marginInlineStyle:{margin:2},thumbnailInlineStyle:{padding:2,cursor:"pointer"}};function Oe(e){var t=e.item,n=e.onClick,o=e.selected,s=e.selectedIndex,l=we((0,r.useState)(!1),2),u=l[0],d=l[1],p=(0,r.useCallback)((function(){return n(t)}),[t,n]),f=(0,r.useCallback)((function(){return d(!0)}),[d]),h=(0,r.useCallback)((function(){return d(!1)}),[d]),g=b(t),y=(0,w.Z)(t),v=(0,a.jsxs)(i.xu,{rounding:2,height:153,width:153,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:u?"lightWash":"lightGray",children:[(0,a.jsx)(m,{item:t}),s>=0&&(0,a.jsx)(O,{number:s+1}),!!y&&(0,a.jsx)(i.xu,{bottom:!0,left:!0,margin:1,position:"absolute",children:(0,a.jsx)(c,{color:"transparentDarkGray",type:y})})]}),x=(0,a.jsxs)(i.xu,{paddingY:2,children:[(0,a.jsx)(i.xv,{size:"md",lineClamp:1,children:P(t.name,20)}),(0,a.jsxs)(i.xu,{paddingY:1,children:[!!t.items&&(0,a.jsx)(i.xv,{size:"sm",lineClamp:1,children:"".concat(t.items," items")}),!!t.size&&(0,a.jsx)(i.xv,{size:"sm",lineClamp:1,children:t.size})]})]});return(0,a.jsx)(A.Z,{onClick:g?p:void 0,rounded:!0,style:je.marginInlineStyle,children:(0,a.jsx)(i.xu,{rounding:2,width:168,dangerouslySetInlineStyle:g?je.paddingInlineStyle:je.disabledOverlayInlineStyle,children:g?(0,a.jsxs)(i.Zb,{onMouseEnter:f,onMouseLeave:h,children:[(0,a.jsx)(A.Z,{selected:o,rounded:!0,style:je.thumbnailInlineStyle,children:v}),x]}):(0,a.jsxs)(r.Fragment,{children:[v,x]})})})}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(c,e);var t,n,r,o=ke(c);function c(){var e;Se(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return De(Re(e=o.call.apply(o,[this].concat(n))),"renderDropboxGridItem",(function(t){var n=t.data,r=e.props,o=r.selected,i=r.onClick,c=o.map((function(e){return e.id}));return(0,a.jsx)(Oe,{item:n,onClick:i,selected:c.includes(n.id),selectedIndex:c.indexOf(n.id)},n.id)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props.items;return(0,a.jsx)(i.Rk,{comp:this.renderDropboxGridItem,columnWidth:168,layout:new i.G3,gutterWidth:4,items:e,minCols:5})}}])&&Pe(t.prototype,n),r&&Pe(t,r),c}(r.Component);function Je(e){var t=e.path,n=void 0===t?"":t,r=e.rootName,o=void 0===r?"Home":r,c=e.onChangeDirectory,s=n;n&&"/"!==n.charAt(0)&&(s="/".concat(s)),n&&"/"===n.charAt(n.length-1)&&(s=s.substring(0,n.length-1));var l=s.split("/");return(0,a.jsx)(i.kC,{alignItems:"start",justifyContent:"start",children:l.map((function(e,t){var n=l.slice(0,t+1).join("/");return(0,a.jsxs)(i.xu,{display:"flex",children:[t>0&&(0,a.jsx)(i.xu,{paddingX:1,children:(0,a.jsx)(i.xv,{color:"gray",children:">"})}),(0,a.jsx)(i.xu,{paddingX:1,children:(0,a.jsx)(i.iP,{onTap:function(){return c(n)},children:(0,a.jsx)(i.xv,{color:t===l.length-1?"darkGray":"gray",children:0===t?o:e})})})]},n)}))})}var Ve=function(e,t,n){var r=e.name.toLocaleLowerCase(),o=t.name.toLocaleLowerCase();return r<o?n?-1:1:r>o?n?1:-1:0},Me=function(e,t,n){return e.lastModified||t.lastModified?e.lastModified?t.lastModified?e.lastModified<t.lastModified?n?-1:1:e.lastModified>t.lastModified?n?1:-1:Ve(e,t,!0):1:-1:Ve(e,t,!0)};function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){if(t&&("object"===Fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xe(e)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=["grid","list"],$e={grid:0,list:1},et={__style:{zIndex:1e3}},tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(c,e);var t,n,r,o=He(c);function c(){var e;Qe(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ke(Xe(e=o.call.apply(o,[this].concat(n))),"state",{view:e.props.initialView,sort:"newest",query:"",isFlyoutOpen:!1}),Ke(Xe(e),"handleSearch",(function(t){var n=t.value;return e.setState({query:n})})),Ke(Xe(e),"handleSearchFieldFocus",(function(){})),Ke(Xe(e),"handleChangeView",(function(t){var n=t.activeIndex;e.setState({view:ze[n]})})),Ke(Xe(e),"handleSort",(function(t){var n=t.value;return e.setState({sort:n})})),Ke(Xe(e),"handleSetRef",(function(t){e._ref=t})),Ke(Xe(e),"handleAvatarClick",(function(){var t=e.props.onFlyoutChange,n=e.state.isFlyoutOpen;e.setState({isFlyoutOpen:!n}),t&&t(!n)})),Ke(Xe(e),"handleFlyoutDismiss",(function(){var t=e.props.onFlyoutChange;e.setState({isFlyoutOpen:!1}),t&&t(!1)})),Ke(Xe(e),"options",[{label:e.props.i18n._("Newest","Dropdown option to sort by newest","Dropdown option to sort by newest"),value:"newest"},{label:e.props.i18n._("Oldest","Dropdown option to sort by oldest","Dropdown option to sort by oldest"),value:"oldest"},{label:e.props.i18n._("A to Z","Dropdown option to sort by descending alphabetical order","Dropdown option to sort by descending alphabetical order"),value:"a-z"},{label:e.props.i18n._("Z to A","Dropdown option to sort by ascending alphabetical order","Dropdown option to sort by ascending alphabetical order"),value:"z-a"}]),Ke(Xe(e),"getSort",(function(e){switch(e){case"oldest":return function(e,t){return Me(e,t,!0)};case"a-z":return function(e,t){return Ve(e,t,!0)};case"z-a":return function(e,t){return Ve(e,t,!1)};default:return function(e,t){return Me(e,t,!1)}}})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.items,r=e.selected,o=e.name,c=e.avatarUrl,s=e.onChangeDirectory,l=e.onFileClick,u=e.onLogout,d=this.state,p=d.view,f=d.sort,h=d.query,b=d.isFlyoutOpen,m=Ze(n).sort(this.getSort(f)),g=h.length>0?m.filter((function(e){return e.name.toLocaleLowerCase().includes(h.toLocaleLowerCase())})):m;return(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,a.jsxs)(i.xu,{direction:"row",display:"flex",paddingY:2,marginStart:-1,marginEnd:-1,children:[(0,a.jsx)(i.xu,{paddingX:2,ref:this.handleSetRef,children:(0,a.jsx)(i.iP,{onTap:this.handleAvatarClick,rounding:"circle",children:(0,a.jsx)(Ie.Z,{size:"sm",name:o,src:c})})}),(0,a.jsx)(i.xu,{flex:"grow",paddingX:2,children:(0,a.jsx)(i.Um,{accessibilityLabel:this.props.i18n._("Search","Accessibility label for the searching through dropbox items and folders","Accessibility label for the searching through dropbox items and folders"),id:"dropbox-search-field",onChange:this.handleSearch,placeholder:this.props.i18n._("Search","Placeholder for search field","Placeholder for search field"),size:"lg",value:h})}),(0,a.jsx)(i.xu,{paddingX:2,children:(0,a.jsx)(i.sY,{items:[(0,a.jsx)(i.JO,{icon:"view-type-default",accessibilityLabel:"Switch to Grid View"}),(0,a.jsx)(i.JO,{icon:"view-type-list",accessibilityLabel:"Switch to List View"})],selectedItemIndex:$e[p],onChange:this.handleChangeView})}),(0,a.jsx)(i.xu,{paddingX:2,width:174,children:(0,a.jsx)(i.EI,{id:"asset-picker-dropbox-sort-select-list",onChange:this.handleSort,options:this.options,value:f})})]}),(0,a.jsx)(i.xu,{paddingY:2,children:(0,a.jsx)(Je,{path:t,rootName:"Dropbox",onChangeDirectory:s})}),(0,a.jsx)(i.xu,{marginStart:-2,marginEnd:-2,width:0,children:(0,a.jsx)(Te,{items:g,selected:r,onClick:l})}),b&&(0,a.jsx)(i.mh,{children:(0,a.jsx)(i.xu,{position:"absolute",top:!0,dangerouslySetInlineStyle:et,children:(0,a.jsx)(i.J2,{anchor:this._ref,onDismiss:this.handleFlyoutDismiss,idealDirection:"down",positionRelativeToAnchor:!1,children:(0,a.jsx)(i.xu,{width:"100%",padding:4,children:(0,a.jsxs)(i.xu,{width:"100%",display:"flex",direction:"column",justifyContent:"center",marginTop:-2,marginBottom:-2,children:[(0,a.jsxs)(i.xu,{display:"flex",paddingY:2,alignItems:"center",children:[(0,a.jsx)(Ie.Z,{size:"sm",name:o,src:c}),(0,a.jsx)(i.xu,{paddingX:2,children:(0,a.jsx)(i.xv,{children:o})})]}),(0,a.jsx)(i.iz,{}),(0,a.jsxs)(i.xu,{paddingY:2,children:[(0,a.jsx)(i.xu,{paddingY:2,children:(0,a.jsx)(i.rU,{href:"https://www.dropbox.com",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,a.jsx)(i.xv,{weight:"bold",children:this.props.i18n._("Go to Dropbox","Link to redirect to Dropbox index page","Link to redirect to Dropbox index page")}),(0,a.jsx)(i.JO,{icon:"visit",color:"darkGray",accessibilityLabel:this.props.i18n._("Go to Dropbox","Link to redirect to Dropbox index page","Link to redirect to Dropbox index page")})]})})}),(0,a.jsx)(i.xu,{paddingY:2,children:(0,a.jsx)(i.rU,{href:"#",onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),u()},children:(0,a.jsx)(i.xv,{weight:"bold",children:this.props.i18n._("Sign out","Button to unlink user from their Dropbox account","Button to unlink user from their Dropbox account")})})})]})]})})})})})]})}}])&&We(t.prototype,n),r&&We(t,r),c}(r.Component);function nt(e){var t=(0,o.ZP)();return(0,a.jsx)(tt,Ue(Ue({},e),{},{i18n:t}))}function rt(e){var t=e.onClick;return(0,a.jsx)(i.xu,{height:"100%",children:(0,a.jsxs)(i.xu,{height:"100%",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:3,children:[(0,a.jsx)("svg",{width:100,height:100,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1.75l6 3.844-6 3.844 6 3.844-6 3.844-6-3.844 6-3.844-6-3.844L6 1.75zm12 0l6 3.844-6 3.844-6-3.844 6-3.844zm-6 11.532l6-3.844 6 3.844-6 3.844-6-3.844zm-6 5.124l6-3.843 6 3.843-6 3.844-6-3.844z",fill:"#0061FF"})}),(0,a.jsx)(i.xu,{paddingY:5,children:(0,a.jsx)(i.xv,{weight:"bold",children:"Connect to your Dropbox account"})}),(0,a.jsx)(i.zx,{text:"Sign in",color:"gray",onClick:t})]})})}function ot(e,t){var n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";var r=["KB","MB","GB","TB","PB","EB","ZB","YB"],o=-1;do{e/=n,o+=1}while(Math.abs(e)>=n&&o<r.length-1);var i=e.toFixed(1);return i.endsWith(".0")&&(i=i.substring(0,i.length-2)),i+" "+r[o]}Ke(tt,"defaultProps",{items:[],selected:[],initialView:"grid",path:"",name:"Dropbox User",avatarUrl:""});var it=n(311866),at=n(525974),ct=n(34411),st=n(101691);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(c,e);var t,n,r,o=bt(c);function c(){var e;pt(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vt(gt(e=o.call.apply(o,[this].concat(n))),"state",{path:"",userName:"",userAvatarURL:"",items:[],isLoading:!1}),vt(gt(e),"_isMounted",!1),vt(gt(e),"startDropboxAuthorization",(function(){var t=e.props,n=t.updateSocialNetwork,r=t.setError;at.Z.instance().handleConnect("dropbox",!0,{success:function(){e._isMounted&&(n("dropbox",!0),e.setState({isLoading:!0},e.getUserAccountInfo))},error:function(t){t.message;e._isMounted&&r(e.props.i18n._("Hmm... your Dropbox sign in didn't work. Give it another try.","Error message to indicate that there was error happened while signing into Dropbox","Error message to indicate that there was error happened while signing into Dropbox"))}},e.props.i18n)})),vt(gt(e),"listPathContent",(function(){var t=e.props.setError,n=e.state.path;it.ZP.create("ApiResource",{url:"/v3/dropbox/folder/",data:{path:n}}).callGet().then((function(t){var n=t.resource_response.data.entries,r=n.map((function(e){return e.id})),o=n.reduce((function(e,t){return"file"===t[".tag"]?e[t.id]={id:t.id,type:"dropboxFile",name:t.name,size:ot(t.size,!1),lastModified:new Date(t.client_modified),isDownloadable:t.is_downloadable}:e[t.id]={id:t.id,type:"dropboxFolder",name:t.name},e}),{});it.ZP.create("ApiResource",{url:"/v3/dropbox/files/",data:{paths:r,add_fields:["dropboxfile.thumbnail"]}}).callGet().then((function(e){e.resource_response.data.forEach((function(e){"success"===e.thumbnail[".tag"]&&(o[e.id]=dt(dt({},o[e.id]),{},{thumbnail:e.thumbnail.thumbnail}))}));var t=Object.values(o).filter((function(e){return"dropboxFolder"===e.type})).map((function(e){return it.ZP.create("ApiResource",{url:"/v3/dropbox/folder/",data:{path:e.id}}).callGet()}));return Promise.all(t)})).then((function(e){e.forEach((function(e){var t=e.resource_response.data;o[t.path].items=t.size}))})).then((function(){if(e._isMounted){var t=Object.values(o);e.setState({items:t},(function(){return e.setState({isLoading:!1})}))}}))})).catch((function(n){e._isMounted&&e.setState({isLoading:!1},(function(){return t(e.props.i18n._("Hmm... your files from Dropbox didn't upload. Try again.","Error message to indicate that there was error happened while retrieving files in user’s Dropbox","Error message to indicate that there was error happened while retrieving files in user’s Dropbox"))}))}))})),vt(gt(e),"handleClick",(function(t){var n=e.props.onSelect,r=e.state.path;"dropboxFolder"===t.type?e.handleChangeDirectory("".concat(r,"/").concat(t.name)):n(t)})),vt(gt(e),"handleChangeDirectory",(function(t){e.setState({path:t,isLoading:!0},e.listPathContent)})),vt(gt(e),"getUserAccountInfo",(function(){it.ZP.create("ApiResource",{url:"/v3/dropbox/users/me/"}).callGet().then((function(t){if(e._isMounted){var n=t.resource_response.data;e.setState({userName:n.name.display_name,userAvatarURL:n.profile_photo_url},e.listPathContent)}})).catch((function(t){(0,e.props.setError)("Hmm... We didn't get your Dropbox account information. Try again.")}))})),vt(gt(e),"handleLogout",(function(){(0,e.props.updateSocialNetwork)("dropbox",!1),it.ZP.create("UserSocialNetworkResource",{network:"dropbox"}).callDelete()})),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props.viewer;this._isMounted=!0,e.isAuth&&e.socialNetwork.dropbox.connected&&this.setState({isLoading:!0},this.getUserAccountInfo)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.viewer,n=e.visible,r=e.selectedAssets,o=e.onFlyoutChange,c=this.state,s=c.items,l=c.path,u=c.userName,d=c.userAvatarURL,p=c.isLoading,f=t.isAuth&&t.socialNetwork.dropbox.connected;return(0,a.jsxs)(i.xu,{column:12,height:"100%",display:n?"block":"none",padding:3,children:[(0,a.jsx)(i.xu,{height:"100%",paddingX:3,paddingY:1,children:f?(0,a.jsx)(nt,{initialView:"grid",items:s,selected:r,name:u,avatarUrl:d,path:l,onChangeDirectory:this.handleChangeDirectory,onFileClick:this.handleClick,onFlyoutChange:o,onLogout:this.handleLogout}):(0,a.jsx)(rt,{onClick:this.startDropboxAuthorization})}),p&&(0,a.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(i.$j,{show:!0,accessibilityLabel:this.props.i18n._("Dropbox Loading Spinner","description for loading spinner inside AssetPicker Dropbox tab","description for loading spinner inside AssetPicker Dropbox tab")})})]})}}])&&ft(t.prototype,n),r&&ft(t,r),c}(r.Component);function It(e){var t=(0,xe.useDispatch)(),n=(0,o.ZP)();return(0,a.jsx)(xt,dt(dt({},e),{},{i18n:n,updateSocialNetwork:function(e,n){return t((0,st.V6)(e,n))},viewer:(0,ct.Z)()}))}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){var t=e.onSelect,n=e.pins,c=e.selectedAssets,s=e.shouldShowProductsOnly,l=e.searchFilterText,u=e.addAssets,d=(0,o.ZP)(),p=wt((0,r.useState)(!1),2),f=p[0],h=p[1];(0,r.useEffect)((function(){return h(n&&!n.isLoaded)}));var b=s?E.VX:E.Bc,m=n&&n.data&&n.data.reduce((function(e,t){return t&&"pin"===t.type&&b(t)&&(0,E.ir)(t,l)&&e.push(t),e}),[])||[];return(0,a.jsxs)(i.xu,{alignItems:"center",display:"flex","data-test-id":"asset-picker-pins-pane",height:f?"100%":void 0,justifyContent:"center",children:[(0,a.jsx)(i.$j,{accessibilityLabel:d._("Loading...","Loading","Loading"),show:f}),n&&n.data&&n.data.length>0&&(0,a.jsx)(N,{addAssets:u,assets:m,onSelect:t,loadItems:n.fetchMore,scrollContainer:function(){return window},selectedAssets:c,showAddAssetButton:!1})]})}function Ot(e){var t=e.addAssets,n=e.onSelect,r=e.searchFilterText,o=e.selectedAssets,i=e.shouldShowProductsOnly,c=e.username,s=(0,te.Z)({name:"UserPinsResource",options:{field_set_key:"detailed",username:c,prepend:!1,include_protected_pins:!0,limit:1e3,page_size:150}});return(0,a.jsx)(jt,{addAssets:t,onSelect:n,pins:s,searchFilterText:r,selectedAssets:o,shouldShowProductsOnly:i})}var At=n(370389),St=n(767523);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft={PRODUCTS:"PRODUCTS",ALL_PINS:"ALL_PINS"},Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(c,e);var t,n,r,o=Dt(c);function c(){var e;Ct(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mt(Jt(e=o.call.apply(o,[this].concat(n))),"state",{shouldShowProductsOnly:!0,searchText:"",showDropdownFlyout:!1,currentSelection:Ft.PRODUCTS}),Mt(Jt(e),"setContainerRef",(function(t){e.containerRef=t})),Mt(Jt(e),"handleHideDropdownFlyout",(function(t){t.target instanceof HTMLElement&&e.setState((function(n){return{showDropdownFlyout:!!(e.containerRef&&t.target instanceof HTMLElement&&e.containerRef.contains(t.target))&&!n.showDropdownFlyout}}))})),Mt(Jt(e),"dropdownOnChange",(function(t){t&&e.setState({shouldShowProductsOnly:t.value===Ft.PRODUCTS,showDropdownFlyout:!1,currentSelection:t.value})})),Mt(Jt(e),"handleSearchQueryUpdates",(function(t){e.setState({searchText:t.value})})),Mt(Jt(e),"handleAssetSelect",(function(t){(0,e.props.onSelect)(t)})),e}return t=c,(n=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleHideDropdownFlyout,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleHideDropdownFlyout,{capture:!0})}},{key:"render",value:function(){var e,t=this.props,n=t.selectedAssets,r=t.visible,o=t.viewer,c=t.user.data,s=this.state,l=s.shouldShowProductsOnly,u=s.searchText,d=s.showDropdownFlyout,p=s.currentSelection,f=(e=this.props.i18n,new Map([[Ft.PRODUCTS,e._("Product Pins","Dropdown filter to show products only","Dropdown filter to show products only")],[Ft.ALL_PINS,e._("All Pins","Dropdown filter to show all pins","Dropdown filter to show all pins")]])),h=(c?c.username:o&&o.isAuth&&o.username)||"";return this.props.orbacActingAs&&this.props.orbacActingAs.user&&this.props.orbacActingAs.user.username&&(h=this.props.orbacActingAs.user.username),(0,a.jsxs)(i.xu,{column:12,height:"100%",display:r?"block":"none",padding:3,"data-test-id":"asset-picker-tagging-pane",children:[(0,a.jsx)(i.xu,{marginStart:4,children:(0,a.jsx)(i.X6,{size:"md",children:this.props.i18n._("Use your Pins","Select products to the collection/STL selected in Pin Builder.","Select products to the collection/STL selected in Pin Builder.")})}),(0,a.jsx)(i.xu,{marginStart:4,marginTop:3,children:(0,a.jsx)(i.xv,{children:this.props.i18n._("Keep it simple—use your existing Pins to add products to your image. Add products in the order you want people to see them.","Description of the functionalities in the pins picker tab","Description of the functionalities in the pins picker tab")})}),(0,a.jsxs)(i.xu,{margin:4,alignItems:"center",direction:"row",display:"flex",children:[(0,a.jsx)(i.xu,{rounding:2,column:10,children:(0,a.jsx)(i.nv,{id:"search",onChange:this.handleSearchQueryUpdates,placeholder:this.props.i18n._("Search Pin title or description","Placeholder search bar text to search the pins","Placeholder search bar text to search the pins"),size:"lg",type:"text",value:u})}),(0,a.jsx)(i.xu,{ref:this.setContainerRef,children:(0,a.jsx)(i.xu,{column:3,rounding:2,marginStart:4,"data-test-id":"pins-filter-dropdown",children:(0,a.jsx)(At.Z,{onOpen:this.dropdownOnChange,onClose:this.dropdownOnChange,isOpen:d,onChange:this.dropdownOnChange,options:Object.keys(Ft).map((function(e){return Ft[e]})).map((function(e){return{label:f.get(e),value:e}})),value:{label:f.get(p),value:{currentSelection:p}}})})})]}),(0,a.jsx)(i.xu,{children:r&&(0,a.jsx)(Ot,{addAssets:void 0,onSelect:this.handleAssetSelect,selectedAssets:n,username:h,shouldShowProductsOnly:l,searchFilterText:u})})]})}}])&&Rt(t.prototype,n),r&&Rt(t,r),c}(r.PureComponent);function Ut(e){var t=(0,xe.useSelector)((function(e){return e.advertiser})),n=(0,o.ZP)(),r=(0,ct.Z)(),i=(0,St.Z)(),c=(0,te.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:!!t&&t.owner_user_id||r.isAuth&&r.id||""}});return(0,a.jsx)(Nt,kt(kt({},e),{},{advertiser:t,i18n:n,user:c,viewer:r,orbacActingAs:i}))}function Zt(e){var t=e.onSubmit,n=e.title,r=e.description,c=e.validationError,s=(0,o.ZP)();return(0,a.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",padding:4,children:[(0,a.jsxs)(i.xu,{marginBottom:3,children:[(0,a.jsx)(i.xv,{align:"center",weight:"bold",children:n||s._("Upload an image from your website","Prompt for scraping media from site","Prompt for scraping media from site")}),r&&(0,a.jsx)(i.xv,{children:r})]}),(0,a.jsx)(i.xu,{width:486,children:(0,a.jsx)(ee,{id:"asset-picker-url",onSubmit:t,placeholder:s._("Enter your website URL","Placeholder for entering website URL","Placeholder for entering website URL"),type:"url"})}),c&&(0,a.jsx)(i.xu,{padding:5,maxWidth:468,children:(0,a.jsx)(i.xv,{align:"center",color:"red",size:"md",children:c})})]})}var Lt=n(508841),Qt=n(668906),Wt=n(291396);function qt(e){var t=e.allowPinFetch,n=e.onSelect,r=e.onSubmit,c=e.selectedAssets,s=e.url,l=e.validationError,u=(0,o.ZP)(),d=(0,Lt.Z)(s)?/\/pin\/([\w-]+)\/?$/.exec(s):null;return(0,a.jsx)(i.xu,{height:"100%","data-test-id":"asset-picker-scraping-pane",children:d&&t?(0,a.jsx)(Qt.Z,{pinId:d[1],fieldSetKey:"images_only_item",children:function(e){var t=e.pin,o=e.error;return e.loading&&!o?(0,a.jsxs)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,a.jsx)(i.$j,{accessibilityLabel:u._("Loading","Accessibility label for spinner loading","Accessibility label for spinner loading"),show:!0}),(0,a.jsx)(i.xu,{padding:2,children:(0,a.jsx)(i.xv,{children:u._("Loading image","Loading message for image loading","Loading message for image loading")})})]}):(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{paddingX:3,marginBottom:4,children:(0,a.jsx)(ee,{id:"asset-picker-url",initialValue:s,onSubmit:r,placeholder:u._("Enter your website URL","Placeholder for entering website URL","Placeholder for entering website URL"),type:"url"})}),o?(0,a.jsx)(i.xu,{padding:5,maxWidth:468,children:(0,a.jsx)(i.xv,{align:"center",color:"red",size:"md",children:u._("Hmm, that link didn’t work. Try entering it again or use a different link.","Error message when scraping a link does not work.","Error message when scraping a link does not work.")})}):(0,a.jsx)(N,{assets:t?[t]:[],onSelect:n,selectedAssets:c,showAddAssetButton:!1})]})}}):(0,a.jsx)(Wt.Z,{source:"pin_create",url:s,children:function(e){var t=e.images,o=e.loading,d=e.error;return!o||l||d?(t.forEach((function(e){return Object.assign(e,{id:e.url,src:e.url,type:"webImage",sourceURL:s})})),(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{paddingX:3,marginBottom:4,children:(0,a.jsx)(ee,{id:"asset-picker-url",initialValue:s,onSubmit:r,placeholder:u._("Enter your website URL","Placeholder for entering website URL","Placeholder for entering website URL"),type:"url"})}),l||d?(0,a.jsx)(i.xu,{padding:5,maxWidth:468,"data-test-id":"scrape-validation-error",children:(0,a.jsx)(i.xv,{align:"center",color:"red",size:"md",children:l||d})}):(0,a.jsx)(N,{assets:t,onSelect:n,selectedAssets:c,showAddAssetButton:!1})]})):(0,a.jsxs)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,a.jsx)(i.$j,{accessibilityLabel:u._("Loading","Accessibility label for spinner loading","Accessibility label for spinner loading"),show:!0}),(0,a.jsx)(i.xu,{padding:2,children:(0,a.jsx)(i.xv,{children:u._("Loading images","Loading message for image loading","Loading message for image loading")})})]})}})})}var Ht=n(997993);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){if(t&&("object"===Gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(c,e);var t,n,r,o=en(c);function c(){var e;Kt(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return on(nn(e=o.call.apply(o,[this].concat(n))),"state",{url:"",validationError:null}),on(nn(e),"validateUrl",(function(t){var n=e.props.usedUrls;return e.validateWebsiteUrl(t)||(n.includes(t)?e.props.i18n._("You can't tag from the same page twice.","AssetPickerScrapeTab.repeatedURL","Error message for using the same product link twice on a Pin tag"):null)})),on(nn(e),"validateWebsiteUrl",(function(t){var n=e.props.i18n._("Please enter a valid URL","AssetPickerScrapeTab.invalidURL","Error message for invalid/empty url");if(!t)return n;var r=(0,Ht.Jx)({message:n});return(0,Ht.a3)(t,[r])})),on(nn(e),"handleOnSubmit",(function(t){var n=t.value;(0,ae.j)(7472,{component:13392,element:11267,url:n});var r=n.trim(),o=e.validateUrl(r);e.setState({url:r,validationError:o})})),on(nn(e),"handleOnSelect",(function(t){var n=e.props,r=n.resetOnSelect,o=void 0!==r&&r,i=n.onSelect;o&&e.setState({url:""}),i(t)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.selectedAssets,n=e.visible,r=e.title,o=e.description,c=this.state,s=c.url,l=c.validationError;return(0,a.jsx)(i.xu,{column:12,height:"100%",display:n?"block":"none",padding:3,children:s.length>0?(0,a.jsx)(qt,{onSelect:this.handleOnSelect,allowPinFetch:!0,onSubmit:this.handleOnSubmit,selectedAssets:t,url:s,validationError:l}):(0,a.jsx)(Zt,{onSubmit:this.handleOnSubmit,title:r,description:o,validationError:l})})}}])&&zt(t.prototype,n),r&&zt(t,r),c}(r.Component);function cn(e){var t=(0,o.ZP)();return(0,a.jsx)(an,Yt(Yt({},e),{},{i18n:t}))}var sn=n(604762),ln=n(630269),un=n(919850),dn=n(981444);function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=n(754999),mn=n(773559);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(e){return function(e){if(Array.isArray(e))return In(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pn(e);if(t){var o=Pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return An(this,n)}}function An(e,t){if(t&&("object"===gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sn(e)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn={__style:{zIndex:u.v9}},Cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(c,e);var t,n,r,o=On(c);function c(){var e;wn(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(Sn(e=o.call.apply(o,[this].concat(n))),"state",{sort:"newest",query:""}),En(Sn(e),"handleSearch",(function(t){(0,ae.j)(7472,{component:13392,element:11270}),e.setState({query:t.value})})),En(Sn(e),"getSort",(function(e){switch(e){case"oldest":return function(e,t){return-1};case"a-z":return function(e,t){var n=e.name.toLocaleLowerCase(),r=t.name.toLocaleLowerCase();return n<r?-1:n>r?1:0};case"z-a":return function(e,t){var n=e.name.toLocaleLowerCase(),r=t.name.toLocaleLowerCase();return n>r?-1:n<r?1:0};default:return function(e,t){return 0}}})),En(Sn(e),"handleSort",(function(t){var n=t.value;(0,ae.j)(3828,{component:13392,element:11273}),e.setState({sort:n})})),En(Sn(e),"options",[{label:e.props.i18n._("Newest","Dropdown option to sort by newest","Dropdown option to sort by newest"),value:"newest"},{label:e.props.i18n._("Oldest","Dropdown option to sort by oldest","Dropdown option to sort by oldest"),value:"oldest"},{label:e.props.i18n._("A to Z","Dropdown option to sort by descending alphabetical order","Dropdown option to sort by descending alphabetical order"),value:"a-z"},{label:e.props.i18n._("Z to A","Dropdown option to sort by ascending alphabetical order","Dropdown option to sort by ascending alphabetical order"),value:"z-a"}]),En(Sn(e),"handleDrop",(function(t){var n=e.props.addAssets,r=(0,l.Z)(t.dataTransfer);(0,ae.j)(3502,{component:13392,element:11275}),n(r)})),En(Sn(e),"handleSearchFieldFocus",(function(){(0,ae.j)(101,{component:13392,element:11270})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.addAssets,n=e.assets,r=e.onSelect,o=e.selectedAssets,c=this.state,l=c.sort,d=c.query,p=xn(n).sort(this.getSort(l)),f=d.length>0?p.filter((function(e){return e.name.toLocaleLowerCase().includes(d.toLocaleLowerCase())})):p;return(0,a.jsxs)(i.xu,{"data-test-id":"asset-picker-uploaded-pane",direction:"column",display:"flex",height:"100%",children:[(0,a.jsxs)(i.xu,{"data-test-id":"uploaded-pane-filter-box",display:"flex",padding:2,children:[(0,a.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,a.jsx)(i.Um,{accessibilityLabel:this.props.i18n._("Search","Accessibility label for the searching through uploaded images and videos","Accessibility label for the searching through uploaded images and videos"),id:"asset-search-field",onChange:this.handleSearch,onFocus:this.handleSearchFieldFocus,placeholder:this.props.i18n._("Search","Placeholder for search field","Placeholder for search field"),size:"lg",value:d})}),(0,a.jsx)(i.xu,{paddingX:1,width:168,children:(0,a.jsx)(i.EI,{id:"asset-picker-sort-select-list",onChange:this.handleSort,options:this.options,value:l})})]}),(0,a.jsx)(i.xu,{height:"100%",position:"relative",width:"100%",children:(0,a.jsx)(s.Z,{accept:[].concat(xn(u.xl),xn(u.ss)).join(","),allowMultipleFiles:!0,color:"white",id:"asset-picker-upload-pane",onDrop:this.handleDrop,children:function(e){return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:e?void 0:kn,paddingY:2,position:"relative",children:(0,a.jsx)(N,{addAssets:t,assets:[{id:"pinbuilder_asset_picker_blank",type:"blank"}].concat(xn(f)),onSelect:r,selectedAssets:o})})}})})]})}}])&&_n(t.prototype,n),r&&_n(t,r),c}(r.Component);function Rn(e){var t=(0,o.ZP)();return(0,a.jsx)(Cn,vn(vn({},e),{},{i18n:t}))}var Bn=n(268751),Dn=n(743174);function Tn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||Vn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){if(e){if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mn(e,t):void 0}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fn=(0,xe.connect)((function(e){return{assets:e.pinbuilder.assets}}),(function(e){return{addAsset:function(t){return e((0,Dn.addPinBuilderAsset)(t))}}}))((function(e){var t=e.addAsset,n=e.assets,c=e.onSelect,s=(e.setLoading,e.setError),l=e.selectedAssets,u=e.visible,d=(0,o.ZP)(),p=Jn((0,r.useState)(""),2),f=p[0],h=p[1],b=function(e){return s(""),h(""),(0,Bn.Z)(d,e,{allowVideo:!0}).then((function(e){var r=e.reduce((function(e,t){var n;return"localVideo"===t.type?e.push((n=t,(0,un.v)(n,0).then((function(e){return fn(fn({},n),{},{customCoverImg:{id:(0,dn.Z)(),fileSrc:n.fileSrc,name:n.name,size:(0,ln.Mi)(e).size,src:e,width:n.width,height:n.height,type:"localImage"}})})))):"localImage"!==t.type&&"error"!==t.type||e.push(t),e}),[]);return Promise.all(r).then((function(e){var r=e.reduce((function(e,t){return"error"===t.type&&e.push(t),e}),[]),o=e.reduce((function(e,t){return"error"!==t.type?[].concat(Tn(e),[t]):e}),[]);r.length>0&&((n.length>0||o.length>0)&&s((0,bn.Z)(d.ngettext("Sorry, {{numOfErrors}} file could not be uploaded.","Sorry, {{numOfErrors}} files could not be uploaded.",r.length,"Error message saying how many files could not be uploaded","Error message saying how many files could not be uploaded"),{numOfErrors:r.length}),null,(0,a.jsx)(i.rU,{target:"blank",href:mn.Z.settings.PARTNER_PRODUCT_SPECS_URL,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,a.jsx)(i.zx,{color:"transparent",text:d._("Learn more","Learn more about error","Learn more about error")})})),h(r[0].message)),o.forEach((function(e){t(e),c(e)}))}))}))};return(0,a.jsx)(i.xu,{column:12,height:"100%",display:u?"block":"none",children:n.length>0?(0,a.jsx)(i.xu,{height:"100%",paddingY:1,paddingX:3,children:(0,a.jsx)(Rn,{addAssets:b,assets:n,onSelect:c,selectedAssets:l})}):(0,a.jsx)(i.xu,{height:"100%",padding:3,children:(0,a.jsx)(sn.Z,{addAssets:b,errorMessage:f})})})}));var Nn=n(741993),Un=n(389122);function Zn(e){switch(e){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"bmp":return"image/bmp";case"tiff":return"image/tiff";case"webp":return"image/webp";case"mp4":return"video/mp4";case"m4v":return"video/x-m4v";case"mov":return"video/quicktime";default:return""}}var Ln=n(846199),Qn=n(372802),Wn=n(451190);function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xn(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return er(this,n)}}function er(e,t){if(t&&("object"===qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(e){var t=e.condition,n=e.children;return t?(0,a.jsx)(i.xu,{position:"absolute",zIndex:Wn.b,children:n}):n},ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(s,e);var t,n,r,o=$n(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),rr(tr(t=o.call(this,e)),"state",{activeTabIndex:t.props.initialTab&&t.props.shownTabs?t.props.shownTabs.indexOf(t.props.initialTab):0,assets:t.props.selectedPins||[],isLoading:!1,isDropboxFlyoutOpen:!1,error:null,usedUrls:[]}),rr(tr(t),"downloadDropboxAssets",(function(){var e=t.state.assets;return Promise.all(e.map((function(e){return"dropboxFile"===e.type?it.ZP.create("ApiResource",{url:"/v3/dropbox/files/",data:{paths:[e.id],add_fields:["dropboxfile.file_base64"]}}).callGet().then((function(n){var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,r=atob(e),o=[],i=0;i<r.length;i+=n){for(var a=r.slice(i,i+n),c=new Array(a.length),s=0;s<a.length;s+=1)c[s]=a.charCodeAt(s);var l=new Uint8Array(c);o.push(l)}return new Blob(o,{type:t})}(n.resource_response.data[0].file_base64);return(0,Qn.Z)(t.props.i18n,new File([r],e.name,{type:Zn(h(e.name)),lastModified:e.lastModified.getTime()}),{allowVideo:!0})})).catch((function(e){return null})):e})))})),rr(tr(t),"handleChangeTab",(function(e){var n=e.activeTabIndex;e.event.preventDefault(),t.setState({activeTabIndex:n})})),rr(tr(t),"handleAssetSelect",(function(e){(0,ae.j)(101,{component:13392,element:11272});var n=t.props.maxAssetsToSelect,r=t.state,o=r.assets,i=r.usedUrls;if(e.id)if(o.some((function(t){return t.id===e.id})))t.setState({assets:o.filter((function(t){return t.id!==e.id})),usedUrls:i.filter((function(n){return n!==t.getUrl(e)}))});else if(n<=0||o.length<n){var a=t.getUrl(e);t.setState({assets:[].concat(Xn(o),[e]),usedUrls:a?[].concat(Xn(i),[a]):i})}})),rr(tr(t),"getUrl",(function(e){switch(e.type){case"pin":return e.link;case"webImage":return e.sourceURL;default:return null}})),rr(tr(t),"handleSecondaryAction",(function(){var e=t.props,n=e.onSecondaryAction,r=e.onDismiss,o=t.state.assets;n&&((0,ae.j)(101,{component:13392,element:11271,pin_builder_data:JSON.stringify({media_types:o.map((function(e){return e.type}))})}),t.setState({isLoading:!0},(function(){t.downloadDropboxAssets().then((function(e){if(e){var t=e.filter((function(e){return!!e&&"error"!==e.type}));t.length>0&&n(t)}r()}))})))})),rr(tr(t),"handlePrimaryAction",(function(){var e=t.props,n=e.onPrimaryAction,r=e.onDismiss,o=t.state.assets;(0,ae.j)(101,{component:13392,element:11269,pin_builder_data:JSON.stringify({media_types:o.map((function(e){return e.type}))})}),t.setState({isLoading:!0},(function(){t.downloadDropboxAssets().then((function(e){if(e){var t=e.filter((function(e){return!!e&&"error"!==e.type}));t.length>0&&n(t)}r()}))}))})),rr(tr(t),"handleRemoveAsset",(function(e){if((0,ae.j)(101,{component:13392,element:11274}),e.id){var n=t.getUrl(e),r=n?[].concat(Xn(t.state.usedUrls),[n]):t.state.usedUrls;t.setState((function(t){return{assets:t.assets.some((function(t){return t.id===e.id}))?t.assets.filter((function(t){return t.id!==e.id})):[].concat(Xn(t.assets),[e]),usedUrls:t.usedUrls.some((function(e){return e===n}))?t.usedUrls.filter((function(e){return e!==n})):r}}))}})),rr(tr(t),"removeError",(function(){(0,ae.j)(101,{component:13392,element:11264}),t.setState({error:null})})),rr(tr(t),"handleSetLoading",(function(e,n){n?t.setState({isLoading:e},n):t.setState({isLoading:e})})),rr(tr(t),"handleSetError",(function(e,n,r){if(e||n||r){var o=(0,a.jsx)(i.zx,{color:"white",onClick:t.removeError,text:t.props.i18n._("Got it","Button text to indicate a user understands action","Button text to indicate a user understands action")});t.setState({error:(0,a.jsx)(Un.Z,{errorMessage:e,primaryAction:n||o,secondaryAction:r})})}else t.setState({error:null})})),rr(tr(t),"handleDismiss",(function(){var e=t.props.onDismiss;t.state.isDropboxFlyoutOpen||e()})),rr(tr(t),"handleDropboxFlyoutChange",(function(e){return t.setState({isDropboxFlyoutOpen:e})})),rr(tr(t),"defaultPrimaryText",(function(e){return(0,bn.Z)(t.props.i18n.ngettext("Create Pin","Create {{ numPins }} Pins",e,"Button to create Pins out of selected assets","Button to create Pins out of selected assets"),{numPins:e})})),(0,Nn.Z)(),t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selectedPins?this.props.selectedPins.map((function(t){return e.getUrl(t)||""})).filter((function(e){return e.length>0})):[];this.setState({usedUrls:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeOnOutsideClick,r=t.isSecondaryButtonDisabled,o=t.onSecondaryAction,s=t.primaryButtonText,l=void 0===s?this.defaultPrimaryText:s,d=t.pinItemId,p=t.resetScrapeOnSelect,f=t.scrapeDescription,h=t.scrapeTitle,b=t.secondaryButtonText,m=t.useModalWithNoLayer,g=void 0!==m&&m,y=this.props.shownTabs?this.props.shownTabs:["upload","scrape"],v=this.state,x=v.activeTabIndex,_=v.assets,j=v.usedUrls,O=v.isLoading,A=v.error,S="string"==typeof l?l:l(_.length),P=b||this.props.i18n._("Create carousel Pin","Button to create carousel Pin out of selected assets","Button to create carousel Pin out of selected assets"),E=[];y.includes("product_pins")&&E.push({text:this.props.i18n._("Your Pins","Tab on asset picker to select from user's product pins.","Tab on asset picker to select from user's product pins."),href:"#"}),y.includes("upload")&&E.push({text:this.props.i18n._("Assets","Tab on asset picker to select from uploaded assets","Tab on asset picker to select from uploaded assets"),href:"#"}),y.includes("scrape")&&E.push({text:this.props.i18n._("URL","Tab on asset picker to select from scraped URL","Tab on asset picker to select from scraped URL"),href:"#"}),y.includes("dropbox")&&E.push({text:this.props.i18n._("Dropbox","Tab on asset picker to select from Dropbox","Tab on asset picker to select from Dropbox"),href:"#"}),y.includes("catalog")&&E.push({text:this.props.i18n._("Catalog","Tab on asset picker to upload pin from product catalog","Tab on asset picker to upload pin from product catalog"),href:"#"});var k=g?i.u_:Wn.Z;return(0,a.jsx)(or,{condition:!!g,children:(0,a.jsxs)(k,{accessibilityModalLabel:this.props.i18n._("Select assets","Label to describe the asset picker","Label to describe the asset picker"),closeOnOutsideClick:n,heading:(0,a.jsx)(i.xu,{padding:4,display:"flex",alignItems:"center",justifyContent:"center","data-test-id":"tabs-header-list",children:(0,a.jsx)(i.mQ,{tabs:E,activeTabIndex:x,onChange:this.handleChangeTab})}),onDismiss:this.handleDismiss,footer:(0,a.jsxs)(i.xu,{display:"flex",marginBottom:-4,children:[(0,a.jsx)(i.xu,{display:"flex",flex:"grow",height:"100%",marginEnd:8,children:(0,a.jsx)(i.xu,{width:"100%",marginTop:-4,children:(0,a.jsx)(Ln.Z,{showArrowsOnlyOnHover:!1,children:(0,a.jsx)(i.xu,{display:"flex",height:48,paddingY:1,"data-group-id":"asset-picker-thumbnails-carousel-group",children:_.map((function(t,n){var r=(0,w.Z)(t);return(0,a.jsxs)(i.xu,{"data-test-id":"asset-picker-thumbnail",display:"flex",flex:"none",height:44,padding:1,position:"relative",width:44,children:[(0,a.jsx)(I,{asset:t,height:40,width:40}),(0,a.jsx)(i.xu,{color:"gray",height:16,marginEnd:-1,marginTop:-1,padding:1,position:"absolute",right:!0,rounding:"circle",top:!0,width:16,children:(0,a.jsx)(i.iP,{fullHeight:!0,fullWidth:!0,onTap:function(){return e.handleRemoveAsset(t)},children:(0,a.jsx)(i.JO,{color:"white",icon:"cancel",size:8,accessibilityLabel:e.props.i18n._("Remove Asset","Icon button to remove selected media file","Icon button to remove selected media file")})})}),!!r&&(0,a.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",children:(0,a.jsx)(c,{type:r})})]},"asset-picker-thumbnail-".concat(n))}))})})})}),(0,a.jsxs)(i.xu,{display:"flex",flex:"none",margin:-3,marginTop:1,children:[!!o&&(0,a.jsx)(i.xu,{"data-test-id":"asset-picker-secondary-action-button",paddingX:1,children:(0,a.jsx)(i.zx,{color:"gray",disabled:!!r&&(_.length<2||_.length>u.dS||_.some((function(e){return"localImage"!==e.type}))),onClick:this.handleSecondaryAction,text:P})}),(0,a.jsx)(i.xu,{"data-test-id":"asset-picker-primary-action-button",paddingX:1,children:(0,a.jsx)(i.zx,{color:"red",disabled:0===_.length,onClick:this.handlePrimaryAction,text:S})})]})]}),size:912,children:[(0,a.jsxs)(i.xu,{height:460,overflow:"auto",children:[!!A&&A,y.includes("upload")&&(0,a.jsx)(Fn,{onSelect:this.handleAssetSelect,setError:this.handleSetError,setLoading:this.handleSetLoading,selectedAssets:_,visible:x===y.indexOf("upload")}),y.includes("scrape")&&(0,a.jsx)(cn,{onSelect:this.handleAssetSelect,selectedAssets:_,visible:x===y.indexOf("scrape"),title:h,description:f,resetOnSelect:p,usedUrls:j}),y.includes("dropbox")&&(0,a.jsx)(It,{onSelect:this.handleAssetSelect,setError:this.handleSetError,selectedAssets:_,visible:x===y.indexOf("dropbox"),onFlyoutChange:this.handleDropboxFlyoutChange}),y.includes("product_pins")&&(0,a.jsx)(Ut,{onSelect:this.handleAssetSelect,selectedAssets:_,visible:x===y.indexOf("product_pins"),pinItemId:d}),y.includes("catalog")&&(0,a.jsx)(ve,{onSelect:this.handleAssetSelect,selectedAssets:_,visible:x===y.indexOf("catalog")})]}),O&&(0,a.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(i.$j,{show:!0,accessibilityLabel:"Dropbox Loading Spinner"})})]})})}}])&&Kn(t.prototype,n),r&&Kn(t,r),s}(r.Component);function ar(e){var t=(0,o.ZP)();return(0,a.jsx)(ir,Gn(Gn({},e),{},{i18n:t}))}rr(ir,"defaultProps",{shownTabs:["upload","scrape"],maxAssetsToSelect:0})},128264:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(575429),o=n(433647),i=n(218265),a=n(80209);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){return c(new Array(8)).map((function(e,t){return(0,a.jsx)(i.xu,{borderStyle:"sm",height:105,marginEnd:3===t||7===t?0:2,marginTop:t>=4?4:0,rounding:3,width:105},t)}))}var u=n(174523),d=n(310054),p=n(946753);function f(e){var t=(0,u.ZP)(),n=e.pinTagId,c=e.taggedObjects,s=(0,r.useSelector)((function(t){return(0,d.Xe)(t,e)})),f=c.length>0,h=(0,p.nk)(t._("{{ count }}/8","pinbuilder.taggedProducts.count","The number of tagged products"),{count:c.length}).join(""),b="collectionsTag"===s;return(0,a.jsxs)(i.xu,{column:12,"data-test-id":"stl-tagged-items-grid",children:[(!n||n&&0===c.length)&&b&&(0,a.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:(0,a.jsx)(l,{})}),!b&&(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,a.jsx)(i.xv,{size:"sm",children:t._("Tag up to 8 products in the scene","pinbuilder.taggedProducts.limit","Users can tag the image with up to 8 products")}),(0,a.jsx)(i.xv,{size:"sm",children:h})]}),(0,a.jsx)(i.xu,{marginTop:f?10:0,marginBottom:f?10:void 0,display:"flex",wrap:!0,width:445,children:!!n&&f&&c.map((function(e,t){return(0,a.jsx)(i.xu,{children:(0,a.jsx)(o.Z,{index:t,pinTagId:e.pinTagId,size:"md",status:e.status,taggedObjectId:e.taggedObjectId})},e.taggedObjectId)}))})]})}},604762:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(793550),o=n(892882),i=n(805092),a=n(174523),c=n(549135),s=n(218265),l=n(887018),u=n(80209);function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={default:{backgroundImage:"linear-gradient(to left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.03) 50%, rgba(0, 0, 0, 0))"},drag:{backgroundImage:"linear-gradient(to left, rgba(74, 144, 226, 0), rgba(74, 144, 226, 0.03) 50%, rgba(74, 144, 226, 0))"},error:{backgroundImage:"linear-gradient(to left, rgba(230, 0, 35, 0), rgba(230, 0, 35, 0.03) 50%, rgba(230, 0, 35, 0))"}};function m(e){var t=e.addAssets,n=e.errorMessage,f=e.imageOnly,h=(0,a.ZP)(),m=p((0,r.useState)(!1),2),g=m[0],y=m[1],v=(0,r.useRef)(!1);(0,r.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));return(0,u.jsx)(o.Z,{accept:[].concat(d(l.xl),d(f?[]:l.ss)).join(","),allowMultipleFiles:!0,color:"white",hasError:!!n,id:"asset-picker-upload",onChange:function(e){y(!0);var n=Array.from(e.target.files);y(!0),(0,c.j)(101,{component:13392,element:11265}),t(n).then((function(){v.current&&y(!1)}))},onDrop:function(e){y(!0);var n=(0,i.Z)(e.dataTransfer);y(!0),(0,c.j)(3502,{component:13392,element:11265}),t(n).then((function(){v.current&&y(!1)}))},children:function(e){return(0,u.jsxs)(s.xu,{alignContent:"center",dangerouslySetInlineStyle:{__style:{border:"dashed 2px #dadada",borderRadius:6}},"data-test-id":"asset-picker-empty-pane",direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"relative",children:[g?(0,u.jsx)(s.$j,{accessibilityLabel:h._("Loading...","Loading assets","Loading assets"),show:!0}):(0,u.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:2,children:[(0,u.jsx)(s.JO,{color:"gray",icon:"arrow-circle-up",accessibilityLabel:f?h._("Add an image","uploadCoverSourceModal.emptyPane.addIconAccessibilityLabel","Add an image as part of the pin"):h._("Add an image or video","Add an image or video as part of the pin","Add an image or video as part of the pin"),size:32}),(0,u.jsx)(s.xu,{paddingY:4,children:(0,u.jsx)(s.xv,{children:h._("Drag and drop assets","A drag and drop prompt for adding assets","A drag and drop prompt for adding assets")})}),(0,u.jsx)(s.zx,{color:"red",text:h._("Upload from your computer","Button text on asset picker to upload image from a computer","Button text on asset picker to upload image from a computer")})]}),(0,u.jsx)(s.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:b[e?"drag":n?"error":"default"]},display:"flex",justifyContent:"center",left:!0,right:!0,position:"absolute",children:n?(0,u.jsx)(s.xu,{padding:5,maxWidth:468,children:(0,u.jsx)(s.xv,{align:"center",color:"red",size:"md",children:n})}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(s.xu,{display:"flex",padding:5,children:[(0,u.jsx)(s.xu,{alignItems:"center",display:"flex",marginEnd:3,children:(0,u.jsx)(s.JO,{accessibilityLabel:h._("Image icon","accessibilitiy label for image icon","accessibilitiy label for image icon"),icon:"camera-roll",size:22})}),(0,u.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(s.xv,{color:"gray",size:"sm",weight:"bold",children:h._("High resolution images","Text description of image that can be uploaded","Text description of image that can be uploaded")}),(0,u.jsx)(s.xv,{color:"gray",size:"sm",children:h._("PNG, JPG, GIF up to 10MB","Image type and limits that can be uploaded","Image type and limits that can be uploaded")})]})]}),!f&&(0,u.jsxs)(s.xu,{display:"flex",padding:5,children:[(0,u.jsx)(s.xu,{alignItems:"center",display:"flex",marginEnd:3,children:(0,u.jsx)(s.JO,{accessibilityLabel:h._("Video icon","accessibilitiy label for video icon","accessibilitiy label for video icon"),icon:"video-camera",size:24})}),(0,u.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(s.xv,{color:"gray",size:"sm",weight:"bold",children:h._("High-quality video","Text description of image that can be uploaded","Text description of image that can be uploaded")}),(0,u.jsx)(s.xv,{color:"gray",size:"sm",children:h._("MOV, MP4, up to 2GB, 5min.","Video type and limits that can be uploaded","Video type and limits that can be uploaded")})]})]})]})})]})}})}},501743:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(793550),o=n(218265),i=n(80209);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"rgba(74, 144, 226, 0.08)",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"rgba(230, 0, 35, 0.03)",boxShadow:"0 0 0 1px #e60023"}},y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,a=p(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=a.call.apply(a,[this].concat(n))),"state",{isDraggingOver:!1,isHoveringOver:!1}),m(h(e),"handleOnDragEnter",(function(t){var n=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),n&&n(t)})),m(h(e),"handleOnDragLeave",(function(t){var n=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)})),m(h(e),"handleOnDragOver",(function(t){var n=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),n&&n(t)})),m(h(e),"handleOnDrop",(function(t){var n=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)})),m(h(e),"handleMouseEnter",(function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})})),m(h(e),"handleMouseLeave",(function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})})),e}return t=c,(n=[{key:"getDragContainerStyles",value:function(e,t){return t&&"default"===e?s(s({},g[e]),{},{backgroundColor:t}):g[e]}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.dropRounding,a=e.hasError,c=e.height,l=e.position,u=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,h=p?"drag":a?"error":"default";return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s(s({},this.getDragContainerStyles(h,n)),r?{borderRadius:r}:{})},height:c||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:l,rounding:2,width:u,children:t(p,f)})}}])&&u(t.prototype,n),r&&u(t,r),c}(r.Component)},389122:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(174523),o=n(218265),i=n(80209);function a(e){var t=e.errorMessage,n=e.primaryAction,a=e.secondaryAction,c=(0,r.ZP)();return(0,i.jsxs)(o.xu,{alignItems:"center",color:"red","data-test-id":"error-banner",display:"flex",height:64,paddingX:3,position:"relative",children:[(0,i.jsx)(o.xu,{paddingX:2,children:(0,i.jsx)(o.JO,{accessibilityLabel:c._("Error Alert","Alert icon for error banner","Alert icon for error banner"),color:"white",icon:"alert",size:24})}),(0,i.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",paddingX:1,children:(0,i.jsx)(o.xv,{align:"center",color:"white",weight:"bold",children:t})}),(!!n||!!a)&&(0,i.jsxs)(o.kC,{alignItems:"end",justifyContent:"start",children:[!!a&&(0,i.jsx)(o.xu,{height:"100%",padding:1,children:a}),!!n&&(0,i.jsx)(o.xu,{height:"100%",padding:1,children:n})]})]})}},892882:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(793550),o=n(501743),i=n(218265),a=n(80209);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,r,c=d(p);function p(){var e;s(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(f(e=c.call.apply(c,[this].concat(n))),"handleChange",(function(t){var n=e.props.onChange;t.preventDefault(),t.stopPropagation(),n&&n(t),t.target.value=""})),b(f(e),"handleClick",(function(t){var n=e.props.onClick;n&&n(t)})),e}return t=p,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.allowMultipleFiles,c=t.children,s=t.color,l=t.dropRounding,u=t.hasError,d=t.height,p=t.id,f=t.onDrop,h=t.position,b=t.rounding,g=void 0===b?2:b,y=t.width,v=t.isAriaHidden,x=void 0===v?void 0:v;return(0,a.jsx)(o.Z,{color:s,dropRounding:l,hasError:u,height:d,onDrop:f,position:h,width:y,children:function(t){return(0,a.jsxs)(i.xu,{height:"100%",position:"relative",rounding:g,children:[c(t),(0,a.jsx)("input",{id:p,style:m,type:"file",accept:n,onChange:e.handleChange,onClick:e.handleClick,multiple:r,"aria-hidden":x,tabIndex:x?-1:0})]})}})}}])&&l(t.prototype,n),r&&l(t,r),p}(r.Component)},267782:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(793550),o=n(218265),i=n(80209);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,r,a=u(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=a.call.apply(a,[this].concat(n))),"state",{hovered:!1}),h(p(e),"handleMouseEnter",(function(){e.setState({hovered:!0})})),h(p(e),"handleMouseLeave",(function(){e.setState({hovered:!1})})),e}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClick,r=this.state.hovered;return(0,i.jsx)(o.xu,{role:"listitem",padding:1,color:r?"lightGray":"white",children:(0,i.jsx)(o.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:n,children:(0,i.jsx)(o.xu,{column:12,paddingX:3,paddingY:1,children:(0,i.jsx)(o.xv,{weight:"bold",children:t})})})})}}])&&s(t.prototype,n),r&&s(t,r),d}(r.PureComponent);function m(e){var t=e.items;return(0,i.jsx)(o.xu,{column:12,paddingY:4,role:"list",children:t.map((function(e,t){return(0,i.jsx)(b,{onClick:e.onClick,children:e.children},t)}))})}},597360:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(793550),o=n(227457),i=n.n(o),a=n(76535),c=n(34411),s=n(622400),l=n(585967),u=n(218265),d=n(80209);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={__style:{pointerEvents:"none"}},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(c,e);var t,n,r,o=y(c);function c(){var e;b(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=o.call.apply(o,[this].concat(n))),"state",{focused:!1}),w(x(e),"setTextAreaRef",(function(t){e.textArea=t})),w(x(e),"setTextAreaHeight",(function(){e.textArea&&(e.textArea.style.height="auto",e.textArea.style.height="".concat(e.textArea.scrollHeight,"px"))})),w(x(e),"handleChange",(function(t){(0,e.props.onChange)({event:t,value:t.target.value})})),w(x(e),"handleInput",(function(){e.setTextAreaHeight()})),w(x(e),"handleBlur",(function(t){e.setState({focused:!1},e.setTextAreaHeight);var n=e.props.onBlur;n&&n({event:t,value:t.currentTarget.value})})),w(x(e),"handleFocus",(function(t){e.setState({focused:!0},e.setTextAreaHeight);var n=e.props.onFocus;n&&n({event:t,value:t.currentTarget.value})})),w(x(e),"getColor",(function(){var t=e.props,n=t.errorMessage,r=t.warningMessage,o=t.showOnBlur,i=t.showWarningOnBlur,a=t.value,c=e.state.focused;return n?"#e60023":c||i&&r?"#0074e8":a&&!o?"transparent":"rgba(142, 142, 142, 0.5)"})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.setTextAreaHeight(),this.props.shouldFocusOnRender&&this.textArea&&this.textArea.focus()}},{key:"componentDidUpdate",value:function(){this.setTextAreaHeight()}},{key:"render",value:function(){var e=this.props,t=e.bold,n=e.muted,r=e.italic,o=e.disabled,c=e.errorMessage,l=e.warningMessage,p=e.height,f=e.helperMessage,h=e.hideScrollbars,b=e.id,m=e.maxLength,g=e.placeholder,y=e.requestContext,v=e.size,x=e.spellCheck,I=e.showOnBlur,w=e.showWarningOnBlur,j=e.value,O=void 0===j?"":j,A=e.viewer,S=e.wrap,P=this.state.focused,E={__style:{boxShadow:"0 ".concat(P||c||w&&l?"2px":"1px"," 0 0 ").concat(this.getColor()),paddingTop:8}},k=A.eligibleForStlTool&&"ad_creation"!==a.Z.scenario()&&new s.v(y,"web_stl_tooling").enabledWithNoActivation();return(0,d.jsxs)(u.xu,{column:12,display:"flex",direction:"column",children:[(0,d.jsxs)(u.xu,{column:12,position:"relative",children:[(0,d.jsx)("textarea",{className:i()("TextArea__".concat(k?"experimentalTextArea":"textArea"),{TextArea__bold:t,TextArea__dark:null==m&&!o,TextArea__hide_scrollbars:h,TextArea__disabled:o,TextArea__enabled:!o,TextArea__small:"sm"===v,TextArea__large:"lg"===v,TextArea__medium:"md"===v,TextArea__wrap:S,TextArea__nowrap:!S,TextArea__sm:!S,TextArea__smHeight:"sm"===p,TextArea__mdHeight:"md"===p,TextArea__muted:!k&&n,TextArea__italic:!k&&O&&r}),disabled:o,id:b,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onInput:this.handleInput,placeholder:g,spellCheck:x,ref:this.setTextAreaRef,rows:1,value:null==m||P?O:O.substring(0,m)}),null!=m&&!o&&(0,d.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:_,children:(0,d.jsx)("div",{className:i()("TextArea__".concat(k?"ghostTextArea":"textArea"),"TextArea__dark",{TextArea__bold:t,TextArea__muted:!k&&n,TextArea__italic:!k&&r,TextArea__large:"lg"===v,TextArea__medium:"md"===v,TextArea__small:"sm"===v,TextArea__wrap:S,TextArea__nowrap:!S}),children:O.substring(0,m)})})]}),(0,d.jsxs)("div",{className:P||I||c||w&&l||!O?"":"TextArea__hidden",children:[!k&&(0,d.jsx)(u.xu,{column:12,dangerouslySetInlineStyle:E}),(0,d.jsx)(u.xu,{column:12,marginTop:k?0:1,minHeight:15,children:(P||I||!!c||w&&!!l)&&(0,d.jsxs)(u.xu,{column:12,display:"flex",justifyContent:"between",children:[!!c&&(0,d.jsx)(u.xu,{flex:"grow","data-test-id":"text-area-error",children:(0,d.jsx)(u.xv,{size:"sm",color:"red",children:c})}),(w||P)&&!c&&!!l&&(0,d.jsx)(u.xu,{flex:"grow","data-test-id":"text-area-warning",children:(0,d.jsx)(u.xv,{size:"sm",color:"gray",children:l})}),(I||P)&&!c&&!l&&(0,d.jsx)(u.xu,{flex:"grow","data-test-id":"text-area-helper",children:(0,d.jsx)(u.xv,{size:"sm",color:"gray",children:f})}),P&&null!=m&&(0,d.jsx)(u.xu,{flex:"none",children:(0,d.jsx)(u.xv,{size:"sm",color:c?"red":"darkGray",children:m-O.length})})]})})]})]})}}])&&m(t.prototype,n),r&&m(t,r),c}(r.Component);function O(e){return(0,d.jsx)(j,h(h({},e),{},{requestContext:(0,l.B)(),viewer:(0,c.Z)()}))}w(j,"defaultProps",{italic:!1,muted:!1,bold:!1,disabled:!1,size:"md",wrap:!0,hideScrollbars:!1,shouldFocusOnRender:!1})},76067:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(793550),o=n(588527),i=n(174523),a=n(218265),c=n(80209);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,i=f(s);function s(e){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),g(b(n=i.call(this,e)),"state",{hovered:!1,focused:!1,currentValue:""}),g(b(n),"addStep",(function(e){if(!e||"keyup"!==e.type||e.charCode===o.Z.SPACE||e.charCode===o.Z.ENTER){var t=n.props,r=t.maxValue,i=t.onChange,a=t.value,c=t.step,s=void 0===c?0:c;i(n._roundToStepDecimalDigits(Math.min(r,a+s)))}})),g(b(n),"minusStep",(function(e){if(!e||"keyup"!==e.type||e.charCode===o.Z.SPACE||e.charCode===o.Z.ENTER){var t=n.props,r=t.minValue,i=t.onChange,a=t.value,c=t.step,s=void 0===c?0:c;i(n._roundToStepDecimalDigits(Math.max(r,a-s)))}})),g(b(n),"onChange",(function(e){var t=e.target.value;n.setState({currentValue:t})})),g(b(n),"handleMouseEnter",(function(){n.setState({hovered:!0})})),g(b(n),"handleMouseLeave",(function(){n.setState({hovered:!1})})),g(b(n),"onFocus",(function(){var e=n.props.value;n.setState({focused:!0,currentValue:e.toString()})})),g(b(n),"onBlur",(function(){var e=n.props,t=e.minValue,r=e.maxValue,o=e.onChange,i=e.value,a=parseFloat(n.state.currentValue),c=isNaN(a)?i:a,s=n._roundToStepDecimalDigits(Math.min(Math.max(c,t),r));o(s),n.setState({focused:!1,currentValue:s.toString()})}));var r=(null!==(t=e.step)&&void 0!==t?t:0).toString().split(".");return n._shiftBy=r[1]?Math.pow(10,r[1].length):1,n}return t=s,(n=[{key:"_roundToStepDecimalDigits",value:function(e){return Math.round(e*this._shiftBy)/this._shiftBy}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.iconName,r=e.value,o=e.useLegoStyle,i=this.state,s=i.hovered,l=i.currentValue,u=i.focused?l:r,d=[{iconName:"arrow-up",accessibilityLabel:this.props.i18n._("Increase by the step specified, for example 1 or 0.1"," - "," -- "),onClick:this.addStep},{iconName:"arrow-down",accessibilityLabel:this.props.i18n._("Decrease by the step specified, for example 1 or 0.1"," - "," -- "),onClick:this.minusStep}],p={input:{border:"solid 2px #efefef",borderRadius:o?16:8,boxSizing:"border-box",fontSize:"16px",outline:"none",padding:"10px 16px",width:"100%",WebkitAppearance:"textfield",MozAppearance:"textfield"},buttonContainer:{__style:{borderRadius:o?"0px 14px 14px 0px":"0px 6px 6px 0px",right:"2px"}},button:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"50%",cursor:"pointer",userSelect:"none",outline:"none"}};return(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:40,width:"100%",children:(0,c.jsxs)(a.xu,{display:"flex",position:"relative",justifyContent:"center",alignItems:"center",column:12,height:"100%",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,rounding:2,children:[(0,c.jsx)("input",{id:t,"data-test-id":t,type:"number",value:u,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,autoComplete:"off",size:"20",style:p.input}),s?(0,c.jsx)(a.xu,{position:"absolute",display:"flex",direction:"column",justifyContent:"center",alignItems:"center",color:"lightGray",width:28,height:"100%",overflow:"hidden",dangerouslySetInlineStyle:p.buttonContainer,children:d.map((function(e){return(0,c.jsx)("div",{"data-test-id":e.iconName,onKeyUp:e.onClick,onClick:e.onClick,role:"button",tabIndex:"0",style:p.button,children:(0,c.jsx)(a.JO,{icon:e.iconName,accessibilityLabel:e.accessibilityLabel,size:8,color:"darkGray"})},e.iconName)}))}):(0,c.jsx)(a.xu,{position:"absolute",right:!0,marginEnd:3,children:(0,c.jsx)(a.JO,{icon:n,accessibilityLabel:n,size:16})})]})})}}])&&d(t.prototype,n),r&&d(t,r),s}(r.Component);function v(e){var t=(0,i.ZP)();return(0,c.jsx)(y,u(u({},e),{},{i18n:t}))}g(y,"defaultProps",{step:1})},887018:function(e,t,n){"use strict";n.d(t,{of:function(){return r},LM:function(){return o},v5:function(){return i},sD:function(){return a},uR:function(){return c},XB:function(){return s},bo:function(){return l},gU:function(){return u},UU:function(){return d},i2:function(){return p},$f:function(){return f},km:function(){return h},Zl:function(){return b},eZ:function(){return m},sG:function(){return g},GX:function(){return y},Bj:function(){return v},yC:function(){return x},MN:function(){return I},Pn:function(){return w},wj:function(){return _},TK:function(){return j},YM:function(){return O},qY:function(){return A},dS:function(){return S},yX:function(){return P},TZ:function(){return E},Xy:function(){return k},yI:function(){return C},$4:function(){return R},Ke:function(){return B},JO:function(){return D},lx:function(){return T},bA:function(){return J},G9:function(){return V},iR:function(){return M},x1:function(){return F},hH:function(){return N},n_:function(){return U},aj:function(){return Z},yb:function(){return L},np:function(){return Q},mt:function(){return W},AQ:function(){return q},DB:function(){return H},mr:function(){return G},v9:function(){return X},u1:function(){return Y},Uw:function(){return K},rc:function(){return z},xl:function(){return $},P7:function(){return ee},IR:function(){return te},qr:function(){return ne},yL:function(){return re},Ci:function(){return oe},FM:function(){return ie},Mn:function(){return ae},vk:function(){return ce},NB:function(){return se},P0:function(){return le},zr:function(){return ue},ss:function(){return de},sc:function(){return pe},sy:function(){return fe},VY:function(){return he},uW:function(){return be},x2:function(){return me},lr:function(){return ge},X5:function(){return ye},b1:function(){return ve},fk:function(){return xe},qm:function(){return Ie},Hy:function(){return we},g1:function(){return _e},VP:function(){return je},Lc:function(){return Oe},aD:function(){return Ae},jh:function(){return Se},MH:function(){return Pe},ox:function(){return Ee}});var r=880,o=340,i=380,a=510,c=40,s=20,l=4,u=474,d=134,p=96,f=625,h=800,b=822,m=186,g=40,y=10,v=88,x=183,I=130,w=24,_=400,j=50,O=8,A=8,S=5,P=20,E=13,k=5,C=20,R=Math.pow(C,2),B=100,D=500,T=500,J=40,V=100,M=5,F=["attempted","publishing","succeeded","uploading"],N={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}]},U=["tl","tc","tr","bl","bc","br"],Z=["left","center"],L=["top","center","bottom"],Q=["none","uppercase"],W=["sm","md","lg"],q=[1,.75],H=198,G=132,X=1,Y=56,K=240,z="cubic-bezier(0.66, 0.025, 0.33, 0.975)",$=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],ee=["bmp","gif","jpg","jpeg","png","tiff","webp"],te=89478485,ne=20971520,re=100,oe=100,ie=1e3,ae=1500,ce=2,se=3,le=20,ue=20,de=["video/mp4","video/x-m4v","video/quicktime"],pe=["mp4","m4v","mov"],fe=2147483648,he=4,be=re,me=oe,ge=900,ye=.5,ve=1.91,xe=2,Ie=["processing","publishing","saving"],we=2500,_e=3,je=5e3,Oe="pin-builder-default-education-id",Ae="pin-builder-default-tour-id",Se="pin-builder-editing-tour-id",Pe={CAROUSEL:"CAROUSEL",STATIC:"STATIC",VIDEO:"VIDEO",COLLECTIONS:"COLLECTIONS"},Ee={TRAFFIC:"TRAFFIC",AWARENESS:"AWARENESS",APP_INSTALL:"APP_INSTALL",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES",VIDEO_VIEW:"VIDEO_VIEW",WEB_SESSIONS:"WEB_SESSIONS"}},844936:function(e,t,n){"use strict";n.r(t),n.d(t,{PinBuilderEditor:function(){return bn},default:function(){return mn}});var r=n(793550),o=n(575429);var i=n(237893),a=n(721869),c=n(235777),s=n(629973),l=n(218265),u=n(80209);function d(e){var t,n,r,o,i=e.isSelected,a=e.disabled,c=e.onClick,s=e.ratio,d=e.width,p=void 0===d?84:d,f={width:p,backgroundColor:i?"#fff":"#efefef",border:i?"2px solid #e50c29":"2px solid #efefef",borderRadius:8,boxSizing:"border-box",cursor:a?"default":"pointer",height:p*(null!==(t=s.h)&&void 0!==t?t:1)/(null!==(n=s.w)&&void 0!==n?n:1),outline:"none",opacity:a?.5:void 0,padding:0};return(0,u.jsx)("button",{onClick:c,disabled:a,style:f,children:(0,u.jsx)(l.xu,{rounding:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,u.jsx)(l.xv,{color:"darkGray",size:"md",weight:"bold",children:"".concat(null!==(r=s.w)&&void 0!==r?r:1,":").concat(null!==(o=s.h)&&void 0!==o?o:1)})})})}var p=n(964581),f=n(892882),h=n(76535),b=n(773559),m=n(268751),g=n(549135),y=n(174523),v=n(887018);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),C(E(t=o.call(this,e)),"onClickAspectRatio",(function(e){var n=t.props,r=n.aspectRatioIndex,o=n.aspectRatios,i=n.canDeselectAspectRatio,a=n.onSelectAspectRatioIndex,c=n.numImages,s=n.pinCanvas;if(s){var l,u,d=o[e],p=e===r&&i&&1===c;p?(s.setAspectRatio(null),a(null)):(s.setAspectRatio(d),a(e));var f=d?"".concat(null!==(l=d.w)&&void 0!==l?l:1,":").concat(null!==(u=d.h)&&void 0!==u?u:1):null;(0,g.j)(101,{component:13780,element:12137,aspect_ratio:f,selected:!p})}})),C(E(t),"onClickRotateImage",(function(){var e=t.props.pinCanvas;e&&e.rotateImage("clockwise"),(0,g.j)(101,{component:13780,element:12138,editor_option:"rotate"})})),C(E(t),"onClickFlipImageHorizontal",(function(){var e=t.props.pinCanvas;e&&e.flipImage("horizontal"),(0,g.j)(101,{component:13780,element:12138,editor_option:"horizontal_flip"})})),C(E(t),"onClickFlipImageVertical",(function(){var e=t.props.pinCanvas;e&&e.flipImage("vertical"),(0,g.j)(101,{component:13780,element:12138,editor_option:"vertical_flip"})})),C(E(t),"onClickScaleImage",(function(){var e=t.props,n=e.isScalingMode,r=e.pinCanvas;r&&(n?r.exitScalingMode():r.enterScalingMode()),(0,g.j)(101,{component:13780,element:12138,editor_option:"scale_mode_".concat(n?"exit":"enter")})})),C(E(t),"onClickAddImage",(function(){var e=t.props.numImages;t.setState({isAssetPickerOpen:!0,isReplace:!1,maxAssetsToSelect:v.Xy-e}),(0,g.j)(101,{component:13780,element:12139,editor_option:"add_image"})})),C(E(t),"onClickReplaceImage",(function(){t.setState({isAssetPickerOpen:!0,isReplace:!0}),(0,g.j)(101,{component:13780,element:12139,editor_option:"replace_image"})})),C(E(t),"onClickDeleteImage",(function(){var e=t.props.pinCanvas;e&&e.removeImage(),(0,g.j)(101,{component:13780,element:12139,editor_option:"delete_image"})})),C(E(t),"onAddImageInputChange",(function(e){var n=Array.from(e.target.files);(0,m.Z)(t.props.i18n,n,{allowVideo:!1}).then((function(e){var n=e.reduce((function(e,t){return"error"!==t.type?[].concat(_(e),[t]):e}),[]);t.handleAddImage(n)})),(0,g.j)(101,{component:13780,element:12139,editor_option:"add_image"})})),C(E(t),"onReplaceImageInputChange",(function(e){var n=Array.from(e.target.files);(0,m.Z)(t.props.i18n,n,{allowVideo:!1}).then((function(e){var n=e.reduce((function(e,t){return"error"!==t.type?[].concat(_(e),[t]):e}),[]);t.handleReplaceImage(n)})),(0,g.j)(101,{component:13780,element:12139,editor_option:"replace_image"})})),C(E(t),"handleAddImage",(function(e){var n=t.props.pinCanvas,r=e.reduce((function(e,t){return t.src?[].concat(_(e),[t.src]):e}),[]);n&&r.length>0&&r.forEach((function(e){n.addImage(e)}))})),C(E(t),"handleReplaceImage",(function(e){var n=t.props.pinCanvas,r=e.reduce((function(e,t){return t.src?[].concat(_(e),[t.src]):e}),[]);n&&r.length>0&&n.replaceImage(r[0])})),C(E(t),"handleDismiss",(function(){t.setState({isAssetPickerOpen:!1})})),C(E(t),"onClickReset",(function(){var e=t.props,n=e.aspectRatios,r=e.canDeselectAspectRatio,o=e.pinCanvas,i=e.onReset;o&&(o.resetCrop(),o.setAspectRatio(r?null:n[0]),i()),(0,g.j)(101,{component:13780,element:12135,editor_mode:"crop"})})),t.state={isAssetPickerOpen:!1,isReplace:!1,maxAssetsToSelect:0},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.aspectRatioIndex,r=t.aspectRatios,o=t.isImageSelected,i=t.isScalingMode,a=t.numImages,c=t.mediaType,s=t.videoStartText,m=t.videoEndText,g=t.validateStartTime,y=t.validateEndTime,x=t.handleEndTimeChange,I=t.handleStartTimeChange,w=this.state,j=w.isAssetPickerOpen,O=w.isReplace,A=w.maxAssetsToSelect,S=!o,P=a>1&&i,E=1===a||!o,k=this.props.i18n._("Rotate 90°","Rotate the angle of the image by 90 degrees","Rotate the angle of the image by 90 degrees"),C=this.props.i18n._("Flip image horizontally","Flip the image on the horizontal axis","Flip the image on the horizontal axis"),R=this.props.i18n._("Flip image vertically","Flip the image on the vertical axis","Flip the image on the vertical axis"),B=this.props.i18n._("Resize image","Resize an image in the collage Pin","Resize an image in the collage Pin"),D=this.props.i18n._("Add image","Add image to the collage Pin","Add image to the collage Pin"),T=this.props.i18n._("Replace image","Replace image in the collage Pin","Replace image in the collage Pin"),J=this.props.i18n._("Delete image","Delete image from the collage Pin","Delete image from the collage Pin");return(0,u.jsxs)(l.xu,{column:12,display:"flex",direction:"column",children:[(0,u.jsxs)(l.xu,{padding:8,flex:"grow",position:"relative",overflow:"auto",children:[(0,u.jsx)(l.xu,{marginBottom:3,children:(0,u.jsx)(l.X6,{size:"md",children:"video"===c?this.props.i18n._("Trim & Crop","cropPane.heading","Trim and crop the video selected in Pin Builder."):this.props.i18n._("Crop","cropPane.heading","Crop the image selected in Pin Builder.")})}),(0,u.jsx)(l.xu,{marginBottom:8,children:(0,u.jsx)(l.xv,{children:this.props.i18n._("Crop and adjust your image to focus on the most interesting part","Describing what this tool is about.","Describing what this tool is about.")})}),(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Aspect ratio","Adjust the aspect ratio of the cropping.","Adjust the aspect ratio of the cropping.")}),(0,u.jsx)(l.xu,{paddingY:1,children:(0,u.jsx)(l.xv,{color:"gray",size:"md",children:this.props.i18n._("We recommend a 2:3 aspect ratio for most Pins on Pinterest","Recommendation for the best aspect ratio for an image on Pinterest","Recommendation for the best aspect ratio for an image on Pinterest")})}),(0,u.jsx)(l.xu,{display:"flex",marginTop:2,marginStart:-2,marginEnd:-2,children:r.map((function(t,r){return(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-aspect-ratio-crop-button",flex:"none",paddingX:2,children:(0,u.jsx)(d,{disabled:P,isSelected:r===n,onClick:function(){return e.onClickAspectRatio(r)},ratio:t})},r)}))})]}),(0,u.jsxs)(l.xu,{marginTop:8,children:[(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Adjust","Adjust the rotation of the image","Adjust the rotation of the image")}),(0,u.jsxs)(l.xu,{display:"flex",marginTop:4,marginStart:-1,marginEnd:-1,children:[(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-rotate-right-button",paddingX:1,children:(0,u.jsx)(l.u,{text:k,children:(0,u.jsx)(l.hU,{accessibilityLabel:k,bgColor:"lightGray",disabled:S,icon:"rotate",iconColor:"darkGray",onClick:this.onClickRotateImage})})}),"video"!==c&&(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-flip-button-horizontal",paddingX:1,children:(0,u.jsx)(l.u,{text:C,children:(0,u.jsx)(l.hU,{accessibilityLabel:C,bgColor:"lightGray",disabled:S,icon:"flipHorizontal",iconColor:"darkGray",onClick:this.onClickFlipImageHorizontal})})}),"video"!==c&&(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-flip-button-vertical",paddingX:1,children:(0,u.jsx)(l.u,{text:R,children:(0,u.jsx)(l.hU,{accessibilityLabel:R,bgColor:"lightGray",disabled:S,icon:"flipVertical",iconColor:"darkGray",onClick:this.onClickFlipImageVertical})})}),"video"!==c&&(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-move-button",paddingX:1,children:(0,u.jsx)(l.u,{text:B,children:(0,u.jsx)(l.hU,{accessibilityLabel:B,bgColor:i?"transparentDarkGray":"lightGray",disabled:E,icon:"scale",iconColor:i?"white":"darkGray",onClick:this.onClickScaleImage})})})]})]}),"video"!==c&&(0,u.jsxs)(l.xu,{marginTop:8,children:[(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Change an image","Heading for buttons that add, replace and remove an image","Heading for buttons that add, replace and remove an image")}),(0,u.jsxs)(l.xu,{display:"flex",marginTop:4,marginStart:-1,marginEnd:-1,children:[(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-add-image-button",paddingX:1,children:(0,u.jsx)(l.u,{text:D,children:!h.Z.enabled("asset_picker")&&a<v.Xy?(0,u.jsx)(f.Z,{accept:_(v.xl).join(","),allowMultipleFiles:!0,color:"white",id:"layouts-add-image-input",onChange:this.onAddImageInputChange,children:function(){return(0,u.jsx)(l.hU,{accessibilityLabel:D,bgColor:"lightGray",disabled:a>=v.Xy,icon:"add-layout",iconColor:"darkGray"})}}):(0,u.jsx)(l.hU,{accessibilityLabel:D,bgColor:"lightGray",disabled:a>=v.Xy,icon:"add-layout",iconColor:"darkGray",onClick:this.onClickAddImage})})}),(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-replace-image-button",paddingX:1,children:(0,u.jsx)(l.u,{text:T,children:h.Z.enabled("asset_picker")||S?(0,u.jsx)(l.hU,{accessibilityLabel:T,bgColor:"lightGray",disabled:S,icon:"replace",iconColor:"darkGray",onClick:this.onClickReplaceImage}):(0,u.jsx)(f.Z,{accept:_(v.xl).join(","),allowMultipleFiles:!1,color:"white",id:"layouts-replace-image-input",onChange:this.onReplaceImageInputChange,children:function(){return(0,u.jsx)(l.hU,{accessibilityLabel:T,bgColor:"lightGray",disabled:S,icon:"replace",iconColor:"darkGray"})}})})}),(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-delete-image-button",paddingX:1,children:(0,u.jsx)(l.u,{text:J,children:(0,u.jsx)(l.hU,{accessibilityLabel:J,bgColor:"lightGray",disabled:S||1===a,icon:"trash-can",iconColor:"darkGray",onClick:this.onClickDeleteImage})})})]})]}),"video"===c&&(0,u.jsxs)(l.xu,{marginTop:8,children:[(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Trim","Adjust the start and end time of the video","Adjust the start and end time of the video")}),(0,u.jsx)(l.xu,{paddingY:1,children:(0,u.jsxs)(l.xv,{color:"gray",size:"md",children:[this.props.i18n._("Video Pins 1 to 2 minutes long work best. Video ads 6 to 15 seconds long work best. ","Recommendation for the best video length for video on Pinterest","Recommendation for the best video length for video on Pinterest"),(0,u.jsx)(l.rU,{inline:!0,href:b.Z.settings.PARTNER_SITE_MAKE_GREAT_PINS_URL,target:"blank",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:this.props.i18n._("Learn More.","Link to Pinterest help center about creative best practices","Link to Pinterest help center about creative best practices")})]})}),(0,u.jsxs)(l.xu,{display:"flex",marginTop:4,marginStart:-1,marginEnd:-1,children:[(0,u.jsxs)(l.xu,{paddingX:2,children:[(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.__,{htmlFor:"videoStartText",children:(0,u.jsx)(l.xv,{size:"sm",children:"Start"})})}),(0,u.jsx)(l.nv,{errorMessage:s?g(s):"",id:"videoStartText",onChange:I,size:"lg",type:"text",value:s})]}),(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.__,{htmlFor:"videoEndText",children:(0,u.jsx)(l.xv,{size:"sm",children:"End"})})}),(0,u.jsx)(l.nv,{errorMessage:m?y(m):"",id:"videoEndText",onChange:x,size:"lg",type:"text",value:m})]})]})]})]}),(0,u.jsxs)(l.xu,{display:"flex",direction:"column",column:12,children:[(0,u.jsx)(l.iz,{}),(0,u.jsx)(l.xu,{"data-tutorial-id":"pin-builder-editor-reset-button",paddingY:2,paddingX:8,children:(0,u.jsx)(l.zx,{fullWidth:!0,accessibilityLabel:this.props.i18n._("Reset"," - "," -- "),color:"white",text:"video"===c?this.props.i18n._("Clear crop","Resets cropping changes","Resets cropping changes"):this.props.i18n._("Reset","Resets all the changes.","Resets all the changes."),onClick:this.onClickReset})})]}),j&&(0,u.jsx)(p.Z,{onPrimaryAction:O?this.handleReplaceImage:this.handleAddImage,onDismiss:this.handleDismiss,primaryButtonText:O?this.props.i18n._("Use image","Button text for use another image to replace the selected image in the collage Pin.","Button text for use another image to replace the selected image in the collage Pin."):this.props.i18n._("Add image","Button text for adding some other images to the collage Pin","Button text for adding some other images to the collage Pin"),maxAssetsToSelect:A})]})}}])&&O(t.prototype,n),r&&O(t,r),i}(r.Component);var B=(0,o.connect)((function(e,t){return{type:e.pinbuilder.pinDrafts[t.pinDraftId].type}}))((function(e){var t=(0,y.ZP)();return(0,u.jsx)(R,w(w({},e),{},{i18n:t}))})),D=n(904168),T=n(805092);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={__style:{tabindex:0,margin:2}},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=Z(i);function i(){var e;F(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(Q(e=o.call.apply(o,[this].concat(n))),"handleLoadFiles",(function(t){var n=e.props.onLoadLogos,r={minHeight:v.P0,minWidth:v.zr};(0,m.Z)(e.props.i18n,t,r).then((function(e){var t=e.reduce((function(e,t){return"localImage"===t.type&&e.push(t),e}),[]);n(t)}))})),q(Q(e),"handleDrop",(function(t){var n=(0,T.Z)(t.dataTransfer);e.handleLoadFiles(n)})),q(Q(e),"handleChange",(function(t){var n=Array.from(t.target.files);e.handleLoadFiles(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.height;return(0,u.jsx)(l.xu,{height:r,rounding:2,width:n,dangerouslySetInlineStyle:H,children:(0,u.jsx)(f.Z,{accept:v.xl.join(","),allowMultipleFiles:!0,id:"add-button-placeholder",onChange:this.handleChange,onDrop:this.handleDrop,children:function(){return(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:2,children:(0,u.jsx)(l.JO,{accessibilityLabel:e.props.i18n._("Import local images","Add local images to Pin builder","Add local images to Pin builder"),icon:"add-circle",size:24})})}})})}}])&&N(t.prototype,n),r&&N(t,r),i}(r.Component);function X(e){var t=(0,y.ZP)();return(0,u.jsx)(G,M(M({},e),{},{i18n:t}))}q(G,"defaultProps",{height:147,width:147});var Y=n(562239);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se={__style:{padding:"2px"}},le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){var e;ee(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(ie(e=o.call.apply(o,[this].concat(n))),"state",{isHovering:!1}),ce(ie(e),"handleMouseEnter",(function(){e.setState({isHovering:!0})})),ce(ie(e),"handleMouseLeave",(function(){e.setState({isHovering:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.imgSrc,n=e.imgWidth,r=e.imgHeight,o=e.fit,i=e.title,a=e.selected,c=e.onClick,s=e.onDelete,d=this.state.isHovering;return(0,u.jsxs)(l.xu,{"data-test-id":"pinbuilder-asset-preview",position:"relative",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:se,children:[(0,u.jsx)(Y.Z,{selected:a,onClick:c,children:(0,u.jsxs)(l.xu,{rounding:2,color:"lightGray",position:"relative",width:n,height:r,overflow:"hidden",children:[(0,u.jsx)(l.Ee,{alt:i||"",src:t,fit:o,naturalWidth:1,naturalHeight:1}),i&&(0,u.jsx)(l.xu,{marginTop:2,marginBottom:1,children:(0,u.jsx)(l.xv,{lineClamp:1,size:"sm",children:i})})]})}),d&&(0,u.jsx)(l.xu,{color:"gray","data-test-id":"remove-asset-icon-button",height:16,padding:1,marginEnd:-1,marginTop:-1,position:"absolute",right:!0,rounding:"circle",top:!0,width:16,children:(0,u.jsx)(l.iP,{fullHeight:!0,fullWidth:!0,onTap:s,children:(0,u.jsx)(l.JO,{color:"white",icon:"cancel",size:8,accessibilityLabel:this.props.i18n._("Remove Asset","Icon button to remove selected media file","Icon button to remove selected media file")})})})]})}}])&&te(t.prototype,n),r&&te(t,r),i}(r.Component);function ue(e){var t=(0,y.ZP)();return(0,u.jsx)(le,$($({},e),{},{i18n:t}))}var de=n(513872),pe=n.n(de);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=58,Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,e);var t,n,r,o=ve(i);function i(){var e;me(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _e(Ie(e=o.call.apply(o,[this].concat(n))),"state",{selectedIndex:void 0}),_e(Ie(e),"onSelectLogo",(function(t){(0,e.props.onSelectLogo)(t),e.setState((function(e){return{selectedIndex:e.selectedIndex===t?null:t}}))})),_e(Ie(e),"renderLogoPreview",(function(t){var n=e.props,r=n.logoIndex,o=n.onAddNewLogos,i=n.onDeleteLogo,a=r!==e.state.selectedIndex?r:e.state.selectedIndex;return"placeholder"===t.data.type?(0,u.jsx)(X,{onLoadLogos:o,width:je,height:je}):(0,u.jsx)(ue,{imgSrc:t.data.src,imgWidth:je,imgHeight:je,fit:"contain",onClick:function(){return e.onSelectLogo(t.itemIdx-1)},onDelete:function(){return i(t.itemIdx-1)},selected:a===t.itemIdx-1})})),e}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e,t){return!pe()(this.props.logos,e.logos)||!pe()(this.props.logoIndex,e.logoIndex)||!pe()(this.state.selectedIndex,t.selectedIndex)}},{key:"render",value:function(){var e=this.props.logos;return(0,u.jsx)(l.xu,{column:12,minHeight:70,maxHeight:165,paddingY:1,overflow:"scroll",children:(0,u.jsx)(l.Rk,{comp:this.renderLogoPreview,items:[{type:"placeholder"}].concat(he(e)),columnWidth:62,gutterWidth:9})})}}])&&ge(t.prototype,n),r&&ge(t,r),i}(r.Component),Ae=18;function Se(e){var t=e.logoPositionIndex,n=e.onSelectLogoPosition,r=(0,y.ZP)(),o=r._("Position top left","Adjust the location of the logo to top left.","Adjust the location of the logo to top left."),i=r._("Position top center","Adjust the location of the logo to top center.","Adjust the location of the logo to top center."),a=r._("Position top right","Adjust the location of the logo to top right.","Adjust the location of the logo to top right."),c=r._("Position bottom left","Adjust the location of the logo to bottom left.","Adjust the location of the logo to bottom left."),s=r._("Position bottom center","Adjust the location of the logo to bottom center.","Adjust the location of the logo to bottom center."),d=r._("Position bottom right","Adjust the location of the logo to bottom right.","Adjust the location of the logo to bottom right."),p=[(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-top-left-button",children:(0,u.jsx)(l.u,{text:o,children:(0,u.jsx)(l.JO,{accessibilityLabel:o,icon:"align-top-left",color:0===t?"darkGray":"gray",size:Ae})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-top-center-button",children:(0,u.jsx)(l.u,{text:i,children:(0,u.jsx)(l.JO,{accessibilityLabel:i,icon:"align-top-center",color:1===t?"darkGray":"gray",size:Ae})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-top-right-button",children:(0,u.jsx)(l.u,{text:a,children:(0,u.jsx)(l.JO,{accessibilityLabel:a,icon:"align-top-right",color:2===t?"darkGray":"gray",size:Ae})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-bottom-left-button",children:(0,u.jsx)(l.u,{text:c,children:(0,u.jsx)(l.JO,{accessibilityLabel:c,icon:"align-bottom-left",color:3===t?"darkGray":"gray",size:Ae})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-bottom-center-button",children:(0,u.jsx)(l.u,{text:s,children:(0,u.jsx)(l.JO,{accessibilityLabel:s,icon:"align-bottom-center",color:4===t?"darkGray":"gray",size:Ae})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-bottom-right-button",children:(0,u.jsx)(l.u,{text:d,children:(0,u.jsx)(l.JO,{accessibilityLabel:d,icon:"align-bottom-right",color:5===t?"darkGray":"gray",size:Ae})})})];return(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:r._("Position","Adjust the position of the logo","Adjust the position of the logo")})}),(0,u.jsx)(l.sY,{selectedItemIndex:t,onChange:n,items:p,responsive:!0})]})}function Pe(e){var t=e.marginIndex,n=e.onSelectMargin,r=(0,y.ZP)(),o=r._("Apply narrow margins","Adjust the margin to small.","Adjust the margin to small."),i=r._("Apply medium margins","Adjust the margin to medium.","Adjust the margin to medium."),a=r._("Apply wide margins","Adjust the margin to large.","Adjust the margin to large."),c=[(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-margins-size-button","data-test-id":"pinbuilder-editor-margins-small-button",children:(0,u.jsx)(l.u,{text:o,children:(0,u.jsx)(l.JO,{accessibilityLabel:o,icon:"margins-small",color:0===t?"darkGray":"gray",size:18})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-margins-size-button","data-test-id":"pinbuilder-editor-margins-medium-button",children:(0,u.jsx)(l.u,{text:i,children:(0,u.jsx)(l.JO,{accessibilityLabel:i,icon:"margins-medium",color:1===t?"darkGray":"gray",size:18})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-margins-size-button","data-test-id":"pinbuilder-editor-margins-large-button",children:(0,u.jsx)(l.u,{text:a,children:(0,u.jsx)(l.JO,{accessibilityLabel:a,icon:"margins-large",color:2===t?"darkGray":"gray",size:18})})})];return(0,u.jsx)(l.sY,{selectedItemIndex:t,onChange:n,items:c})}var Ee=n(76067);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(i,e);var t,n,r,o=Je(i);function i(){var e;Be(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ne(Me(e=o.call.apply(o,[this].concat(n))),"onReset",(function(){var t=e.props,n=t.pinCanvas;(0,t.onReset)(),n&&n.removeLogo(),(0,g.j)(101,{component:13780,element:12135,editor_mode:"logo"})})),Ne(Me(e),"onDeleteLogo",(function(t){var n=e.props,r=n.pinCanvas,o=n.onDeleteLogo,i=n.logo;o(t),i.logoIndex===t&&r&&r.removeLogo(),(0,g.j)(101,{component:13780,element:12142})})),Ne(Me(e),"setLogo",(function(t){var n=e.props,r=n.pinCanvas,o=n.logo,i=n.logoImages;r&&(null!=t?r.setLogo({assetId:i[t].assetId,src:i[t].src,size:o.logoSize,margin:v.mt[o.logoMarginIndex],position:v.n_[o.logoPositionIndex],backgroundColor:o.logoBackgroundColor,backgroundOpacity:v.AQ[o.logoTransparencyIndex]}):r.removeLogo())})),Ne(Me(e),"onSelectLogo",(function(t){var n=e.props,r=n.pinCanvas,o=n.onSelectLogo,i=n.logo;o(t),i.logoIndex===t?r&&r.removeLogo():r&&e.setLogo(t),(0,g.j)(101,{component:13780,element:12141})})),Ne(Me(e),"onChangeLogoSize",(function(t){var n=e.props,r=n.pinCanvas;(0,n.onChangeLogoSize)(t),r&&r.setLogoSize(t),(0,g.j)(3828,{component:13780,element:12147,value:t})})),Ne(Me(e),"onSelectLogoMargin",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectLogoMargin,a=v.mt[n];i(n),o&&o.setLogoMargin(a),(0,g.j)(101,{component:13780,element:12148,value:a})})),Ne(Me(e),"onSelectLogoPosition",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectLogoPosition,a=v.n_[n];i(n),o&&o.setLogoPosition(a),(0,g.j)(101,{component:13780,element:12149,value:a})})),Ne(Me(e),"onSelectLogoBackgroundColor",(function(t){var n=t.value,r=e.props,o=r.pinCanvas,i=r.onSelectLogoBackgroundColor,a=n.startsWith("#")||""===n?n.toLowerCase():"#".concat(n).toLowerCase();i(a),o&&o.setLogoBackgroundColor(a),(0,g.j)(8721,{component:13780,element:12150,editor_option:"color",value:a})})),Ne(Me(e),"onSelectLogoTransparency",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectLogoTransparency,a=v.AQ[n];i(n),o&&o.setLogoBackgroundOpacity(a),(0,g.j)(8721,{component:13780,element:12150,editor_option:"transparency",value:a})})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=e.logo,n=e.logoImages,r=this.props,o=r.logo,i=r.logoImages;t.logoIndex===o.logoIndex&&n.length===i.length||this.setLogo(o.logoIndex)}},{key:"render",value:function(){var e=this.props,t=e.logo,n=e.logoImages,r=e.onUploadLogos,o=e.pinCanvas,i=t.logoIndex,a=t.logoSize,c=t.logoMarginIndex,s=t.logoPositionIndex,d=t.logoBackgroundColor,p=t.logoTransparencyIndex;return(0,u.jsxs)(l.xu,{column:12,display:"flex",direction:"column",children:[(0,u.jsxs)(l.xu,{paddingY:8,flex:"grow",overflow:"auto",children:[(0,u.jsx)(l.xu,{paddingX:8,children:(0,u.jsx)(l.X6,{size:"md",children:this.props.i18n._("Logo","Add a logo to the image selected in Pin Builder.","Add a logo to the image selected in Pin Builder.")})}),(0,u.jsx)(l.xu,{paddingX:8,marginTop:3,children:(0,u.jsx)(l.xv,{children:this.props.i18n._("Add your logo to make this Pin feel official"," - "," -- ")})}),(0,u.jsx)(l.xu,{paddingX:8,marginTop:6,children:(0,u.jsx)(Oe,{logos:n,logoIndex:i,onAddNewLogos:r,onDeleteLogo:this.onDeleteLogo,onSelectLogo:this.onSelectLogo})}),(0,u.jsxs)(l.xu,{paddingX:8,marginTop:10,display:"flex",justifyContent:"between",position:"relative",children:[(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:84,children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Size","Adjust the size of the logo","Adjust the size of the logo")})}),(0,u.jsx)(Ee.Z,{id:"pinbuilder-editor-logo-size-text-field",minValue:20,maxValue:80,step:10,iconName:"logo-large",value:a,onChange:this.onChangeLogoSize})]}),(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Margins","Adjust the position of the text overlay","Adjust the position of the text overlay")})}),(0,u.jsx)(Pe,{marginIndex:c,onSelectMargin:this.onSelectLogoMargin})]})]}),(0,u.jsx)(l.xu,{paddingX:8,marginTop:10,position:"relative",children:(0,u.jsx)(Se,{logoPositionIndex:s,onSelectLogoPosition:this.onSelectLogoPosition})}),(0,u.jsxs)(l.xu,{paddingX:8,marginTop:10,children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Color fill","Pick the background color","Pick the background color")})}),(0,u.jsx)(D.Z,{id:"pinbuilder-editor-logo-background-color-picker",imagePalette:o&&o.getColorPalette(),width:96,showNoFillControl:!0,showTransparencyControl:!0,colorSelected:d,onSelectColor:this.onSelectLogoBackgroundColor,transparencyIndex:p,onSelectTransparency:this.onSelectLogoTransparency})]})]}),(0,u.jsxs)(l.xu,{display:"flex",direction:"column",column:12,children:[(0,u.jsx)(l.iz,{}),(0,u.jsx)(l.xu,{"data-tutorial-id":"pin-builder-editor-reset-button",paddingY:2,paddingX:8,children:(0,u.jsx)(l.zx,{fullWidth:!0,accessibilityLabel:this.props.i18n._("Reset"," - "," -- "),color:"white",text:this.props.i18n._("Reset","Resets all the changes.","Resets all the changes."),onClick:this.onReset})})]})]})}}])&&De(t.prototype,n),r&&De(t,r),i}(r.Component);function Ze(e){var t=(0,y.ZP)();return(0,u.jsx)(Ue,Re(Re({},e),{},{i18n:t}))}function Le(e){var t=e.selectedIndex,n=e.onSelect,r=(0,y.ZP)(),o=r._("Left align","Adjust the text to left alignment.","Adjust the text to left alignment."),i=r._("Center align","Adjust the text to center alignment.","Adjust the text to center alignment."),a=[(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-align-button","data-test-id":"pinbuilder-editor-text-align-left-button",children:(0,u.jsx)(l.u,{text:o,children:(0,u.jsx)(l.JO,{accessibilityLabel:o,icon:"text-align-left",color:0===t?"darkGray":"gray",size:18})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-align-button","data-test-id":"pinbuilder-editor-text-align-center-button",children:(0,u.jsx)(l.u,{text:i,children:(0,u.jsx)(l.JO,{accessibilityLabel:i,icon:"text-align-center",color:1===t?"darkGray":"gray",size:18})})})];return(0,u.jsx)(l.sY,{selectedItemIndex:t,onChange:n,items:a})}function Qe(e){var t=e.selectedIndex,n=e.onSelect,r=(0,y.ZP)(),o=r._("Position text on top","Adjust the location of the text to top.","Adjust the location of the text to top."),i=r._("Position text in middle","Adjust the location of the text to middle.","Adjust the location of the text to middle."),a=r._("Position text on bottom","Adjust the location of the text to bottom.","Adjust the location of the text to bottom."),c=[(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-position-button","data-test-id":"pinbuilder-editor-text-position-top-button",children:(0,u.jsx)(l.u,{text:o,children:(0,u.jsx)(l.JO,{accessibilityLabel:o,icon:"align-top",color:0===t?"darkGray":"gray",size:18})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-position-button","data-test-id":"pinbuilder-editor-text-position-middle-button",children:(0,u.jsx)(l.u,{text:i,children:(0,u.jsx)(l.JO,{accessibilityLabel:i,icon:"align-middle",color:1===t?"darkGray":"gray",size:18})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-position-button","data-test-id":"pinbuilder-editor-text-position-bottom-button",children:(0,u.jsx)(l.u,{text:a,children:(0,u.jsx)(l.JO,{accessibilityLabel:a,icon:"align-bottom",color:2===t?"darkGray":"gray",size:18})})})];return(0,u.jsx)(l.sY,{selectedItemIndex:t,onChange:n,items:c})}function We(e){var t=e.selectedIndex,n=e.onSelect,r=(0,y.ZP)(),o=r._("Sentence case","Transform the text to sentence case.","Transform the text to sentence case."),i=r._("Uppercase","Transform the text to all uppercase.","Transform the text to all uppercase."),a=[(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-transform-button","data-test-id":"pinbuilder-editor-text-sentence-case-button",children:(0,u.jsx)(l.u,{text:o,children:(0,u.jsx)(l.JO,{accessibilityLabel:o,icon:"text-sentence-case",color:0===t?"darkGray":"gray",size:18})})}),(0,u.jsx)(l.xu,{"data-group-id":"pinbuilder-editor-text-transform-button","data-test-id":"pinbuilder-editor-text-all-caps-button",children:(0,u.jsx)(l.u,{text:i,children:(0,u.jsx)(l.JO,{accessibilityLabel:i,icon:"text-all-caps",color:1===t?"darkGray":"gray",size:18})})})];return(0,u.jsx)(l.sY,{selectedItemIndex:t,onChange:n,items:a})}var qe=n(137878),He=n(730630);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nt(e)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it={flyoutStyle:{__style:{maxHeight:"516px",overflow:"scroll"}}},at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(a,e);var t,n,o,i=et(a);function a(){var e;Ke(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ot(nt(e=i.call.apply(i,[this].concat(n))),"state",{hoveredOption:null,showFlyout:!1}),ot(nt(e),"setFlyoutAnchor",(function(t){e.anchor=t})),ot(nt(e),"handleTouch",(function(){e.setState((function(e){return{showFlyout:!e.showFlyout}}))})),ot(nt(e),"handleFlyoutClose",(function(){e.setState({showFlyout:!1})})),ot(nt(e),"handleSelectOption",(function(t){(0,e.props.onSelect)(t),e.handleFlyoutClose()})),ot(nt(e),"handleMouseEnter",(function(t){e.setState({hoveredOption:t})})),ot(nt(e),"handleMouseLeave",(function(){e.setState({hoveredOption:null})})),e}return t=a,(n=[{key:"getFlyoutHeight",value:function(){if(window&&this.anchor){var e=Math.min(516,window.innerHeight-this.anchor.getBoundingClientRect().top-100);return"".concat(e,"px")}return"".concat(516,"px")}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,o=t.selectedOption,i=t.optionGroups,a=this.state,c=a.hoveredOption,s=a.showFlyout,d=o?i.find((function(e){return e.groupName===o.groupName})):null,p=d&&o?d.options.find((function(e){return e.optionName===o.optionName})):null;return(0,u.jsxs)(l.xu,{column:12,"data-test-id":"styled-dropdown-list",children:[(0,u.jsx)(l.iP,{onTap:this.handleTouch,rounding:2,children:(0,u.jsxs)(l.xu,{rounding:2,overflow:"hidden",width:"100%",height:40,display:"flex",alignItems:"center",justifyContent:"between",color:"lightGray",paddingX:3,ref:this.setFlyoutAnchor,children:[(0,u.jsx)(l.xu,{marginEnd:2,minWidth:0,overflow:"hidden",flex:"grow",children:(0,u.jsx)(l.xv,{children:p?(0,u.jsx)("div",{style:p.style,children:p.optionLabel}):n||this.props.i18n._("Select","Select an option from the dropdown list","Select an option from the dropdown list")})}),(0,u.jsx)(l.xu,{flex:"none",children:(0,u.jsx)(l.JO,{accessibilityLabel:this.props.i18n._("Open dropdown list","Instructions to open the dropdown list","Instructions to open the dropdown list"),color:"darkGray",icon:"arrow-down",size:12})})]})}),s&&(0,u.jsx)(l.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:this.handleFlyoutClose,size:"md",children:(0,u.jsx)(l.xu,{width:"100%",paddingY:4,dangerouslySetInlineStyle:{__style:Ye(Ye({},it.flyoutStyle.__style),{},{maxHeight:this.getFlyoutHeight()})},children:i.map((function(t,n){return(0,u.jsxs)(r.Fragment,{children:[i.length>1&&n>0&&(0,u.jsx)(l.xu,{paddingY:2,paddingX:4,children:(0,u.jsx)(l.iz,{})}),i.length>1&&(0,u.jsx)(l.xu,{paddingY:1,paddingX:4,children:(0,u.jsx)(l.xv,{size:"sm",color:"gray",children:t.groupLabel})}),t.options.map((function(n){return(0,u.jsx)(l.xu,{padding:1,color:p===n||c===n?"lightGray":"white",children:(0,u.jsx)(l.iP,{onMouseEnter:function(){return e.handleMouseEnter(n)},onMouseLeave:e.handleMouseLeave,onTap:function(){return e.handleSelectOption({groupName:t.groupName,optionName:n.optionName})},children:(0,u.jsx)(l.xu,{width:"100%",paddingX:3,paddingY:1,children:(0,u.jsx)(l.xv,{children:(0,u.jsx)("div",{style:n.style,children:n.optionLabel})})})})},"".concat(t.groupName,"_").concat(n.optionName))})),t.groupFooter&&(0,u.jsx)(l.xu,{paddingX:4,paddingY:1,children:t.groupFooter()})]},t.groupName)}))})})]})}}])&&ze(t.prototype,n),o&&ze(t,o),a}(r.Component);function ct(e){var t=(0,y.ZP)();return(0,u.jsx)(at,Ye(Ye({},e),{},{i18n:t}))}function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt={fontColor:{__style:{zIndex:v.v9}},fontFamily:{__style:{zIndex:v.v9+1}}},xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(i,e);var t,n,r,o=ht(i);function i(){var e;dt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yt(mt(e=o.call.apply(o,[this].concat(n))),"_getTextConfigs",(function(t){var n=t.fontFamilyName,r=t.fontStyleName,o=t.fontWeight,i=t.fontSize,a=t.textColor,c=t.lineHeight,s=t.letterSpacing,l=t.transformIndex,u=t.alignmentIndex,d=t.marginIndex,p=t.backgroundColor,f=t.backgroundTransparencyIndex,h=t.positionIndex,b=e.props.fontGroups,m=n,g=(0,He.$D)(b,n);return{fontFamily:m,fontStyle:(g&&g.styles.find((function(e){return e.name===r}))||{}).fontStyle,fontSize:i,fontWeight:o,textColor:a,lineHeight:c,backgroundColor:p,characterSpacing:s,transform:v.np[l],alignment:v.aj[u],margin:v.mt[d],backgroundOpacity:v.AQ[f],position:v.yb[h]}})),yt(mt(e),"onReset",(function(){var t=e.props,n=t.getDefaultTextState,r=t.pinCanvas;if((0,t.onReset)(),r){r.removeTextLayer();var o=e._getTextConfigs(n());r.addTextLayer(o)}(0,g.j)(101,{component:13780,element:12135,editor_mode:"text"})})),yt(mt(e),"onSelectFontFamily",(function(t){var n=e.props,r=n.fontGroups,o=n.pinCanvas,i=n.onSelectFontFamily;if(o){var a=(0,He.$D)(r,t.optionName);if(a){var c=a.fontFamily,s=a.fontOverrides,l=a.defaultStyle,u=a.styles[l],d=u.fontStyle,p=u.fontWeight;if(s){var f=s.textTransform?1:0;e.onSelectTransform({activeIndex:f}),s.lineHeight&&e.onChangeLineHeight(s.lineHeight),s.letterSpacing&&e.onChangeLetterSpacing(s.letterSpacing)}o.setFontFamily(null!=c?c:""),o.setFontStyle(d),o.setFontWeight(p)}}i(t),(0,g.j)(3828,{component:13780,element:12151,value:"".concat(t.groupName,": ").concat(t.optionName)})})),yt(mt(e),"onSelectTextColor",(function(t){var n=t.value,r=e.props,o=r.pinCanvas,i=r.onSelectTextColor;o&&o.setTextColor(n),i(n),(0,g.j)(8721,{component:13780,element:12153,value:n})})),yt(mt(e),"onChangeFontSize",(function(t){var n=e.props,r=n.pinCanvas,o=n.onChangeFontSize;r&&r.setFontSize(t),o(t),(0,g.j)(3828,{component:13780,element:12152,value:t})})),yt(mt(e),"onChangeLineHeight",(function(t){var n=e.props,r=n.pinCanvas,o=n.onChangeLineHeight;r&&r.setTextLineHeight(t),o(t),(0,g.j)(3828,{component:13780,element:12161,value:t})})),yt(mt(e),"onChangeLetterSpacing",(function(t){var n=e.props,r=n.pinCanvas,o=n.onChangeLetterSpacing;r&&r.setTextCharacterSpacing(10*t),o(t),(0,g.j)(3828,{component:13780,element:12162,value:t})})),yt(mt(e),"onSelectTransform",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectTransform,a=v.np[n];o&&o.setTextTransform(a),i(n),(0,g.j)(3828,{component:13780,element:12163,value:a})})),yt(mt(e),"onSelectAlignment",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectAlignment,a=v.aj[n];o&&o.setTextAlignment(a),i(n),(0,g.j)(101,{component:13780,element:12154,value:a})})),yt(mt(e),"onSelectMargin",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectMargin,a=v.mt[n];o&&o.setTextMargin(a),i(n),(0,g.j)(101,{component:13780,element:12155,value:a})})),yt(mt(e),"onSelectBackgroundColor",(function(t){var n=t.value,r=e.props,o=r.pinCanvas,i=r.onSelectBackgroundColor;o&&o.setTextBackgroundColor(n),i(n),(0,g.j)(8721,{component:13780,element:12156,editor_option:"color",value:n})})),yt(mt(e),"onSelectBackgroundTransparency",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectBackgroundTransparency,a=v.AQ[n];o&&o.setTextBackgroundOpacity(a),i(n),(0,g.j)(8721,{component:13780,element:12156,editor_option:"transparency",value:a})})),yt(mt(e),"onSelectPosition",(function(t){var n=t.activeIndex,r=e.props,o=r.pinCanvas,i=r.onSelectPosition,a=v.yb[n];o&&o.setTextPosition(a),i(n),(0,g.j)(101,{component:13780,element:12157,value:a})})),yt(mt(e),"getFontFamilyOptions",(function(){return e.props.fontGroups.map((function(e){return{groupLabel:e.groupLabel,groupName:e.groupName,groupFooter:e.groupFooter,options:e.fonts.map((function(e){var t,n;return{optionName:null!==(t=e.fontFamily)&&void 0!==t?t:"",optionLabel:null!==(n=e.fontFamily)&&void 0!==n?n:"",style:{fontFamily:e.fontFamily,fontStyle:e.styles[e.defaultStyle].fontStyle,fontWeight:e.styles[e.defaultStyle].fontWeight}}}))}}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.pinCanvas,n=e.text;if(t){var r=this._getTextConfigs(n);t.addTextLayer(r)}}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.onToggleShowMoreOptions,r=e.pinCanvas,o=t.fontGroupName,i=t.fontFamilyName,a=t.fontSize,c=t.textColor,s=t.marginIndex,d=t.alignmentIndex,p=t.positionIndex,f=t.backgroundColor,h=t.backgroundTransparencyIndex,b=t.lineHeight,m=t.letterSpacing,g=t.transformIndex,y=t.showMoreOptions,v=this.getFontFamilyOptions(),x=o===qe.f9,I=r?r.getColorPalette():null;return(0,u.jsxs)(l.xu,{column:12,display:"flex",direction:"column",children:[(0,u.jsxs)(l.xu,{paddingY:8,flex:"grow",overflow:"auto",children:[(0,u.jsx)(l.xu,{paddingX:8,children:(0,u.jsx)(l.X6,{size:"md",children:this.props.i18n._("Text Overlay","Add text to the image selected in Pin Builder.","Add text to the image selected in Pin Builder.")})}),(0,u.jsx)(l.xu,{paddingX:8,marginTop:4,children:(0,u.jsx)(l.xv,{children:this.props.i18n._("Add text directly onto your Pin"," - "," -- ")})}),(0,u.jsx)(l.xu,{paddingX:8,marginTop:6,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Style","Text font style","Text font style")})}),(0,u.jsx)(l.xu,{paddingX:8,marginTop:4,position:"relative",dangerouslySetInlineStyle:vt.fontFamily,children:(0,u.jsx)(ct,{placeholder:this.props.i18n._("Select font family"," - "," -- "),optionGroups:v,selectedOption:{groupName:o,optionName:i},onSelect:this.onSelectFontFamily})}),(0,u.jsxs)(l.xu,{paddingX:8,marginTop:4,display:"flex",children:[(0,u.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:84,children:[(0,u.jsx)(Ee.Z,{id:"pinbuilder-editor-font-size-text-field",minValue:18,maxValue:64,iconName:"text-size",value:a,onChange:this.onChangeFontSize}),(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Size","Text font size","Text font size")})})]}),(0,u.jsxs)(l.xu,{marginStart:4,display:"flex",direction:"column",alignItems:"center",width:84,position:"relative",dangerouslySetInlineStyle:vt.fontColor,children:[(0,u.jsx)(D.Z,{colorSelected:c,id:"pinbuilder-editor-text-color-picker",imagePalette:I,onSelectColor:this.onSelectTextColor}),(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Color","Text color","Text color")})})]})]}),x&&(0,u.jsxs)(l.xu,{paddingX:8,marginTop:4,position:"relative",children:[(0,u.jsx)(l.iz,{}),(0,u.jsxs)(l.xu,{paddingY:4,children:[(0,u.jsx)(l.iP,{onTap:n,children:(0,u.jsx)(l.xv,{color:"gray",size:"sm",weight:"bold",children:y?"- "+this.props.i18n._("Hide options","Hide text adjustment options.","Hide text adjustment options."):"+ "+this.props.i18n._("Show more options","Show more text adjustment options.","Show more text adjustment options.")})}),y&&(0,u.jsxs)(l.xu,{marginTop:4,display:"flex",children:[(0,u.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:84,children:[(0,u.jsx)(Ee.Z,{iconName:"text-line-height",id:"pinbuilder-editor-text-line-height",minValue:.5,maxValue:2.5,step:.1,value:b,onChange:this.onChangeLineHeight}),(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Line","Line height of the text","Line height of the text")})})]}),(0,u.jsxs)(l.xu,{marginStart:3,display:"flex",direction:"column",alignItems:"center",width:84,children:[(0,u.jsx)(Ee.Z,{id:"pinbuilder-editor-text-spacing-text-field",iconName:"text-spacing",minValue:-10,maxValue:50,step:1,value:m,onChange:this.onChangeLetterSpacing}),(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Letter","Letter spaceing of the text","Letter spaceing of the text")})})]}),(0,u.jsxs)(l.xu,{marginStart:3,display:"flex",direction:"column",alignItems:"center",width:84,children:[(0,u.jsx)(We,{selectedIndex:g,onSelect:this.onSelectTransform}),(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(l.xv,{size:"sm",children:this.props.i18n._("Transform","Text transform between normal and all uppercase","Text transform between normal and all uppercase")})})]})]})]}),(0,u.jsx)(l.iz,{})]}),(0,u.jsxs)(l.xu,{paddingX:8,marginTop:10,display:"flex",justifyContent:"between",position:"relative",children:[(0,u.jsxs)(l.kC,{direction:"column",justifyContent:"start",children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Alignment","Adjust text alignment","Adjust text alignment")})}),(0,u.jsx)(Le,{selectedIndex:d,onSelect:this.onSelectAlignment})]}),(0,u.jsxs)(l.kC,{direction:"column",justifyContent:"start",children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Margins","Adjust the margin.","Adjust the margin.")})}),(0,u.jsx)(Pe,{marginIndex:s,onSelectMargin:this.onSelectMargin})]})]}),(0,u.jsxs)(l.xu,{paddingX:8,marginTop:10,display:"flex",justifyContent:"between",children:[(0,u.jsxs)(l.kC,{direction:"column",justifyContent:"start",children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Background","Adjust the background of the text overlay","Adjust the background of the text overlay")})}),(0,u.jsx)(D.Z,{id:"pinbuilder-editor-text-background-color-picker",imagePalette:I,width:96,showNoFillControl:!0,showTransparencyControl:!0,colorSelected:f,onSelectColor:this.onSelectBackgroundColor,transparencyIndex:h,onSelectTransparency:this.onSelectBackgroundTransparency})]}),(0,u.jsxs)(l.kC,{direction:"column",justifyContent:"start",children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{size:"md",weight:"bold",children:this.props.i18n._("Position","Adjust the position of the text overlay","Adjust the position of the text overlay")})}),(0,u.jsx)(Qe,{selectedIndex:p,onSelect:this.onSelectPosition})]})]})]}),(0,u.jsxs)(l.xu,{display:"flex",direction:"column",column:12,children:[(0,u.jsx)(l.iz,{}),(0,u.jsx)(l.xu,{"data-tutorial-id":"pin-builder-editor-reset-button",paddingY:2,paddingX:8,children:(0,u.jsx)(l.zx,{fullWidth:!0,accessibilityLabel:this.props.i18n._("Reset"," - "," -- "),color:"white",text:this.props.i18n._("Reset","Resets all the changes.","Resets all the changes."),onClick:this.onReset})})]})]})}}])&&pt(t.prototype,n),r&&pt(t,r),i}(r.Component);function It(e){var t=(0,y.ZP)();return(0,u.jsx)(xt,ut(ut({},e),{},{i18n:t}))}var wt=n(311866),_t=n(535718),jt=n(630269),Ot=n(301314),At=n(585967);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft="#efefef",Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(i,e);var t,n,r,o=Dt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Mt(Jt(t=o.call(this,e)),"_getInitialAspectRatioIndex",(function(){var e=t.props,n=e.canDeselectAspectRatio,r=e.canvasJson,o=e.type;if(r){var i=(0,s.Z)(o).findIndex((function(e){var t=e.w,n=e.h;return r.aspectRatio&&t===r.aspectRatio.w&&n===r.aspectRatio.h}));return-1===i?null:i}return n?null:0})),Mt(Jt(t),"_getToolPanes",(function(e){var n=t.props.mediaType,r=[{icon:"crop",label:t.props.i18n._("Crop & rotate","Button to enter cropping tool","Button to enter cropping tool"),name:"crop"}];return"video"!==n&&(r.push({icon:"star",label:t.props.i18n._("Logo","Button to enter logo tool","Button to enter logo tool"),name:"logo"}),e.length>0&&r.push({icon:"overlay-text",label:t.props.i18n._("Text overlay","Button to enter text overlay tool","Button to enter text overlay tool"),name:"text"})),r})),Mt(Jt(t),"_getBrandFontDefaultTextState",(function(e,t){var n=t.find((function(e){return e.groupName===qe.f9}));if(n){var r,o=n.fonts[0];return Ct(Ct({},e),{},{fontFamilyName:null!==(r=o.fontFamily)&&void 0!==r?r:"",fontGroupName:o.fontGroup,fontStyleName:o.styles[0].name})}return e})),Mt(Jt(t),"getTextState",(function(e,n){var r=t.props.canvasJson;if(r&&r.text){var o,i=r.text,a=i.fontFamily,c=i.fontStyle,s=i.fontWeight,l=(0,He.$D)(n,a);if(l)return Ct(Ct({},e),{},{fontFamilyName:null!==(o=l.fontFamily)&&void 0!==o?o:"",fontGroupName:l.fontGroup,fontStyleName:(0,He.CP)(l,c,s)})}return t._getBrandFontDefaultTextState(e,n)})),Mt(Jt(t),"getDefaultTextState",(function(){var e=t.props.requestContext.locale;return t._getBrandFontDefaultTextState((0,He.bs)(e),t.state.fontGroups)})),Mt(Jt(t),"onIconClick",(function(e){var n=t.state.currentToolPane,r=t.props.pinCanvas;if(e!==n&&r&&("text"===n&&r.removeTextLayer(!0),["crop","logo","text"].includes(e))){r.setEditingMode(e);(0,g.j)(101,{component:13780,element:{crop:12132,logo:12133,text:12134}[e]})}t.setState({currentToolPane:e})})),Mt(Jt(t),"onSelectAspectRatioIndex",(function(e){var n=t.props,r=n.onAspectRatioChange,o=n.type;t.setState({aspectRatioIndex:e}),void 0!==e&&r(null!==e?(0,s.Z)(o)[e]:null)})),Mt(Jt(t),"onCropReset",(function(){t.setState({aspectRatioIndex:t._getInitialAspectRatioIndex()})})),Mt(Jt(t),"onDeleteLogo",(function(e){var n=t.props.invalidateStickerResource,r=t.state,o=r.logo,i=r.logoImages[e].assetId;if(i){wt.ZP.create("StickerAssetResource",{assetId:i}).callDelete().then(n);var a=(o||{}).logoIndex,c=a===e||null==a?null:a>e?a-1:a;t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoIndex:c}),logoImages:t.logoImages.filter((function(t,n){return n!==e}))}}))}})),Mt(Jt(t),"onUploadLogos",(function(e){var n=t.props.invalidateStickerResource,r=e.map((function(e){return(0,jt.zp)(e.src).then((function(e){return wt.ZP.create("StickerAssetResource",{binary_data:e}).callCreate()}))}));Promise.all(r).then((function(r){if(r){var o=r.map((function(t,n){var r=t.resource_response.data,o=e[n];return{id:r.assetId,height:o.height,width:o.width,src:o.src,type:"assetImage",assetId:r.assetId}}));t.setState((function(e){return{logoImages:[].concat(Pt(o),Pt(e.logoImages)),logo:Ct(Ct({},e.logo),{},{logoIndex:0})}})),n()}})),(0,g.j)(101,{component:13780,element:12140})})),Mt(Jt(t),"onLogoReset",(function(){t.setState({logo:{logoIndex:null,logoSize:50,logoMarginIndex:1,logoPositionIndex:0,logoBackgroundColor:"",logoTransparencyIndex:0}})})),Mt(Jt(t),"onSelectLogo",(function(e){t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoIndex:t.logo.logoIndex===e?null:e})}}))})),Mt(Jt(t),"onChangeLogoSize",(function(e){t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoSize:e})}}))})),Mt(Jt(t),"onSelectLogoMargin",(function(e){t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoMarginIndex:e})}}))})),Mt(Jt(t),"onSelectLogoPosition",(function(e){t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoPositionIndex:e})}}))})),Mt(Jt(t),"onSelectLogoBackgroundColor",(function(e){t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoBackgroundColor:e})}}))})),Mt(Jt(t),"onSelectLogoTransparency",(function(e){t.setState((function(t){return{logo:Ct(Ct({},t.logo),{},{logoTransparencyIndex:e})}}))})),Mt(Jt(t),"onSelectFontFamily",(function(e){var n=t.state.fontGroups,r=(0,He.$D)(n,e.optionName);if(r){var o=r.styles[r.defaultStyle].name,i=r.fontOverrides,a=i&&i.textTransform?1:0,c=i&&i.lineHeight||1.2,s=i&&i.letterSpacing||0;t.setState((function(t){return{text:Ct(Ct({},t.text),{},{fontGroupName:e.groupName,fontFamilyName:e.optionName,fontStyleName:o,letterSpacing:s,lineHeight:c,transformIndex:a})}}))}})),Mt(Jt(t),"onSelectTextColor",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{textColor:e})}}))})),Mt(Jt(t),"onChangeFontSize",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{fontSize:e})}}))})),Mt(Jt(t),"onChangeLineHeight",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{lineHeight:e})}}))})),Mt(Jt(t),"onChangeLetterSpacing",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{letterSpacing:e})}}))})),Mt(Jt(t),"onSelectTransform",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{transformIndex:e})}}))})),Mt(Jt(t),"onSelectAlignment",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{alignmentIndex:e})}}))})),Mt(Jt(t),"onSelectMargin",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{marginIndex:e})}}))})),Mt(Jt(t),"onSelectBackgroundColor",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{backgroundColor:e})}}))})),Mt(Jt(t),"onSelectBackgroundTransparency",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{backgroundTransparencyIndex:e})}}))})),Mt(Jt(t),"onSelectPosition",(function(e){t.setState((function(t){return{text:Ct(Ct({},t.text),{},{positionIndex:e})}}))})),Mt(Jt(t),"onToggleShowMoreOptions",(function(){t.setState((function(e){var t=!e.text.showMoreOptions;return(0,g.j)(101,{component:13780,element:12158,value:t}),{text:Ct(Ct({},e.text),{},{showMoreOptions:t})}}))})),Mt(Jt(t),"onTextReset",(function(){t.setState({text:t.getDefaultTextState()})}));var n=e.canDeselectAspectRatio,r=e.canvasJson,a=e.requestContext.locale;if(t.state={aspectRatioIndex:n?null:0,brandFontsLoaded:!1,currentToolPane:"crop",fontGroups:[],isImageSelected:!1,isScalingMode:!1,logoImagesLoaded:!1,logo:{logoBackgroundColor:"",logoIndex:null,logoMarginIndex:1,logoPositionIndex:0,logoSize:50,logoTransparencyIndex:0},logoImages:[],numImages:0,text:(0,He.bs)(a)},r){if(t.state=Ct(Ct({},t.state),{},{aspectRatioIndex:t._getInitialAspectRatioIndex()}),r.logo){var c=r.logo,l=c.size,u=c.margin,d=c.position,p=c.backgroundColor,f=c.backgroundOpacity;t.state=Ct(Ct({},t.state),{},{logo:Ct(Ct({},t.state.logo),{},{logoBackgroundColor:p,logoMarginIndex:v.mt.indexOf(u),logoPositionIndex:v.n_.indexOf(d),logoSize:l,logoTransparencyIndex:v.AQ.indexOf(f)})})}if(r.text){var h=r.text,b=h.alignment,m=h.backgroundColor,y=h.backgroundOpacity,x=h.characterSpacing,I=h.fontSize,w=h.fontWeight,_=h.lineHeight,j=h.margin,O=h.position,A=h.textColor,S=h.transform;t.state=Ct(Ct({},t.state),{},{text:Ct(Ct({},t.state.text),{},{backgroundColor:m,fontSize:I,fontWeight:w,textColor:A,alignmentIndex:v.aj.indexOf(b),backgroundTransparencyIndex:v.AQ.indexOf(y),letterSpacing:x||t.state.text.letterSpacing,lineHeight:_||t.state.text.lineHeight,marginIndex:v.mt.indexOf(j),positionIndex:v.yb.indexOf(O),showMoreOptions:!1,transformIndex:v.np.indexOf(S)})})}}return t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;if(h.Z.enabled("systemFonts")){var t=this.props.requestContext.locale;(0,He.vK)().then((function(){return e.setState((function(n){var r=(0,He.j1)(),o=[].concat(Pt(n.fontGroups.filter((function(e){return e.groupName===qe.f9}))),[{groupName:qe.gu,groupLabel:e.props.i18n._("Suggested","Suggested fonts we expose to the user","Suggested fonts we expose to the user"),fonts:r.filter((function(e){return e.fontGroup===qe.gu&&!e.localeFilter||e.localeFilter===t}))},{groupName:qe.Rc,groupLabel:e.props.i18n._("Additional","Additional fonts we expose to the user","Additional fonts we expose to the user"),groupFooter:function(){return(0,u.jsx)(l.xv,{size:"sm",color:"gray",children:(0,u.jsx)(l.rU,{href:b.Z.settings.HELP_BUILD_PIN_URL,target:"blank",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:e.props.i18n._("Licence info","Link to legal information about system fonts","Link to legal information about system fonts")})})},fonts:r.filter((function(e){return e.fontGroup===qe.Rc}))}]);return{fontGroups:o,text:e.getTextState(n.text,o)}}))}))}}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.canvasJson,o=n.pinCanvas,i=n.fontAssetResource,a=i.data,c=i.isLoaded,s=n.stickerAssetResource.data,l=this.state,u=l.brandFontsLoaded,d=l.logoImagesLoaded;if(o&&!e.pinCanvas&&o.on("after:render",this.onCanvasUpdate.bind(this)),c&&a&&a.length>0&&!u&&(0,He.KV)(a).then((function(){return t.setState((function(e){var n=[{fonts:a,groupName:qe.f9,groupLabel:t.props.i18n._("Uploaded Fonts","fonts uploaded by the user","fonts uploaded by the user")}].concat(Pt(e.fontGroups.filter((function(e){return e.groupName!==qe.f9}))));return{fontGroups:n,brandFontsLoaded:!0,text:t.getTextState(e.text,n)}}))})),s&&s.length>0&&!d){var p=s.map((function(e){return{id:e.assetId,type:"assetImage",src:e.source,width:e.width,height:e.height,assetId:e.assetId}})),f=(r||{}).logo,h=f?p.findIndex((function(e){return e.assetId===f.assetId})):null;this.setState((function(e){return{logoImages:p,logoImagesLoaded:!0,logo:Ct(Ct({},e.logo),{},{logoIndex:h})}}))}}},{key:"componentWillUnmount",value:function(){var e=this.props.pinCanvas;e&&e.off("after:render")}},{key:"onCanvasUpdate",value:function(){var e=this.props.pinCanvas;e&&this.setState({numImages:e.getNumOfImages(),isImageSelected:e.isImageSelected(),isScalingMode:e.isScalingMode()})}},{key:"render",value:function(){var e=this,t=this.state,n=t.aspectRatioIndex,r=t.currentToolPane,o=t.fontGroups,i=t.isImageSelected,a=t.isScalingMode,c=t.logo,d=t.logoImages,p=t.numImages,f=t.text,h=this.props,b=h.canDeselectAspectRatio,m=h.pinCanvas,g=h.pinDraftId,y=h.type,x=h.mediaType,I=h.videoDuration,w=h.videoStartText,_=h.videoEndText,j=h.validateStartTime,O=h.validateEndTime,A=h.handleStartTimeChange,S=h.handleEndTimeChange,P=(0,s.Z)(y),E=this._getToolPanes(o);return(0,u.jsxs)(l.xu,{minWidth:v.wj,width:v.wj,height:"100%",display:"flex",direction:"row",color:"white",flex:"none",children:[(0,u.jsx)(l.xu,{width:56,height:"100%",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid ".concat(Ft)}},display:"flex",direction:"column",color:"white",children:E.map((function(t,n){return(0,u.jsx)(l.xu,{"data-test-id":"pinbuilder-editor-".concat(t.name,"-pane-button"),"data-tutorial-id":"pinbuilder-editor-".concat(t.name,"-pane-button"),width:56,padding:2,dangerouslySetInlineStyle:{__style:{borderRight:r===t.name?"1px solid #fff":void 0,borderTop:0!==n&&r===t.name?"1px solid ".concat(Ft):"1px solid transparent",borderBottom:r===t.name?"1px solid ".concat(Ft):"1px solid transparent"}},children:(0,u.jsx)(l.u,{text:t.label,children:(0,u.jsx)(l.hU,{icon:t.icon,accessibilityLabel:t.label,onClick:function(){return e.onIconClick(t.name)},iconColor:r===t.name?"darkGray":"gray"})})},t.name)}))}),"crop"===r&&(0,u.jsx)(B,{aspectRatioIndex:n,aspectRatios:P,canDeselectAspectRatio:b,isImageSelected:i,isScalingMode:a,numImages:p,onReset:this.onCropReset,onSelectAspectRatioIndex:this.onSelectAspectRatioIndex,pinCanvas:m,pinDraftId:g,mediaType:x,videoDuration:I,videoStartText:w,videoEndText:_,validateStartTime:j,validateEndTime:O,handleStartTimeChange:A,handleEndTimeChange:S}),"logo"===r&&(0,u.jsx)(Ze,{pinCanvas:m,logo:c,logoImages:d,onUploadLogos:this.onUploadLogos,onDeleteLogo:this.onDeleteLogo,onReset:this.onLogoReset,onSelectLogo:this.onSelectLogo,onChangeLogoSize:this.onChangeLogoSize,onSelectLogoMargin:this.onSelectLogoMargin,onSelectLogoPosition:this.onSelectLogoPosition,onSelectLogoBackgroundColor:this.onSelectLogoBackgroundColor,onSelectLogoTransparency:this.onSelectLogoTransparency}),"text"===r&&(0,u.jsx)(It,{fontGroups:o,pinCanvas:m,text:f,getDefaultTextState:this.getDefaultTextState,onReset:this.onTextReset,onSelectFontFamily:this.onSelectFontFamily,onSelectTextColor:this.onSelectTextColor,onChangeFontSize:this.onChangeFontSize,onChangeLineHeight:this.onChangeLineHeight,onChangeLetterSpacing:this.onChangeLetterSpacing,onSelectTransform:this.onSelectTransform,onSelectAlignment:this.onSelectAlignment,onSelectMargin:this.onSelectMargin,onSelectBackgroundColor:this.onSelectBackgroundColor,onSelectBackgroundTransparency:this.onSelectBackgroundTransparency,onSelectPosition:this.onSelectPosition,onToggleShowMoreOptions:this.onToggleShowMoreOptions})]})}}])&&Rt(t.prototype,n),r&&Rt(t,r),i}(r.Component);function Ut(e){var t=(0,y.ZP)(),n=(0,o.useDispatch)(),r=e.pinDraftId,i=e.type,a=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[r]})).pinItemIndex,c=(0,_t.Z)({name:"FontAssetResource"}),s=(0,_t.Z)({name:"StickerAssetResource"});return(0,u.jsx)(Nt,Ct(Ct({},e),{},{canDeselectAspectRatio:"carousel"!==i&&!("story"===i&&0===a),fontAssetResource:c,invalidateStickerResource:function(){return n((0,Ot.jB)("StickerAssetResource"))},requestContext:(0,At.B)(),stickerAssetResource:s,i18n:t}))}var Zt=n(169897);var Lt=function(e){var t=e.height,n=e.onClick,o=e.selected,i=e.src,a=e.width,c=(0,y.ZP)(),s=(0,r.useRef)(null);if(!t&&!i&&!a)return null;var d=(null!=a?a:1)/(null!=t?t:1)>.5625?40:20;return(0,u.jsxs)(l.xu,{"data-test-id":"pinbuilder-editor-thumbnail",flex:"grow",height:"100%",marginStart:1,marginEnd:1,maxWidth:d,minHeight:40,children:[o&&(0,u.jsx)(Zt.Z,{anchor:s.current,experienceIds:[501067],idealDirection:"up",placementId:1000135}),(0,u.jsx)(l.xu,{ref:s,children:(0,u.jsx)(Y.Z,{onClick:n,rounded:!0,selected:o,children:(0,u.jsx)(l.zd,{rounding:2,children:(0,u.jsx)(l.Ee,{alt:c._("Carousel thumbnail","Description text for carousel image thumbnail when editing","Description text for carousel image thumbnail when editing"),naturalHeight:null!=t?t:1,naturalWidth:null!=a?a:1,src:i})})})})]},"carousel-thumbnail-".concat(i))},Qt=n(319234),Wt=n(51610),qt=n(84409),Ht=n(34411),Gt=n(359712),Xt=n(802314),Yt=n(159617),Kt=n(68545),zt=n(176948),$t=n(358873);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)}}function ln(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return un(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn={__style:{zIndex:Yt.fe+1e3}},hn=new RegExp("\\d\\d:\\d\\d:\\d\\d"),bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(s,e);var t,n,r,o=sn(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),pn(un(t=o.call(this,e)),"updateCachedItems",(function(e){var n=t.state,r=n.selectedId,o=n.cachedItems,i=o[r].media,a=t.pinCanvas?on(on({},i),t.pinCanvas.getCanvasOutput()):i,c=t.pinCanvas?t.pinCanvas.toJSON():null;c&&"localImage"===a.type&&t.setState({selectedId:e,cachedItems:on(on({},o),{},pn({},r,on(on({},o[r]),{},{media:a,canvasJson:c})))})})),pn(un(t),"setCarouselItem",(function(e){var n=t.props.pinItemIds,r=t.state,o=r.selectedId,i=r.cachedItems,a=n[e],c=i[a],s=c.canvasJson,l=c.media;a!==o&&i&&(t.updateCachedItems(a),t.pinCanvas&&s?t.pinCanvas.loadFromJSON(s):t.pinCanvas&&l&&l.src&&t.pinCanvas.setImage(l.src))})),pn(un(t),"onResize",(function(){if(t._canvasContainer){var e=t._canvasContainer.getBoundingClientRect(),n=e.width,r=e.height;t.pinCanvas&&t.pinCanvas.resize(n,r)}})),pn(un(t),"isVideo",(function(e){return!!e&&("localVideo"===e.type||"webVideo"===e.type)})),pn(un(t),"onSaveChanges",(function(){var e=t.props,n=e.onDismiss,r=e.pinDraftId,o=e.updatePinItemImages,i=t.state,a=i.selectedId,c=i.cachedItems,s=i.isVideoPlaying,l=i.videoStartText,u=i.videoEndText,d=(c[a]||{}).media;t.pinCanvas&&t.pinCanvas.removeTextLayer(!0);var p=t.pinCanvas?on(on(on({},d),t.pinCanvas.getCanvasOutput({width:d&&d.width||Gt.IU})),{},{signature:t.isVideo(d)&&d&&d.signature?d.signature:null}):d;o(r,a,c,t.isVideo(d)&&d?on(on({},p),{},{src:d.src,trimmedStartTime:(0,zt.SD)(l),trimmedEndTime:(0,zt.SD)(u)}):p,t.pinCanvas?t.pinCanvas.toJSON():null),t.pinCanvas&&t.isVideo(d)&&s&&t.pinCanvas.playOrPauseVideo(),n(),(0,g.j)(101,{component:13780,element:12130})})),pn(un(t),"onCancelChanges",(function(){var e=t.props.onDismiss,n=t.state,r=n.selectedId,o=n.cachedItems,i=n.isVideoPlaying,a=(o[r]||{}).media;t.pinCanvas&&t.isVideo(a)&&i&&t.pinCanvas.playOrPauseVideo(),e(),(0,g.j)(101,{component:13780,element:12131})})),pn(un(t),"onAspectRatioChange",(function(e){var n=t.props,r=n.pinItemIds;"carousel"===n.type&&e&&(0,a.Z)(r,t.state.cachedItems,e).then((function(e){var n=r.reduce((function(t,n,r){return on(on({},t),{},pn({},n,e[r]))}),{});t.setState({cachedItems:n})}))})),pn(un(t),"timeFormatError",(function(){return t.props.i18n._("Time must be in the format 00:00:00","Error message for incorrect time format","Error message for incorrect time format")})),pn(un(t),"timeRangeError",(function(){return t.props.i18n._("Video must be at least 4 seconds long.","Error message indicating that video is too short","Error message indicating that video is too short")})),pn(un(t),"validateEndTime",(function(e){if(!hn.test(e))return t.timeFormatError();var n=t.state.videoStartText;return hn.test(n)&&(0,zt.SD)(e)-(0,zt.SD)(n)<4?t.timeRangeError():""})),pn(un(t),"validateStartTime",(function(e){if(!hn.test(e))return t.timeFormatError();var n=t.state.videoEndText;return hn.test(n)&&(0,zt.SD)(n)-(0,zt.SD)(e)<4?t.timeRangeError():""})),pn(un(t),"handleEndTimeChange",(function(e){var n=e.value;if(t.setState({videoEndText:n}),(0,g.j)(97,{component:13780,element:12144,value:n}),hn.test(n)){var r=t.state.videoDuration,o=(0,zt.SD)(n),i=!!r&&o>r;i&&t.setState({videoEndText:r?(0,zt.to)(r):""}),t.pinCanvas&&t.pinCanvas.setVideoTrimmerTimeRange({videoEndTime:i?r:o})}})),pn(un(t),"handleStartTimeChange",(function(e){var n=e.value;t.setState({videoStartText:n}),(0,g.j)(97,{component:13780,element:12143,value:n}),hn.test(n)&&t.pinCanvas&&t.pinCanvas.setVideoTrimmerTimeRange({videoStartTime:(0,zt.SD)(n)})})),pn(un(t),"onVideoTrimmerUpdate",(function(){if(t.pinCanvas){var e=t.pinCanvas.getVideoTrimmerTimeRange(),n=e.videoStartTime,r=e.videoEndTime,o=(0,zt.to)(n),i=(0,zt.to)(r);t.setState({videoStartText:o,videoEndText:i}),(0,g.j)(104,{component:13780,element:12146,value:"start=".concat(o,",end=").concat(i)})}})),pn(un(t),"onTogglePlayState",(function(){t.pinCanvas&&t.pinCanvas.playOrPauseVideo(),(0,g.j)(101,{component:13780,element:12145})})),pn(un(t),"setCanvasContainerRef",(function(e){t._canvasContainer=e,t.onResize()})),pn(un(t),"handleKeyupEvents",(function(e){27===e.keyCode&&t.onCancelChanges()}));var n=e.pinItemId,r=e.pinItems,i=r[n].media,c=i&&i.duration?i.duration:0;return t.state={selectedId:n,cachedItems:r,videoDuration:c,videoStartText:(0,zt.to)(0),videoEndText:c?(0,zt.to)(c):(0,zt.to)(0),isVideoPlaying:!0},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props.footerContext,t=e.setEducationId,n=e.setPaddingRight,r=e.setZIndex;document.addEventListener("keyup",this.handleKeyupEvents,!1),window.addEventListener("resize",this.onResize),t(v.jh),n(400),r(1e3)}},{key:"componentWillUnmount",value:function(){var e=this.props.footerContext,t=e.setEducationId,n=e.setPaddingRight,r=e.setZIndex;document.removeEventListener("keyup",this.handleKeyupEvents,!1),window.removeEventListener("resize",this.onResize),t(null),n(null),r(null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.pinDraftId,r=t.pinItemIds,o=t.type,a=this.state,s=a.selectedId,d=a.cachedItems,p=a.videoDuration,f=a.videoStartText,b=a.videoEndText,m=a.isVideoPlaying,g=d[s]||{},y=g.canvasJson,x=g.media,I=(x||{}).src,w=this.isVideo(x)?"video":"image";return(0,u.jsx)(l.mh,{children:(0,u.jsxs)(Wt.Z,{allowClickAndDrag:!0,children:[(0,u.jsx)(l.xu,{position:"fixed",top:!0,right:!0,bottom:!0,left:!0,dangerouslySetInlineStyle:fn,children:(0,u.jsxs)(l.xu,{display:"flex",direction:"row",color:"lightGray",height:"100%",children:[(0,u.jsxs)(l.xu,{ref:this.setCanvasContainerRef,display:"flex",flex:"grow",height:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",position:"relative",children:[(0,u.jsxs)(l.xu,{position:"absolute",top:!0,right:!0,marginTop:3,marginStart:4,marginEnd:4,dangerouslySetInlineStyle:{__style:{zIndex:v.v9}},children:[(0,u.jsx)(l.xu,{marginStart:2,marginEnd:2,display:"inlineBlock","data-test-id":"cancel-edit-button",children:(0,u.jsx)(l.zx,{name:"cancel",text:this.props.i18n._("Cancel","Cancel pin edit","Cancel pin edit"),size:"md",onClick:this.onCancelChanges})}),(0,u.jsx)(l.xu,{marginStart:2,marginEnd:2,display:"inlineBlock","data-test-id":"save-edit-button","data-tutorial-id":"pin-builder-editor-save-edit-button",children:(0,u.jsx)(l.zx,{name:"saveChanges",disabled:this.isVideo(x)&&(this.validateStartTime(f).length>0||this.validateEndTime(b).length>0),text:this.props.i18n._("Update changes","Update changes in pin edit","Update changes in pin edit"),size:"md",color:"red",onClick:this.onSaveChanges})})]}),(0,u.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,u.jsx)(Qt.Z,{onLoaded:function(t){t&&(e.pinCanvas=t,t.on("trimmer:dragged",e.onVideoTrimmerUpdate),t.on("video:play",(function(){return e.setState({isVideoPlaying:!0})})),t.on("video:pause",(function(){return e.setState({isVideoPlaying:!1})})),y?t.loadFromJSON(y):h.Z.enabled("videoEditing")?t.setMedia(I,w):t.setImage(I),e.forceUpdate(),e.onResize())}}),"carousel"===o&&(0,u.jsx)(l.xu,{bottom:!0,display:"flex",flex:"grow",justifyContent:"center",marginBottom:10,position:"absolute",width:196,children:r.map((function(t,n){var r=(d&&d[t]||{}).media||{},o=r.height,i=r.src,a=r.width;return(0,u.jsx)(Lt,{height:o,src:i,selected:s===t,onClick:function(){return e.setCarouselItem(n)},width:a},"carousel-thumbnail-".concat(t))}))}),"video"===w&&(0,u.jsx)(l.xu,{bottom:!0,left:!0,flex:"none",rounding:"circle",marginBottom:6,marginStart:6,position:"absolute",children:(0,u.jsx)(l.hU,{icon:m?"pause":"play",accessibilityLabel:m?this.props.i18n._("Play","Play video","Play video"):this.props.i18n._("Pause","Pause video","Pause video"),iconColor:"darkGray",size:"sm",bgColor:"white",onClick:this.onTogglePlayState})})]})]}),(0,u.jsx)(Ut,{pinCanvas:this.pinCanvas,pinDraftId:n,canvasJson:y,onAspectRatioChange:this.onAspectRatioChange,type:o,mediaType:w,videoDuration:p,videoStartText:f,videoEndText:b,validateStartTime:this.validateStartTime,validateEndTime:this.validateEndTime,handleStartTimeChange:this.handleStartTimeChange,handleEndTimeChange:this.handleEndTimeChange})]})}),(0,u.jsx)(i.Z,{children:function(t){var n,r=tn(t,2),o=r[0],i=r[1];return o===v.jh&&(0,u.jsx)(qt.Z,{steps:(0,c.Z)((n=e.props.i18n,[{selector:'[data-tutorial-id="pinbuilder-editor-crop-pane-button"]',id:"guide-pin-builder-aspect",description:n._("Crop your image - a 2:3 aspect ratio works best!","EditingTourConfig.AspectRatioGuide","Text describing the cropping functionality and the best aspect ratio for it"),padding:0},{selector:'[data-tutorial-id="pinbuilder-editor-logo-pane-button"]',id:"guide-pin-builder-logo",description:n._("Add a logo to showcase your brand. Try a transparent .png file.","EditingTourConfig.Logo","Text describing ability to add logo and a best practice for adding logos"),padding:0},{selector:'[data-tutorial-id="pinbuilder-editor-text-pane-button"]',id:"guide-pin-builder-text",description:n._("Tell a story with a text overlay. Keep it snappy, and try a background color if it's hard to read.","EditingTourConfig.TextOverlay","Text describing the ability to add text to images and a best practice for adding text"),padding:0},{selector:'[data-tutorial-id="pin-builder-editor-reset-button"]',id:"guide-pin-builder-edit-reset",description:n._("Want a refresh? Clear any changes you've made to start over.","EditingTourConfig.ClearChanges","Text describing the ability to reset changes"),padding:0},{selector:'[data-tutorial-id="pin-builder-editor-save-edit-button"]',id:"guide-pin-builder-edit-done",description:n._("Finished? Tap Update Changes to apply your changes.","EditingTourConfig.UpdateChanges","Text describing the ability to save changes"),padding:0}])),onComplete:function(){return i(Xt.I)},onDismiss:function(){return i(Xt.I)}})}})]})})}}])&&an(t.prototype,n),r&&an(t,r),s}(r.Component);function mn(e){var t=(0,y.ZP)(),n=(0,o.useDispatch)(),r=(0,Ht.Z)(),i=r.isAuth?r.id:"",a=r.isAuth?r.country:"",c=e.pinDraftId,s=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[c].type})),l=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[c].pinItemIds})),d=l[(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[c].pinItemIndex}))],p=(0,o.useSelector)((function(e){var t=e.pinbuilder;return"story"===s?t.storyPinItems:t.pinItems})),f=p[d],h=f.canvasJson,b=f.media;return(0,u.jsx)(bn,on(on({},e),{},{canvasJson:h,footerContext:(0,$t.YW)(),media:b,pinItemId:d,pinItemIds:l,pinItems:p,type:s,updatePinItemImages:function(e,r,o,c,s){return n((0,Kt.KF)(e,r,o,c,s,i,a,t))},i18n:t}))}},352693:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(80209);function o(e){var t=e.fillColor,n=void 0===t?"rgba(0, 0, 0, 0.06)":t,o=e.size,i=void 0===o?8:o;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",style:{display:"flex"},preserveAspectRatio:"none",children:[(0,r.jsxs)("pattern",{id:"pattern",x:0,y:0,width:2*i,height:2*i,patternUnits:"userSpaceOnUse",children:[(0,r.jsx)("rect",{fill:n,x:0,width:i,height:i,y:0}),(0,r.jsx)("rect",{fill:n,x:i,width:i,height:i,y:i})]}),(0,r.jsx)("rect",{fill:"url(#pattern)",x:0,y:0,width:"100%",height:"100%"})]})}},904168:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var r=n(793550),o=n(352693),i=n(588527),a=n(218265),c=n(80209);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(f,e);var t,n,r,s=p(f);function f(){var e;l(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=s.call.apply(s,[this].concat(n))),"handleClick",(function(){var t=e.props,n=t.color;(0,t.onClick)({value:n})})),m(h(e),"handleKeyPress",(function(t){!e.props.onClick||t.charCode!==i.Z.SPACE&&t.charCode!==i.Z.ENTER||(t.preventDefault(),e.handleClick())})),e}return t=f,(n=[{key:"render",value:function(){var e=this.props,t=e.size,n=e.color,r=e.isSelected,i=e.dataTestId;return(0,c.jsx)(a.iP,{rounding:"circle",onTap:this.handleClick,children:(0,c.jsx)(a.xu,{"data-test-id":i,role:"button",height:t,onKeyPress:this.handleKeyPress,overflow:"hidden",rounding:"circle",width:t,dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",cursor:"pointer",border:"solid 2px #F0F0F0",backgroundColor:""===n?void 0:n,boxShadow:r?"0 0 0 2px #f35e5f":"none",outline:"none"}},tabIndex:0,children:""===n&&(0,c.jsx)(o.Z,{size:6})})})}}])&&u(t.prototype,n),r&&u(t,r),f}(r.Component);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={input:{minWidth:0,flex:1,fontSize:"16px",color:"#333",border:"0px",outline:"none",boxSizing:"border-box",padding:0}},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=w(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(j(e=o.call.apply(o,[this].concat(n))),"state",{color:e.props.color}),A(j(e),"isValidHex",(function(e){return!!e&&/^#([0-9a-f]{6})$/i.test(e)})),A(j(e),"startsWithValidHex",(function(e){return!!e&&/^#([0-9a-f]{0,6})$/i.test(e)})),A(j(e),"handleInputChange",(function(t){var n=e.props.onChange,r="#"+t.target.value.toUpperCase();e.startsWithValidHex(r)&&(e.setState({color:r}),e.isValidHex(r)&&n(r))})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.width,o=t.height,i=t.color,s=this.state.color,l=this.input===document.activeElement?s:i.toUpperCase();return(0,c.jsxs)(a.xu,{width:r,height:o,paddingX:2,rounding:2,display:"flex",alignItems:"center",borderStyle:"lg",children:[(0,c.jsx)(a.xv,{color:"gray",children:"#"}),(0,c.jsx)("input",{id:n,ref:function(t){return e.input=t},style:S.input,value:l.replace("#",""),onChange:this.handleInputChange})]})}}])&&x(t.prototype,n),r&&x(t,r),i}(r.Component),E=n(297583),k=n(549135),C=n(174523);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=["#ffffff","#f15758","#e60023","#e37325","#f8b917","#0ba573","#096a56","#558dca","#0f4d8f","#7c499d","#73295E","#843922","#555555","#000000"],Q={container:{__style:{boxShadow:"0 0 0 2px #efefef inset"}}},W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(l,e);var t,n,i,s=M(l);function l(){var e;T(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(N(e=s.call.apply(s,[this].concat(n))),"state",{isOpen:!1}),Z(N(e),"setAnchorRef",(function(t){e.anchor=t})),Z(N(e),"handleClick",(function(){e.setState((function(e){return{isOpen:!e.isOpen}}))})),Z(N(e),"handleDismiss",(function(){e.setState({isOpen:!1})})),Z(N(e),"onNoColorFillChange",(function(t){var n=t.checked;e.props.onSelectColor({value:n?"":"#ffffff"}),(0,k.j)(101,{component:13780,element:12165,value:n})})),Z(N(e),"onColorClick",(function(t){var n=t.value;e.props.onSelectColor({value:n}),(0,k.j)(101,{component:13780,element:12166,value:n})})),Z(N(e),"onHexColorChange",(function(t){e.props.onSelectColor({value:t}),(0,k.j)(7472,{component:13780,element:12167,value:t})})),e}return t=l,(n=[{key:"renderTransparencyControl",value:function(){var e=this.props,t=e.showTransparencyControl,n=e.transparencyIndex,r=e.onSelectTransparency;if(!t||void 0===n||!r)return null;var o=this.props.i18n._("Full opacity","Adjust the transparency to opaque,","Adjust the transparency to opaque,"),i=this.props.i18n._("Semi-transparent","Adjust the transparency to 75%.","Adjust the transparency to 75%."),s=[(0,c.jsx)(a.xu,{"data-group-id":"pinbuilder-editor-logo-transparency-button","data-test-id":"pinbuilder-editor-fill-opaque-button",children:(0,c.jsx)(a.u,{text:o,children:(0,c.jsx)(a.JO,{accessibilityLabel:o,icon:"fill-opaque",color:0===n?"darkGray":"gray",size:20})})}),(0,c.jsx)(a.xu,{"data-group-id":"pinbuilder-editor-logo-transparency-button","data-test-id":"pinbuilder-editor-fill-transparent-button",children:(0,c.jsx)(a.u,{text:i,children:(0,c.jsx)(a.JO,{accessibilityLabel:i,icon:"fill-transparent",color:1===n?"darkGray":"gray",size:20})})})];return(0,c.jsx)(a.xu,{marginStart:4,children:(0,c.jsx)(a.sY,{selectedItemIndex:n,onChange:r,items:s})})}},{key:"renderFlyout",value:function(){var e=this,t=this.props,n=t.showNoFillControl,o=t.showTransparencyControl,i=t.colorSelected,s=t.imagePalette,l=t.showExpanded?E.kw:L;return(0,c.jsx)(a.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:this.handleDismiss,size:"md",showCaret:!0,children:(0,c.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",paddingY:4,width:"100%",children:[n&&(0,c.jsxs)(a.xu,{marginBottom:4,children:[(0,c.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:3,paddingX:4,children:[(0,c.jsx)(a.XZ,{checked:!i,id:"no-color-fill",name:"no-color-fill",onChange:this.onNoColorFillChange,size:"sm"}),(0,c.jsx)(a.__,{htmlFor:"no-color-fill",children:(0,c.jsx)(a.xu,{paddingX:2,children:(0,c.jsx)(a.xv,{size:"md",children:this.props.i18n._("No background fill","Don't fill any background color","Don't fill any background color")})})})]}),(0,c.jsx)(a.iz,{})]}),(0,c.jsxs)(a.xu,{paddingX:4,children:[s&&s.length>0&&(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(a.xu,{paddingX:1,children:(0,c.jsx)(a.xv,{size:"sm",children:this.props.i18n._("Your image colors","Colors from the image being added","Colors from the image being added")})}),(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:s.map((function(t,n){return(0,c.jsx)(a.xu,{"data-group-id":"pinbuilder-editor-palette-color-picker-button",padding:1,children:(0,c.jsx)(g,{color:t,dataTestId:"pinbuilder-editor-palette-".concat(n,"-color-picker-button"),isSelected:i.toLowerCase()===t,onClick:e.onColorClick,size:28})},t)}))}),(0,c.jsx)(a.xu,{paddingX:1,marginTop:2,children:(0,c.jsx)(a.xv,{size:"sm",children:this.props.i18n._("More options","Default colors","Default colors")})})]}),(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",wrap:!0,children:l.map((function(t,n){return(0,c.jsx)(a.xu,{"data-group-id":"pinbuilder-editor-color-picker-button",padding:1,children:(0,c.jsx)(g,{color:t,dataTestId:"pinbuilder-editor-".concat(n,"-color-picker-button"),isSelected:i.toLowerCase()===t,onClick:e.onColorClick,size:28})},t)}))}),(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:3,children:[(0,c.jsx)(P,{onChange:this.onHexColorChange,color:i,width:94,height:40}),o&&this.renderTransparencyControl()]})]})]})})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.width,r=e.showTransparencyControl,i=e.transparencyIndex,s=e.colorSelected,l=this.state.isOpen,u={__style:{border:s&&"#ffffff"!==s.toLowerCase()?"none":"solid 2px #efefef",borderRadius:"16px 0 0 16px",background:s||"linear-gradient(to bottom right, white 48.5%, #e600234d 48.5%, #e600234d 51.5%, white 51.5%)"}};return(0,c.jsxs)(a.xu,{"data-test-id":t,width:n,children:[(0,c.jsx)(a.iP,{fullHeight:!0,onTap:this.handleClick,rounding:4,children:(0,c.jsxs)(a.xu,{rounding:4,overflow:"hidden",height:40,display:"flex",justifyContent:"end",color:"lightGray",dangerouslySetInlineStyle:Q.container,ref:this.setAnchorRef,children:[(0,c.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:u,children:s&&r&&1===i&&(0,c.jsx)(o.Z,{})}),(0,c.jsx)(a.xu,{alignItems:"center",color:"lightGray","data-test-id":"storyboard-editor-details-layout-color-picker-icon",display:"flex",flex:"none",justifyContent:"center",width:28,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._("Open dropdown color picker","Open the color picker in a dropdown flyout","Open the color picker in a dropdown flyout"),color:"darkGray",icon:"arrow-down",size:8})})]})}),l&&this.renderFlyout()]})}}])&&J(t.prototype,n),i&&J(t,i),l}(r.Component);function q(e){var t=(0,C.ZP)();return(0,c.jsx)(W,D(D({},e),{},{i18n:t}))}Z(W,"defaultProps",{showNoFillControl:!1,showTransparencyControl:!1,width:84})},235777:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(218265),o=n(80209);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return e.reduce((function(e,t){return[].concat(i(e),[{selector:t.selector,content:(0,o.jsxs)(r.xu,{"data-test-id":"".concat(t.id||""),paddingY:2,children:[t.heading&&(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.X6,{size:"sm",children:t.heading})}),(0,o.jsx)(r.xu,{paddingY:2,children:(0,o.jsx)(r.xv,{children:t.description})})]}),id:t.id,padding:t.padding,onNext:t.onNext}])}),[])}},129206:function(e,t,n){"use strict";n.d(t,{Z:function(){return b},G:function(){return m}});var r=n(415149),o=n(76535),i=n(773559),a=n(549135),c=n(887018),s=n(946753),l=n(297583),u=n(218265),d=n(80209);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){return t.ngettext("pixel","pixels",e,"pinBuilder.errorMessaging.pixel","Label for number of pixels")};function b(e,t,n){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:t._("Your upload failed because it's the wrong format.","storyPinBuilder.errorMessaging.message","Error message uploading a file format that is not supported."),blocking:!0};case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:t._("Ooops! This description is getting long. Try trimming it down.","storyPinBuilder.errorMessaging.message","Error message when description is greater than maximum character count.")};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:n,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:t._("Ooops! Too many user mentions. Try keeping it to 5 max.","pinBuilder.errorMessaging.descriptionMentionLimit","Error message when description contains more user mentions than maximum allowed count.")};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:t._("Ooops! This title is getting long. Try trimming it down.","storyPinBuilder.errorMessaging.message","Error message when title is greater than maximum character count.")};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:n,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:t._("This image is too large and can't be uploaded. Please try a smaller image size.","storyPinBuilder.errorMessaging.message","Error message uploading an image file that is too large"),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var r=p(o.Z.enabled("pinQuality")?[300,200]:[c.yL,c.Ci],2),a=r[0],f=r[1];return{dispatchId:n,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,s.nk)(t._("Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.","pinBuilder.errorMessaging.minImageMessage","Error message when uploading an image file that is smaller than the supported height and width."),{minHeight:a,minWidth:f,pixelString:h(f,t)}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":var b=c.qr/1024/1024;return{dispatchId:n,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,s.nk)(t.ngettext("This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}}MB","This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}}MB",b,"storyPinBuilder.errorMessaging.message","Error message when uploading an image file larger than the supported size"),{max_size_mb:b}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:t._("This image type is invalid - please make sure the image is natively .jpg or .png","storyPinBuilder.errorMessaging.message","Error message uploading an image that is malformed in some way"),blocking:!0};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:n,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:t._("This image does not have the recommended aspect ratio.","storyPinBuilder.errorMessaging.message","Signal message when uploading an image that does not have the recommended aspect ratio.")};case"VIDEO_UNDER_MIN_DIMENSIONS":var m=c.yL;return{dispatchId:n,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,s.nk)(t.ngettext("This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel","This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels",m,"storyPinBuilder.errorMessaging.message","Error message when uploading an video file that is smaller than the supported height and width."),{min_size_video:m}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var g=c.VY;return{dispatchId:n,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,s.nk)(t.ngettext("This video is too short and can't be uploaded. Video can't be shorter than {{min_video_length_seconds}} second.","This video is too short and can't be uploaded. Video can't be shorter than {{min_video_length_seconds}} seconds.",g,"storyPinBuilder.errorMessaging.message","Error message uploading a video file that is shorter than required seconds."),{min_video_length_seconds:g}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:t._("The video's cover image must be of the same dimensions as the video itself","storyPinBuilder.errorMessaging.message","Error message when uploading cover image with non matching dimensions to video"),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:n,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:t._("Hmm, your upload failed for some reason. Please try again.","storyPinBuilder.errorMessaging.message","Error message uploading a video file and the process fails"),blocking:!0};case"VIDEO_OVER_MAX_DURATION":var y=c.lr/60;return{dispatchId:n,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,s.nk)(t.ngettext("This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minute.","This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minutes.",y,"storyPinBuilder.errorMessaging.message","Error message uploading a video file that is longer than required minutes."),{max_video_length_minutes:y}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":var v=c.sy/1024/1024/1024;return{dispatchId:n,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,s.nk)(t.ngettext("This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}}GB.","This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}}GB.",v,"storyPinBuilder.errorMessaging.message","Error message uploading a video file larger than required gigabytes."),{max_video_size_gb:v}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:t._("This video isn't encoded in H.264","storyPinBuilder.errorMessaging.message","Error message uploading a video file that is malformed"),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:n,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:t._("This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.","storyPinBuilder.errorMessaging.message","Error message uploading a video file that is not a supported aspect ratio"),blocking:!0};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:n,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:t._("You can't tag from the same page twice.","storyPinBuilder.errorMessaging.message","Error message for using the same product link twice on a Pin tag"),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:n,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:t._("You've reached the maximum number of products for a tag.","storyPinBuilder.errorMessaging.message","Error message when user attempts to add more than 8 products to a tag"),blocking:!0};case"BOARD_MISSING":return{dispatchId:n,id:"BOARD_MISSING",type:"error",message:t._("A board is required to create a Pin.","storyPinBuilder.errorMessaging.message","Error message indicating a board is required to create a Pin"),blocking:!0};case"DATE_IN_PAST":return{dispatchId:n,id:"DATE_IN_PAST",type:"error",message:t._("A future date is required to schedule a Pin.","storyPinBuilder.errorMessaging.message","Error message indicating the date is in the past for a scheduled Pin."),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:n,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:t._("Make sure you schedule a Pin less than 14 days in the future.","storyPinBuilder.errorMessaging.message","Error message indicating the date is too far in the future for a scheduled Pin."),blocking:!0};case"DATE_MISSING":return{dispatchId:n,id:"DATE_MISSING",type:"error",message:t._("A date is required to schedule a Pin.","storyPinBuilder.errorMessaging.message","Error message indicating a date is required to schedule a Pin."),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:n,id:"DESCRIPTION_INVALID",type:"error",message:t._("The description is invalid.","storyPinBuilder.errorMessaging.message","Error message indicating an invalid description was entered to create a Pin"),blocking:!0};case"MEDIA_MISSING":return{dispatchId:n,id:"MEDIA_MISSING",type:"error",message:t._("An image is required to create a Pin.","storyPinBuilder.errorMessaging.message","Error message indicating an image, video, or website is required to create a Pin."),blocking:!0};case"TAG_INVALID":return{dispatchId:n,id:"TAG_INVALID",type:"error",message:t._("You can only tag images linking to your claimed website.","storyPinBuilder.errorMessaging.message","Error message for entering a link you have not claimed."),blocking:!0};case"TIME_MISSING":return{dispatchId:n,id:"TIME_MISSING",type:"error",message:t._("A time is required to schedule a Pin.","storyPinBuilder.errorMessaging.message","Error message indicating a time is required to schedule a Pin."),blocking:!0};case"TITLE_INVALID":return{dispatchId:n,id:"TITLE_INVALID",type:"error",message:t._("The title is invalid.","storyPinBuilder.errorMessaging.message","Error message indicating an invalid title was entered to create a Pin"),blocking:!0};case"URL_INVALID":return{dispatchId:n,id:"URL_INVALID",type:"error",message:t._("Not a valid URL.","storyPinBuilder.errorMessaging.message","Error message indicating an invalid URL was entered to create a Pin"),blocking:!0};case"URL_MISSING":return{dispatchId:n,id:"URL_MISSING",type:"error",message:t._("URL is required.","storyPinBuilder.errorMessaging.message","Error message indicating a URL is required to create a Pin"),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:n,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,s.nk)(t._("Some nudity is okay for Pinterest, some isn't. Make sure you understand {{ policy_link }}","storyPinBuilder.errorMessaging.message","Error message indicating the URL entered is a porn domain."),{policy_link:(0,d.jsx)(u.rU,{href:i.Z.settings.POLICY_COMMUNITY_GUIDELINES,inline:!0,target:"blank",children:(0,d.jsx)(u.xv,{color:"red",inline:!0,size:"sm",weight:"bold",children:t._("our policies","Link to policy page","Link to policy page")})},0)}),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:n,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:t._("Carousel images must have the same height and width","storyPinBuilder.errorMessaging.message","Error message indicating a carousel with different sizes"),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:n,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:t._("Carousels can only contain images","storyPinBuilder.errorMessaging.message","Error message when attempting to add a non-image file type to a carousel"),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:n,id:"URL_IS_REDIRECT",type:"error",message:t._("URL is a redirect.  Please enter a URL without a redirect.","storyPinBuilder.errorMessaging.message","Error message indicating a URL with a redirect was entered"),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:n,id:"URL_UNREACHABLE",type:"error",message:t._("URL is unreachable.  Please check that it is correct.","storyPinBuilder.errorMessaging.message","Error message indicating the URL specified is unreachable."),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:t._("Edit the image on the cover page to have a 9:16 ratio","storyPinBuilder.errorMessaging.message","Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio."),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:o.Z.enabled("rename")?t._("Please provide an image for the cover page of your Idea Pin","storyPinBuilder.errorMessaging.message","Error message indicating that the cover page of a Idea Pin is missing an image"):t._("Please provide an image for the cover page of your Story Pin","storyPinBuilder.errorMessaging.message","Error message indicating that the cover page of a Story Pin is missing an image")};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:n,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:o.Z.enabled("rename")?t._("Cannot save Idea Pin without signature set on cover","storyPinBuilder.errorMessaging.message","Error message indicating that the cover page is missing the signature"):t._("Cannot save Story Pin without signature set on cover","storyPinBuilder.errorMessaging.message","Error message indicating that the cover page is missing the signature")};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:o.Z.enabled("rename")?t._("Give your Idea Pin a title before you publish","storyPinBuilder.errorMessaging.message","Error message indicating the cover page of a Idea Pin is missing a title."):t._("Give your Story Pin a title before you publish","storyPinBuilder.errorMessaging.message","Error message indicating the cover page of a Story Pin is missing a title."),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:n,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:o.Z.enabled("rename")?t._("Cannot save Idea Pin without signatures set on all media blocks/items","storyPinBuilder.errorMessaging.message","Error message indicating that signatures are missing on media blocks/items"):t._("Cannot save Story Pin without signatures set on all media blocks/items","storyPinBuilder.errorMessaging.message","Error message indicating that signatures are missing on media blocks/items")};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:n,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:o.Z.enabled("rename")?t._("Create at least 2 pages to publish an Idea Pin","storyPinBuilder.errorMessaging.message","Error message indicating the Idea Pin is too short."):t._("Create at least 2 pages to publish a Story Pin","storyPinBuilder.errorMessaging.message","Error message indicating the Story Pin is too short."),blocking:!0};case"STORY_PIN_TOO_MANY_PAGES":return{dispatchId:n,id:"STORY_PIN_TOO_MANY_PAGES",type:"error",message:(0,s.nk)(t.ngettext("There cannot be more than {{max_pages}} page","There cannot be more than {{max_pages}} pages",c.yX,"storyPinBuilder.errorMessaging.message","Error message when trying to create a Story Pin with more than the allowed number of pages"),{max_pages:c.yX}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:n,id:"STORY_PIN_TITLE_MISSING",type:"error",message:o.Z.enabled("rename")?t._("Give your Idea Pin a title before you publish","storyPinBuilder.errorMessaging.message","Error message indicating the Idea Pin is missing a title."):t._("Give your Story Pin a title before you publish","storyPinBuilder.errorMessaging.message","Error message indicating the Story Pin is missing a title."),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var x=Math.floor(l.aB);return{dispatchId:n,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,s.nk)(t.ngettext("This video is too short and can't be uploaded. Video can't be shorter than {{minVideoLengthSeconds}} second.","This video is too short and can't be uploaded. Video can't be shorter than {{minVideoLengthSeconds}} seconds.",x,"storyPinBuilder.errorMessaging.message","Error message uploading a video file that is longer than the allowed duration"),{minVideoLengthSeconds:x}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:n,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:t._("The cover page cannot contain a video","storyPinBuilder.errorMessaging.message","Error message indicating the cover page of a Story Pin contains a video."),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":var I=Math.floor(l.fl);return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,s.nk)(t.ngettext("This video is too long and can't be uploaded. Videos can't be longer than {{maxVideoLengthSeconds}} second.","This video is too long and can't be uploaded. Videos can't be longer than {{maxVideoLengthSeconds}} seconds.",I,"storyPinBuilder.errorMessaging.message","Error message uploading a video file that is longer than the allowed duration"),{maxVideoLengthSeconds:I}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var w=l.sy/1024/1024;return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,s.nk)(t.ngettext("This video is too large and can't be uploaded. Videos can't be larger than {{maxVideoFileSize}}MB.","This video is too large and can't be uploaded. Videos can't be larger than {{maxVideoFileSize}}MB.",w,"storyPinBuilder.errorMessaging.message","Error message uploading a video file larger than required megabytes."),{maxVideoFileSize:w}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:t._("Ooops! This alt text is getting long. Try trimming it down.","pinBuilder.errorMessaging.message","Error message when alt text is greater than maximum character count.")};default:return{dispatchId:n,id:"GENERAL_ERROR",type:"error",message:t._("Hmm, something went wrong. Please try again.","storyPinBuilder.errorMessaging.message","Error message for generic error during Pin creation"),blocking:!0}}}function m(e,t){var n=(0,r.Z)();(0,a.j)(7564,{view:212,component:n.includes("create")?13762:13308,error_message:t,error_id:e})}},602937:function(e,t,n){"use strict";n.d(t,{T:function(){return g}});var r=n(793550),o=n(575429),i=n(129206),a=n(76535),c=n(597360),s=n(174523),l=n(34411),u=n(887018),d=n(181307),p=n(68545),f=n(218265),h=n(80209);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.pinDraftId,n=(0,s.ZP)(),m=(0,l.Z)(),g=(0,d.tc)("web_stl_tooling"),y=!(!m.isAuth||!m.eligibleForStlTool||"ad_creation"===a.Z.scenario())&&g({dangerouslySkipActivation:!0}).anyEnabled,v=b((0,r.useState)(!1),2),x=v[0],I=v[1],w=(0,o.useDispatch)(),_=(0,o.useSelector)((function(e){var n;return null===(n=e.pinbuilder.pinDrafts[t])||void 0===n?void 0:n.altText})),j=(0,o.useSelector)((function(e){var n;return null===(n=e.pinbuilder.pinDrafts[t])||void 0===n?void 0:n.altTextError}))||"";return(0,h.jsxs)(f.xu,{marginTop:2,children:[!x&&(0,h.jsx)(f.xu,{"data-test-id":"pin-draft-alt-text-button",flex:"grow",children:(0,h.jsx)(f.zx,{onClick:function(){return I(!0)},text:n._("Add alt text","pinbuilder.alt_text.button","Button to toggle alt text input")})}),x&&(0,h.jsxs)(f.xu,{children:[(0,h.jsx)(f.xu,{marginStart:1,marginBottom:1,children:y&&(0,h.jsx)(f.xv,{size:"sm",color:"darkGray",children:n._("Alt text","pinbuilder.altText.title","Label for alt text")})}),(0,h.jsx)(c.Z,{height:y?"md":void 0,size:"sm",helperMessage:n._("This text will be read aloud by screen readers","web.altText.helperMessage","Help text for alt text"),id:"pin-draft-alttext-".concat(t),maxLength:u.lx,onChange:function(e){var r=e.value;w((0,p.DL)(t,r)),r&&r.length>u.lx&&w((0,p.KN)(t,(0,i.Z)("ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",n).message)),j&&(!r||r.length<=u.lx)&&w((0,p.KN)(t,""))},onBlur:function(){},placeholder:n._("Explain what people can see in the Pin","web.altText.placeholder","Placehoolder text for alt text"),value:_||"",viewer:m,errorMessage:j,muted:!0,italic:!0,shouldFocusOnRender:!0})]})]})}},213690:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(68545),a=n(549135),c=n(174523),s=n(218265),l=n(80209);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(y(e=o.call.apply(o,[this].concat(n))),"handleChange",(function(t){var n=t.checked;(0,e.props.setShareable)(n),(0,a.j)(101,{component:13308,element:12125,is_checked:n})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.checked,t="pin-draft-carousel-control";return(0,l.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,l.jsx)(s.XZ,{checked:e,id:t,onChange:this.handleChange,size:"sm"}),(0,l.jsx)(s.__,{htmlFor:t,children:(0,l.jsx)(s.xu,{paddingX:2,children:(0,l.jsx)(s.xv,{size:"md",children:this.props.i18n._("Use the same text and URL for each image","Option to select if user wants to copy text and link to all carousel items","Option to select if user wants to copy text and link to all carousel items")})})})]})}}])&&h(t.prototype,n),r&&h(t,r),i}(r.Component);t.Z=(0,o.connect)((function(e,t){return{checked:e.pinbuilder.pinDrafts[t.pinDraftId].pinItemShareable}}),(function(e,t){return{setShareable:function(n){return e((0,i.u9)(t.pinDraftId,n))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(I,p(p({},e),{},{i18n:t}))}))},53153:function(e,t,n){"use strict";var r=n(575429),o=n(218265),i=n(80209);t.Z=(0,r.connect)((function(e,t){return{media:e.pinbuilder.taggedObjects[t.taggedObjectId].media}}))((function(e){var t,n,r,a=e.media;return a?(0,i.jsx)(o.xu,{paddingX:1,display:"inlineBlock",position:"relative",children:(0,i.jsx)(o.zd,{height:90,rounding:2,wash:!0,width:90,children:(0,i.jsx)(o.Ee,{alt:"",naturalHeight:null!==(t=a.height)&&void 0!==t?t:1,naturalWidth:null!==(n=a.width)&&void 0!==n?n:1,src:null!==(r=a.url)&&void 0!==r?r:"",fit:"cover"})})}):null}))},229934:function(e,t,n){"use strict";n.d(t,{ZP:function(){return he}});var r=n(793550),o=n(575429),i=n(166555),a=n.n(i),c=n(169897),s=n(311866),l=n(588527),u=n(227457),d=n.n(u),p=n(174523),f=n(218265),h=n(80209);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,r,o=I(i);function i(){return y(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onDelete,r=e.readOnly;return(0,h.jsxs)(f.xu,{rounding:2,color:"lightGray",display:"flex",justifyContent:"center",alignItems:"center",padding:2,dangerouslySetInlineStyle:{__style:{userSelect:"none"}},children:[(0,h.jsx)(f.xv,{size:"md",weight:"bold",children:t}),!r&&(0,h.jsx)(f.xu,{marginStart:2,children:(0,h.jsx)(f.iP,{fullHeight:!1,fullWidth:!1,onTap:n,rounding:"circle",children:(0,h.jsx)(f.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"white",padding:1,rounding:"circle",children:(0,h.jsx)(f.JO,{accessibilityLabel:this.props.i18n._("Delete Tag","delete this tag","delete this tag"),icon:"cancel",color:"darkGray",size:8,inline:!0})})})})]})}}])&&v(t.prototype,n),r&&v(t,r),i}(r.PureComponent);function A(e){var t=(0,p.ZP)();return(0,h.jsx)(O,g(g({},e),{},{i18n:t}))}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j(O,"defaultProps",{readOnly:!1});var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,o,i=C(a);function a(){var e;P(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(B(e=i.call.apply(i,[this].concat(n))),"handleChange",(function(t){(0,e.props.onChange)({value:t.target.value})})),T(B(e),"handleDeleteTag",(function(t){return function(){(0,e.props.onRemoveTag)(t)}})),T(B(e),"getColor",(function(){var t=e.props,n=t.errorMessage,r=t.focused,o=t.showOnBlur,i=t.value;return n?"#e60023":r?"#0074e8":i&&!o?"transparent":"rgba(142, 142, 142, 0.5)"})),e}return t=a,(n=[{key:"textField",get:function(){return this._textField}},{key:"componentDidUpdate",value:function(){this._textField&&this.props.focused&&this._textField.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,o=t.errorMessage,i=t.id,a=t.onKeyDown,c=t.placeholder,s=t.size,l=t.showOnBlur,u=t.value,p=void 0===u?"":u,b=t.tags,m=t.focused,g={__style:{boxShadow:"0 ".concat(m||o?"2px":"1px"," 0 0 ").concat(this.getColor()),paddingTop:8}};return(0,h.jsxs)(f.xu,{column:12,display:"flex",direction:"column",children:[(0,h.jsxs)(f.xu,{display:"flex",alignItems:"end",marginStart:-2,marginTop:-2,wrap:!0,children:[b&&b.map((function(t,n){var r=t.id,o=t.value;return(0,h.jsx)(f.xu,{marginStart:2,marginTop:2,marginBottom:-1,children:(0,h.jsx)(A,{value:o,onDelete:e.handleDeleteTag(r)})},n)})),!n&&(0,h.jsx)(f.xu,{flex:"grow",marginTop:2,marginStart:2,children:(0,h.jsx)("input",{ref:function(t){return e._textField=t},type:"text",className:d()("TextArea__textArea",{TextArea__dark:!0,TextArea__disabled:n,TextArea__enabled:!n,TextArea__large:"lg"===s,TextArea__medium:"md"===s,TextArea__wrap:!1,TextArea__nowrap:!0}),id:i,onChange:this.handleChange,onKeyDown:a,placeholder:c,value:p,maxLength:30,style:{height:"21px"}})})]}),(m||l||o||!p)&&(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(f.xu,{column:12,dangerouslySetInlineStyle:g}),(0,h.jsx)(f.xu,{column:12,marginTop:1,minHeight:15,children:(m||l||o)&&(0,h.jsx)(f.xu,{column:12,display:"flex",justifyContent:"between",children:(0,h.jsx)(f.xu,{flex:"grow",children:(0,h.jsx)(f.xv,{size:"sm",color:"red",children:o})})})})]})]})}}])&&E(t.prototype,n),o&&E(t,o),a}(r.Component);T(J,"defaultProps",{disabled:!1,size:"md",tags:[],focused:!1});var V=n(946753);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={component:{display:"flex",position:"relative"},flyout:{backgroundColor:"#fff",border:"1px solid #efefef",borderRadius:"8px",boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.1)",boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:220,overflow:"scroll",position:"absolute",padding:"16px 0",width:"100%"}},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=Q(i);function i(){var e;U(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(q(e=o.call.apply(o,[this].concat(n))),"state",{value:"",hoveredValue:"",flyoutHeight:0,hoveredSuggestionIndex:null,focused:!1}),G(q(e),"handleKeyDown",(function(t){var n=e.state.value,r=e.props.tags;if(t.keyCode===l.Z.BACKSPACE&&""===n&&r.length>0){var o=r[r.length-1].id;e.handleRemoveTag(o)}})),G(q(e),"handleChange",(function(t){var n=t.value,r=e.props.onChange;e.setState({value:n,hoveredValue:""}),r(n)})),G(q(e),"handleSuggestionMouseEnter",(function(t){var n=e.props.suggestions[t];e.setState({hoveredSuggestionIndex:t,hoveredValue:n.tagValue||n.value})})),G(q(e),"handleSuggestionMouseLeave",(function(){e.setState({hoveredSuggestionIndex:null,hoveredValue:""})})),G(q(e),"handleAddTag",(function(t){(0,e.props.onAddTag)(t),e.setState({value:"",hoveredValue:""}),e._textFieldRef&&e._textFieldRef.textField&&e._textFieldRef.textField.focus()})),G(q(e),"handleRemoveTag",(function(t){(0,e.props.onRemoveTag)(t)})),G(q(e),"handleClick",(function(t){if(e._componentRef&&t){var n=e.props.onChange,r=t.target instanceof Node&&e._componentRef.contains(t.target);r?e.setState({focused:r}):(e.setState({focused:r,value:"",hoveredValue:"",hoveredSuggestionIndex:null}),n(""))}})),G(q(e),"setTextFieldRef",(function(t){e._textFieldRef=t})),G(q(e),"renderFlyout",(function(t){var n=e.state,r=n.flyoutHeight,o=n.hoveredSuggestionIndex,i=-1*r-10;return(0,h.jsxs)("div",{ref:function(t){e._flyoutRef=t},style:N(N({},X.flyout),{},{top:i}),children:[(0,h.jsx)(f.xu,{paddingX:4,marginBottom:2,children:(0,h.jsx)(f.xv,{size:"md",color:"gray",children:(0,V.nk)(e.props.i18n.ngettext("Pick relevant tags ({{ count }} result)","Pick relevant tags ({{ count }} results)",t.length,"Number of matching tags to the query.","Number of matching tags to the query."),{count:t.length})})}),t.map((function(t,n){var r=n===o;return(0,h.jsx)(f.iP,{onMouseEnter:function(t){t.event;return e.handleSuggestionMouseEnter(n)},onMouseLeave:e.handleSuggestionMouseLeave,onTap:function(n){n.event;return e.handleAddTag(t)},children:(0,h.jsx)(f.xu,{paddingX:4,paddingY:2,color:r?"lightGray":"transparent","data-test-id":"TaggableFieldFlyout-".concat(n),children:(0,h.jsx)(f.xv,{size:"md",weight:"bold",children:t.value})})},n)}))]})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&window.document.addEventListener("mousedown",this.handleClick.bind(this))}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.document.addEventListener("mousedown",this.handleClick.bind(this))}},{key:"componentDidUpdate",value:function(e,t){if(this._flyoutRef){var n=this._flyoutRef.getBoundingClientRect().height;t.flyoutHeight!==n&&this.setState({flyoutHeight:n})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,r=t.errorMessage,o=t.pinDraftId,i=t.placeholder,a=t.suggestions,c=t.tags,s=this.state,l=s.focused,u=s.hoveredValue,d=s.value,p=c.map((function(e){return{value:e.tagValue?e.tagValue:e.value,id:e.id}})),f=n||!l&&c.length>0;return(0,h.jsxs)("div",{ref:function(t){e._componentRef=t},style:X.component,children:[d&&!n&&l&&a.length>0&&this.renderFlyout(a),(0,h.jsx)(J,{ref:this.setTextFieldRef,disabled:f,focused:l,id:"".concat(o,"-TaggableTextField"),errorMessage:r,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onRemoveTag:this.handleRemoveTag,placeholder:i,value:u||d,tags:p,showOnBlur:!0})]})}}])&&Z(t.prototype,n),r&&Z(t,r),i}(r.Component);G(Y,"defaultProps",{suggestions:[]});var K=function(e){var t=(0,p.ZP)();return(0,h.jsx)(Y,N(N({},e),{},{i18n:t}))},z=n(549135),$=n(68545);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r,o=se(i);function i(){var e;ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pe(ue(e=o.call.apply(o,[this].concat(n))),"state",{suggestions:[],noSuggestionsFromQuery:!1,containerRef:null}),pe(ue(e),"_hasStartTypingContextLogFired",!1),pe(ue(e),"saveRef",(function(t){e.setState({containerRef:t})})),pe(ue(e),"onAddTag",(function(t){(0,e.props.addInterestTag)(t),e.setState({suggestions:[],noSuggestionsFromQuery:!1})})),pe(ue(e),"onRemoveTag",(function(t){(0,e.props.removeInterestTag)(t)})),pe(ue(e),"onChange",a()((function(t){if(t){var n=e.props.pinDraftId,r={query:t,minLevel:1};s.ZP.create("InterestTaggingResource",r).callGet().then((function(t){var n=t.resource_response.data.suggestions.map((function(e){return{id:e.id,value:e.name,tagValue:e.interest_name}})),r=e._getUnselectedSuggestions(n);e.setState({suggestions:n,noSuggestionsFromQuery:0===r.length})})),e._hasStartTypingContextLogFired||(e._hasStartTypingContextLogFired=!0,(0,z.j)(7383,{component:13209,element:11449,pin_draft_id:n}))}else e.setState({suggestions:[],noSuggestionsFromQuery:!1})}),250)),pe(ue(e),"_getUnselectedSuggestions",(function(t){var n=e.props.interestTags.map((function(e){return e.id}));return t.reduce((function(e,t){return n.includes(t.id)?e:[].concat(re(e),[t])}),[])})),pe(ue(e),"getErrorMessage",(function(){var t=e.props.interestTags,n=e.state.noSuggestionsFromQuery;return 10===t.length?e.props.i18n._("You have reached the maximum number of tags allowed.","The maximum number of tags user can add to a pin is reached.","The maximum number of tags user can add to a pin is reached."):n?e.props.i18n._("There are no tags that match your query.","No suggested results found based on the user query.","No suggested results found based on the user query."):""})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.interestTags,n=e.pinDraftId,r=this.state,o=r.containerRef,i=r.suggestions,a=this._getUnselectedSuggestions(i),s=this.getErrorMessage(),l=t.length>0?"":this.props.i18n._("Add tags","text area placeholder to prompt user to tags to the pin.","text area placeholder to prompt user to tags to the pin.");return(0,h.jsxs)(f.xu,{ref:this.saveRef,children:[(0,h.jsx)(K,{disabled:10===t.length,pinDraftId:n,errorMessage:s,placeholder:l,suggestions:a,tags:t,onAddTag:this.onAddTag,onRemoveTag:this.onRemoveTag,onChange:this.onChange}),(0,h.jsx)(c.Z,{experienceIds:[501388],placementId:1000135,anchor:o,idealDirection:"up",flyoutSize:"lg",textOverflow:"normal"})]})}}])&&ae(t.prototype,n),r&&ae(t,r),i}(r.Component);var he=(0,o.connect)((function(e,t){return{interestTags:e.pinbuilder.pinDrafts[t.pinDraftId].interestTags}}),(function(e,t){return{addInterestTag:function(n){return e((0,$.YN)(t.pinDraftId,n))},removeInterestTag:function(n){return e((0,$.Ug)(t.pinDraftId,n))}}}))((function(e){var t=(0,p.ZP)();return(0,h.jsx)(fe,ne(ne({},e),{},{i18n:t}))}))},506074:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Wo}});var r=n(793550),o=n(575429),i=n(574037),a=n(185062),c=n(443517),s=n(903781),l=n(451190),u=n(859514),d=n(138881),p=n(731164),f=n(317442),h=n(250789),b=n(946753),m=n(735588),g=n(174523),y=n(218265),v=n(80209);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=A(i);function i(){var e;_(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(P(e=o.call.apply(o,[this].concat(n))),"state",{showModal:!0}),k(P(e),"handlePromoteButtonClick",(function(){var t=e.props.onComplete;(0,m.vF)("click","pin_create_success",101,207),t()})),k(P(e),"handleDismiss",(function(){var t=e.props.onDismiss;e.setState({showModal:!1}),t()})),k(P(e),"renderDoneButton",(function(){var t=e.props.promoteUrl;return(0,v.jsx)(y.xu,{paddingX:1,children:(0,v.jsx)(d.Z,{children:function(n){return n.anyEnabled?(0,v.jsx)(y.zx,{role:"link",color:"red",href:t,onClick:e.handlePromoteButtonClick,text:e.props.i18n._("Boost Pin","[m10n] dynamic button text for promote link in promote modal","[m10n] dynamic button text for promote link in promote modal")}):(0,v.jsx)(y.zx,{role:"link",color:"red",href:t,onClick:e.handlePromoteButtonClick,text:e.props.i18n._("Promote Pin","[m10n] button text for promote link in promote modal","[m10n] button text for promote link in promote modal")})}})})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){(0,m.vF)("render","pin_create_success",120,207),p.Z.increment("web.pin_create.success.promote.upsell")}},{key:"renderModalContent",value:function(){var e=this,t=this.props,n=t.pin,r=t.video,o=n.pinner;return(0,v.jsxs)(y.xu,{position:"relative",maxWidth:804,overflow:"hidden",display:"flex",color:"white",rounding:2,maxHeight:"calc(100vh - 32px)",children:[(0,v.jsx)(y.xu,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #EFEFEF"}},children:(0,v.jsx)(y.xu,{display:"flex",maxHeight:"700px",paddingX:8,paddingY:10,children:(0,v.jsx)(h.ZP,{pin:n,video:r,maxDescriptionLength:60,promoted:{businessName:o.full_name,avatarImageSmallUrl:o.image_small_url}})})}),(0,v.jsxs)(y.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,v.jsx)(y.xu,{marginStart:10,display:"flex",children:(0,v.jsx)(y.X6,{children:this.props.i18n._("You created a Pin!","pin create success message for modal title","pin create success message for modal title")})}),(0,v.jsx)(y.xu,{marginStart:10,marginTop:6,children:(0,v.jsx)(y.xv,{weight:"bold",children:(0,v.jsx)(d.Z,{children:function(t){return t.anyEnabled?e.props.i18n._("Boost your Pin to reach more people","[m10n] header for boost pin upsell","[m10n] header for boost pin upsell"):e.props.i18n._("Promote your Pin to reach more people","[m10n] header for promote pin upsell","[m10n] header for promote pin upsell")}})})}),(0,v.jsx)(y.xu,{marginStart:10,marginTop:3,marginBottom:8,children:(0,v.jsx)(y.xv,{children:(0,v.jsx)(d.Z,{children:function(t){return t.anyEnabled?(0,b.nk)(e.props.i18n._("{{ mauText }} people come to Pinterest every month to find new things to buy, make and do. Boost your Pin to find your audience.","[m10n] body copy for boost pin upsell. MAU_TEXT is a string of xxx million","[m10n] body copy for boost pin upsell. MAU_TEXT is a string of xxx million"),{mauText:(0,v.jsx)(f.Z,{})}):(0,b.nk)(e.props.i18n._("{{ mauText }} people come to Pinterest every month to find new things to buy, make and do. Promote your Pin to find your audience.","[m10n] body copy for promote pin upsell. MAU_TEXT is a string of xxx million","[m10n] body copy for promote pin upsell. MAU_TEXT is a string of xxx million"),{mauText:(0,v.jsx)(f.Z,{})})}})})}),this.renderButtons()]}),(0,v.jsx)(y.xu,{paddingY:2,paddingX:2,children:(0,v.jsx)(y.hU,{accessibilityLabel:"dismiss",bgColor:"transparent",icon:"cancel",iconColor:"gray",onClick:this.handleDismiss,size:"md"})})]})}},{key:"renderButtons",value:function(){var e=this.props,t=e.onDismiss,n=e.pinUrl;return(0,v.jsxs)(y.xu,{marginStart:9,display:"flex",children:[(0,v.jsx)(y.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,v.jsx)(y.zx,{role:"link",href:n,onClick:t,text:this.props.i18n._("See your Pin","[m10n] button text for pin link button in promote modal","[m10n] button text for pin link button in promote modal")})}),this.renderDoneButton()]})}},{key:"render",value:function(){return this.state.showModal?(0,v.jsx)(y.xu,{position:"fixed",justifyContent:"center",alignItems:"center",display:"flex",column:12,height:"100%",width:"100%",left:!0,top:!0,dangerouslySetInlineStyle:{__style:{boxSizing:"border-box"}},children:(0,v.jsx)(l.Z,{accessibilityModalLabel:this.props.i18n._("Your saved Pin.","Label for a modal showing the pin the user just created.","Label for a modal showing the pin the user just created."),onDismiss:this.handleDismiss,size:"md",children:this.renderModalContent()})}):null}}])&&j(t.prototype,n),r&&j(t,r),i}(r.Component);function R(e){var t=(0,g.ZP)();return(0,v.jsx)(C,w(w({},e),{},{i18n:t}))}var B=n(895507),D=n(312827),T=n(34411),J=n(778527),V=n(181307);var M=(0,J.ZP)(14,(function(e){return{pin_id:e.pinId}}))((function(e){var t,n=e.boardName,r=e.color,o=e.description,i=e.eligibleForExtensionUpsell,a=e.experience,d=e.imageUrl,p=e.isFromPinBuilder,f=e.link,h=e.onClose,m=e.openNewTab,x=e.pin,I=void 0===x?void 0:x,w=e.pinId,_=e.sectionName,j=e.siteType,O=e.video,A=e.websiteMedia,S=(0,g.ZP)(),P=(0,T.Z)(),E=(0,D.Z)(),k=function(){return a&&[501001].includes(a.experience_id)},C=(0,s.Z)({currentSiteType:j,destinationSiteType:0,inputPath:"/pin/".concat(w)}),J=(0,V.aq)("advertiser_growth_quick_promote_direct_redirect").anyEnabled;if(3===j)t="".concat(B.Z.getSterlingURL("quick_promote"),"?pinId=").concat(I.id);else{var M=J?"/advertiser/quick-promote/?pinId=".concat(w):"/pin/".concat(w,"/promote");t=(0,s.Z)({currentSiteType:j,destinationSiteType:0,inputPath:M})}if(P.isPartner&&I&&I.is_quick_promotable)return(0,v.jsx)(R,{pin:I,pinUrl:C,promoteUrl:t,onDismiss:function(){k()&&E.dismissExperience(a.placement_id,a.experience_id),h()},onComplete:function(){k()&&E.completeExperience(a.placement_id,a.experience_id),h()},siteType:j,video:O});var F=I&&n?I.board.url:"",N=_?"".concat(F).concat(I.section.slug,"/"):"";if(p&&i){var U=(null==I?void 0:I.id)||"";return(0,v.jsx)(y.xu,{"data-test-id":"browser-extension-upsell-modal_".concat(U),children:(0,v.jsx)(l.Z,{accessibilityModalLabel:S._("Get the Pinterest browser extension","label.extensionUpsellModal.addPinDropdown","Accesibility label for browser extension upsell modal"),onDismiss:h,size:"sm",children:(0,v.jsx)(c.Z,{isExtensionInstalled:!1,isFromPinBuilder:!0,onHide:h,onInstall:h})})})}return(0,v.jsx)(l.Z,{accessibilityModalLabel:S._("Your saved Pin.","Label for a modal showing the pin the user just created.","Label for a modal showing the pin the user just created."),onDismiss:h,heading:(0,v.jsx)(y.xu,{padding:8,children:(0,v.jsx)(y.X6,{align:"center",size:"md",children:_?(0,b.nk)(S._("Saved to {{ sectionName }} in {{ boardName }}","pinCreateSuccess.Option2Modal.savedToSection","Text and link for section and board that pin was saved to."),{boardName:(0,v.jsx)(y.rU,{href:N,inline:!0,children:_}),sectionName:(0,v.jsx)(y.rU,{href:F,inline:!0,children:n})}):(0,b.nk)(S._("Saved to {{ boardName }}","pinCreateSuccessModal.Option2Modal.savedToBoard","Text and link for board that pin was saved to."),{boardName:(0,v.jsx)(y.rU,{href:F,inline:!0,children:n})})})}),size:"md",children:(0,v.jsx)(u.Z,{hideHeader:!0,boardName:n,color:r,description:o,imageUrl:d,link:f,onClose:h,openNewTab:m,pin:I,pinId:w,sectionName:_,siteType:j,video:O,websiteMedia:A})})})),F=n(841317),N=n(990531),U=n(526745),Z=n(494353),L=n(945596),Q=n(330658),W=n(767523),q=n(535718),H=n(159276),G=n(535258),X=n(272828),Y=n(880841),K=n(621632),z=n(887018),$=n(68545);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne={__style:{paddingTop:z.XB}};function re(e){var t=e.pinDraftId,n=(0,g.ZP)(),i=(0,o.useDispatch)(),a=(0,T.Z)(),c=(0,W.Z)(),s=(0,H.lJ)(a,c),l=a.isAuth?a.id:"",u=a.isAuth?a.country:"",d=a.isAuth&&a.isPartner,p=ee((0,r.useState)(!1),2),f=p[0],h=p[1],b=ee((0,r.useState)(null),2),m=b[0],x=b[1],I=ee((0,r.useState)(""),2),w=I[0],_=I[1],j=(0,o.useSelector)((function(e){var n=e.pinbuilder.pinDrafts[t].websiteMedia;return n.length>0?n:[]})),O=(0,o.useSelector)((function(e){var n=e.pinbuilder,r=n.pinDrafts,o=n.pinItems[r[t].pinItemIds[0]].media;return o?(0,N.Z)(o):z.sD})),A=function(e){var r;r=e,i((0,$.Nv)(t,r)),j.length>1?i((0,$.m_)(t,l,u,d,n,s)):i((0,$.Ju)(t,void 0,l,s,u,d,n))},S=function(){x(null),h(!1)};return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.xu,{flex:"grow",minHeight:Math.max(O,z.sD),paddingX:5,width:"100%",dangerouslySetInlineStyle:ne,children:(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,v.jsx)(y.xu,{paddingY:1,children:(0,v.jsx)(y.xv,{lineClamp:1,weight:"bold",align:"center",children:n._("Choose a board","pinbuilder.PinDraftBoardView.boardPickerTitle","Board picker title for saving images from site")})}),(0,v.jsx)(K.sR,{onBoardCreate:function(e){_(null==e?void 0:e.title),h(!0)},onItemChosen:A,paneWidth:430,displayShortlistMostRecentBoard:!0,useLegoLayout:!1,setBoardWithSection:function(e){x(e)}})]})}),f&&!m&&(0,v.jsx)(F.Z,{onBoardCreate:function(e){var t,n,r;i((0,K.DR)(a,c)),A({boardId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",url:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.name)&&void 0!==r?r:""}),S()},onClose:S,suggestedBoardName:w}),f&&!!m&&(0,v.jsx)(Q.Z,{selectedBoard:m,onClose:S,onSectionCreate:function(e){m&&A({boardId:m.id,title:e.title||"",sectionId:e.id}),S()}})]})}function oe(e){var t=e.data,n=(0,g.ZP)();return(0,v.jsx)(y.xu,{"data-test-id":"media-image-view",dangerouslySetInlineStyle:{__style:{padding:"2px"}},children:(0,v.jsx)(y.zd,{rounding:4,wash:!0,children:(0,v.jsx)(y.Ee,{alt:n._("Image saved from site","pinbuilder.PinDraftBoardView.savedImage","Label for a saved image from site on Pin create"),naturalHeight:t.height,naturalWidth:t.width,src:t.src})})})}function ie(e){var t,n=e.pinDraftId,i=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].websiteLink})),a=(0,q.Z)({name:"DomainResource",options:{domain:i,field_set_key:"owner"}}),c=a.data,s=a.isLoaded,l=(0,q.Z)({name:"UserResource",dangerouslyDisableFetch:!s,options:{user_id:(null==c||null===(t=c.official_user)||void 0===t?void 0:t.id)||""}}),u=l.data,d=l.refresh;return(0,r.useEffect)((function(){d()}),[s,d]),u?(0,v.jsxs)(y.xu,{padding:2,children:[(0,v.jsx)(U.Z,{user:u}),";"]}):null}function ae(e){var t=e.pinDraftId,n=(0,g.ZP)(),i=(0,o.useDispatch)(),a=(0,r.useRef)(),c=i((0,$.By)(t)),s=z.LM,l=function(e,t){return e>=t?{width:350/e*t,height:350}:{width:s,height:s/t*e}};return 1===c.length?(0,v.jsx)(y.xu,{"data-test-id":"media-image-view",width:l(c[0].height,c[0].width).width,height:l(c[0].height,c[0].width).height,marginStart:"auto",marginEnd:"auto",overflow:"hidden",rounding:4,children:(0,v.jsx)(y.Ee,{alt:n._("Image saved from site","pinbuilder.PinDraftBoardView.savedImage","Label for a saved image from site on Pin create"),naturalHeight:c[0].height,naturalWidth:c[0].width,src:c[0].src,fit:"contain"})}):(0,v.jsx)(y.xu,{marginTop:2,height:420,ref:a,overflow:"auto",children:a&&(0,v.jsx)(y.Rk,{comp:oe,columnWidth:z.eZ,items:c,minCols:2,flexible:!0,gutterWidth:G.lX,scrollContainer:function(){return a.current||window},virtualize:!0})})}function ce(e){var t=e.pinDraftId,n=e.pinItemId,i=(0,o.useDispatch)(),a=(0,X.k6)(),c=(0,Y.F9)(),s=i((0,$.By)(t)),l=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[t].pinId})),u=(0,o.useSelector)((function(e){var n=e.pinbuilder.pinDrafts,r=e.pins;return l&&"create"===n[t].mode?r[l]:null})),d=.1*z.sD;(0,r.useEffect)((function(){if(u){var e=setTimeout(window.close,1e4);return function(){e&&clearTimeout(e)}}}),[u]);var p=function(){if(1===s.length)l?a.push("/pin/".concat(l,"/")):a.push("/");else if(u){var e=u.board?u.board.url:"";a.push("".concat(e||""))}else a.push("/")};return u&&function(){if(u&&u.board){var e=u.board.name,n=u.board.url,r=u.images?u.images["236x"]:null,o=r?r.url:"";i((0,L.Z)(t)),c.showOneToast((function(t){var r=t.onHide;return(0,v.jsx)(Z.Z,{boardName:e,boardUrl:n,isFromPinBuilder:!0,onHide:r,onVisitButtonClick:p,pinImageUrl:o||""})})),a.push("/")}}(),(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsxs)(y.xu,{display:"flex",direction:"column",alignItems:"center",paddingX:5,children:[(0,v.jsx)(y.xu,{height:d,children:(0,v.jsx)(ie,{pinDraftId:t,pinItemId:n})}),(0,v.jsx)(y.xu,{height:450,marginTop:4,width:344,children:(0,v.jsx)(ae,{pinDraftId:t,pinItemId:n})})]}),(0,v.jsx)(y.xu,{color:"lightGray",width:2,marginTop:-5}),!u&&(0,v.jsx)(re,{pinDraftId:t,pinItemId:n})]})}var se=n(562466),le=n(639720),ue=n(143788),de=n(626815),pe=n(616593);function fe(e){var t=e.coverImageHeight,n=e.pinDraftId,r=(0,g.ZP)();return(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:"100%",children:[(0,v.jsx)(y.xu,{paddingY:4,children:(0,v.jsx)(y.xv,{lineClamp:1,weight:"bold",align:"center",children:r._("Select more images","pinBuilder.pinDraftBodyExternalView.multiselect.subheader.text","Asking users to select more images on offsite pin creation")})}),(0,v.jsx)(y.xu,{height:z.sD-(null!=t?t:0)-48,children:(0,v.jsx)(pe.Z,{pinDraftId:n})})]})}var he=n(76535),be=n(497237),me=n(177802),ge=n(585967),ye=n(936821);function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie={__style:{paddingTop:z.XB}};function we(e){var t=e.pinDraftId,n=e.pinItemId,i=(0,g.ZP)(),a=(0,o.useDispatch)(),c=(0,ge.B)(),s=(0,X.k6)(),l=(0,T.Z)(),u=l.isAuth?l.id:"",d=l.isAuth?l.country:"",f=l.isAuth&&l.isPartner,h=ve((0,r.useState)(!1),2),m=h[0],x=h[1],I=ve((0,r.useState)(null),2),w=I[0],_=I[1],j=ve((0,r.useState)(""),2),O=j[0],A=j[1],S=(0,o.useSelector)((function(e){var n=e.pinbuilder,r=n.pinDrafts,o=n.pinItems[r[t].pinItemIds[0]].media;return o?(0,N.Z)(o):z.sD})),P=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[t].pinId})),E=(0,o.useSelector)((function(e){var n=e.pinbuilder.pinDrafts,r=e.pins;return P&&"create"===n[t].mode?r[P]:null})),k=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[t].websiteDefaultImageUrl||""})),C=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[t].websiteLink})),R=!1;if(he.Z.enabled("offsite_pin_creation_multi_select")){var B,D=(0,me.Z)({url:C});R=((null===(B=D.data)||void 0===B?void 0:B.items.length)||0)>0}(0,r.useEffect)((function(){p.Z.increment("offsite_pin_creation.view",1,{type:he.Z.enabled("offsite_pin_creation_multi_select")?"multi_pin":"single_pin"})}),[]),(0,r.useEffect)((function(){if(E){var e=setTimeout(window.close,1e4);return function(){e&&clearTimeout(e)}}}),[E]);var J,V,M,U,Z=function(e){var n;n=e,a((0,$.Nv)(t,n)),he.Z.enabled("offsite_pin_creation_multi_select")?a((0,$.m_)(t,u,d,f,i)):a((0,$.Ju)(t,void 0,u,void 0,d,f,i)),p.Z.increment("offsite_pin_creation.create_pin",1,{type:he.Z.enabled("offsite_pin_creation_multi_select")?"multi_pin":"single_pin"})},L=function(e){var t=e.title;A(t),x(!0)},W=function(){_(null),x(!1)},q=function(e){a((0,K.DR)(l)),Z({boardId:e.id,url:e.url,title:e.name||""}),W()},H=function(e){_(e)},G=function(e){w&&Z({boardId:w.id,title:e.title||"",sectionId:e.id}),W()},Y=z.LM,ee=function(e){return"number"!=typeof e.height||"number"!=typeof e.width?{width:e.width,height:e.height}:e.height>=e.width?{width:227/e.height*e.width,height:227}:{width:Y,height:Y/e.width*e.height}};return(0,v.jsxs)(y.xu,{display:"flex",direction:"row","data-test-id":"pindraft-external-body",marginTop:he.Z.enabled("offsite_pin_creation_multi_select")?8:0,children:[(0,v.jsx)(y.xu,{paddingX:5,display:"flex",direction:"column",alignItems:he.Z.enabled("offsite_pin_creation_multi_select")?"end":"center",justifyContent:"center",children:he.Z.enabled("offsite_pin_creation_multi_select")?(0,v.jsx)(y.xu,{width:z.LM,children:(0,v.jsx)(ue.Z,{url:k,children:function(e){var n,o=e.image;return(0,v.jsx)(r.Fragment,{children:o&&o.length>0&&(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(y.xu,{width:z.LM,children:[(0,v.jsx)(y.xu,{"data-test-id":"media-image-view",width:ee(o[0]).width,height:ee(o[0]).height,marginStart:"auto",marginEnd:"auto",overflow:"hidden",rounding:2,children:(0,v.jsx)(y.Ee,{alt:i._("Uploaded image","pinbuilder.PinDraftBodyExternalView.image","Label for a user uploaded image on Pin create"),src:null!==(n=o[0].url)&&void 0!==n?n:"",naturalHeight:o[0].height||1,naturalWidth:o[0].width||1,fit:"cover"})}),R&&(0,v.jsx)(fe,{coverImageHeight:ee(o[0]).height,pinDraftId:t})]})})})}},k)}):(0,v.jsx)(de.Z,{height:S,pinDraftId:t,pinItemId:n})}),(0,v.jsx)(y.xu,{color:"lightGray",width:2,marginTop:-5}),c.isAuthenticated?E?(U=E?null===(M=E.board)||void 0===M?void 0:M.name:"",(0,v.jsxs)(y.kC,{alignItems:"center",direction:"column",height:530,justifyContent:"center",width:"100%",children:[(0,v.jsx)(y.xu,{padding:6,children:(0,v.jsx)(y.xv,{lineClamp:1,weight:"bold",children:(0,b.nk)(i._("Saved 1 idea to {{ boardName }}! ","Tell user number of pins that he/she saved in a board","Tell user number of pins that he/she saved in a board"),{boardName:U})})}),(0,v.jsx)(y.xu,{padding:2,width:300,children:(0,v.jsx)(y.zx,{fullWidth:!0,color:"red",text:i._("See it now","Button label for navigating to the scheduled pins","Button label for navigating to the scheduled pins"),size:"lg",onClick:function(){return P?s.push("/pin/".concat(P,"/")):s.push("/pins/")}})}),(0,v.jsx)(y.xu,{padding:2,width:300,children:(0,v.jsx)(y.zx,{fullWidth:!0,color:"gray",text:i._("Share this pin","Button label for sharing this pin","Button label for sharing this pin"),size:"lg",onClick:function(){return P?s.push("/pin/".concat(P,"/?share=true")):s.push("/pins/")}})})]})):(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.xu,{flex:"grow",minHeight:Math.max(S,z.sD),paddingX:5,width:"100%",dangerouslySetInlineStyle:Ie,children:(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,v.jsx)(y.xu,{paddingY:1,children:(0,v.jsx)(y.xv,{lineClamp:1,weight:"bold",children:i._("Choose a board","pinbuilder.PinDraftBodyExternalView.renderBoardPicker","Board picker title for saving images from offsite")})}),(0,v.jsx)(K.uC,{onBoardCreate:L,onItemChosen:Z,paneWidth:430,displayShortlistMostRecentBoard:!0,useLegoLayout:!1,setBoardWithSection:H})]})}),m&&!w&&(0,v.jsx)(F.Z,{onBoardCreate:q,onClose:W,suggestedBoardName:O}),m&&!!w&&(0,v.jsx)(Q.Z,{selectedBoard:w,onClose:W,onSectionCreate:G})]}):(0,v.jsx)(y.xu,{"data-test-id":"unauth-offsite-pin-creation-signup",children:(0,v.jsx)(le.default,{container:be.Z.PINBOOKMARKLET,signupSource:"pinBookmarklet",type:"login",nextUrlParam:"undefined"!=typeof window?(J="".concat(ye.Ov.Referrer,"=").concat(ye.xA.OffsiteSave),V="".concat(window.location.href,"&").concat(J),encodeURIComponent(V)):""})})]})}var _e=n(284095),je=n(825319),Oe=n(448164),Ae=n(128264),Se=n(213690),Pe=n(129206),Ee=n(754999),ke=n(597360),Ce=n(227457),Re=n.n(Ce),Be=n(308125),De=n(622400),Te=n(549135);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qe(e)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(i,e);var t,n,r,o=Ze(i);function i(){var e;Fe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qe(Qe(e=o.call.apply(o,[this].concat(n))),"state",{focused:!1}),qe(Qe(e),"handleBlur",(function(t){e.setState({focused:!1});var n=e.props.onBlur;n&&n(t)})),qe(Qe(e),"handleFocus",(function(t){e.setState({focused:!0});var n=e.props.onFocus;n&&n(t)})),qe(Qe(e),"getColor",(function(){var t=e.props,n=t.errorMessage,r=t.warningMessage,o=t.showOnBlur,i=t.showWarningOnBlur,a=t.value,c=e.state.focused;return n?"#e60023":c||i&&r?"#0074e8":a&&!o?"transparent":"rgba(142, 142, 142, 0.5)"})),qe(Qe(e),"handleTextChange",(function(t){var n=t.text,r=t.mentions;e.props.onChange({value:n,userMentionTags:r})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.bold,n=e.disabled,r=e.errorMessage,o=e.warningMessage,i=e.height,a=e.helperMessage,c=e.id,s=e.instanceId,l=e.maxLength,u=e.placeholder,d=e.requestContext,p=e.size,f=e.showOnBlur,h=e.showWarningOnBlur,b=e.value,m=void 0===b?"":b,g=e.viewer,x=e.wrap,I=this.state.focused,w={__style:{boxShadow:"0 ".concat(I||r||h&&o?"2px":"1px"," 0 0 ").concat(this.getColor()),paddingTop:8}},_=g.eligibleForStlTool&&"ad_creation"!==he.Z.scenario()&&new De.v(d,"web_stl_tooling").enabledWithNoActivation();return(0,v.jsxs)(y.xu,{column:12,display:"flex",direction:"column",children:[(0,v.jsx)(y.xu,{column:12,position:"relative",children:(0,v.jsx)("div",{id:c,className:Re()("TextArea__".concat(_?"experimentalTextArea":"textArea"),"TextArea__dark",{TextArea__bold:t,TextArea__large:"lg"===p,TextArea__medium:"md"===p,TextArea__wrap:x,TextArea__nowrap:!x,TextArea__smHeight:"sm"===i,TextArea__mdHeight:"md"===i}),children:(0,v.jsx)(Be.Z,{onAddMention:function(){(0,Te.j)(8905,{element:116,tag_type:1})},onBlur:this.handleBlur,onChange:this.handleTextChange,onFocus:this.handleFocus,onSearchMentionCancel:function(){(0,Te.j)(8908,{element:116,tag_type:1})},onSuggestionsPopoverOpen:function(){(0,Te.j)(8907,{element:116,tag_type:1})},initialMentions:[],initialText:m,instanceId:s,placeholder:u,readOnly:n})})}),(0,v.jsxs)("div",{className:I||f||r||h&&o||!m?"":"TextArea__hidden",children:[!_&&(0,v.jsx)(y.xu,{column:12,dangerouslySetInlineStyle:w}),(0,v.jsx)(y.xu,{column:12,marginTop:_?0:1,minHeight:15,children:(I||f||!!r||h&&!!o)&&(0,v.jsxs)(y.xu,{column:12,display:"flex",justifyContent:"between",children:[!!r&&(0,v.jsx)(y.xu,{flex:"grow","data-test-id":"text-area-error",children:(0,v.jsx)(y.xv,{size:"sm",color:"red",children:r})}),(h||I)&&!r&&!!o&&(0,v.jsx)(y.xu,{flex:"grow","data-test-id":"text-area-warning",children:(0,v.jsx)(y.xv,{size:"sm",color:"gray",children:o})}),(f||I)&&!r&&!o&&(0,v.jsx)(y.xu,{flex:"grow","data-test-id":"text-area-helper",children:(0,v.jsx)(y.xv,{size:"sm",color:"gray",children:a})}),I&&null!=l&&(0,v.jsx)(y.xu,{flex:"none",children:(0,v.jsx)(y.xv,{size:"sm",color:r?"red":"darkGray",children:l-m.length})})]})})]})]})}}])&&Ne(t.prototype,n),r&&Ne(t,r),i}(r.Component);function Ge(e){return(0,v.jsx)(He,Me(Me({},e),{},{requestContext:(0,ge.B)(),viewer:(0,T.Z)()}))}qe(He,"defaultProps",{bold:!1,disabled:!1,size:"md",wrap:!0,value:""});var Xe=n(547793),Ye=n(836110);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var o=at(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(i,e);var t,n,r,o=rt(i);function i(){var e;et(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct(it(e=o.call.apply(o,[this].concat(n))),"defaultHelperMessage",e.props.i18n._("People will usually see the first 50 characters when they click on your Pin","pinbuilder.input.pinDraftDescription.helper","Helper education text for description on Pin creation")),ct(it(e),"defaultPlaceholder",e.props.i18n._("Tell everyone what your Pin is about","pinbuilder.input.pinDraftDescription.placeholder","Placehold text for description on Pin creation")),ct(it(e),"handleChange",(function(t){var n=t.value,r=t.userMentionTags,o=void 0===r?[]:r,i=e.props,a=i.setDescriptionData,c=i.setStoryPinDescription,s=i.setStoryPinDescriptionError,l=i.setUserMentionTags,u=i.type;o.length<e.props.userMentionTags.length&&(0,Te.j)(8906,{element:116,tag_type:1});var d=null;n.length>z.JO?d=(0,Pe.Z)("DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",e.props.i18n).message:o&&o.length>z.iR&&(d=(0,Pe.Z)("DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",e.props.i18n).message),"story"===u?(c(n),s(d)):(a({description:n,descriptionError:d}),o&&l({userMentionTags:o}))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.helperMessage,n=void 0===t?this.defaultHelperMessage:t,r=e.description,o=e.descriptionError,i=e.disabled,a=e.editorInstanceId,c=e.pinDraftId,s=e.placeholder,l=void 0===s?this.defaultPlaceholder:s,u=e.pinType,d=e.requestContext,p=e.validateDescription,f=e.viewer,h=f.eligibleForStlTool&&"ad_creation"!==he.Z.scenario()&&new De.v(d,"web_stl_tooling").enabledWithNoActivation(),b=he.Z.enabled("pinQuality");return"carousel"!==u?(0,v.jsx)(Ge,{height:h?"md":void 0,disabled:i,id:"pin-draft-description-".concat(c),instanceId:a,errorMessage:o,warningMessage:b&&r.length<z.G9?(0,Ee.Z)(this.props.i18n.ngettext("We recommend at least {{ length }} character","We recommend at least {{ length }} characters",z.G9,"pinbuilder.input.pinDraftDescription.warning","Warning message to notify user our recommendation for description length of pin"),{length:z.G9}):null,helperMessage:n||this.defaultHelperMessage,maxLength:z.JO,onBlur:p,onChange:this.handleChange,placeholder:l||this.defaultPlaceholder,value:r}):(0,v.jsx)(ke.Z,{height:h?"md":void 0,disabled:i,id:"pin-draft-description-".concat(c),errorMessage:o,warningMessage:b&&r.length<z.G9?(0,Ee.Z)(this.props.i18n.ngettext("We recommend at least {{ length }} character","We recommend at least {{ length }} characters",z.G9,"pinbuilder.input.pinDraftDescription.warning","Warning message to notify user our recommendation for description length of pin"),{length:z.G9}):null,helperMessage:n||this.defaultHelperMessage,maxLength:z.JO,onChange:this.handleChange,onBlur:p,placeholder:l||this.defaultPlaceholder,value:r,viewer:f})}}])&&tt(t.prototype,n),r&&tt(t,r),i}(r.Component);function lt(e){var t=(0,g.ZP)(),n=e.pinDraftId,r=e.pinItemId,i=(0,o.useDispatch)(),a=(0,o.useSelector)((function(e){return e.pinbuilder})),c=a.pinDrafts,s=a.pinItems,l=a.storyPinItems,u=c[n],d=u.type,p=u.mode,f="story"===d,h=f?l[r]:s[r],b=h.description,m=h.descriptionError,y=[],x="";f||(y=s[r].userMentionTags,x=s[r].editorInstanceId);return(0,v.jsx)(st,$e($e({},e),{},{description:b,descriptionError:m,disabled:"create"!==p,editorInstanceId:x,pinType:d,requestContext:(0,ge.B)(),setDescriptionData:function(e){return i((0,$.to)(n,e))},setStoryPinDescription:function(e){return i((0,Ye.kh)(r,e))},setStoryPinDescriptionError:function(e){return i((0,Ye.j8)(r,e))},setUserMentionTags:function(e){return i((0,$.to)(n,e))},userMentionTags:y,validateDescription:function(){return i((0,Xe.ZP)(n,"signal",t,{fieldToCheck:"description"})).catch((function(){}))},viewer:(0,T.Z)(),i18n:t}))}var ut=n(166555),dt=n.n(ut),pt=n(311866),ft=n(724526),ht=n(874048);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(i,e);var t,n,r,o=It(i);function i(){var e;yt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ot(_t(e=o.call.apply(o,[this].concat(n))),"_debouncedCheckLinkIsTaggable",dt()((function(t){var n=e.props,r=n.advertiser,o=n.orbacSubjectId;pt.ZP.create("ApiResource",{url:"/v3/visual_links/can_tag/",data:gt({url:t,is_native:!t,for_advertiser_id:r&&r.owner_user_id},o?{orbac_subject_id:o}:Object.freeze({}))}).callGet({showError:!1}).then((function(t){(0,e.props.setTaggable)(t.resource_response.data)}))}),300)),Ot(_t(e),"handleChange",(function(t){var n=t.value,r=e.props,o=r.setLink,i=r.setLinkError;o(n),i(null),n&&n.match(ft.Z)&&e._debouncedCheckLinkIsTaggable(n)})),Ot(_t(e),"handleFocus",(function(){(0,Te.j)(101,{component:13308,element:11616})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.link,r=e.linkError,o=e.media,i=e.pinDraftId,a=e.requestContext,c=e.validateLink,s=e.viewer,l=e.inCombinedMARPsPinCreationExp,u=s.eligibleForStlTool&&"ad_creation"!==he.Z.scenario()&&new De.v(a,"web_stl_tooling").enabledWithNoActivation(),d={disabled:t,id:"pin-draft-link-".concat(i),errorMessage:r,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:c,placeholder:u?this.props.i18n._("www.website.com","pinbuilder.destinationLink.label","label for destination link input"):this.props.i18n._("Add a destination link","Placeholder text for link on Pin creation","Placeholder text for link on Pin creation"),spellCheck:!1,value:n,wrap:!1},p=he.Z.enabled("pinQuality");return l?(0,v.jsx)(ke.Z,gt(gt({},d),{},{height:u?"sm":void 0,helperMessage:this.props.i18n._("For products, add the URL that links to the specific product’s details","Helper education text for adding product URLs","Helper education text for adding product URLs"),warningMessage:p&&o&&!n?this.props.i18n._("We recommend a destination link","pinbuilder.input.pinDraftLink.warning","Warning message to notify user our recommendation for having a link for pin"):null,viewer:s,hideScrollbars:!0})):(0,v.jsx)(ke.Z,gt(gt({},d),{},{height:u?"sm":void 0,warningMessage:p&&o&&!n?this.props.i18n._("We recommend a destination link","pinbuilder.input.pinDraftLink.warning","Warning message to notify user our recommendation for having a link for pin"):null,viewer:s,showOnBlur:!0,hideScrollbars:!0}))}}])&&vt(t.prototype,n),r&&vt(t,r),i}(r.Component);function St(e){var t=(0,g.ZP)(),n=e.pinDraftId,r=e.pinItemId,i=(0,o.useDispatch)(),a=(0,o.useSelector)((function(e){return e.advertiser})),c=(0,o.useSelector)((function(e){return e.pinbuilder})),s=c.pinDrafts,l=c.pinItems,u=s[n].mode,d=l[r],p=d.link,f=d.linkError,h=d.media,b=(0,T.Z)(),m=(0,V.tc)("web_m10n_business_access_orbac_beta")().anyEnabled,y=(0,W.Z)(),x=m?(0,H.lJ)(b,y):"";return(0,v.jsx)(At,gt(gt({},e),{},{advertiser:a,disabled:"create"!==u||!!h&&"webImage"===h.type,link:p,linkError:f,media:h,requestContext:(0,ge.B)(),setLink:function(e){return i((0,$.to)(n,{link:e}))},setLinkError:function(e){return i((0,ht.lZ)(r,e))},setTaggable:function(e){return i((0,ht.kf)(r,e))},validateLink:function(){return i((0,Xe.ZP)(n,"link",t)).catch((function(){}))},viewer:(0,T.Z)(),i18n:t,orbacSubjectId:x}))}var Pt=n(53153),Et=n(846199),kt=n(926142),Ct=n(878243);var Rt=(0,o.connect)((function(){var e=(0,Ct.jk)(),t=(0,kt.A$)();return function(n,r){var o=(0,Ct.M)(n,r);return{taggedObjectIds:o?t(n,{pinTagId:o}):e(n,r)}}}))((function(e){var t=e.taggedObjectIds,n=(0,g.ZP)();return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.xu,{marginBottom:3,children:(0,v.jsx)(y.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:(0,b.nk)(n.ngettext("{{ numProducts }} product","{{ numProducts }} products",t.length,"Heading for carousel of products you’ve tagged with count","Heading for carousel of products you’ve tagged with count"),{numProducts:t.length})})}),(0,v.jsx)(y.xu,{marginStart:-1,marginEnd:-1,children:(0,v.jsx)(Et.Z,{children:(0,v.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:t.map((function(e){return(0,v.jsx)(Pt.Z,{taggedObjectId:e},e)}))})})})]})})),Bt=n(72984),Dt=n(141178),Tt=n(588310),Jt=n(242029),Vt=n(52620),Mt=n(291126),Ft=function(e){var t=e.children,n=e.description,o=e.error,i=e.id,a=e.label,c=e.required,s=e.onLabelTouch;return(0,v.jsxs)(r.Fragment,{children:[(a||c)&&(0,v.jsx)(y.__,{htmlFor:i,children:(0,v.jsx)(y.xu,{marginBottom:1,children:(0,v.jsxs)(y.xv,{color:o?"red":"darkGray",children:[a,c&&(0,v.jsx)(y.xv,{color:"red",inline:!0,weight:"bold",children:(0,v.jsx)("span",{"aria-hidden":"true",children:"*"})})]})})}),t,(!!o||!!n)&&(0,v.jsx)(y.__,{htmlFor:i,children:(0,v.jsx)(y.xu,{marginTop:1,children:s?(0,v.jsx)(y.iP,{onTap:s,children:(0,v.jsx)(y.xv,{color:o?"red":"darkGray",size:"md",children:o||n})}):(0,v.jsx)(y.xv,{color:o?"red":"darkGray",size:"md",children:o||n})})})]})},Nt=n(485701);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(i,e);var t,n,r,o=Ht(i);function i(){var e;Qt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kt(Xt(e=o.call.apply(o,[this].concat(n))),"setTextFieldInputRef",(function(t){var n=e.props.forwardedRef;n(t||null)})),Kt(Xt(e),"handleBlur",(function(t){var n=t.event,r=e.props.onBlur;r&&r(n)})),Kt(Xt(e),"handleChange",(function(t){var n=t.event,r=e.props.onChange;r&&r(n)})),Kt(Xt(e),"handleFocus",(function(t){var n=t.event,r=e.props.onFocus;r&&r(n)})),Kt(Xt(e),"handleKeyDown",(function(t){var n=t.event,r=e.props.onKeyDown;r&&r(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelIcon,n=e.disabled,r=e.icon,o=e.id,i=e.isRTL,a=void 0!==i&&i,c=e.onClick,s=e.placeholder,l=e.value;return(0,v.jsx)(y.iP,{onTap:c,children:(0,v.jsxs)(y.xu,{alignItems:"center",column:12,flex:"grow",display:"flex",position:"relative",children:[(0,v.jsx)(y.nv,{disabled:n,id:o,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,placeholder:s,ref:this.setTextFieldInputRef,size:"lg",value:l}),(0,v.jsx)(y.xu,{position:"absolute",right:!a,left:a,children:(0,v.jsx)(y.xu,{position:"relative",marginEnd:4,children:(0,v.jsx)(y.JO,{accessibilityLabel:t,color:"darkGray",icon:"clock"===r||"arrow-down"===r?r:"calendar",inline:!0})})})]})})}}])&&Wt(t.prototype,n),r&&Wt(t,r),i}(r.Component),$t=(0,r.forwardRef)((function(e,t){return(0,v.jsx)(zt,Lt(Lt({},e),{},{forwardedRef:t}))}));function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=un(e);if(t){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(i,e);var t,n,r,o=cn(i);function i(){var e;rn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(ln(e=o.call.apply(o,[this].concat(n))),"state",{showFlyout:!1}),dn(ln(e),"setTimeFieldRef",(function(t){e.timeFieldRef=t})),dn(ln(e),"handleChange",(function(t){return function(n){var r=n.event,o=e.props.onChange;e.handleHideFlyout(),o({event:r,value:t})}})),dn(ln(e),"handleShowFlyout",(function(){e.setState({showFlyout:!0})})),dn(ln(e),"handleHideFlyout",(function(){e.setState({showFlyout:!1})})),e}return t=i,(n=[{key:"render",value:function(){for(var e=this,t=this.props,n=t.error,r=t.id,o=t.idealDirection,i=t.interval,a=t.minTime,c=t.maxTime,s=t.placeholder,l=t.value,u=t.disabled,d=void 0!==u&&u,p=this.state.showFlyout,f=[],h=(0,Jt.Z)(c,a)/i,b=0;b<h;b+=1){var m=(0,Tt.Z)(a,b*i);f.push(m)}return(0,v.jsx)(Ft,{error:n,id:r,children:(0,v.jsx)(ge.LC,{children:function(t){return(0,v.jsxs)(y.xu,{position:"relative",children:[(0,v.jsx)($t,{disabled:d,accessibilityLabelIcon:e.props.i18n._("Select a time","timeField.TextFieldWrapper.accessibilityLabel.clockIcon","Accessibility label for a clock icon showing on the time picker field"),id:r,ref:e.setTimeFieldRef,onFocus:e.handleShowFlyout,placeholder:s,isRTL:t.isRTL,value:l?l.toLocaleTimeString([t.locale],{hour:"2-digit",minute:"2-digit"}):void 0,icon:"clock"}),p&&(0,v.jsx)(y.J2,{anchor:e.timeFieldRef,idealDirection:o,onDismiss:e.handleHideFlyout,size:"xs",children:(0,v.jsx)(y.xu,{height:210,width:"100%",overflow:"scroll",children:f.map((function(n){return(0,v.jsx)(y.iP,{onTap:e.handleChange(n),children:(0,v.jsx)(Vt.Z,{text:n.toLocaleTimeString([t.locale],{hour:"2-digit",minute:"2-digit"})})},n.getTime())}))})})]})}})})}}])&&on(t.prototype,n),r&&on(t,r),i}(r.Component);function fn(e){var t=(0,g.ZP)();return(0,v.jsx)(pn,nn(nn({},e),{},{i18n:t}))}function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_n(e);if(t){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}function In(e,t){if(t&&("object"===hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wn(e)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dn(pn,"defaultProps",{interval:30,minTime:(0,Nt.Z)(new Date),maxTime:(0,Mt.Z)(new Date)});var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(i,e);var t,n,r,o=xn(i);function i(){var e;gn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(wn(e=o.call.apply(o,[this].concat(n))),"handleScheduledDateChange",(function(t){var n=e.props,r=n.scheduledTime,o=n.setScheduledDate,i=n.setScheduledDateError,a=n.setScheduledTime,c=n.setScheduledTimeError,s=(t||{}).value;o(s),i(null);var l=new Date;r&&s&&s.toDateString()===l.toDateString()&&(a(null),c(null))})),jn(wn(e),"handleScheduledTimeChange",(function(t){var n=e.props,r=n.setScheduledTime,o=n.setScheduledTimeError;r(t.value),o(null)})),jn(wn(e),"handleSwitchScheduleOption",(function(t){return function(){var n=e.props,r=n.setScheduledDate,o=n.setScheduledDateError,i=n.setPublishOption,a=n.setScheduledTime,c=n.setScheduledTimeError;if(i(t),"publish-immediately"===t)r(null),o(null),a(null),c(null);else{var s=(0,Bt.Z)(new Date,1);r(s);var l=new Date(s);l.setHours(12,0,0,0),a(l)}}})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.inStlToolingExp,n=e.pinDraftId,r=e.publishOption,o=e.scheduledDate,i=e.scheduledDateError,a=e.scheduledTime,c=e.scheduledTimeError,s=new Date,l=(0,Bt.Z)(s,z.TZ);s.getMinutes()>=30?s.setHours(s.getHours()+1,0,0,0):s.setHours(s.getHours(),30,0,0);var u=o&&o.toDateString()===s.toDateString()?s:void 0,d="pin-draft-schedule-publish-immediately-".concat(n),p="pin-draft-schedule-publish-later-".concat(n);return(0,v.jsxs)(y.xu,{children:[(0,v.jsxs)(y.xu,{display:"flex",paddingY:4,justifyContent:t?"between":void 0,children:[(0,v.jsxs)(y.xu,{display:"flex",paddingX:1,children:[(0,v.jsx)(y.EU,{checked:"publish-immediately"===r,id:d,onChange:this.handleSwitchScheduleOption("publish-immediately"),size:"sm",value:"publish-immediately"}),(0,v.jsx)(y.xu,{children:(0,v.jsx)(y.__,{htmlFor:d,children:(0,v.jsx)(y.xu,{paddingX:2,children:(0,v.jsx)(y.xv,{size:"md",children:t?this.props.i18n._("Publish now","pinbuilder.radioButton.publishNow","Radio button label for publishing the pin now"):this.props.i18n._("Publish immediately","Radio button label for publishing the pin immediately","Radio button label for publishing the pin immediately")})})})})]}),(0,v.jsxs)(y.xu,{display:"flex",paddingX:1,children:[(0,v.jsx)(y.EU,{checked:"publish-later"===r,id:p,onChange:this.handleSwitchScheduleOption("publish-later"),size:"sm",value:"publish-later"}),(0,v.jsx)(y.xu,{children:(0,v.jsx)(y.__,{htmlFor:p,children:(0,v.jsx)(y.xu,{paddingX:2,children:(0,v.jsx)(y.xv,{size:"md",children:t?this.props.i18n._("Publish later","pinbuilder.radioButton.publishLater","Radio button label by clicking which user will schedule a date and time to publish later"):this.props.i18n._("Publish at a later date","Radio button label by clicking which user will schedule a date and time to publish the pin later","Radio button label by clicking which user will schedule a date and time to publish the pin later")})})})})]})]}),"publish-later"===r&&(0,v.jsxs)(y.xu,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,children:[(0,v.jsx)(y.xu,{column:6,paddingX:1,children:(0,v.jsx)(Dt.Z,{errorMessage:i&&"string"==typeof i?i:void 0,id:"pin-draft-schedule-date-field-".concat(n),idealDirection:"up",maxDate:l,minDate:s,onChange:this.handleScheduledDateChange,value:o||void 0})}),(0,v.jsx)(y.xu,{column:6,paddingX:1,children:(0,v.jsx)(fn,{error:c,id:"pin-draft-schedule-time-field-".concat(n),idealDirection:"up",minTime:u,onChange:this.handleScheduledTimeChange,placeholder:this.props.i18n._("Time","Placeholder for time field","Placeholder for time field"),value:a})})]})]})}}])&&yn(t.prototype,n),r&&yn(t,r),i}(r.Component);var An=(0,o.connect)((function(e,t){return{publishOption:e.pinbuilder.pinDrafts[t.pinDraftId].publishOption,scheduledDate:e.pinbuilder.pinDrafts[t.pinDraftId].scheduledDate,scheduledDateError:e.pinbuilder.pinDrafts[t.pinDraftId].scheduledDateError,scheduledTime:e.pinbuilder.pinDrafts[t.pinDraftId].scheduledTime,scheduledTimeError:e.pinbuilder.pinDrafts[t.pinDraftId].scheduledTimeError}}),(function(e,t){return{setPublishOption:function(n){return e((0,$.RR)(t.pinDraftId,n))},setScheduledDate:function(n){return e((0,$.I0)(t.pinDraftId,n))},setScheduledDateError:function(n){return e((0,$.Yr)(t.pinDraftId,n))},setScheduledTime:function(n){return e((0,$.$K)(t.pinDraftId,n))},setScheduledTimeError:function(n){return e((0,$.Ve)(t.pinDraftId,n))}}}))((function(e){var t=(0,g.ZP)();return(0,v.jsx)(On,mn(mn({},e),{},{i18n:t}))})),Sn=n(169897),Pn=n(349079);function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=(0,o.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId],r=n.mode,o=n.type,i="story"===o?(0,Pn.lY)(e,t):(0,Ct.Bg)(e,t),a="story"===o?e.pinbuilder.storyPinItems[t.pinItemId]:e.pinbuilder.pinItems[t.pinItemId],c=a.title;return{title:c,titleError:a.titleError,disabled:"create"!==r,showVideoTitleTooltip:!!i&&"localVideo"===i.type&&""===c.trim()}}),(function(e,t){return{setTitleData:function(n){return e((0,$.to)(t.pinDraftId,n))},setStoryPinTitle:function(n){return e((0,Ye.Dt)(t.pinItemId,n))},setStoryPinTitleError:function(n){return e((0,Ye.h4)(t.pinItemId,n))},validateTitle:function(){return e((0,Xe.ZP)(t.pinDraftId,"signal",t.i18n,{fieldToCheck:"title"})).catch((function(){}))}}}))((function(e){var t=e.setTitleData,n=e.setStoryPinTitle,o=e.setStoryPinTitleError,i=e.type,a=e.disabled,c=e.helperMessage,s=e.pinDraftId,l=e.placeholder,u=e.showVideoTitleTooltip,d=e.title,p=e.titleError,f=e.validateTitle,h=(0,g.ZP)(),b=(0,T.Z)(),m=(0,V.tc)("web_stl_tooling"),x=!(!b.isAuth||!b.eligibleForStlTool||"ad_creation"===he.Z.scenario())&&m({dangerouslySkipActivation:!0}).anyEnabled,I=(0,r.useRef)(),w=h._("Your first 40 characters are what usually show up in feeds","pinbuilder.input.pinDraftTitle.helper","Helper education text for title on Pin creation"),_=h._("Add your title","pinbuilder.input.pinDraftTitle.placeholder","Placeholder text for title on Pin creation"),j=h._("Pin title","pinbuilder.input.title.placeholder","Experimental placeholder text for title on Pin creation"),O=he.Z.enabled("pinQuality");return(0,v.jsxs)(y.xu,{ref:I,children:[(0,v.jsx)(ke.Z,{height:x?"sm":void 0,bold:!x||void 0,disabled:a,errorMessage:p,warningMessage:O&&d.length<z.bA?(0,Ee.Z)(h.ngettext("We recommend at least {{ length }} character","We recommend at least {{ length }} characters",z.bA,"pinbuilder.input.pinDraftTitle.warning","Warning message to notify user our recommendation for title length of pin"),{length:z.bA}):null,helperMessage:c||w,id:"pin-draft-title-".concat(s),maxLength:z.Ke,onChange:function(e){var r=e.value.replace(/\n/g," "),a=r.length>z.Ke?(0,Pe.Z)("TITLE_OVER_MAX_CHARACTER_LIMIT",h).message:null;"story"===i?(n(r),o(a)):t({title:r,titleError:a})},onBlur:f,placeholder:l||(x?j:_),size:x?"md":"lg",value:d,viewer:b}),u&&(0,v.jsx)(Sn.Z,{experienceIds:[501050],placementId:1000135,anchor:I.current,idealDirection:"down",flyoutSize:"lg",textOverflow:"normal"})]})}));function Bn(e){var t=(0,g.ZP)();return(0,v.jsx)(Rn,kn(kn({},e),{},{i18n:t}))}var Dn=n(949876);function Tn(){var e=(0,W.Z)(),t=(0,o.useSelector)((function(e){return e.advertiser})),n=(0,T.Z)(),r=(0,q.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:!!e.id&&e.id||!!t&&t.owner_user_id||n.isAuth&&n.id||""}}).data||{},i=r.full_name,a=r.image_medium_url,c=r.follower_count,s=r.verified_identity,l=i||(t?t.name:n.isAuth&&n.fullName)||"",u=a||(t?"":n.isAuth&&n.imageMediumUrl)||"",d=c||0,p=s&&s.verified;return(0,v.jsx)(y.xu,{"data-test-id":"pin-draft-user",children:(0,v.jsx)(Dn.default,{followerCount:d,fullName:l,imageUrl:u,verified:p})})}var Jn=n(229934),Vn=n(811719),Mn=n(602937);var Fn=(0,o.connect)((function(){var e=(0,Ct.jk)(),t=(0,Ct.vd)();return function(n,r){var o=(0,Ct.Bg)(n,r),i=t(n,r),a=n.pinbuilder.pinDrafts[r.pinDraftId].type,c=he.Z.enabled("scheduling"),s=n.pinbuilder.taggedObjects,l=n.pinbuilder.pinTags,u=o&&"localVideo"===o.type&&he.Z.enabled("videoTagging"),d="single"===a&&c&&(!o||0===i.length&&("localImage"===o.type||"localVideo"===o.type));return{pinTagId:n.pinbuilder.pinItems[r.pinItemId].selectedPinTagId||i.length>0?i[0]:null,pinTags:l,pinTagIds:i,showScheduleControl:d,showVideoTagging:u,showCarouselControl:"carousel"===a,showProductCarousel:e(n,r).length>0,unfilteredTaggedObjects:s}}}))((function(e){var t=e.inCombinedMARPsPinCreationExp,n=e.pinDraftId,r=e.pinItemId,o=e.pinTagId,i=e.pinTags,a=e.pinTagIds,c=e.showCarouselControl,s=e.showProductCarousel,l=e.showScheduleControl,u=e.showVideoTagging,d=e.unfilteredTaggedObjects,p=(0,g.ZP)(),f=(0,T.Z)(),h=(0,V.tc)("web_stl_tooling"),b=!(!f.isAuth||!f.eligibleForStlTool||"ad_creation"===he.Z.scenario())&&h({dangerouslySkipActivation:!0}).anyEnabled,m=(0,V.aq)("web_alt_text").anyEnabled,x=p._("Destination link","pinbuilder.destination.link.label","label for destination link input"),I=(0,Vn.Z)({pinTagIds:a,pinTags:i,taggedObjects:d});return(0,v.jsxs)(y.xu,{column:12,height:"100%",display:"flex",direction:"column",children:[(0,v.jsxs)(y.xu,{"data-tutorial-id":"pin-builder-title-and-description",height:b?void 0:"100%",width:"100%",children:[(0,v.jsxs)(y.xu,{column:12,marginTop:8,children:[b&&(0,v.jsx)(y.xu,{marginStart:1,marginBottom:1,children:(0,v.jsx)(y.xv,{size:"sm",color:"darkGray",children:p._("Title","pinbuilder.title.input.label","label for title input")})}),(0,v.jsx)(Bn,{pinDraftId:n,pinItemId:r})]}),!b&&(0,v.jsx)(y.xu,{column:12,marginTop:4,children:(0,v.jsx)(Tn,{})}),b&&(0,v.jsx)(y.xu,{marginStart:1,marginBottom:1,marginTop:6,children:(0,v.jsx)(y.xv,{size:"sm",color:"darkGray",children:p._("Description","pinbuilder.descriptoin.input.label","label for description input")})}),(0,v.jsx)(y.xu,{column:12,marginTop:b?0:6,flex:"grow",display:"flex",children:(0,v.jsx)(lt,{pinDraftId:n,pinItemId:r})}),m&&(0,v.jsx)(Mn.T,{pinDraftId:n})]}),s&&!b&&(0,v.jsx)(y.xu,{column:12,marginTop:6,children:(0,v.jsx)(Rt,{pinItemId:r})}),s&&b&&(0,v.jsx)(Ae.Z,{pinDraftId:n,pinItemId:r,pinTagId:o,taggedObjects:I}),u&&(0,v.jsx)(y.xu,{column:12,marginTop:4,children:(0,v.jsx)(Jn.ZP,{pinDraftId:n})}),(0,v.jsxs)(y.xu,{"data-test-id":"pin-draft-link","data-tutorial-id":"pin-builder-destination-link",column:12,marginTop:b?"auto":4,children:[b&&(0,v.jsx)(y.xu,{marginStart:1,marginBottom:1,children:(0,v.jsx)(y.xv,{size:"sm",color:"darkGray",children:x})}),(0,v.jsx)(St,{inCombinedMARPsPinCreationExp:t,pinDraftId:n,pinItemId:r})]}),c&&(0,v.jsx)(y.xu,{column:12,marginTop:6,children:(0,v.jsx)(Se.Z,{pinDraftId:n})}),l&&(0,v.jsx)(y.xu,{column:12,marginTop:4,children:(0,v.jsx)(An,{inStlToolingExp:b,pinDraftId:n})})]})})),Nn=n(305274),Un=n(314434);var Zn=(0,o.connect)((function(e,t){var n=e.pinbuilder,r=t.pinDraftId,o=n.pinDrafts[r].pinItemIds,i=n.pinItems[o[0]].media;return{height:i?(0,N.Z)(i,z.LM,(0,Un.Sl)(i)&&(0,Un.PG)(i)?0:3):z.sD}}),(function(){return{}}))((function(e){var t=e.height,n=e.pinDraftId,o=e.pinItemId,i=(0,T.Z)(),a=(0,V.aq)("biz_growth_combined_pin_creation_marps",!!i.partner&&Nn.QI.includes(i.partner.account_type)).anyEnabled;return(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(y.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{paddingBottom:z.uR}},children:[(0,v.jsx)(y.xu,{paddingX:5,children:(0,v.jsx)(de.Z,{inCombinedMARPsPinCreationExp:a,height:t,pinDraftId:n,pinItemId:o})}),(0,v.jsx)(y.xu,{flex:"grow",minHeight:Math.max(t,z.sD),paddingX:5,width:"100%",children:(0,v.jsx)(Fn,{inCombinedMARPsPinCreationExp:a,pinDraftId:n,pinItemId:o})})]})})})),Ln=n(977958),Qn=n(310054);var Wn=(0,o.connect)((function(){var e=(0,Qn.nL)();return function(t,n){return{view:(0,Qn.Xe)(t,n),pinItemId:e(t,n)}}}))((function(e){var t=e.pinDraftId,n=e.pinItemId,r=e.view;switch(r){case"upload":return(0,v.jsx)(Zn,{pinDraftId:t,pinItemId:n});case"search":return(0,v.jsx)(Ln.Z,{pinDraftId:t});case"scrape":return(0,v.jsx)(je.Z,{pinDraftId:t});case"board":return(0,v.jsx)(ce,{pinDraftId:t,pinItemId:n});case"tag":case"selectTag":return(0,v.jsx)(Oe.Z,{pinDraftId:t,pinItemId:n,view:r});case"collectionsTag":return(0,v.jsx)(se.Z,{pinDraftId:t,pinItemId:n});case"reorder":return(0,v.jsx)(_e.C,{pinDraftId:t});case"external":return(0,v.jsx)(we,{pinDraftId:t,pinItemId:n});default:return null}})),qn=n(433647),Hn=n(183203),Gn=n(602402);function Xn(e){var t=e.children,n=e.showTooltip,r=(0,g.ZP)();return n?(0,v.jsx)(y.u,{inline:!0,text:r._("Collection product limit reached. To add another item, remove one or more products.","PinDraftFooter.AddRelatedProductsButton.tooltipText",'Tooltip text that appears when user hovers over "Add related products" button and has already added the maximum number of related products allowed'),children:t}):t}function Yn(e){var t,n,i,a=(0,g.ZP)(),c=e.pinDraftId,s=(0,Gn.f)().setCurrentPinDraftId,l=(0,Ct.vd)(),u=(0,o.useSelector)((function(t){return l(t,e)}))||[],d=null!==(t=(0,o.useSelector)((function(e){return e.pinbuilder})))&&void 0!==t?t:{},p=null!==(n=d.pinTags)&&void 0!==n?n:{},f=null!==(i=d.taggedObjects)&&void 0!==i?i:{},h=(0,Vn.n)({pinTagIds:u,pinTags:p,taggedObjects:f}),b=h.length,m=b>6,x=b>0,I=b>=Hn.tN;return(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(y.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",maxWidth:606,width:606,children:[(0,v.jsx)(y.xu,{marginStart:"auto",marginEnd:"auto",marginTop:5,marginBottom:5,"data-test-id":"collections-button",children:(0,v.jsx)(Xn,{showTooltip:I,children:(0,v.jsx)(y.zx,{disabled:I,onClick:function(){return s(c)},text:a._("Make a collection","PinDraftInputView.addCollection","Button text to make a collection Pin")})})}),(0,v.jsxs)(y.xu,{display:"flex",paddingX:6,justifyContent:"center",width:"100%",marginBottom:5,children:[(0,v.jsx)(y.xu,{marginStart:x?"auto":0,children:(0,v.jsx)(y.xv,{size:"sm",children:a._("Add up to 24 products to be displayed below your image","pinbuilder.relatedproducts.max.tagProducts","The maximum number of related products the user can tag")})}),x&&(0,v.jsx)(y.xu,{marginStart:"auto",children:(0,v.jsx)(y.xv,{size:"sm",children:"".concat(b,"/24")})})]}),x&&(0,v.jsx)(Et.Z,{showArrowsOnlyOnHover:!1,alwaysShowArrows:m,variant:"wide",children:(0,v.jsx)(y.xu,{display:"flex",direction:"row",marginBottom:5,width:"100%",justifyContent:m?void 0:"center",children:h.map((function(e,t){var n=e.pinTagId,r=e.status,o=e.taggedObjectId;return(0,v.jsx)(y.xu,{children:(0,v.jsx)(qn.Z,{index:t,isRelatedProducts:!0,pinTagId:n,size:"sm",status:r,taggedObjectId:o},o)},o)}))})})]})})}var Kn=n(997993);function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var er=(0,o.connect)((function(e,t){return{websiteLink:e.pinbuilder.pinDrafts[t.pinDraftId].websiteLink}}),(function(e,t){return{setWebsiteLink:function(n,r){return e((0,$.f9)(t.pinDraftId,n,r))}}}))((function(e){e.pinDraftId;var t,n=e.websiteLink,o=e.setWebsiteLink,i=(0,g.ZP)(),a=zn((0,r.useState)(!1),2),c=a[0],s=a[1],l=zn((0,r.useState)(n),2),u=l[0],d=l[1],p=zn((0,r.useState)(""),2),f=p[0],h=p[1];return(0,v.jsxs)(y.xu,{position:"relative",children:[(0,v.jsx)(y.nv,{id:"scrape-view-website-link",errorMessage:f,placeholder:i._("Enter website","pinBuilder.pinDraftHeaderScrapeView.pinDraftWebsiteLinkButton.placeholder.text","Placeholder text to enter website url"),ref:function(e){(t=e)&&(t.style.height="44px",t.style.borderRadius="24px",t.style.paddingRight="48px",t.style.background=c?"":"#EFEFEF")},size:"lg",type:"url",value:u,onChange:function(e){var t=e.value;d(t)},onFocus:function(){s(!0),t&&(t.style.background="")}}),(0,v.jsx)(y.xu,{position:"absolute",top:!0,right:!0,margin:2,children:(0,v.jsx)(y.hU,{onClick:function(){if(c){var e=u?(0,Kn.FU)([(0,Kn.Jx)({message:(0,Pe.Z)("URL_INVALID",i).message})],u).join(""):"";h(e),u&&!e&&(o(u,e),s(!1),t&&(t.style.background="#EFEFEF"),(0,Te.j)(101,{component:13308,element:10969,url:u}))}else d(""),t&&t.focus()},bgColor:"lightGray",icon:c?"arrow-forward":"cancel",iconColor:"darkGray",accessibilityLabel:i._("Submit","pinBuilder.pinDraftHeaderScrapeView.pinDraftWebsiteLinkButton.submit.text","Submit website button to scrape images"),size:"sm"})})]})})),tr=n(549156);function nr(e){var t=e.pinDraftId,n=(0,g.ZP)(),r=(0,ge.B)(),i=(0,o.useDispatch)(),a=function(){i((0,$.hb)(t)),i((0,$.f9)(t,"")),i((0,$.c8)(t,"upload"))},c=0===(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[t].websiteMedia})).length,s=Boolean(r.isRTL);return he.Z.enabled("multi_pin")||he.Z.enabled("multi_pin_pinner")||he.Z.enabled("offsite_pin_creation_multi_select")?(0,v.jsxs)(y.xu,{paddingX:2,display:"flex",direction:"column",alignItems:"center",children:[(0,v.jsx)(y.xu,{position:"absolute",top:!0,left:!s,right:s,marginTop:8,marginStart:8,"data-test-id":"scrape-view-cancel-button",children:(0,v.jsx)(y.hU,{onClick:a,size:"lg",icon:"directional-arrow-left",accessibilityLabel:n._("Cancel","pinBuilder.pinDraftHeaderScrapeView.cancel.text","Cancel selection of images from web on Pin create")})}),(0,v.jsx)(y.X6,{size:"sm",children:n._("Save ideas from website","pinBuilder.pinDraftHeaderScrapeView.multiselect.header.text","Directions to select scraped image on Pin creation")}),(0,v.jsx)(y.xu,{marginTop:1,children:(0,v.jsx)(y.xv,{size:"md",children:n._("Select up to ten images","pinBuilder.pinDraftHeaderScrapeView.multiselect.subheader.text","Limit the number of scraped images that can be selected")})}),(0,v.jsx)(y.xu,{marginTop:6,paddingX:8,width:"90%",children:(0,v.jsx)(er,{pinDraftId:t})})]}):(0,v.jsxs)(y.kC,{alignItems:"center",justifyContent:"between",children:[(0,v.jsx)(y.X6,{size:"sm",children:n._("Upload from the web","pinBuilder.pinDraftHeaderScrapeView.header.text","Directions to select scraped image on Pin creation")}),(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,v.jsx)(y.xu,{paddingX:5,"data-test-id":"scrape-view-cancel-button",children:(0,v.jsx)(y.zx,{onClick:a,text:n._("Cancel","pinBuilder.pinDraftHeaderScrapeView.cancel.text","Cancel selection of images from web on Pin create")})}),(0,v.jsx)(tr.Z,{id:"scrape-view-add-button",children:(0,v.jsx)(y.zx,{color:"red",disabled:c,onClick:function(){(0,Te.j)(101,{component:13308,element:10970}),i((0,$.q0)(t))},text:n._("Add to Pin","pinBuilder.pinDraftHeaderScrapeView.addToPin.text","Add selected image from web to Pin create")})})]})]})}var rr=n(16341),or=n(640012),ir=n(232392),ar=n(836466);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mr(e);if(t){var o=mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hr(this,n)}}function hr(e,t){if(t&&("object"===cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(i,e);var t,n,r,o=fr(i);function i(){var e;ur(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gr(br(e=o.call.apply(o,[this].concat(n))),"handleSaveClick",(function(){var t=e.props,n=t.savePinDraft,r=t.viewerId,o=t.orbacActingAs;(0,Te.j)(101,{component:13308,element:10973}),n(o.id&&o.id!==r?o.id:void 0)})),gr(br(e),"handleItemChosen",(function(t){var n=e.props,r=n.selectItem,o=n.isPartner;(0,Te.j)(101,{component:13308,element:10965}),p.Z.increment("pin_builder.board_picker.board_selected",1,{source:(0,ir.Z)(o)}),r(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.altTextError,r=t.boardError,o=t.hasErrors,i=t.isPartner,a=t.pinDraftId,c=t.selectedItem,s=function(t){return(0,v.jsx)(or.Z,{buttonText:i?e.props.i18n._("Publish","pinbuilder.pindraft.upload.dropdown.button.partner","Button text to create new Pin for Partners"):e.props.i18n._("Save","pinbuilder.pindraft.upload.dropdown.button.pinner","Button text to create new Pin for Pinners"),accessibilityLabelText:i?e.props.i18n._("Publish","pinbuilder.pindraft.upload.dropdown.button.accessibilityLabel.partner","Accessibility label text to create new Pin for Partners"):e.props.i18n._("Save","pinbuilder.pindraft.upload.dropdown.button.accessibilityLabel.pinner","Accessibility label text to create new Pin for Pinners"),hasError:!!r,disabled:t,onItemChosen:e.handleItemChosen,onSaveClick:e.handleSaveClick,placeholder:e.props.i18n._("Select","pinbuilder.pindraft.upload.dropdown.placeholder","Placeholder text for board dropdown to select board"),selectedItem:c})},l=he.Z.enabled("pinQuality");return(0,v.jsxs)(y.kC,{alignItems:"center",justifyContent:"between",children:[(0,v.jsx)(y.kC,{alignItems:"center",justifyContent:"start",children:(he.Z.enabled("multi_pin")||he.Z.enabled("multi_pin_pinner")||he.Z.enabled("offsite_pin_creation_multi_select"))&&(0,v.jsx)(ar.Z,{pinDraftId:a})}),(0,v.jsx)(y.xu,{"data-tutorial-id":"pin-builder-publish-to-board",alignItems:"center",display:"flex",minHeight:40,children:(0,v.jsxs)(y.xu,{position:"relative",width:236,children:[l&&o||n?(0,v.jsx)(y.u,{text:this.props.i18n._("You must fix the highlighted issues before publishing the pin.","pinbuilder.pindraft.upload.dropdown.tooltip","Tooltip text for disabled board dropdown and save button due to errors in pin draft"),children:s(!0)}):s(!1),!!r&&(0,v.jsx)(y.xu,{left:!0,marginTop:1,position:"absolute",right:!0,children:(0,v.jsx)(y.xv,{color:"red",size:"sm",children:r})})]})})]})}}])&&dr(t.prototype,n),r&&dr(t,r),i}(r.PureComponent);function vr(e){var t=(0,g.ZP)(),n=e.pinDraftId,i=e.pinItemId,a=(0,T.Z)(),c=a.isAuth?a.id:"",s=a.isAuth?a.country:"",l=a.isAuth&&a.isPartner,u=(0,o.useDispatch)(),d=(0,W.Z)(),p=d.user?d.user.username:void 0,f=(0,r.useCallback)((function(e){return u((0,$.Nv)(n,e))}),[u,n]),h=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].altTextError})),b=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].boardError})),m=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].selectedItem})),y=null==m?void 0:m.ownerUsername,x=(0,o.useSelector)((function(e){var t=e.pinbuilder,r=t.pinDrafts,o=t.pinItems,a=r[n],c=a.mediaError,s=a.scheduledDateError,l=a.scheduledTimeError,u=o[i];return[c,s,l,u.titleError,u.descriptionError,u.linkError].some((function(e){return!!e}))}));return(0,r.useEffect)((function(){p&&y&&p!==y&&pt.ZP.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0,username:p}).callGet({showError:!1}).then((function(e){var t,n,r,o=null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.all_boards;o&&o.length>0&&f({boardId:o[0].id,url:o[0].url,title:o[0].name||"",imageCoverUrl:o[0].image_cover_url,ownerUsername:null===(r=o[0].owner)||void 0===r?void 0:r.username})}))}),[f,p,y]),(0,v.jsx)(yr,lr(lr({},e),{},{altTextError:h,boardError:b,hasErrors:x,isPartner:a.isAuth&&a.isPartner,orbacActingAs:d,savePinDraft:function(e){return u((0,$.Ju)(n,void 0,c,e,s,l,t))},selectItem:f,selectedItem:m,viewerId:a.isAuth?a.id:"",i18n:t}))}var xr=(0,o.connect)((function(){var e=(0,Qn.nL)();return function(t,n){return{view:(0,Qn.Xe)(t,n),pinItemId:e(t,n)}}}))((function(e){var t=e.pinDraftId,n=e.pinItemId;switch(e.view){case"upload":return(0,v.jsx)(y.xu,{marginBottom:5,children:(0,v.jsx)(vr,{pinDraftId:t,pinItemId:n})});case"scrape":return he.Z.enabled("pinbuilder_v2_tabs")||he.Z.enabled("pinbuilder_v2_full")?null:(0,v.jsx)(y.xu,{marginBottom:5,children:(0,v.jsx)(nr,{pinDraftId:t})});case"tag":case"selectTag":case"collectionsTag":return(0,v.jsx)(y.xu,{marginBottom:5,children:(0,v.jsx)(rr.Z,{pinDraftId:t,pinItemId:n})});default:return null}}));function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pr(e);if(t){var o=Pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ar(this,n)}}function Ar(e,t){if(t&&("object"===Ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(i,e);var t,n,r,o=Or(i);function i(){var e;wr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Er(Sr(e=o.call.apply(o,[this].concat(n))),"handleActionClick",(function(e){return function(t){var n=e.elementType,r=e.onClick;n&&(0,Te.j)(101,{component:13308,element:n}),r&&r(t)}})),e}return t=i,(n=[{key:"render",value:function(){var e,t,n=this.props,r=n.primary,o=n.secondary,i=null!==(e=r.linkUrl)&&void 0!==e?e:null,a=null!==(t=null==o?void 0:o.linkUrl)&&void 0!==t?t:null;return(0,v.jsxs)(y.xu,{display:"flex",marginStart:-1,marginEnd:-1,children:[!!o&&(0,v.jsx)(y.xu,{paddingX:1,children:a?(0,v.jsx)(y.zx,{role:"link",color:"white",text:o.text,onClick:this.handleActionClick(o),href:a,target:"blank"}):(0,v.jsx)(y.zx,{color:"white",text:o.text,onClick:this.handleActionClick(o)})}),(0,v.jsx)(y.xu,{paddingX:1,children:i?(0,v.jsx)(y.zx,{role:"link",text:r.text,onClick:this.handleActionClick(r),href:i,target:"blank"}):(0,v.jsx)(y.zx,{text:r.text,onClick:this.handleActionClick(r)})})]})}}])&&_r(t.prototype,n),r&&_r(t,r),i}(r.Component);function Cr(e){var t=e.onClear,n=(0,g.ZP)()._("Clear","Tooltip shown explaining button to clear published Pin","Tooltip shown explaining button to clear published Pin");return(0,v.jsx)(y.u,{text:n,children:(0,v.jsx)(y.iP,{fullWidth:!1,onTap:t,rounding:"circle",children:(0,v.jsx)(y.JO,{accessibilityLabel:n,color:"darkGray",icon:"clear",size:20})})})}var Rr={__style:{borderRadius:2}};function Br(e){var t=e.subtitle,n=e.title,r=(0,g.ZP)();return(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,v.jsx)(y.X6,{color:n?"darkGray":"gray",size:"sm",children:n||r._("No title","Fallback title shown if none is provided on Pin create","Fallback title shown if none is provided on Pin create")}),!!t&&(0,v.jsx)(y.xu,{marginTop:1,children:"progress"===t.type?(0,v.jsx)(y.xu,{color:"lightGray",dangerouslySetInlineStyle:Rr,height:6,overflow:"hidden",position:"relative",width:316,children:(0,v.jsx)(y.xu,{bottom:!0,left:!0,top:!0,color:"red",dangerouslySetInlineStyle:Rr,position:"absolute",width:"".concat(t.progress,"%")})}):(0,v.jsx)(y.xv,{size:"sm",children:t.text})})]})}function Dr(e){var t=e.color,n=e.text;return(0,v.jsx)(y.xv,{color:t,italic:!0,children:n})}function Tr(e){var t=e.status,n=(0,g.ZP)();switch(t){case"default":return(0,v.jsx)(y.xu,{width:20,height:20,color:"gray",rounding:"circle"});default:var r={error:{accessibilityLabel:n._("Error","Screen reader label for failed Pin create","Screen reader label for failed Pin create"),color:"red",icon:"alert"},warning:{accessibilityLabel:n._("Alert","Screen reader label for Pin create with message","Screen reader label for Pin create with message"),color:"orange",icon:"check-circle"},success:{accessibilityLabel:n._("Success","Screen reader label for success Pin create","Screen reader label for success Pin create"),color:"green",icon:"check-circle"}}[t],o=r.accessibilityLabel,i=r.color,a=r.icon;return(0,v.jsx)(y.JO,{accessibilityLabel:o,color:i,icon:a,size:20})}}var Jr=n(156799);function Vr(e){var t=e.pinDraftId;return(0,v.jsx)(y.xu,{height:64,width:64,rounding:2,children:(0,v.jsx)(Jr.Z,{pinDraftId:t,type:"square"})})}var Mr=n(234756),Fr=n(59737),Nr=n(658726);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){Yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gr(e)}function Gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(i,e);var t,n,r,o=qr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Yr(Gr(t=o.call(this,e)),"_timeSuccessUpdated",new Date),Yr(Gr(t),"handleMouseEnter",(function(){t.setState({hovered:!0})})),Yr(Gr(t),"handleMouseLeave",(function(){t.setState({hovered:!1})})),Yr(Gr(t),"getSubtitleText",(function(){var e=t.props,n=e.videoErrorMsg,r=e.pin,o=e.scheduledPin;if(o)return(0,b.nk)(t.props.i18n._("Scheduled {{ elapsedTime }}","Text shown notifying user how long ago a Pin was schedule","Text shown notifying user how long ago a Pin was schedule"),{elapsedTime:t.props.getHumanizedTimeSince(o.created_at,!0)}).join("");if(r){var i=t.props.getHumanizedTimeSince(r.created_at,!0);return 3===r.video_status?(0,b.nk)(t.props.i18n._("Uploaded {{ elapsedTime }}","Text shown notifying user how long ago a video Pin was uploaded","Text shown notifying user how long ago a video Pin was uploaded"),{elapsedTime:i}).join(""):(0,b.nk)(t.props.i18n._("Published {{ elapsedTime }}","Text shown notifying user how long ago a Pin was created","Text shown notifying user how long ago a Pin was created"),{elapsedTime:i}).join("")}return n?(0,b.nk)(t.props.i18n._("Attempted {{ elapsedTime }}","Text shown notifying user how long ago a video Pin upload was attempted","Text shown notifying user how long ago a video Pin upload was attempted"),{elapsedTime:t.props.getHumanizedTimeSince(t._timeSuccessUpdated.toString(),!0)}).join(""):void 0})),Yr(Gr(t),"getSubtitle",(function(){var e=t.props.videoUploadProgress,n=t.state.subtitleText;return null!=e?{progress:e,type:"progress"}:n?{text:n,type:"text"}:void 0})),Yr(Gr(t),"getText",(function(){var e=t.props,n=e.pin,r=e.requestContext,o=e.scheduledPin;return null!=e.videoUploadProgress?t.props.i18n._("Uploading","Text shown notifying user video is still uploading","Text shown notifying user video is still uploading"):n&&3===n.video_status?t.props.i18n._("In review","Text shown notifying user video is uploaded but not live","Text shown notifying user video is uploaded but not live"):o?(0,Ee.Z)(t.props.i18n._("This Pin will publish on {{ scheduledDate }}","Text shown notifying user when Pin is scheduled to create","Text shown notifying user when Pin is scheduled to create"),{scheduledDate:new Date(1e3*o.scheduled_ts).toLocaleDateString(r.locale,{weekday:"long",month:"numeric",day:"numeric"})}):void 0})),Yr(Gr(t),"getActions",(function(){var e=t.props,n=e.pin,r=e.retryUpload,o=e.siteType,i=e.videoErrorMsg,a={elementType:11334,text:t.props.i18n._("See it","Button to see created Pin","Button to see created Pin"),linkUrl:(0,s.Z)({currentSiteType:o,destinationSiteType:0,inputPath:n?"/pin/".concat(n.id):""})},c=n&&n.is_quick_promotable?{elementType:11335,text:t.props.i18n._("Promote","Button to quick promote created Pin","Button to quick promote created Pin"),linkUrl:(0,s.Z)({currentSiteType:o,destinationSiteType:0,inputPath:"/pin/".concat(n.id,"/promote")})}:void 0,l=i?{elementType:11333,text:t.props.i18n._("Try again?","Button to try video upload again","Button to try video upload again"),onClick:r}:null;return{primary:l||c||a,secondary:!l&&c?a:void 0}})),Yr(Gr(t),"getStatus",(function(){var e=t.props,n=e.pin,r=e.scheduledPin,o=e.videoErrorMsg;return null!=e.videoUploadProgress?"default":r||n&&3===n.video_status?"warning":o?"error":"success"})),t.state={hovered:!1,subtitleText:t.getSubtitleText()},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({subtitleText:e.getSubtitleText()})}),6e4)}},{key:"componentDidUpdate",value:function(e){e.pin===this.props.pin&&e.videoErrorMsg===this.props.videoErrorMsg||(this._timeSuccessUpdated=new Date,this.setState({subtitleText:this.getSubtitleText()}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.clearPinDraft,n=e.pinDraftId,r=e.title,o=e.videoErrorMsg,i=e.videoUploadProgress,a=this.state.hovered,c=this.getText(),s=o||c;return(0,v.jsxs)(y.xu,{alignItems:"center","data-test-id":"pin-draft-success",display:"flex",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,paddingX:2,paddingY:5,children:[(0,v.jsx)(y.xu,{flex:"none",paddingX:3,children:(0,v.jsx)(Vr,{pinDraftId:n})}),(0,v.jsx)(y.xu,{flex:"grow",paddingX:3,children:(0,v.jsx)(Br,{subtitle:this.getSubtitle(),title:r})}),(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",flex:"none",marginEnd:-3,marginStart:-3,paddingX:2,children:[!!s&&(0,v.jsx)(y.xu,{paddingX:3,children:(0,v.jsx)(Dr,{color:o?"red":"gray",text:s})}),!c&&(0,v.jsx)(y.xu,{paddingX:3,children:(0,v.jsx)(kr,Lr({},this.getActions()))})]}),(0,v.jsx)(y.xu,{flex:"none",paddingX:3,children:a&&null==i?(0,v.jsx)(Cr,{onClear:t}):(0,v.jsx)(Tr,{status:this.getStatus()})})]})}}])&&Qr(t.prototype,n),r&&Qr(t,r),i}(r.Component);var zr=(0,o.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId],r=n.mediaError,o=n.pinId,i=n.pinItemIds,a=n.pinItemIndex,c=n.scheduledPin,s=n.status,l=i[a],u=e.pinbuilder.pinItems[l],d=u.title,p=u.media;return{scheduledPin:c,title:d,pin:o?e.pins[o]:null,videoErrorMsg:p&&"localVideo"===p.type?r:null,videoUploadProgress:p&&"localVideo"===p.type&&"uploading"===s?p.uploadProgress||0:null}}),(function(){return{}}))((function(e){var t=(0,g.ZP)(),n=(0,Nr.Z)(),r=(0,o.useDispatch)(),i=(0,T.Z)(),a=i.isAuth?i.id:"",c=i.isAuth?i.country:"",s=(0,Fr.u7)().site_type;return(0,v.jsx)(Kr,Lr(Lr({},e),{},{requestContext:(0,ge.B)(),clearPinDraft:function(){return r((0,L.Z)(e.pinDraftId))},retryUpload:function(){return r((0,Mr.dG)(e.pinDraftId,e.pinItemId,a,c,t))},getHumanizedTimeSince:n,i18n:t,siteType:s}))})),$r=n(921274);function eo(e){var t=e.onDismiss,n=e.scheduledPin,r=(0,g.ZP)(),o=(0,T.Z)(),i=(0,X.k6)(),a=(0,ge.B)(),c=(0,W.Z)(),s=n.image,u=n.localMedia,d=n.scheduled_ts,p=n.title,f=new Date(1e3*d),h=s&&s["236x"];return(0,v.jsx)(l.Z,{accessibilityModalLabel:r._("Your scheduled pin.","Label for a modal showing the pin the user just scheduled.","Label for a modal showing the pin the user just scheduled."),onDismiss:t,heading:r._("Pin Scheduled","Header of modal for scheduling a pin successfully","Header of modal for scheduling a pin successfully"),size:"md",footer:(0,v.jsx)(y.kC,{alignItems:"stretch",justifyContent:"end",children:(0,v.jsx)(y.xu,{paddingX:1,children:(0,v.jsx)(y.zx,{color:"red",text:r._("See Scheduled Pins","pinBuilder.seeScheduledPin.buttonTitle","Button label for navigating to the scheduled pins"),onClick:function(){if(t(),o.isAuth){var e=(0,H.Ms)(o,c);i.push("/".concat(e,"/scheduled-pins/"))}}})})}),children:(0,v.jsxs)(y.xu,{padding:8,children:[(0,v.jsx)(y.xv,{children:(0,b.nk)(r._("Scheduled to publish on {{ scheduledDate }} at {{ scheduledTime }}."," - "," -- "),{scheduledDate:(0,v.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,v.jsx)($r.Z,{value:f,dateFormatType:$r.k.SHORT_WEEKDAY_DATE,useUTC:!1})},"scheduledPinDate"),scheduledTime:(0,v.jsx)(y.xv,{inline:!0,weight:"bold",children:f.toLocaleTimeString(a.locale,{hour:"2-digit",minute:"2-digit"})},"scheduledPinTime")})}),(0,v.jsx)(y.xu,{paddingX:12,paddingY:4,children:h&&(0,v.jsx)(y.Ee,{alt:p||"",color:"lightGray",naturalHeight:h.height,naturalWidth:h.width,src:u})})]})})}var to=n(520108),no=n(649170);function ro(){var e=(0,g.ZP)();return(0,v.jsx)(y.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:12,width:"100%",children:(0,v.jsx)(y.$j,{accessibilityLabel:e._("Search results are loading","StlTaggingSheet.searchLoadingSpinner.accessibilityLabel","Accessibility label for spinner shown when search results are loading"),show:!0})})}var oo=n(302199);function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e){var t=e.image,n=e.link,r=e.onClick,o=e.productDetails,i=e.selected,a=(0,oo.Z)(),c=(0,ge.B)().locale,s=t.height,l=t.width,u=t.url,d=o||{},p=d.name,f=(d.offers||[])[0]||{},h=f.price_value,b=f.price_currency;return(0,v.jsxs)(y.xu,{"data-test-id":"stl-scraped-item",children:[(0,v.jsx)(y.iP,{fullWidth:!1,onTap:function(){return r(function(e){var t,n,r,o=e.image,i=e.link;return ao(ao({},o),{},{id:null!==(t=o.url)&&void 0!==t?t:"",link:i,sourceURL:null!==(n=o.url)&&void 0!==n?n:"",src:null!==(r=o.url)&&void 0!==r?r:"",type:"webImage"})}({image:t,link:n}))},rounding:Hn.i9,children:(0,v.jsx)(y.zd,{rounding:Hn.i9,wash:!0,children:(0,v.jsx)(y.Ee,{alt:null!=u?u:"",naturalHeight:null!=s?s:1,naturalWidth:null!=l?l:1,src:null!=u?u:"",children:(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:i?{border:"solid red",borderRadius:4*Hn.i9}:{}},height:"100%",width:"100%"})})})}),h||p?(0,v.jsxs)(y.xu,{marginTop:2,children:[!!h&&h>0&&(0,v.jsx)(y.xu,{display:"flex",marginBottom:p?1:void 0,children:(0,v.jsx)(y.xv,{size:"md",weight:"bold",children:a(c,h,{currency:b,maximumFractionDigits:0,style:"currency"})})}),p&&(0,v.jsx)(y.xu,{width:"100%",children:(0,v.jsx)(y.xv,{overflow:"breakWord",size:"md",weight:"bold",children:p})})]}):null]})}function lo(e){var t=e.images,n=e.link,r=e.onItemClick,o=e.productDetails,i=e.selectedAssetIds;return(0,v.jsx)(y.xu,{marginTop:4,children:(0,v.jsx)(y.Rk,{columnWidth:Hn.Py,comp:function(e){var t=e.data;return(0,v.jsx)(so,{image:t,link:n,onClick:r,productDetails:o,selected:i.includes(t.url)})},gutterWidth:Hn.op,items:t})})}var uo=n(889164);function po(e){var t,n=e.onClick,r=e.pin,o=e.selected,i=(0,uo.mt)(r),a=(0,uo.BE)(r),c=r.description,s=r.images,l=(null==s?void 0:s["474x"])||(null==s?void 0:s["236x"])||{},u=l.height,d=l.width,p=l.url;return(0,v.jsxs)(y.xu,{direction:"column",display:"flex","data-test-id":"stl-tagging-pin-rep",children:[(0,v.jsx)(y.iP,{fullWidth:!1,onTap:function(){return n(r)},rounding:Hn.i9,children:(0,v.jsx)(y.zd,{rounding:Hn.i9,wash:!0,children:(0,v.jsx)(y.Ee,{alt:null!==(t=null!=a?a:c)&&void 0!==t?t:"",naturalHeight:null!=u?u:1,naturalWidth:null!=d?d:1,src:null!=p?p:"",children:(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:o?{border:"solid red",borderRadius:4*Hn.i9}:{}},height:"100%",width:"100%"})})})}),i||a?(0,v.jsxs)(y.xu,{marginTop:2,children:[i&&(0,v.jsx)(y.xu,{display:"flex",marginBottom:a?1:void 0,children:(0,v.jsx)(y.xv,{size:"md",weight:"bold",children:i})}),a&&(0,v.jsx)(y.xu,{width:"100%",children:(0,v.jsx)(y.xv,{overflow:"breakWord",size:"md",weight:"bold",children:a})})]}):null]})}function fo(e){var t=e.onItemClick,n=e.results,r=e.selectedAssetIds;return(0,v.jsx)(y.xu,{marginTop:2,children:(0,v.jsx)(y.Rk,{columnWidth:Hn.Py,comp:function(e){var n=e.data;return(0,v.jsx)(po,{onClick:t,pin:n,selected:r.includes(n.id)})},gutterWidth:Hn.op,items:n})})}function ho(e){var t=e.children,n=e.isGray;return(0,v.jsx)(y.xv,{color:n?"gray":void 0,inline:!0,children:(0,v.jsx)("span",{style:{fontSize:"20px",fontWeight:700},children:t})})}function bo(e){var t=e.hasResults,n=e.query,o=e.searchFieldType,i=(0,g.ZP)();if((0,r.useEffect)((function(){t&&(0,Te.j)(60,{component:13762,view:212,has_search_results:!!t})}),[t]),!n)return(0,v.jsx)(ho,{isGray:!0,children:i._("Choose image to create a new Pin","StlTaggingSearchResults","Title for grid showing images scraped from URL that user can choose to create a new Pin while tagging products for an existing Pin")});var a=t?i._("Results for {{ searchQuery }}","StlTaggingSearchResults.query.results","Text for display of search results for given query"):i._("No results found for {{ searchQuery }}","StlTaggingSearchResults.query.noResults","Text for display of no search results for given query");return"catalogId"===o&&(a=t?i._("Catalog match for {{ searchQuery }}","StlTaggingSearchResults.query.catalogId.results","Text for display of search results for given query"):i._("No catalog matches for {{ searchQuery }}","StlTaggingSearchResults.query.noResults","Text for display of no search results for given query")),(0,v.jsx)(ho,{isGray:!0,children:(0,b.nk)(a,{searchQuery:(0,v.jsx)(ho,{children:'"'.concat(n,'"')},n)})})}function mo(e){var t,n,r,o,i,a,c,s,l=e.item,u=e.onRemoveClick,d=(0,g.ZP)();if("pin"===l.type){var p,f,h,b,m=null!==(p=null!==(f=null===(h=l.images)||void 0===h?void 0:h["474x"])&&void 0!==f?f:null===(b=l.images)||void 0===b?void 0:b["236x"])&&void 0!==p?p:{};a=m.height,c=m.width,s=m.url;var x=(0,uo.BE)(l);i=null!=x?x:l.description}else i=l.url,a=l.height,c=l.width,s=l.url;return(0,v.jsxs)(y.xu,{position:"relative",children:[(0,v.jsx)(y.zd,{rounding:2,wash:!0,children:(0,v.jsx)(y.xu,{height:48,id:i,width:48,children:(0,v.jsx)(y.Ee,{alt:null!==(t=i)&&void 0!==t?t:"",naturalHeight:null!==(n=a)&&void 0!==n?n:1,naturalWidth:null!==(r=c)&&void 0!==r?r:1,src:null!==(o=s)&&void 0!==o?o:"",fit:"cover"})})}),(0,v.jsx)(y.xu,{position:"absolute",top:!0,right:!0,marginTop:-2,marginEnd:-2,children:(0,v.jsx)(y.hU,{accessibilityLabel:d._("Remove","StlTaggingCarouselRep.removeButton.accessibilityLabel","Accessibility label for button to remove the tagged object from the Pin"),bgColor:"gray",icon:"cancel",onClick:function(){return u(l)},size:"xs"})})]})}function go(e){var t=e.onDismissStart,n=e.onRemove,r=e.onSubmit,o=e.selectedResults,i=(0,g.ZP)(),a=o.length;return(0,v.jsxs)(y.xu,{direction:"column",display:"flex",marginTop:-8,children:[a>0&&(0,v.jsx)(Et.Z,{children:(0,v.jsx)(y.xu,{display:"flex",paddingY:4,alignItems:"end",children:o.map((function(e,t){return(0,v.jsx)(y.xu,{marginStart:0===t?void 0:2,children:(0,v.jsx)(mo,{item:e,onRemoveClick:n})},e.id)}))})}),(0,v.jsxs)(y.xu,{display:"flex",justifyContent:"end",marginTop:8,children:[(0,v.jsx)(y.zx,{onClick:t,text:i._("Cancel","StlTaggingSheetFooter.cancel","Button text to cancel adding product tags to a Pin")}),(0,v.jsx)(y.xu,{marginStart:2,"data-test-id":"add-products-button",children:(0,v.jsx)(y.zx,{color:"red",disabled:0===a,onClick:function(){r(),t()},text:0===a?i._("Add products","StlTaggingSheetFooter.addProducts","Button text to add product tags to a Pin"):(0,b.nk)(i.ngettext("Add {{ tagQuantity }} product","Add {{ tagQuantity }} products",a,"Button text to add product tags to a Pin","Button text to add product tags to a Pin"),{tagQuantity:a}).join("")})})]})]})}var yo=n(406397),vo=n(180317),xo=n(159617),Io=n(981444);function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e){var t=e.onClear,n=e.onLinkClick,o=e.onSubmit,i=e.showCatalogLink,a=e.type,c=(0,g.ZP)(),s=wo((0,r.useState)(""),2),l=s[0],u=s[1],d={titleUrl:{target:"catalogId",text:c._("Find a product by catalog ID instead","StlTaggingSearchField.link.titleUrl","Text on link to search for a product by catalog ID")},catalogId:{target:"titleUrl",text:c._("Find a product by Pin title or URL instead","StlTaggingSearchField.link.catalogId","Text on link to search for a product by Pin title or URL")}},p={titleUrl:c._("Search by product title or enter URL","StlTaggingSearchField.placeholder.titleUrl","Placeholder text on input to search for a product by product title or URL"),catalogId:c._("Enter catalog ID","StlTaggingSearchField.placeholder.catalogId","Placeholder text on input to search for a product by catalog ID")};return(0,v.jsxs)(y.xu,{color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},direction:"column",display:"flex",children:[(0,v.jsx)("form",{onSubmit:function(e){e.preventDefault(),o(l)},role:"search",children:(0,v.jsx)(y.Um,{accessibilityLabel:p[a],autoComplete:"off",id:"STLTaggingSearchField",onChange:function(e){var n=e.value;u(n),""===n&&t()},onFocus:function(){(0,Te.j)(101,{component:13762,element:227,view:212})},placeholder:p[a],size:"lg",value:l})}),i&&(0,v.jsx)(y.xu,{display:"flex",justifyContent:"center",marginTop:2,children:(0,v.jsx)(y.iP,{fullWidth:!1,onTap:function(){return n(d[a].target)},children:(0,v.jsx)(y.xv,{align:"center",color:"blue",inline:!0,size:"md",children:(0,v.jsx)("span",{style:{textDecoration:"underline"},children:d[a].text})})})})]})}var Oo=n(297189);function Ao(e){return function(e){if(Array.isArray(e))return Bo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ro(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function Po(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){So(i,r,o,a,c,"next",e)}function c(e){So(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||Ro(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){if(e){if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(e,t):void 0}}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Do=new y.Ry(xo.fe);var To=function(e){var t,n,i,a=(0,g.ZP)(),c=(0,Gn.f)(),s=c.setCurrentPinDraftId,l=c.setStlTaggedCoord,u=c.setMostRecentTaggedObjectId,d=c.shopTheLook;(0,yo.Z)(1000335);var p=e.pinItemId,f=Co((0,r.useState)("titleUrl"),2),h=f[0],b=f[1],m=Co((0,r.useState)([]),2),x=m[0],I=m[1],w=Co((0,r.useState)(null),2),_=w[0],j=w[1],O=Co((0,r.useState)(!1),2),A=O[0],S=O[1],P=Co((0,r.useState)(null),2),E=P[0],k=P[1],C=Co((0,r.useState)(null),2),R=C[0],B=C[1],D=Co((0,r.useState)(),2),J=D[0],M=D[1],F=Co((0,r.useState)(null),2),N=F[0],U=F[1],Z=(0,o.useDispatch)(),L=(0,ge.B)(),Q=(0,T.Z)(),W=null===(t=L.advertiser)||void 0===t?void 0:t.merchant_id,q=x.map((function(e){return e.id})),H=d.stlTaggedCoords,G=!Boolean(H),X=(0,Ct.vd)(),Y=null!==(n=(0,o.useSelector)((function(t){return X(t,e)})))&&void 0!==n?n:[],K=null!==(i=(0,o.useSelector)((function(e){return e.pinbuilder})))&&void 0!==i?i:{},z=K.closeupImageSignature,$=K.pinTags,ee=K.taggedObjects,te=(0,Vn.n)({pinTagIds:Y,pinTags:$,taggedObjects:ee}),ne=Hn.tN-te.length,re=q.length>=ne,oe=function(){k(null),j(null),B(null)},ie=function(){s(null),l(null)},ae=(0,V.aq)("pin_builder_multi_feed_endpoint_decider").anyEnabled;(0,r.useEffect)((function(){(0,Te.j)(13,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({component:13762,view:212},z?{image_signature:z}:{}))}),[]),(0,r.useEffect)((function(){return function(){ie()}}),[]);var ce=function(e){var t=e.query,n=e.searchType;(0,Te.j)(60,{component:13762,element:227,view:212,search_query:t,search_type:n})},se=function(){var e=Po(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),k(t),ce({query:t,searchType:"title"}),!(n=Q.isAuth&&Q.id)){e.next=12;break}return r=pt.ZP.create("BaseSearchResource",{user:n,query:t,commerce_only:!0}),e.next=8,r.callGet();case 8:o=e.sent,i=o.resource_response.data,a=i.results.filter((function(e){return"pin"===e.type})),j(a);case 12:S(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Po(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce({query:t,searchType:"id"}),S(!0),k(t),n=ae?"ProductGroupItemIdPinResource":"ProductGroupProductPinResource",r=pt.ZP.create(n,{merchantId:W,filters:{1:[t]},itemId:t}),e.next=7,r.callGet();case 7:o=e.sent,i=o.resource_response.data,a=i.reduce((function(e,t){if(t){if(t.type="pin",t.rich_metadata){var n,r=null!==(n=t.rich_metadata.url)&&void 0!==n?n:t.rich_metadata.id;(0,vo.Z)({url:r})&&(t.link=r)}return[].concat(Ao(e),[t])}return e}),[]),j(a),S(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(e){oe();var t=e.trim();"catalogId"===h?le(t):(0,vo.Z)({url:t})?function(e){U(null),ce({query:e,searchType:"url"});var t=(0,no.Z)({url:e});pt.ZP.create("ApiResource",{url:"/v3/products/find/",field_sets:["productmetadata.name","productmetadata.offers"],data:{url:t,source:G?"collection":"merchant"}}).callGet().then((function(e){var n=(e.resource_response||{}).data;B(t),M(n)})).catch((function(e){U({title:e.message_detail||e.message})}))}(t):se(t)},pe=function(e){if(U(null),q.includes(e.id)){var t=x.filter((function(t){return t.id!==e.id}));I(t)}else{if(re)return void U({title:a._("Related product limit reached","StlTaggingSheet.relatedProducts.limitErrorTitle","Title for error message that the user has already entered the maximum number of related products"),message:a._("To add another item, remove one or more related products","StlTaggingSheet.relatedProducts.limitErrorMessage","Message for error message that the user has already entered the maximum number of related products")});I((function(t){return[].concat(Ao(t),[e])}))}},fe=function(e,t,n){t&&n&&Z((0,Oo.uM)(e,t,n))},he=function(e,t){var n=null==H?void 0:H.xPercent,r=null==H?void 0:H.yPercent;if("webImage"===t.type){Z((0,Oo.mz)(e,t.link||t.sourceURL,null)),fe(e,n,r);var o={height:t.height,width:t.width,url:t.src};Z((0,Oo.Dn)(e,t.id,{media:o,type:t.type,pin:t}))}else if("pin"===t.type){var i,a,c=t;Z((0,Oo.mz)(e,null!==(i=c.link)&&void 0!==i?i:"",null)),fe(e,n,r),u(t.id),Z((0,Oo.Dn)(e,t.id,{media:null===(a=c.images)||void 0===a?void 0:a["474x"],type:t.type,pin:c}))}Z((0,ht.C_)(p,e))},be=function(){var e=(0,Io.Z)();return function(e){Z((0,ht.oe)(p,e))}(e),e},me=function(e,t){var n=be();he(n,e),t()},ye=function(){var e=be();x.forEach((function(t){return he(e,t)}))},ve=(0,r.useMemo)((function(){return new y.H3([Do])}),[Do]),xe=(0,r.useMemo)((function(){return new y.H3([ve])}),[ve]),Ie=(0,r.useRef)(),we=R&&!!J&&J.images.length>0&&J.images.find((function(e){return!e.toLowerCase().includes("svg")}));return(0,v.jsx)(y.mh,{zIndex:ve,children:(0,v.jsx)(y.yo,{accessibilityDismissButtonLabel:a._("Cancel tagging products","StlTaggingSheet.Sheet.accessibilityDismissButtonLabel","Accessibility label for button to cancel tagging products and close the sheet"),accessibilitySheetLabel:a._("Tag products for this Pin","StlTaggingSheet.Sheet.accessibilitySheetLabel","Accessibility label for the sheet to tag products for a Pin"),closeOnOutsideClick:!1,footer:function(e){var t=e.onDismissStart;return G?(0,v.jsx)(go,{onDismissStart:t,onRemove:pe,onSubmit:ye,selectedResults:x}):null},heading:G?a._("Make a collection","StlTaggingSheet.sheet.header.relatedProducts","Heading for sheet allowing user to tag related products shown in this Pin"):a._("Tag this product","StlTaggingSheet.sheet.header.coordinates","Heading for sheet allowing user to tag products shown in this Pin"),onDismiss:ie,size:"sm",subHeading:(0,v.jsx)(y.xu,{paddingX:8,children:(0,v.jsx)(jo,{onClear:oe,onLinkClick:function(e){b(e),oe()},onSubmit:function(e){de(e)},showCatalogLink:Boolean(W),type:h},h)}),children:function(e){var t,n=e.onDismissStart;return(0,v.jsxs)(y.xu,{ref:Ie,children:[(0,v.jsx)(to.Z,{placementId:1000335,eligibleIds:[502964],children:function(e){var t=e.complete;return(0,v.jsx)(y.mh,{zIndex:xe,children:(0,v.jsx)(y.J2,{anchor:Ie.current,color:"blue",idealDirection:"down",onDismiss:t,size:"md",positionRelativeToAnchor:!1,children:(0,v.jsxs)(y.xu,{padding:3,display:"flex",alignItems:"center",direction:"column",column:12,children:[(0,v.jsx)(y.xv,{align:"center",weight:"bold",color:"white",children:a._("Collections make it easier for people to find products and bring their inspiration to life. Add up to 24 more items for display under your image","pinbuilder.shopTheLook.collections","Flyout to help merchants understand why they should use Collections")}),(0,v.jsx)(y.xu,{paddingX:2,marginTop:3,children:(0,v.jsx)(y.zx,{role:"link",color:"white",fullWidth:!0,href:"https://pinterest.com/_/_/help/business/article/shop-the-look-product-tagging",target:"blank",text:a._("Learn more","pinbuilder.shopTheLook.learnMoreButton","Learn more about collections")})})]})})})}}),N&&(0,v.jsx)(y.xu,{marginTop:-4,children:(0,v.jsx)(y.UW,{dismissButton:{accessibilityLabel:a._("Dismiss","StlTaggingSheet.Callout.dismissButton.accessibilityLabel","Accessibility label for button to dismiss error callout"),onDismiss:function(){return U(null)}},iconAccessibilityLabel:a._("Error","StlTaggingSheet.Callout.iconAccessibilityLabel","Accessibility label for error icon"),message:null!==(t=N.message)&&void 0!==t?t:"",title:N.title,type:"error"})}),E&&!A||R?(0,v.jsx)(y.xu,{marginTop:N?4:-4,children:(0,v.jsx)(bo,{hasResults:_?_.length>0:void 0,query:E,searchFieldType:h})}):null,E&&(0,v.jsxs)(r.Fragment,{children:[A&&(0,v.jsx)(ro,{}),(0,v.jsx)(fo,{onItemClick:G?pe:function(e){return me(e,n)},results:null!=_?_:[],selectedAssetIds:q})]}),R&&!!J&&J.images.length>0&&we&&(0,v.jsx)(ue.Z,{url:we,children:function(e){var t,o=e.image;return(0,v.jsx)(r.Fragment,{children:o&&(0,v.jsx)(lo,{onItemClick:G?pe:function(e){return me(e,n)},images:o,link:R,productDetails:null==J||null===(t=J.products)||void 0===t?void 0:t[0],selectedAssetIds:q})})}},we)]})}})})},Jo=n(652382),Vo=n(903945);function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lo=["succeeded","attempted","uploading"],Qo=["succeeded","uploading"];var Wo=(0,o.connect)((function(){var e=(0,Qn.nL)();return function(t,n){var r=t.pinbuilder.pinDrafts[n.pinDraftId],o=r.mode,i=r.pinId,a=r.pinItemIds,c=r.scheduledPin,s=r.status,l=r.type,u=r.view,d=r.websiteMedia,p=e(t,n),f=a[0],h=t.pinbuilder.pinItems[p].media,b=t.pinbuilder.pinItems[f].media;return{currentPinItemId:p,media:"carousel"===l?b:h,pin:i&&"create"===o?t.pins[i]:null,scheduledPin:c&&"create"===o?c:null,showSuccess:t.pinbuilder.pinDraftIds.length>1&&(Qo.includes(s)||!!h&&"localVideo"===h.type&&Lo.includes(s)),type:l,view:u,websiteMedia:d}}}),(function(e,t){return{removePinDraft:function(){return e((0,L.Z)(t.pinDraftId))}}}))((function(e){var t=e.currentPinItemId,n=e.media,o=e.onComplete,c=e.pin,s=e.pinDraftId,l=e.removePinDraft,u=e.scheduledPin,d=e.showSuccess,p=e.type,f=e.view,h=e.websiteMedia,b=(0,T.Z)(),m=(0,Gn.f)().shopTheLook.currentPinDraftId,g=(0,V.tc)("web_stl_tooling"),x=!(!b.isAuth||!b.eligibleForStlTool||"ad_creation"===he.Z.scenario())&&g({dangerouslySkipActivation:!0}).anyEnabled,I=(0,X.k6)(),w=Uo((0,r.useState)(!1),2),_=w[0],j=w[1],O=(0,X.TH)(),A=(0,Fr.u7)().site_type,S=(0,V.tc)("web_offsite_pin_creation_multi_select")({dangerouslySkipActivation:!0}).group.startsWith("enabled_redirect_to_hf"),P=he.Z.enabled("suppressSuccessModal")||S,E=(0,Y.F9)(),k=function(){l()};(0,r.useEffect)((function(){(c||u)&&P&&k()}),[c,u,P]),(0,r.useEffect)((function(){var e;c&&S&&I.push({pathname:"/",state:{from:O.pathname,boardName:c.board.name,imageUrl:(null===(e=c.images["236x"])||void 0===e?void 0:e.url)||""}})}),[c]),(0,r.useEffect)((function(){var e=!(!document.body||!document.body.hasAttribute("data-pinterest-extension-installed")),t=i.Z.isBrowserExtensionSupported(),n=!!(0,Jo.qn)("seenUpsellFromAddPinDropdown"),r=!!(0,Vo.qn)("seenUpsellFromPinbuilder");c&&function(e,t,n,r){return!e&&t&&!n&&!r}(e,t,n,r)&&j(!0)}),[c]),(0,r.useEffect)((function(){if(c&&_){var e,t,n,r,o,i,a=null!==(e=null===(t=c.board)||void 0===t?void 0:t.name)&&void 0!==e?e:"",s=null!==(n=null===(r=c.board)||void 0===r?void 0:r.url)&&void 0!==n?n:"",l=null!==(o=null===(i=c.images["236x"])||void 0===i?void 0:i.url)&&void 0!==o?o:"";E.showOneToast((function(e){var t=e.onHide;return(0,v.jsx)(Z.Z,{boardName:a,boardUrl:s,onHide:t,pinImageUrl:l})})),(0,Vo.Nh)("seenUpsellFromPinbuilder",!0)}}),[c,_]),(0,r.useEffect)((function(){o&&d&&c&&o(c)}),[o,c,d]);var C=d&&(he.Z.enabled("multi_pin")||he.Z.enabled("multi_pin_pinner")),R=he.Z.enabled("multi_pin")||he.Z.enabled("multi_pin_pinner")?z.sG:z.XB,D=he.Z.enabled("multi_pin")||he.Z.enabled("multi_pin_pinner")?z.GX:z.bo;C&&(D=0);var J=s===m,F="carousel"===p&&he.Z.enabled("carousel");return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.xu,{color:"white",dangerouslySetInlineStyle:{__style:{paddingTop:C||he.Z.enabled("offsite_pin_creation_multi_select")?void 0:R}},"data-test-id":"pin-builder-draft",display:"flex",direction:"column",paddingX:D,rounding:x?8:4,width:z.of,children:C?(0,v.jsx)(zr,{pinDraftId:s,pinItemId:t}):(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(xr,{pinDraftId:s}),(0,v.jsx)(y.xu,{position:x?"relative":"static",children:(0,v.jsx)(Wn,{pinDraftId:s})}),x&&n&&!F&&(0,v.jsxs)(y.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(y.xu,{color:"lightGray",height:2,dangerouslySetInlineStyle:{__style:{marginLeft:"-".concat(4*D,"px")}},width:z.of+4*D*2}),(0,v.jsx)(Yn,{pinDraftId:s,pinItemId:t})]})]})}),function(){var e=d&&(he.Z.enabled("multi_pin")||he.Z.enabled("multi_pin_pinner")),t="true"===(0,a.Z)().quick_promote_pinrep;if(c&&c.is_quick_promotable&&!e&&t)!function(){if(c){var e=B.Z.getSterlingURL("quick_promote_on_www");I.push("".concat(e,"?pinId=").concat(c.id))}k()}();else if(c&&!e&&"board"!==f)return function(){if(!c||!n||he.Z.enabled("suppressSuccessModal"))return null;var e=c.section,t=c.id,r=c.board.name,o=Fo(Fo({},n),{},{url:n.src});return Object.assign(c.images,{"236x":o,"474x":o,"564x":o,orig:o}),(0,v.jsx)(y.xu,{"data-test-id":"pin-draft-create-success-modal",children:(0,v.jsx)(M,{isFromPinBuilder:!0,boardName:r,eligibleForExtensionUpsell:_,imageUrl:n.src,onClose:k,pin:c,pinId:t,sectionName:e?e.title:null,siteType:A,video:"localVideo"===n.type?n:void 0,websiteMedia:h})})}();return null}(),!!u&&!C&&(0,v.jsx)(y.xu,{"data-test-id":"scheduled-pin-create-success-modal",children:(0,v.jsx)(eo,{scheduledPin:u,onDismiss:k})}),x&&J&&(0,v.jsx)(To,{pinItemId:t})]})}))},433647:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(575429),o=n(808308),i=n(537343),a=n(174523),c=n(602402),s=n(297189),l=n(218265),u=n(80209),d={sm:{imageRepSize:147,imageSize:93},md:{imageRepSize:159,imageSize:99}};function p(e){var t,n,p,f,h,b=e.index,m=e.isRelatedProducts,g=e.pinTagId,y=e.size,v=e.taggedObjectId,x=(0,r.useDispatch)(),I=(0,a.ZP)(),w=(0,c.f)().setStlHoveredTaggedObjectId,_=null!==(n=(null!==(t=(0,r.useSelector)((function(e){return e.pinbuilder.taggedObjects})))&&void 0!==t?t:{})[v])&&void 0!==n?n:{},j=_.media,O=_.pin,A=(0,r.useSelector)((function(e){return e.pinbuilder.pinTags}))[g],S=A.x,P=A.y,E=null!=j?j:{},k=E.height,C=E.width,R=E.url,B=null!=O?O:{},D=B.grid_title,T=B.rich_summary,J=null!==(p=(null!==(f=(null!==(h=(null!=T?T:{}).products)&&void 0!==h?h:[])[0])&&void 0!==f?f:{}).offer_summary)&&void 0!==p?p:{},V=J.price,M=J.max_price,F=function(e){w(e)},N=!(!V&&!M),U=d[y].imageSize;return(0,u.jsxs)(l.xu,{"data-test-id":"stl-product-item",direction:"column",display:"flex",marginEnd:!m&&[3,7].includes(b)?0:2,marginTop:!m&&b>=4?4:0,width:U,position:"relative",overflow:"auto",onMouseEnter:function(){return F(v)},onMouseLeave:function(){return F(null)},children:[(0,u.jsx)(l.xu,{rounding:5,overflow:"hidden",minHeight:U,maxHeight:U,width:U,minWidth:U,children:(0,u.jsx)(l.zd,{wash:!0,height:U,width:U,children:(0,u.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:k||1,naturalWidth:C||1,src:R||""})})}),N&&(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(o.Z,{productDetails:J,showSalesPrice:!0,type:"text"})}),D&&(0,u.jsx)(l.xu,{marginTop:1,children:(0,u.jsx)(l.xv,{size:"sm",children:(0,i.ZP)(D,30)})}),(0,u.jsx)(l.xu,{position:"absolute",top:!0,right:!0,margin:2,children:(0,u.jsx)(l.hU,{accessibilityLabel:I._("Remove tagged product","shopTheLook.remove.taggedPin","button to remove tagged product"),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){S&&P?x((0,s.Cf)(g,"deleted")):(x((0,s.Go)(g,v)),x((0,s.Cf)(g,"edited")))},size:"sm"})})]})}},143788:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(793550);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,n,r,o=l(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),f(d(t=o.call(this,e)),"onImageLoad",(function(e){t.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?t.setState((function(t){return{loadedItems:[].concat(i(t.loadedItems),[e])}})):t.setState((function(e){return{errors:e.errors+1}})))})),f(d(t),"onImageError",(function(){t.mounted&&t.setState((function(e){return{errors:e.errors+1}}))})),f(d(t),"mounted",!1),f(d(t),"loadImages",(function(e){var n=new Image;n.onload=function(){return t.onImageLoad({height:n.naturalHeight,url:e,width:n.naturalWidth})},n.onerror=function(){return t.onImageError()},n.src=e})),t.state={errors:0,loadedItems:[]},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props.url;this.loadImages(e||"")}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return(0,this.props.children)({image:this.state.loadedItems})}}])&&c(t.prototype,n),r&&c(t,r),a}(r.Component)},183203:function(e,t,n){"use strict";n.d(t,{VX:function(){return r},tN:function(){return o},i9:function(){return i},Py:function(){return a},op:function(){return c}});var r=8,o=24,i=4,a=148,c=16},612072:function(e,t,n){"use strict";function r(e){var t=e.x,n=e.y;return t>0&&t<=100&&n>0&&n<=100}n.d(t,{Z:function(){return r}})},562466:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(575429),o=n(990531),i=n(793550),a=n(964581),c=n(128264),s=n(174523),l=n(887018),u=n(218265),d=n(80209),p={width:l.MN,backgroundColor:"#efefef",borderRadius:8,borderStyle:"none",boxSizing:"border-box",height:l.MN,outline:"none",padding:0};function f(){var e=(0,s.ZP)();return(0,d.jsx)("button",{style:p,children:(0,d.jsx)(u.xu,{rounding:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,d.jsx)(u.JO,{accessibilityLabel:e._("Add product tag","Accessibility label for the product tag icon","Accessibility label for the product tag icon"),icon:"add-circle",color:"gray",size:24,inline:!0})})})}var h=n(670461),b=n(878243);var m=(0,r.connect)((function(){var e=(0,b.jk)();return function(t,n){return{taggedObjectIds:n.pinTagId&&t.pinbuilder.pinTags&&Object.keys(t.pinbuilder.pinTags).length>0?e(t,n):[]}}}))((function(e){var t=e.handleClick,n=e.pinTagId,r=e.taggedObjectIds;return(0,d.jsx)(u.xu,{column:12,"data-test-id":"tagged-items-grid",children:(0,d.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:[(0,d.jsx)(u.xu,{padding:1,marginStart:-1,marginEnd:-1,children:(0,d.jsx)(u.iP,{mouseCursor:"grab",onTap:t,rounding:2,children:(0,d.jsx)(u.xu,{"data-test-id":"add-tags-button",children:(0,d.jsx)(f,{})})})}),!!n&&r.map((function(e,t){return(0,d.jsx)(u.xu,{padding:1,children:(0,d.jsx)(h.Z,{disabled:!1,pinTagId:n,taggedObjectId:e})},e)}))]})})})),g=n(76535),y=n(34411),v=n(233949),x=n(811719),I=n(946753),w=n(549135),_=n(981444),j=n(874048),O=n(297189),A=n(585967);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=B(i);function i(){var e;k(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(T(e=o.call.apply(o,[this].concat(n))),"state",{isAssetPickerOpen:!1,taggedPins:[]}),V(T(e),"handleClick",(function(){e.setState({isAssetPickerOpen:!0}),(0,w.j)(101,{component:13308,element:12126})})),V(T(e),"handleDismiss",(function(){e.setState({isAssetPickerOpen:!1})})),V(T(e),"handleAddTaggedPinsToPinDraft",(function(t){var n=e.props,r=n.saveTaggedObject,o=n.removeTaggedObject,i=n.createPinTag,a=n.pinTagId,c=e.state.taggedPins,s=a||(0,_.Z)();s!==a&&i(s),t.forEach((function(e,t){t<l.Pn&&(c.includes(e)||"pin"!==e.type&&"webImage"!==e.type||r(e.id,s,e))})),c.filter((function(e){return!t.includes(e)})).forEach((function(e){o(e.id,s)})),e.setState({taggedPins:t}),e.handleDismiss()})),V(T(e),"primaryButtonText",(function(t){return e.props.i18n.ngettext("Save product","Save products",t,"Button text for adding/saving products to a Collections pin","Button text for adding/saving products to a Collections pin")})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.taggedObjects.map((function(e){return isNaN(e.id)?{type:"webImage",id:e.id,height:e.media.height,width:e.media.width,src:e.media.url,sourceURL:e.link}:{type:"pin",id:e.id,images:{"474x":e.media},description:"",title:"",videos:null,link:e.link}}));this.setState({taggedPins:e})}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.taggedObjectIds!==this.props.taggedObjectIds){var n=this.state.taggedPins.filter((function(e){return t.props.taggedObjectIds.includes(e.id)}));n&&this.setState({taggedPins:n})}}},{key:"render",value:function(){var e=this.props,t=e.pinDraftId,n=e.pinItemId,r=e.pinTagId,o=e.pinTagIds,i=e.pinTags,s=e.requestContext,p=e.unfilteredTaggedObjects,f=e.useModalWithNoLayer,h=e.taggedObjectIds,b=e.inStlToolingExp,g=this.state,y=g.isAssetPickerOpen,v=g.taggedPins,w=["product_pins","scrape"];s.advertiser&&s.advertiser.merchant_id&&w.push("catalog");var _=(0,x.Z)({pinTagIds:o,pinTags:i,taggedObjects:p}),j=_.length,O=h.length;return(0,d.jsxs)(u.xu,{display:"flex",direction:"column",height:"100%",column:12,children:[(0,d.jsxs)(u.xu,{flex:"none",marginBottom:6,children:[(0,d.jsx)(u.xu,{marginBottom:b?2:1,children:b?(0,d.jsx)(u.X6,{size:"sm",children:this.props.i18n._("Update products","pinbuilder.editProducts.header","Edit products in the collection/STL selected in Pin Builder.")}):(0,d.jsx)(u.X6,{size:"sm",children:this.props.i18n._("Add products","Add products to the collection/STL selected in Pin Builder.","Add products to the collection/STL selected in Pin Builder.")})}),(0,d.jsx)(u.xu,{marginBottom:b?2:1,children:b?(0,d.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,d.jsx)(u.xv,{children:this.props.i18n._("Tag up to 8 products in the scene","pinbuilder.editProducts.description","Description of editing pins in the collection")}),(0,d.jsx)(u.xv,{size:"md",weight:"bold",children:(0,I.nk)(this.props.i18n._("{{ numXyTaggedProducts }}/8","pinbuilder.editProducts.taggedProducts.count","Text display the total number of products tagged and the max number of products that can be tagged"),{numXyTaggedProducts:j})})]}):(0,d.jsx)(u.xv,{children:this.props.i18n._("Add products to your image to build a Pin people can shop","Description of adding pins to a collection","Description of adding pins to a collection")})}),!b&&(0,d.jsx)(u.xu,{"data-test-id":"num-product-count",display:"flex",children:(0,d.jsx)(u.xv,{size:"md",weight:"bold",children:(0,I.nk)(this.props.i18n.ngettext("{{ numProducts }} product","{{ numProducts }} products",O,"Text displaying the total number of products across all tags on a Pin","Text displaying the total number of products across all tags on a Pin"),{numProducts:O})})})]}),(0,d.jsx)(u.kC,{alignItems:"stretch",direction:"column",flex:"grow",overflow:"auto",width:b?445:void 0,children:(0,d.jsxs)(u.xu,{marginBottom:5,children:[b?(0,d.jsx)(c.Z,{pinDraftId:t,pinItemId:n,pinTagId:r,taggedObjects:_}):(0,d.jsx)(m,{pinItemId:n,pinTagId:r,handleClick:this.handleClick}),y&&(0,d.jsx)(a.Z,{useModalWithNoLayer:f,closeOnOutsideClick:!1,onPrimaryAction:this.handleAddTaggedPinsToPinDraft,onSecondaryAction:this.handleDismiss,onDismiss:this.handleDismiss,shownTabs:w,pinItemId:n,primaryButtonText:this.primaryButtonText,secondaryButtonText:this.props.i18n._("Cancel","PinBuilder.Modal.PinDraftInputCollectionTagView.buttonText","Button text for camcelling and dismissing the asset picker modal"),isSecondaryButtonDisabled:!1,selectedPins:v,maxAssetsToSelect:l.Pn,scrapeTitle:this.props.i18n._("Use a link","Prompt for scraping an image from site","Prompt for scraping an image from site"),scrapeDescription:this.props.i18n._("Pick one item from a product link—it’ll create a product Pin for the item, and add it to your image","Detail about how to pick a product from scraping a URL for a Collections pin","Detail about how to pick a product from scraping a URL for a Collections pin"),resetScrapeOnSelect:!0})]})})]})}}])&&C(t.prototype,n),r&&C(t,r),i}(i.Component);var F=(0,r.connect)((function(){var e=(0,b.jk)(),t=(0,b.CQ)();return function(n,r){var o=n.pinbuilder.pinItems[r.pinItemId].pinTagIds,i=n.pinbuilder.pinTags,a=n.pinbuilder.taggedObjects;return{pinTagId:n.pinbuilder.pinItems[r.pinItemId].selectedPinTagId||o.length>0?o[0]:null,pinTagIds:o,pinTags:i,taggedObjectIds:e(n,r),taggedObjects:t(n,r),unfilteredTaggedObjects:a}}}),(function(e,t){return{createPinTag:function(n){return e((0,j.oe)(t.pinItemId,n))},saveTaggedObject:function(n,r,o){var i=o.type||"",a=t.inStlToolingExp,c=t.stlTaggedCoords||{},s=c.x,l=c.y;if("webImage"===o.type&&o.sourceURL){e((0,O.mz)(r,o.sourceURL,null)),a&&e((0,O.uM)(r,s||0,l||0));var u={height:o.height,width:o.width,url:o.src};e((0,O.Dn)(r,n,{media:u,type:i,pin:o}))}else{var d=o;e((0,O.mz)(r,d.link,null)),a&&e((0,O.uM)(r,s||0,l||0)),e((0,O.Dn)(r,n,{media:d.images["474x"],type:i,pin:d}))}e((0,j.C_)(t.pinItemId,r))},removeTaggedObject:function(t,n){return e((0,O.Go)(n,t))}}}))((function(e){var t=(0,s.ZP)(),n=(0,A.B)(),r=(0,y.Z)();return(0,d.jsx)(v.KS,{name:"web_stl_tooling",activate:!1,isEligible:!(!r.isAuth||!r.eligibleForStlTool||"ad_creation"===g.Z.scenario()),children:function(r){var o=r.anyEnabled;return(0,d.jsx)(M,E(E({},e),{},{inStlToolingExp:o,requestContext:n,i18n:t}))}})})),N=n(626815),U=n(181307),Z=n(602402),L={__style:{paddingBottom:l.uR}};var Q=(0,r.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIds,r=e.pinbuilder.pinItems[n[0]].media;return{height:r?(0,o.Z)(r):l.sD}}),(function(){return{}}))((function(e){var t=e.height,n=e.pinDraftId,r=e.pinItemId,o=e.paddingX,i=void 0===o?5:o,a=e.useModalWithNoLayer,c=(0,s.ZP)(),p=(0,y.Z)(),f=(0,Z.f)().shopTheLook.stlTaggedCoords,h=(0,U.tc)("web_stl_tooling"),b=!(!p.isAuth||!p.eligibleForStlTool||"ad_creation"===g.Z.scenario())&&h({dangerouslySkipActivation:!0}).anyEnabled;return(0,d.jsxs)(u.xu,{display:"flex",direction:"row",dangerouslySetInlineStyle:L,children:[(0,d.jsxs)(u.xu,{paddingX:b?0:i,children:[(0,d.jsx)(N.Z,{height:t,pinDraftId:n,pinItemId:r,view:"collectionsTag"}),!b&&(0,d.jsx)(u.xu,{width:l.LM,children:(0,d.jsx)(u.xv,{align:"center",size:"md",weight:"bold",children:c._("Hint: make sure products you add match items in your image! You can add up to 24.","Hint explaining the maximum number of products that can be added to a Collections Pin","Hint explaining the maximum number of products that can be added to a Collections Pin")})})]}),(0,d.jsx)(u.xu,{flex:"grow",height:t,minHeight:l.sD,paddingX:b?0:5,marginStart:b?5:0,width:"100%",children:(0,d.jsx)(F,{useModalWithNoLayer:a,inStlToolingExp:b,pinDraftId:n,pinItemId:r,stlTaggedCoords:f})})]})}))},626815:function(e,t,n){"use strict";n.d(t,{Z:function(){return Xo}});var r=n(793550),o=n(575429),i=n(68545),a=n(549135),c=n(174523),s=n(218265),l=n(80209);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={__style:{padding:6}},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(y(e=o.call.apply(o,[this].concat(n))),"handleEllipsisClick",(function(t,n){return function(){var r=e.props.setCarouselItem;n&&(0,a.j)(101,{component:13308,element:11126}),r(t)}})),x(y(e),"handleBackClick",(function(){(0,a.j)(101,{component:13308,element:12170});var t=e.props,n=t.pinItemIndex;(0,t.setCarouselItem)(n-1)})),x(y(e),"handleForwardClick",(function(){(0,a.j)(101,{component:13308,element:12169});var t=e.props,n=t.pinItemIndex;(0,t.setCarouselItem)(n+1)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.pinItemIds,r=t.pinItemIndex,o=t.showAdd,i=n.length-1,a=r>0,c=r<i,u=this.props.i18n._("Back","Button to advance to previous carousel image","Button to advance to previous carousel image"),d=this.props.i18n._("Forward","Button to advance to next carousel image","Button to advance to next carousel image");return(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:n.map((function(t,n){return(0,l.jsx)(s.xu,{children:n===i&&o?(0,l.jsx)(s.xu,{"data-test-id":"add-item-to-carousel-button",children:(0,l.jsx)(s.hU,{accessibilityLabel:e.props.i18n._("Add","Button to add image to carousel","Button to add image to carousel"),bgColor:"transparent",icon:"add",iconColor:n===r?"darkGray":"gray",onClick:e.handleEllipsisClick(n,!0),size:"xs"})}):(0,l.jsx)(s.xu,{"data-test-id":"carousel-control-button",paddingX:1,children:(0,l.jsx)(s.iP,{onTap:e.handleEllipsisClick(n),rounding:"circle",children:(0,l.jsx)(s.xu,{color:n===r?"darkGray":"gray",height:12,rounding:"circle",width:12})})})},t)}))}),(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[a?(0,l.jsx)(s.hU,{accessibilityLabel:u,bgColor:"transparent",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBackClick,size:"xs"}):(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:I,children:(0,l.jsx)(s.JO,{accessibilityLabel:u,color:"gray",icon:"arrow-back",size:12})}),c?(0,l.jsx)(s.hU,{accessibilityLabel:d,bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",onClick:this.handleForwardClick,size:"xs"}):(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:I,children:(0,l.jsx)(s.JO,{accessibilityLabel:d,color:"gray",icon:"arrow-forward",size:12})})]})]})}}])&&h(t.prototype,n),r&&h(t,r),i}(r.Component);var _=(0,o.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId],r=n.pinItemIds,o=n.pinItemIndex,i=r[r.length-1];return{pinItemIds:r,pinItemIndex:o,showAdd:!e.pinbuilder.pinItems[i].media}}),(function(e,t){return{setCarouselItem:function(n){return e((0,i.Cj)(t.pinDraftId,n))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(w,p(p({},e),{},{i18n:t}))})),j=n(545840),O=n(766065),A=n(981444);var S=(0,o.connect)(null,(function(e,t){return{addCarouselItem:function(){return e((0,j.Z)(t.pinDraftId,(0,A.Z)()))}}}))((function(e){var t=e.addCarouselItem,n=(0,c.ZP)()._("Create carousel","Button Text for creating Carousel Pin","Button Text for creating Carousel Pin");return(0,l.jsx)(O.Z,{accessibilityLabel:n,onClick:function(){(0,a.j)(101,{component:13308,element:11123}),t()},rounding:"pill",children:(0,l.jsxs)(s.xu,{"data-test-id":"create-carousel-button",display:"flex",alignItems:"center",padding:1,children:[(0,l.jsx)(s.JO,{accessibilityLabel:n,color:"gray",icon:"add",size:12}),(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(s.xv,{color:"gray",size:"md",weight:"bold",children:n})})]})})})),P=n(427750),E=n(420884),k=n(501743),C=n(964581),R=n(741993),B=n(892882),D=n(754999),T=n(159617),J=n(887018),V=function(e,t){return(0,D.Z)(t.ngettext("{{ length }} px","{{ length }} px",200,"PinBuilder.PinQualityDrawer.pixel","length in pixel"),{length:e})},M=function(e,t,n){return(0,D.Z)(n.ngettext("{{ min }}-{{ max }} char","{{ min }}-{{ max }} chars",100,"PinBuilder.PinQualityDrawer.charsLengthRange","range of string length in unit of characters"),{min:e,max:t})},F=function(e,t){return(0,D.Z)(t.ngettext("{{ min }}+ char","{{ min }}+ chars",100,"PinBuilder.PinQualityDrawer.lengthAtLeastChars","string length to be at least how many characters"),{min:100})};var N=(0,r.memo)((function(e){var t=e.onDismiss,n=(0,c.ZP)(),r=n._("None","PinBuilder.PinQualityDrawer.none","there is no requirement or suggestion for this field");return(0,l.jsx)(s.mh,{zIndex:{index:function(){return T.fe+1}},children:(0,l.jsx)(s.yo,{accessibilitySheetLabel:n._("Pin creation quality recommentations","PinBuilder.PinQualityDrawer.SheetLabel","Pin builder quality recommentations"),accessibilityDismissButtonLabel:n._("Dismiss","PinBuilder.PinQualityDrawer.Dismiss","Dismiss the quality drawer"),onDismiss:t,size:"lg",heading:n._("Maximize engagement with high quality pins.","PinBuilder.PinQualityDrawer.title","The title of the Pin Quality Drawer which introduces our recommendations for pin creation"),subHeading:(0,l.jsx)(s.xu,{marginStart:8,children:(0,l.jsx)(s.xv,{children:n._("Follow these recommendations to achieve the highest quality pins.","PinBuilder.PinQualityDrawer.description","The description of the Pin Quality Drawer which introduces our recommendations for pin creation")})}),footer:(0,l.jsx)(s.xu,{display:"flex",justifyContent:"end",alignItems:"end",color:"white",children:(0,l.jsx)(s.zx,{text:n._("Got it","PinBuilder.PinQualityDrawer.close","The close button of the drawer"),color:"red",accessibilityLabel:n._("Close","PinBuilder.PinQualityDrawer.close","Close"),onClick:t})}),children:(0,l.jsxs)(s.xu,{children:[(0,l.jsxs)(s.xu,{marginBottom:8,children:[(0,l.jsx)(s.xu,{marginBottom:3,children:(0,l.jsx)(s.X6,{size:"md",children:n._("Photo quality","PinBuilder.PinQualityDrawer.title.photo","The title of the photo section of Pin Quality Drawer")})}),(0,l.jsxs)(s.iA,{accessibilityLabel:n._("List of image qualities","PinQualityDrawer.image.accessibilityLabel","Accessibility label for table of image qualities"),children:[(0,l.jsx)(s.iA.Header,{children:(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.HeaderCell,{children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:n._("Content Attribute","PinBuilder.PinQualityDrawer.table.headerCell.contentAttribute","Header cell for column content attribute of photo quality table")})}),(0,l.jsx)(s.iA.HeaderCell,{children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:n._("Minimum Requirement","PinBuilder.PinQualityDrawer.table.headerCell.minimumRequirement","Header cell for column Minimum Requirement of photo quality table")})}),(0,l.jsx)(s.iA.HeaderCell,{children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:n._("Recommendation","PinBuilder.PinQualityDrawer.table.headerCell.Recommendation","Header cell for column Recommendation of photo quality table")})})]})}),(0,l.jsxs)(s.iA.Body,{children:[(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Resolution","PinBuilder.PinQualityDrawer.title.resolution","the resolution of pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ width }} wide x {{ height }} tall","PinBuilder.PinQualityDrawer.resolution","minimum requirement of pin photo resolution"),{width:V(200,n),height:V(300,n)})})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ width }} wide x {{ height }} tall (or larger)","PinBuilder.PinQualityDrawer.resolution.orLarger","recommendation of pin photo resolution"),{width:V(1e3,n),height:V(1500,n)})})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Aspect Ratio","PinBuilder.PinQualityDrawer.title.ratio","aspect ratio of photo pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ widthRatio }} wide : {{ heightRatio }} tall (or more wide, less tall)","PinBuilder.PinQualityDrawer.ratio","the aspect ratio of pin"),{widthRatio:3,heightRatio:2})})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ widthRatio }} wide : {{ heightRatio }} tall (or less wide, more tall)","PinBuilder.PinQualityDrawer.ratio","the aspect ratio of pin"),{widthRatio:2,heightRatio:3})})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Title Length","PinBuilder.PinQualityDrawer.title.titleLength","the length of the title of this pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:r})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:M(J.bA,J.Ke,n)})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Description Length","PinBuilder.PinQualityDrawer.title.descriptionLength","the length of the description of this pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:r})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:F(0,n)})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Destination Link","PinBuilder.PinQualityDrawer.title.link","the destination link of this pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:r})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Have a destination link","PinBuilder.PinQualityDrawer.link.recommendation","Recommended to have a destination link for the pin to create")})})]})]})]})]}),(0,l.jsxs)(s.xu,{children:[(0,l.jsx)(s.xu,{marginBottom:3,children:(0,l.jsx)(s.X6,{size:"md",children:n._("Video quality","PinBuilder.PinQualityDrawer.title","The title of the video section of Pin Quality Drawer")})}),(0,l.jsxs)(s.iA,{accessibilityLabel:n._("List of video qualities","PinQualityDrawer.video.accessibilityLabel","Accessibility label for table of video qualities"),children:[(0,l.jsx)(s.iA.Header,{children:(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.HeaderCell,{children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:n._("Content Attribute","PinBuilder.PinQualityDrawer.table.headerCell.contentAttribute","Header cell for column content attribute of photo quality table")})}),(0,l.jsx)(s.iA.HeaderCell,{children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:n._("Minimum Requirement","PinBuilder.PinQualityDrawer.table.headerCell.minimumRequirement","Header cell for column Minimum Requirement of photo quality table")})}),(0,l.jsx)(s.iA.HeaderCell,{children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:n._("Recommendation","PinBuilder.PinQualityDrawer.table.headerCell.Recommendation","Header cell for column Recommendation of photo quality table")})})]})}),(0,l.jsxs)(s.iA.Body,{children:[(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Resolution","PinBuilder.PinQualityDrawer.title.resolution","resolution of pin video")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ width }} wide x {{ height }} tall","PinBuilder.PinQualityDrawer.resolution","minimum requirement of pin photo resolution"),{width:V(200,n),height:V(300,n)})})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ width }} wide x {{ height }} tall (or larger)","PinBuilder.PinQualityDrawer.resolution.orLarger","recommendation of pin photo resolution"),{width:V(540,n),height:V(960,n)})})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Duration","PinBuilder.PinQualityDrawer.title.duration","duration of the pin video")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n.ngettext("{{ duration }} second","{{ duration }} seconds",4,"PinBuilder.PinQualityDrawer.duration","pin video's duration in unit of seconds"),{duration:4})})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n.ngettext("At least {{ duration }} second","At least {{ duration }} seconds",4,"PinBuilder.PinQualityDrawer.duration.atLeast","pin video's duration at least how many seconds"),{duration:4})})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Aspect Ratio","PinBuilder.PinQualityDrawer.title.ratio","aspect ratio of this pin video")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ widthRatio }} wide : {{ heightRatio }} tall (or more wide, less tall)","PinBuilder.PinQualityDrawer.ratio","the aspect ratio of pin"),{widthRatio:3,heightRatio:2})})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:(0,D.Z)(n._("{{ widthRatio }} wide : {{ heightRatio }} tall (or less wide, more tall)","PinBuilder.PinQualityDrawer.ratio","the aspect ratio of pin"),{widthRatio:2,heightRatio:3})})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Title Length","PinBuilder.PinQualityDrawer.title.titleLength","the length of the title of this pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:r})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:M(J.bA,J.Ke,n)})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Description Length","PinBuilder.PinQualityDrawer.title.descriptionLength","the length of the description of this pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:r})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:F(0,n)})})]}),(0,l.jsxs)(s.iA.Row,{children:[(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Destination Link","PinBuilder.PinQualityDrawer.title.link","the destination link of this pin")})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:r})}),(0,l.jsx)(s.iA.Cell,{children:(0,l.jsx)(s.xv,{size:"sm",children:n._("Have a destination link","PinBuilder.PinQualityDrawer.link.recommendation","Recommended to have a destination link for the pin to create")})})]})]})]})]})]})})})})),U=n(805092),Z=n(76535),L=n(773559),Q=n(34411),W=n(268751),q=n(7769),H=n(44062),G=n(946753);function X(e){var t=e.currentIndex,n=e.numPinItems,r=(0,c.ZP)();return(0,l.jsx)(s.xu,{position:"absolute",top:!0,right:!0,margin:3,children:(0,l.jsx)(s.xu,{rounding:"pill",paddingY:2,paddingX:3,color:"transparentDarkGray",children:(0,l.jsx)(s.xv,{color:"white",size:"md",weight:"bold",children:(0,G.nk)(r._("{{ current }}/{{ total }}","Text denoting the current item number a user is viewing in a carousel","Text denoting the current item number a user is viewing in a carousel"),{current:t,total:n})})})})}var Y=(0,o.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId],r=n.pinItemIds;return{currentIndex:n.pinItemIndex+1,numPinItems:r.filter((function(t){return!!e.pinbuilder.pinItems[t].media})).length}}))((function(e){return X({currentIndex:e.currentIndex,numPinItems:e.numPinItems})}));function K(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=n(453512);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r,o=se(i);function i(){var e;ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pe(ue(e=o.call.apply(o,[this].concat(n))),"state",{media:null}),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.assets.reduce((function(e,t){return"localImage"===t.type?[].concat(re(e),[t]):e}),[]).slice(0,5);(0,$.Z)(t).then((function(t){var n=t.media;e.setState({media:n})}))}},{key:"render",value:function(){var e=this.state.media,t=e?J.Uw/(e.width>e.height?e.width:e.height):0;return(0,l.jsxs)(s.xu,{display:"flex",direction:"column",alignItems:"center",padding:2,justifyContent:"center",height:"100%",children:[(0,l.jsx)(s.xu,{marginBottom:6,width:J.Uw,children:(0,l.jsx)(s.xv,{align:"center",children:this.props.i18n._("Create a collage","Instructing the user that all the images selected will be combined into 1 image","Instructing the user that all the images selected will be combined into 1 image")})}),(0,l.jsx)(s.xu,{height:"100%",children:e&&(0,l.jsx)(s.xu,{"data-test-id":"layout-picker-collage-preview",width:e.width*t,height:e.height*t,rounding:2,overflow:"hidden",children:(0,l.jsx)(s.Ee,{alt:this.props.i18n._("A collage image combined from selected images","Preview of how the collage would look.","Preview of how the collage would look."),naturalHeight:e.height,naturalWidth:e.width,src:e.src})})})]})}}])&&ae(t.prototype,n),r&&ae(t,r),i}(r.Component);var he=n(451190);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=[{component:function(e){var t=e.assets,n=(0,c.ZP)(),r=t.reduce((function(e,t){return"localImage"===t.type?[].concat(K(e),[t]):e}),[]).slice(0,5);if(r.length>0){var o=r[0],i=J.Uw/(o.width>o.height?o.width:o.height);return(0,l.jsxs)(s.xu,{display:"flex",direction:"column",alignItems:"center",padding:2,height:"100%",children:[(0,l.jsx)(s.xu,{marginBottom:6,width:J.Uw,children:(0,l.jsx)(s.xv,{align:"center",children:n._("Create a carousel","Instructing the user that all the images selected will be combined into a carousel","Instructing the user that all the images selected will be combined into a carousel")})}),(0,l.jsxs)(s.xu,{"data-test-id":"layout-picker-carousel-preview",display:"flex",direction:"column",height:"100%",justifyContent:"center",children:[(0,l.jsx)(s.xu,{width:o.width*i,height:o.height*i,rounding:2,overflow:"hidden",children:(0,l.jsx)(s.Ee,{alt:n._("A carousel image.","Preview of how the carousel would look.","Preview of how the carousel would look."),naturalHeight:o.height,naturalWidth:o.width,src:o.src,children:(0,l.jsx)(X,{currentIndex:1,numPinItems:r.length})})}),(0,l.jsx)(s.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,marginTop:2,children:r.map((function(e,t){return(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(s.xu,{color:0===t?"darkGray":"gray",height:10,rounding:"circle",width:10})},e.src)}))})]})]})}return null},name:"carousel"},{component:function(e){var t=(0,c.ZP)();return(0,l.jsx)(fe,ne(ne({},e),{},{i18n:t}))},name:"layout"}],Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,e);var t,n,r,o=Ie(i);function i(){var e;ye(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oe(_e(e=o.call.apply(o,[this].concat(n))),"state",{selectedLayout:null,hoveredLayout:null}),Oe(_e(e),"handleSelect",(function(t){return function(){e.setState({selectedLayout:t})}})),Oe(_e(e),"handleOnMouseEnter",(function(t){return function(){e.setState({hoveredLayout:t})}})),Oe(_e(e),"handleOnMouseLeave",(function(){return function(){e.setState({hoveredLayout:null})}})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.assets,r=t.onDismiss,o=t.onPrimaryAction,i=t.primaryButtonText,a=this.state,c=a.selectedLayout,u=a.hoveredLayout,d=i||this.props.i18n._("Create Pin","Button to create either a carousel Pin or Pin with multiple images","Button to create either a carousel Pin or Pin with multiple images");return(0,l.jsx)(he.Z,{accessibilityModalLabel:this.props.i18n._("Pick a Pin","Label to describe the Pin format picker","Label to describe the Pin format picker"),heading:(0,l.jsx)(s.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,l.jsx)(s.X6,{size:"md",children:this.props.i18n._("Pick a Pin","Label to of the Pin format picker.","Label to of the Pin format picker.")})}),onDismiss:r,footer:(0,l.jsxs)(s.xu,{display:"flex",justifyContent:"between",alignItems:"center",paddingX:4,children:[(0,l.jsx)(s.xu,{width:"50%",children:(0,l.jsx)(s.xv,{color:"gray",size:"md",overflow:"normal",children:this.props.i18n._("Psst...you can edit and reorder your images later","Information for the Pin format picker model, choosing between carousel and collage.","Information for the Pin format picker model, choosing between carousel and collage.")})}),(0,l.jsx)(s.xu,{"data-test-id":"layout-picker-action-button",display:"flex",flex:"none",marginStart:-1,marginEnd:-1,marginTop:1,children:(0,l.jsx)(s.zx,{color:"red",disabled:!c,onClick:function(){return o(e.state.selectedLayout)},text:d})})]}),size:912,children:(0,l.jsx)(s.xu,{display:"flex",justifyContent:"center",paddingX:4,paddingY:8,height:460,children:Ae.map((function(t,r){var o=t.component,i=t.name;return(0,l.jsx)(s.xu,{height:380,width:350,marginEnd:1===r?3:0,marginStart:1===r?3:0,rounding:2,color:u===i?"lightGray":"white",dangerouslySetInlineStyle:{__style:{border:"2px solid",borderColor:c===i?"#e60023":"#efefef"}},onMouseEnter:e.handleOnMouseEnter(i),onMouseLeave:e.handleOnMouseLeave(),children:(0,l.jsx)(s.iP,{fullHeight:!0,onTap:e.handleSelect(i),rounding:2,children:(0,l.jsx)(s.xu,{height:"100%",paddingY:4,children:o&&(0,l.jsx)(o,{assets:n})})})},r)}))})})}}])&&ve(t.prototype,n),r&&ve(t,r),i}(r.Component);function Pe(e){var t=(0,c.ZP)();return(0,l.jsx)(Se,ge(ge({},e),{},{i18n:t}))}var Ee=n(743174),ke=n(585967);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ne(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={__style:{zIndex:J.v9}},Qe={__style:{border:"dashed 2px #dadada",borderRadius:6}},We={color:"#6c6c6c"};function qe(e,t){(0,a.j)(101,{component:13308,element:12171,view:e,viewParameter:t})}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(i,e);var t,n,r,o=Me(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ze(Ne(t=o.call(this,e)),"state",{isAssetPickerOpen:!1,isLayoutPickerOpen:!1,assets:[],isDrawerOpen:!1}),Ze(Ne(t),"handleAddMediaToPinDraft",(function(e){var n=t.props,r=n.addMediaToPinDraft,o=n.pinDraftId;r(e,"carousel"===n.type?o:void 0)})),Ze(Ne(t),"handleOpenLayoutPicker",(function(e){t.setState({isLayoutPickerOpen:!0,assets:e})})),Ze(Ne(t),"handleChange",(function(e){var n=t.props,r=n.processFiles,o=n.type,i=Array.from(e.target.files);Z.Z.enabled("carousel")&&Z.Z.enabled("layouts")&&"carousel"!==o&&i.length>1?t.openLayoutPickerForFiles(i):r(i),(0,a.j)(101,{component:13308,element:10967,pin_builder_data:JSON.stringify({media_types:i.map((function(e){return e.type}))}),view:t.props.viewType,viewParameter:t.props.viewParameter}),e.target.value=""})),Ze(Ne(t),"handleClick",(function(e){(0,a.j)(101,{component:13308,element:10966,view:t.props.viewType,viewParameter:t.props.viewParameter}),Z.Z.enabled("asset_picker")&&(t.setState({isAssetPickerOpen:!0}),(0,a.j)(120,{component:13392,view:t.props.viewType,viewParameter:t.props.viewParameter}),e.preventDefault())})),Ze(Ne(t),"handleDismiss",(function(){var e=t.state,n=e.isAssetPickerOpen,r=e.isLayoutPickerOpen;n?(t.setState({isAssetPickerOpen:!1}),(0,a.j)(123,{component:13392,view:t.props.viewType,viewParameter:t.props.viewParameter})):r&&t.setState({isLayoutPickerOpen:!1})})),Ze(Ne(t),"handleDrawerDismiss",(function(){t.setState({isDrawerOpen:!1})})),Ze(Ne(t),"handleDrop",(function(e){var n=t.props.processFiles,r=(0,U.Z)(e.dataTransfer);(0,a.j)(3502,{component:13308,element:10966,pin_builder_data:JSON.stringify({media_types:r.map((function(e){return e.type}))}),view:t.props.viewType,viewParameter:t.props.viewParameter}),Z.Z.enabled("carousel")&&r.length>1?t.openLayoutPickerForFiles(r):n(Z.Z.enabled("carousel")?r:r.slice(0,1))})),Ze(Ne(t),"handleLayoutSelected",(function(e){if("layout"===e)(0,t.props.createLayoutPinDraft)(t.state.assets);else if("carousel"===e){var n=t.props,r=n.addMediaToPinDraft,o=n.pinDraftId;r(t.state.assets,o)}})),Ze(Ne(t),"getPrimaryAction",(function(){var e=t.props,n=e.createPinDrafts;return"carousel"===e.type?t.handleAddMediaToPinDraft:n})),Ze(Ne(t),"getSecondaryAction",(function(){var e=t.props.type;if(t.state.isAssetPickerOpen&&"single"===e)return t.handleOpenLayoutPicker})),Ze(Ne(t),"getText",(function(){var e=t.props,n=e.type,r=e.mediaError,o="carousel"===n,i=Z.Z.enabled("carousel"),a=!o&&Z.Z.enabled("video");return r||(o?t.props.i18n._("Upload another image to create a carousel","pinbuilder.pindraft.media.mediaEmptyView.carouselText","Label on drag and drop area for uploading a Pin."):i&&a?t.props.i18n._("Drag and drop or click to upload images or a video","Label on drag and drop area for uploading a Pin.","Label on drag and drop area for uploading a Pin."):i?t.props.i18n._("Drag and drop or click to upload your images","Label on drag and drop area for uploading a Pin.","Label on drag and drop area for uploading a Pin."):a?t.props.i18n._("Drag and drop or click to upload your image or video","Label on drag/drop area for uploading a pin","Label on drag/drop area for uploading a pin"):t.props.i18n._("Drag and drop or click to upload","Label on drag/drop area for uploading a pin","Label on drag/drop area for uploading a pin"))})),Z.Z.enabled("layouts")&&(0,R.Z)(),t}return t=i,(n=[{key:"openLayoutPickerForFiles",value:function(e){var t=this,n=this.props.processFiles;(0,W.Z)(this.props.i18n,e,{allowVideo:!1}).then((function(r){var o=r.reduce((function(e,t){return"error"!==t.type?[].concat(De(e),[t]):e}),[]);o.length>1?t.setState({isLayoutPickerOpen:!0,assets:o}):n(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.aspectRatio,r=t.isPartner,o=t.mediaError,i=t.type,a=t.pinDraftId,c=this.state,u=c.assets,d=c.isDrawerOpen,p=c.isAssetPickerOpen,f=c.isLayoutPickerOpen,h=Z.Z.enabled("carousel"),b="carousel"!==i&&Z.Z.enabled("video"),m=[].concat(De(J.xl),De(b?J.ss:[])).join(","),g=["upload","scrape"];Z.Z.enabled("asset_picker_dropbox")&&g.push("dropbox");var y=J.sy/1024/1024/1024,v=J.qr/1024/1024,x=(0,G.nk)(this.props.i18n._("Recommendation: Use high-quality .jpg files less than {{max_image_size_mb}}MB","Help text on Pin creation specifying best practices for images","Help text on Pin creation specifying best practices for images"),{max_image_size_mb:v}),I=(0,G.nk)(this.props.i18n._("Recommendation: Use high-quality .jpg files less than {{max_image_size_mb}}MB or .mp4 files less than {{max_video_size_gb}}GB","Help text on Pin creation specifying best practices for images","Help text on Pin creation specifying best practices for images"),{max_image_size_mb:v,max_video_size_gb:y}),w=Z.Z.enabled("pinQuality");return(0,l.jsx)(q.lE,{children:function(t){var c=t.openHelpTextInNewWindow;return(0,l.jsx)(s.xu,{height:"100%",width:"100%",children:(0,l.jsx)(B.Z,{accept:m,allowMultipleFiles:h,hasError:!!o,id:"media-upload-input-"+a,onChange:e.handleChange,onClick:e.handleClick,onDrop:e.handleDrop,isAriaHidden:!0,children:function(){return(0,l.jsxs)(s.xu,{column:12,"data-test-id":"media-empty-view",height:"100%",overflow:"hidden",padding:3,position:"relative",rounding:3,children:[(0,l.jsxs)(s.xu,{alignItems:"center",column:12,dangerouslySetInlineStyle:Qe,direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,l.jsx)(s.xu,{padding:2,children:(0,l.jsx)(s.JO,{accessibilityLabel:o?e.props.i18n._("Upload error","Error alert icon shown when file upload fails","Error alert icon shown when file upload fails"):e.props.i18n._("Add an image or video","Add an image or video as part of the pin","Add an image or video as part of the pin"),color:o?"red":"gray",icon:o?"alert":"arrow-circle-up",size:32})}),n<=1&&(0,l.jsx)(s.xu,{column:12,marginTop:4,paddingX:12,children:(0,l.jsx)(s.xv,{align:"center",color:o?"red":"darkGray",overflow:"normal",children:e.getText()})})]}),n<=1.7777777777777777&&(0,l.jsxs)(s.xu,{bottom:!0,left:!0,margin:n<=1?8:5,overflow:"hidden",position:"absolute",right:!0,children:[(0,l.jsx)(s.xv,{align:"center",color:o?"red":"gray",overflow:"normal",size:"md",children:(0,l.jsx)("span",{style:o?void 0:We,children:b?I:x})}),r&&(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:Le,marginTop:2,overflow:"hidden",position:"relative","data-test-id":"pin-help-link",children:(0,l.jsx)(s.xv,{align:"center",color:o?"red":"gray",overflow:"normal",size:"md",weight:"bold",children:w?(0,l.jsx)(s.rU,{href:L.Z.settings.PARTNER_SITE_MAKE_GREAT_PINS_URL,target:"blank",onClick:function(t){var n=t.event;(0,t.dangerouslyDisableOnNavigation)(),qe(e.props.viewType,e.props.viewParameter),c||(n.preventDefault(),e.setState({isDrawerOpen:!0}))},children:(0,l.jsx)(s.xv,{inline:!0,size:"md",children:(0,l.jsx)("span",{style:We,children:(0,G.nk)(e.props.i18n._("{{SeeGuidelineLink}} for high quality Pins","PinBuilder.link.showGuidelineDrawer.full",'The text including a link to open the drawer which introduces our guideline for creating pins. This is a concatenation of 2 strings, the first part is a bold clickable link reads "See guidelines"'),{SeeGuidelineLink:(0,l.jsx)(s.xv,{inline:!0,size:"md",weight:"bold",children:(0,l.jsx)("span",{style:We,children:e.props.i18n._("See guidelines","PinBuilder.link.showGuidelineDrawer",'The link used to open a drawer which introduces our guideline for creating pins. It will be concatenated the front of the other part of this sentence "for high quality Pins"')})},"seeGuidelineLink")})})})}):(0,l.jsx)(s.rU,{href:L.Z.settings.PARTNER_SITE_MAKE_GREAT_PINS_URL,target:"blank",onClick:function(t){(0,t.dangerouslyDisableOnNavigation)(),qe(e.props.viewType,e.props.viewParameter)},children:(0,l.jsx)("span",{style:We,children:b?e.props.i18n._("View image and video specs","Link text to Pinterest product specs","Link text to Pinterest product specs"):e.props.i18n._("View image specs","Link text to Pinterest product specs","Link text to Pinterest product specs")})})})})]}),w&&d&&(0,l.jsx)(N,{onDismiss:e.handleDrawerDismiss}),p&&(0,l.jsx)(C.Z,{onDismiss:e.handleDismiss,onPrimaryAction:e.getPrimaryAction(),onSecondaryAction:e.getSecondaryAction(),primaryButtonText:"carousel"===i?e.props.i18n._("Add to Pin","Button text for adding media to Pin like adding another image to a carousel Pin","Button text for adding media to Pin like adding another image to a carousel Pin"):void 0,secondaryButtonText:e.props.i18n._("Combine into 1 Pin","Button to create either a carousel Pin or Pin with multiple images","Button to create either a carousel Pin or Pin with multiple images"),shownTabs:g}),f&&(0,l.jsx)(Pe,{assets:u,onDismiss:e.handleDismiss,onPrimaryAction:e.handleLayoutSelected,primaryButtonText:e.props.i18n._("Create Pin","Button text for create a carousel Pin or single Pin with layout image.","Button text for create a carousel Pin or single Pin with layout image.")})]})}})})}})}}])&&Je(t.prototype,n),r&&Je(t,r),i}(r.Component);function Ge(e){var t=(0,c.ZP)(),n=e.pinDraftId,r=(0,o.useDispatch)(),i=(0,Q.Z)(),a=i.isAuth&&i.isEmployee,s=i.isAuth&&i.isPartner,u=i.isAuth?i.id:"",d=i.isAuth?i.country:"",p=(0,o.useSelector)((function(e){var t=e.pinbuilder,r=t.pinDrafts,o=t.pinItems[r[n].pinItemIds[0]].media;return o?o.width/o.height:0})),f=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].mediaError})),h=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].type})),b=(0,H.s)(),m=b.viewType,g=b.viewParameter;return(0,l.jsx)(He,Be(Be({},e),{},{addMediaToPinDraft:function(e,t){return r((0,Ee.addAssetsToPinDraft)(e,t,a))},aspectRatio:p,createPinDrafts:function(e){return r((0,Ee.createPinDraftsFromAssets)(e,a,u,d,t))},createLayoutPinDraft:function(e){return r((0,Ee.createLayoutPinDraftFromAssets)(e,a))},isPartner:s,mediaError:f,requestContext:(0,ke.B)(),type:h,i18n:t,viewType:m,viewParameter:g}))}var Xe=n(143788),Ye=n(169897),Ke=n(844936),ze=n(258411),$e=n(181307),et=n(297189),tt=n(878243),nt=n(811719);function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var it=function(e,t){return"localImage"===e||"localVideo"===e&&!!t&&!!t.signature&&Z.Z.enabled("videoEditing")},at=(0,o.connect)((function(){var e=(0,tt.vd)();return function(t,n){var r=t.pinbuilder.pinDrafts[n.pinDraftId],o=r.mode,i=r.publishOption,a=r.type,c=r.isFirstPinCreate,s=r.view,l=t.pinbuilder.pinItems[n.pinItemId].media,u=l?(0,P.Z)(l)||l.type:null,d=t.pinbuilder.pinItems[n.pinItemId].pinTagIds,p=t.pinbuilder.pinTags,f=t.pinbuilder.taggedObjects;return{isTaggable:"single"===a&&!c&&((0,tt.wc)(t,n)||e(t,n).length>0)&&l&&("localImage"===l.type||"localVideo"===l.type&&Z.Z.enabled("videoCollectionsTagging"))&&"publish-immediately"===i,isDeletable:"create"===o&&"external"!==s,isEditable:!c,isEditingEnabled:it(u,l),isReorderable:"carousel"===a&&Z.Z.enabled("carousel"),mediaType:u,pinTagIds:d,pinTags:p,unfilteredTaggedObjects:f}}}),(function(e,t){return{addCarouselItem:function(){return e((0,j.Z)(t.pinDraftId,(0,A.Z)()))},onClickDelete:function(){return e((0,i.kp)(t.pinDraftId,t.pinItemId))},onClickDeleteInterestTags:function(){return e((0,i.c_)(t.pinDraftId))},onClickReorder:function(){return e((0,i.c8)(t.pinDraftId,"reorder"))},onClickTag:function(){return e((0,i.c8)(t.pinDraftId,"tag"))},onClickCollectionsTag:function(){return e((0,i.c8)(t.pinDraftId,"collectionsTag"))},setPinTagStatus:function(t,n){return e((0,et.Cf)(t,n))},deletePinTagTaggedObject:function(t,n){return e((0,et.Go)(t,n))},setTaggedObjectStatus:function(t){return e((0,ze.k)(t,"deleted"))}}}))((function(e){var t=e.addCarouselItem,n=e.isDeletable,i=e.isEditable,u=e.isEditingEnabled,d=e.isReorderable,p=e.isTaggable,f=e.mediaType,h=e.onClickDelete,b=e.onClickDeleteInterestTags,m=e.onClickReorder,g=e.onClickTag,y=e.onClickCollectionsTag,v=e.pinDraftId,x=(e.pinItemId,e.showCarouselCreateButton),I=e.type,w=e.pinTagIds,_=e.pinTags,j=e.unfilteredTaggedObjects,O=e.deletePinTagTaggedObject,A=e.setPinTagStatus,S=e.setTaggedObjectStatus,P=e.deleteText,E=e.editText,k=e.reorderText,C=e.tagText,R=(0,c.ZP)(),B=(0,Q.Z)(),D=(0,$e.tc)("web_stl_tooling"),T=!(!B.isAuth||!B.eligibleForStlTool||"ad_creation"===Z.Z.scenario())&&D({dangerouslySkipActivation:!0}).anyEnabled,J=(0,r.useRef)(null),V=(0,o.useDispatch)(),M=rt((0,r.useState)(!1),2),F=M[0],N=M[1],U=rt((0,r.useState)(!1),2),L=U[0],W=U[1],H=(0,q.V3)().shouldRenderPinEditorStandalone;P=void 0!==P?P:R._("Delete media","Button to delete the media from the Pin","Button to delete the media from the Pin"),E=void 0!==E?E:R._("Edit Pin","Button for editing the Pin image","Button for editing the Pin image"),k=void 0!==k?k:R._("Reorder images","Button for reordering the images in a carousel","Button for reordering the images in a carousel"),C=void 0!==C?C:R._("Tag products","Button for tagging products in a Pin","Button for tagging products in a Pin");var G=R._("Create carousel","pinbuilder.create.carousel","create carousel pins"),X=R._("Create carousel (this removes tagged products)","pinbuilder.carousel.warning","create carousel pins with warning text"),Y=(0,r.useCallback)((function(){N(!1)}),[]),K=(0,r.useCallback)((function(){H?V((0,Ee.setPinEditorPinDraft)(v)):N(!0)}),[]),z=(0,r.useCallback)((function(){(0,a.j)(101,{component:13308,element:11244}),K()}),[]),$=(0,r.useCallback)((function(){switch(f){case"gif":return R._("GIFs can't be edited","Button indicating gif images cannot be edited","Button indicating gif images cannot be edited");case"webImage":return R._("Upload images to make edits","Button indicating scraped images cannot be edited","Button indicating scraped images cannot be edited");case"localVideo":return Z.Z.enabled("videoEditing")?R._("Videos can be edited after upload finishes","Button indicating videos can be edited after uploading finishes","Button indicating videos can be edited after uploading finishes"):R._("Videos can't be edited","Button indicating videos cannot be edited","Button indicating videos cannot be edited");default:return R._("Cannot edit","Button indicating media cant be edited","Button indicating media cant be edited")}}),[]),ee=(0,nt.Z)({pinTagIds:w,pinTags:_,taggedObjects:j}).concat((0,nt.n)({pinTagIds:w,pinTags:_,taggedObjects:j})),te=i&&Z.Z.enabled("editing"),ne=u?E:$(),re={__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",marginLeft:T?-60:0}},oe=ee&&L?X:G;return(0,l.jsx)(s.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,display:"flex",alignItems:"center",children:(0,l.jsxs)(s.xu,{color:"white",dangerouslySetInlineStyle:re,display:"flex",direction:"column",marginStart:-6,padding:1,rounding:"pill",children:[te&&(0,l.jsxs)(s.xu,{"data-test-id":"edit-button",children:[(0,l.jsx)(s.u,{text:ne,idealDirection:T?"left":"down",children:(0,l.jsx)(s.hU,{accessibilityLabel:ne,disabled:!u,iconColor:"darkGray",icon:"edit",onClick:z})}),F&&(0,l.jsx)(Ke.default,{onDismiss:Y,pinDraftId:v})]}),p&&Z.Z.enabled("tagging")&&!T&&(0,l.jsxs)(s.xu,{"data-test-id":"tag-button",children:[(0,l.jsx)(s.xu,{ref:J,children:(0,l.jsx)(s.u,{text:C,idealDirection:T?"left":"down",children:(0,l.jsx)(s.hU,{accessibilityLabel:C,iconColor:"darkGray",icon:"tag",onClick:function(){(0,a.j)(101,{component:13308,element:10908}),Z.Z.enabled("shop_the_pin")?y():g()}})})}),(0,l.jsx)(Ye.Z,{anchor:J.current,experienceIds:[500912],idealDirection:"down",placementId:1000135})]}),x&&T&&"image"===I&&(0,l.jsx)(s.xu,{"data-test-id":"create-carousel-button",onMouseEnter:function(){return W(!0)},onMouseLeave:function(){return W(!1)},children:(0,l.jsx)(s.xu,{ref:J,children:(0,l.jsx)(s.u,{text:oe,idealDirection:T?"left":"down",children:(0,l.jsx)(s.hU,{accessibilityLabel:oe,dangerouslySetSvgPath:{__path:"M19 8C18.448 8 18 8.448 18 9V16C18 16.552 18.448 17 19 17H23C23.552 17 24 16.552 24 16V9C24 8.448 23.552 8 23 8H19ZM11 8C10.448 8 10 8.448 10 9V16C10 16.552 10.448 17 11 17H15C15.552 17 16 16.552 16 16V9C16 8.448 15.552 8 15 8H11ZM7 7H1C0.448 7 0 7.448 0 8V17C0 17.552 0.448 18 1 18H7C7.552 18 8 17.552 8 17V8C8 7.448 7.552 7 7 7Z"},iconColor:"darkGray",onClick:function(){(0,a.j)(101,{component:13308,element:11123}),ee.length&&ee.forEach((function(e){var t,n,r,o,i;t=e.pinTagId,n=e.taggedObjectId,r=_[t],o=r.x,i=r.y,"deleted"!==r.status&&(o&&i?A(t,"deleted"):(O(t,n),A(t,"edited"))),S(e.pinTagId)})),t()}})})})}),d&&(0,l.jsx)(s.xu,{"data-test-id":"reorder-button",children:(0,l.jsx)(s.u,{text:k,idealDirection:T?"left":"down",children:(0,l.jsx)(s.hU,{accessibilityLabel:k,iconColor:"darkGray",icon:"reorder-images",onClick:function(){(0,a.j)(101,{component:13308,element:11124}),m()}})})}),n&&(0,l.jsx)(s.xu,{"data-test-id":"trash-button",children:(0,l.jsx)(s.u,{text:P,idealDirection:T?"left":"down",children:(0,l.jsx)(s.hU,{accessibilityLabel:P,iconColor:"darkGray",icon:"trash-can",onClick:function(){(0,a.j)(101,{component:13308,element:11125}),"localVideo"===f&&Z.Z.enabled("videoTagging")&&b(),h()}})})})]})})})),ct={overlay:{__style:{backgroundColor:"rgba(239, 245, 252, 0.92)",pointerEvents:"none"}},border:{__style:{border:"dashed 2px #dadada",borderRadius:6}}};function st(e){var t=e.type,n=(0,c.ZP)();return(0,l.jsx)(s.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,padding:3,dangerouslySetInlineStyle:ct.overlay,children:(0,l.jsx)(s.xu,{alignItems:"center",column:12,display:"flex",height:"100%",justifyContent:"center",dangerouslySetInlineStyle:ct.border,children:(0,l.jsx)(s.xv,{align:"center",color:"blue",overflow:"normal",children:"image"===t?n._("Replace image","Text that appears over image when user drags to replace","Text that appears over image when user drags to replace"):n._("Replace video","Text that appears over video when user drags to replace","Text that appears over video when user drags to replace")})})})}var lt=n(990531),ut=n(573818),dt=n(189509),pt=n(129206),ft=n(926142),ht=n(997993);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(i,e);var t,n,r,o=It(i);function i(){var e;yt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ot(_t(e=o.call.apply(o,[this].concat(n))),"setTextFieldInput",(function(t){e.textfieldInput=t})),Ot(_t(e),"getLinkError",(function(){var t=e.props,n=t.link,r=t.linksUsed,o=n&&r.includes(n)?e.props.i18n._("You can't tag from the same page twice.","Error message for using the same product link twice on a Pin tag","Error message for using the same product link twice on a Pin tag"):null,i=n?(0,ht.FU)([(0,ht.Jx)({message:(0,pt.Z)("URL_INVALID",e.props.i18n).message})],n).join(""):null;return o||i||null})),Ot(_t(e),"handleBlur",(function(t){var n=t.value;(0,e.props.setLink)(n,e.getLinkError())})),Ot(_t(e),"handleChange",(function(t){var n=t.value;(0,e.props.setLink)(n)})),Ot(_t(e),"handleClick",(function(){var t=e.props,n=t.link,r=t.mode,o=t.openSelectTagView,i=t.setLink,c=e.getLinkError();i(n,c),c&&(0,a.j)(7503,{component:13308,element:10909,method:r}),n&&!c&&(o(),(0,a.j)(3811,{component:13308,element:10909,method:r}))})),Ot(_t(e),"handleSubmit",(function(t){t.preventDefault(),e.handleClick()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;window.setTimeout((function(){e.textfieldInput&&e.textfieldInput.focus()}),0)}},{key:"render",value:function(){var e=this.props,t=e.link,n=e.linkError,r="pin-draft-affiliate-link";return(0,l.jsxs)(s.xu,{paddingX:2,paddingY:3,column:12,children:[(0,l.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:this.handleSubmit,children:(0,l.jsxs)(s.xu,{display:"flex",column:12,children:[(0,l.jsx)(s.xu,{flex:"grow",paddingX:1,children:(0,l.jsx)(s.nv,{hasError:!!n,id:r,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:this.props.i18n._("Enter product or affiliate link","Input field for a website link to a product","Input field for a website link to a product"),ref:this.setTextFieldInput,size:"lg",type:"url",value:t})}),(0,l.jsx)(s.xu,{flex:"none",paddingX:1,children:(0,l.jsx)(s.zx,{color:"red",name:"pin-draft-affiliate-link-button",onClick:this.handleClick,text:this.props.i18n._("Next","Button to submit affiliate link to find products","Button to submit affiliate link to find products")})})]})}),!!n&&(0,l.jsx)(s.xu,{paddingX:1,column:12,children:(0,l.jsx)(dt.Z,{errorMessage:n,htmlFor:r})})]})}}])&&vt(t.prototype,n),r&&vt(t,r),i}(r.Component);var St=(0,o.connect)((function(){var e=(0,ft.A$)();return function(t,n){return{link:t.pinbuilder.pinTags[n.pinTagId].link,linkError:t.pinbuilder.pinTags[n.pinTagId].linkError,linksUsed:e(t,n).map((function(e){return t.pinbuilder.taggedObjects[e].link})),mode:t.pinbuilder.pinDrafts[n.pinDraftId].mode}}}),(function(e,t){return{openSelectTagView:function(){return e((0,i.c8)(t.pinDraftId,"selectTag"))},setLink:function(n,r){return e((0,et.mz)(t.pinTagId,n,r))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(At,gt(gt({},e),{},{i18n:t}))})),Pt=n(51610),Et=n(874048);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut={cursor:"grab",transition:"opacity 0.15s ease"},Zt=Ft(Ft({},Ut),{},{cursor:"grabbing",opacity:.5}),Lt=Ft(Ft({},Ut),{},{cursor:"pointer"}),Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(a,e);var t,n,o,i=Dt(a);function a(){var e;Ct(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(Jt(e=i.call.apply(i,[this].concat(n))),"state",{pinTagDotRef:null}),Nt(Jt(e),"setPinTagDotRef",(function(t){e.setState({pinTagDotRef:t})})),Nt(Jt(e),"handleMouseDown",(function(){var t=e.props,n=t.editable,r=t.isAtTaggedObjectLimit,o=t.startMoving,i=t.selectPinTag,a=t.setTagError;(i(),n)&&(o(),a(r?e.props.i18n._("You've reached the maximum number of products for a tag.","Error message when user attempts to add more than 8 products to a tag","Error message when user attempts to add more than 8 products to a tag"):null))})),Nt(Jt(e),"handleMouseUp",(function(t){var n=e.props,r=n.editable,o=n.stopMoving;t.stopPropagation(),r&&o()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.isAtTaggedObjectLimit,o=e.isGrabbing,i=e.isSelected,a=e.isSelectingTag,c=e.pinDraftId,u=e.pinTagId,d=e.pinTagKey,p=e.x,f=e.y,h=this.state.pinTagDotRef,b=t?o?Zt:Ut:Lt,m=i&&!n&&!o&&!a&&t&&!!h;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(ut.Z,{backdropDiameter:40,dotDiameter:J.yI,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,ref:this.setPinTagDotRef,selected:i,style:b,text:t?d:void 0,x:p,y:f}),m&&(0,l.jsx)(s.mh,{children:(0,l.jsx)(Pt.Z,{children:(0,l.jsx)(s.J2,{anchor:h,idealDirection:"down",onDismiss:function(){},positionRelativeToAnchor:!1,size:"xl",shouldFocus:!1,children:(0,l.jsx)(St,{pinDraftId:c,pinTagId:u})})})})]})}}])&&Rt(t.prototype,n),o&&Rt(t,o),a}(r.Component);var Wt=(0,o.connect)((function(){var e=(0,ft.A$)();return function(t,n){var r=t.pinbuilder,o=r.pinDrafts,i=r.pinItems,a=r.pinTags,c=i[n.pinItemId],s=a[n.pinTagId],l=s.x,u=s.y,d=e(t,n);return{x:l*J.LM,y:c.media?u*(0,lt.Z)(c.media):-1,isAtTaggedObjectLimit:d.length===J.qY,isSelected:c.selectedPinTagId===n.pinTagId,isSelectingTag:"selectTag"===o[n.pinDraftId].view}}}),(function(e,t){return{selectPinTag:function(){return e((0,Et.C_)(t.pinItemId,t.pinTagId))},setTagError:function(n){return e((0,Et.OD)(t.pinItemId,n))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(Qt,Ft(Ft({},e),{},{i18n:t}))}));function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){if(t&&("object"===qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(i,e);var t,n,r,o=zt(i);function i(){var e;Xt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(en(e=o.call.apply(o,[this].concat(n))),"state",{isMovingPinTag:!1}),nn(en(e),"getAnchorCoordinates",(function(e){var t=e.pageX,n=e.pageY,r=e.currentTarget.getBoundingClientRect(),o=r.height,i=r.top;return{x:(t-r.left)/r.width,y:(n-i)/o}})),nn(en(e),"isIntersecting",(function(t,n){var r=e.props,o=r.height;return r.unselectedPinTags.some((function(e){var r=(t-e.x)*J.LM,i=(n-e.y)*o;return Math.pow(r,2)+Math.pow(i,2)<J.$4}))})),nn(en(e),"handleMouseMove",(function(t){var n=e.props,r=n.editable,o=n.movePinTag,i=n.selectedPinTagId;if(r&&(e.state.isMovingPinTag&&i)){var a=e.getAnchorCoordinates(t),c=a.x,s=a.y;e.isIntersecting(c,s)||o(i,c,s)}})),nn(en(e),"handleMouseUp",(function(t){var n=e.props,r=n.closeTagGrid,o=n.createPinTag,i=n.deselectPinTag,c=n.editable,s=n.mode,l=n.pinTagIds,u=n.selectedPinTagId,d=n.setTagError;if(u||!c)c&&r(),i();else{var p=l.length;if(p<J.YM){0===p&&(0,a.j)(7501,{component:13308,element:10910,method:s}),(0,a.j)(101,{component:13308,element:10910,method:s});var f=e.getAnchorCoordinates(t);o(f.x,f.y)}d(p>=J.YM?e.props.i18n._("You've reached the maximum number of tags.","Error message when user attempts to add more than 8 tags to a Pin","Error message when user attempts to add more than 8 tags to a Pin"):null)}})),nn(en(e),"startMovingPinTag",(function(){return e.setState({isMovingPinTag:!0})})),nn(en(e),"stopMovingPinTag",(function(){return e.setState({isMovingPinTag:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.editable,r=t.forwardRef,o=t.pinDraftId,i=t.pinItemId,a=t.pinTagIds,c=t.selectedPinTagId,u=this.state.isMovingPinTag;return(0,l.jsx)(s.xu,{bottom:!(!n&&!c)||void 0,left:!0,onMouseLeave:this.stopMovingPinTag,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,overflow:n?"hidden":void 0,position:"absolute",ref:r,right:!0,top:!0,children:a.map((function(t,r){return(0,l.jsx)(Wt,{editable:n,isGrabbing:u&&t===c,pinDraftId:o,pinItemId:i,pinTagId:t,pinTagKey:r+1,startMoving:e.startMovingPinTag,stopMoving:e.stopMovingPinTag},t)}))})}}])&&Yt(t.prototype,n),r&&Yt(t,r),i}(r.Component);var on=(0,o.connect)((function(){var e=(0,tt.vd)();return function(t,n){var r=t.pinbuilder,o=r.pinDrafts,i=r.pinItems,a=r.pinTags,c=(0,tt.M)(t,n),s=e(t,n),l=i[n.pinItemId].media;return{pinTagIds:s,selectedPinTagId:c,height:l?(0,lt.Z)(l):0,mode:o[n.pinDraftId].mode,unselectedPinTags:s.filter((function(e){return e!==c})).map((function(e){return a[e]}))}}}),(function(e,t){return{closeTagGrid:function(){return e((0,i.c8)(t.pinDraftId,"tag"))},createPinTag:function(n,r){return e((0,Et.hL)(t.pinItemId,n,r))},deselectPinTag:function(){return e((0,Et.yV)(t.pinItemId))},movePinTag:function(t,n,r){return e((0,et.uM)(t,n,r))},setTagError:function(n){return e((0,Et.OD)(t.pinItemId,n))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(rn,Gt(Gt({},e),{},{i18n:t}))}));function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(e,t){if(t&&("object"===an(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(i,e);var t,n,r,o=un(i);function i(){var e;cn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hn(pn(e=o.call.apply(o,[this].concat(n))),"state",{containerRef:null}),hn(pn(e),"saveRef",(function(t){e.setState({containerRef:t})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.pinDraftId,r=e.pinItemId,o=e.showStepTwoExperience,i=e.showStepThreeExperience,a=this.state.containerRef;return(0,l.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,l.jsxs)(s.xu,{position:"relative",height:"100%",column:12,children:[(0,l.jsx)(on,{pinDraftId:n,pinItemId:r,forwardRef:this.saveRef,editable:t}),t&&o&&(0,l.jsx)(Ye.Z,{anchor:a,experienceIds:[500915],idealDirection:"right",placementId:1000135}),t&&i&&(0,l.jsx)(Ye.Z,{anchor:a,experienceIds:[500916],idealDirection:"right",placementId:1000135})]})})}}])&&sn(t.prototype,n),r&&sn(t,r),i}(r.Component),mn=(0,o.connect)((function(){var e=(0,tt.vd)(),t=(0,tt.jk)();return function(n,r){return{showStepTwoExperience:0===e(n,r).length,showStepThreeExperience:t(n,r).length>0}}}))(bn);function gn(e){var t=e.isHovering,n=e.styleOverride,r=void 0===n?{}:n,o=(0,c.ZP)()._("Click anywhere to tag","pinbuilder.product.tagging.icon","Click to tag products");return(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:r},"data-test-id":"stl-overlay-text",height:"100%",position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:t?void 0:"rgba(0, 0, 0, 0.4)"}},"data-test-id":"text-and-icon-wrapper",display:"flex",justifyContent:"center",rounding:"pill",paddingX:4,paddingY:4,position:"relative",children:[(0,l.jsx)(s.JO,{accessibilityLabel:o,color:"white",icon:"tag"}),(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"white",size:"lg",weight:"bold",children:o})})]})})}var yn=n(612072),vn=n(85806);var xn=n(598925),In=n(336105),wn=n(602402);function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function On(e){var t,n=null!==(t=(0,o.useSelector)((function(t){return(0,tt.Bg)(t,e)})))&&void 0!==t?t:{},i=(0,wn.f)(),a=i.shopTheLook,c=i.setMostRecentTaggedObjectId,u=a.mostRecentTaggedObjectId,d=a.stlHoveredTaggedObjectId,p=e.height,f=e.isHovering,h=e.taggedObject,b=e.width,m=_n((0,r.useState)("inOut"),2),g=m[0],y=m[1],v=(0,r.useCallback)((function(){"inOut"===g&&y("none"),c(null)})),x=u===h.id,I=d===h.id;(0,r.useEffect)((function(){(f||I)&&(y("none"),c(null))}),[f,I]);var w,_,j=h.pins[0].closeup_image_signature||(w=n.src,(_=w.split("/"))[_.length-1].split(".")[0]),O=x||I?(0,l.jsx)(s.xu,{position:"absolute",width:b,height:p,children:(0,l.jsx)(xn.Z,{closeupImageSignature:j,displayHeight:p,displayWidth:b,flyoutAnimationType:f||I?void 0:g,onAnimationComplete:v,onStlFlyoutHover:function(){},taggedItem:h,isPinbuilder:!0,isHovering:!0})}):(0,l.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:h.y_percent/100*p-In.b9/2,left:h.x_percent/100*b-In.b9/2}},children:(0,l.jsx)(vn.Z,{})});return(0,l.jsxs)(r.Fragment,{children:[!f&&(0,l.jsx)(s.xu,{"data-test-id":"stl-dot-or-flyout",children:O}),(0,l.jsx)(s.xu,{position:"absolute",width:b,height:p,children:(0,l.jsx)(xn.Z,{closeupImageSignature:j,displayHeight:p,displayWidth:b,flyoutAnimationType:void 0,isHovering:f,isPinbuilder:!0,onAnimationComplete:v,onStlFlyoutHover:function(){},taggedItem:h})})]})}var An=n(183203);function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e){var t=e.height,n=e.isHovering,o=e.pinDraftId,i=e.pinItemId,c=e.taggedObjects,u=e.width,d=(0,wn.f)(),p=d.setCurrentPinDraftId,f=d.setStlCallout,h=d.setStlTaggedCoord,b=d.shopTheLook.stlTaggedCoords,m=(0,r.useRef)();(0,r.useEffect)((function(){return function(){f({showCallout:!1})}}),[]);var g=function(e){if(m.current){var t=m.current.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top,width:t.width,height:t.height}}return{}},y=!!c&&c.length===An.VX,v=function(e){if(function(e){var t=g(e);return!!t&&t.x<t.width-10&&t.x>10&&t.y>26&&t.y<t.height-26}(e)){var t=g(e);t&&(y?f({showCallout:!0,type:"error"}):((0,a.j)(101,{component:13308,element:12081,view:212}),p(o),h({x:t.x,y:t.y,xPercent:t.x/t.width,yPercent:t.y/t.height})))}else p(null),h(null)},x={height:"calc(100% - 48px)",width:"calc(100% - 16px)"},I={border:"dashed 2px #fff",borderRadius:8,cursor:y?"not-allowed":"pointer"},w=!!(c&&c.length>0);return(0,l.jsx)(s.Zf,{height:"100%",children:(0,l.jsxs)("div",{style:{height:"100%",position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"center",cursor:y?"not-allowed":"pointer"},onClick:function(e){return v(e)},onKeyDown:function(){},role:"button",tabIndex:0,ref:m,children:[n&&(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:Pn(Pn(Pn({},I),x),{},{margin:"6px"})},position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",children:!w&&n&&(0,l.jsx)(gn,{isHovering:n})}),c&&c.length>0&&c.map((function(e){return["created","saved"].includes(e.status)?(0,l.jsx)(On,{height:t,isHovering:n,pinItemId:i,taggedObject:e,width:u},e.id):null})),b&&(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:Pn(Pn({},x),{},{top:b.y-In.b9/2,left:b.x-In.b9/2})},children:(0,l.jsx)(vn.Z,{})}),(0,l.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:Pn(Pn({},x),{},{top:b.y-67.5,left:b.x-67.5})},children:(0,l.jsx)(s.o3,{})})]})]})})}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e){var t=e.isHovering,n=e.imageDims,i=e.pinDraftId,a=e.pinItemId,c=n||{},u=c.height,d=c.width,p=(0,tt.vd)(),f=(0,o.useSelector)((function(t){return p(t,e)}))||[],h=(0,o.useSelector)((function(e){return e.pinbuilder}))||{},b=h.pinTags||{},m=h.taggedObjects||{},g=f.filter((function(e){return(0,yn.Z)(b[e])})).map((function(e){var t=m[b[e].taggedObjectIds[0]]||{},n=t.id,r=t.media,o=t.pin,i=t.status;return{id:n,pin_tag_key:b[e].pinTagKey,pins:[Rn(Rn({},o),{},{images:{"236x":{url:null==r?void 0:r.url,width:null==r?void 0:r.width,height:null==r?void 0:r.height}}})],status:i,x_percent:100*b[e].x,y_percent:100*b[e].y}}));return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0,0,0,0.4)":void 0}},height:"100%",width:"100%",overflow:"hidden",position:"absolute",rounding:2}),!!u&&!!d&&(0,l.jsx)(kn,{isHovering:t,pinDraftId:i,height:u,pinItemId:a,taggedObjects:g,width:d})]})}var Tn=n(310054);function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mn=new s.Ry(1);var Fn=(0,o.connect)((function(e,t){var n=e.pinbuilder,r=n.pinDrafts,o=n.pinItems,i=r[t.pinDraftId].type,a=o[t.pinItemId].media;return{showPageNumberOverlay:"carousel"===i&&!!a,showMediaTagOverlay:"single"===i,view:(0,Tn.Xe)(e,t)}}),(function(){return{}}))((function(e){var t=e.image,n=e.isDragging,i=e.isHovering,a=e.pinDraftId,u=e.pinItemId,d=e.showCarouselCreateButton,p=e.showCarouselControlButtons,f=e.showMediaTagOverlay,h=e.showPageNumberOverlay,b=e.view,m=(0,c.ZP)(),g=(0,o.useDispatch)(),y=(0,r.useRef)(null),v=Jn((0,r.useState)(),2),x=v[0],I=v[1],w=Jn((0,r.useState)(),2),_=w[0],j=w[1],O=(0,$e.aq)("web_set_crossorigin_anonymous").anyEnabled,A=Jn((0,r.useState)(O?"anonymous":void 0),2),S=A[0],P=A[1];(0,r.useEffect)((function(){if(y.current){var e=y.current.getBoundingClientRect(),t=e.width,n=e.height;I({height:n,width:t})}}),[y.current]),(0,r.useEffect)((function(){_&&g((0,Et.Sz)(u,{height:_.height,width:_.width}))}),[_]);var E=(0,Q.Z)(),k=(0,$e.tc)("web_stl_tooling"),C=!(!E.isAuth||!E.eligibleForStlTool||"ad_creation"===Z.Z.scenario())&&k({dangerouslySkipActivation:!0}).anyEnabled,R={__style:{boxShadow:n?"0 0 0 1px #0074e8":void 0}};return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(s.xu,{height:"100%",width:"100%",position:C?"absolute":void 0,children:[(0,l.jsx)(s.xu,{"data-test-id":"media-image-view",width:"100%",height:"100%",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:R,ref:y,position:C?"absolute":void 0,children:Z.Z.enabled("offsitePinCreation")?(0,l.jsx)(Xe.Z,{url:t.src,children:function(e){var n,o,i=e.image;return!_&&i.length>0&&j(i[0]),(0,l.jsx)(r.Fragment,{children:i.length>0&&(0,l.jsx)(s.Ee,{alt:m._("Uploaded image","Label for a user uploaded image on Pin create","Label for a user uploaded image on Pin create"),naturalHeight:null!==(n=i[0].height)&&void 0!==n?n:1,naturalWidth:null!==(o=i[0].width)&&void 0!==o?o:1,src:t.src,crossOrigin:S,onError:function(){return P(void 0)}})})}}):(0,l.jsxs)(s.Ee,{alt:m._("Uploaded image","Label for a user uploaded image on Pin create","Label for a user uploaded image on Pin create"),naturalHeight:t.height,naturalWidth:t.width,src:t.src,fit:"contain",children:[h&&(0,l.jsx)(Y,{pinDraftId:a}),f&&!Z.Z.enabled("shop_the_pin")&&(0,l.jsx)(mn,{pinDraftId:a,pinItemId:u,editable:"tag"===b}),n&&(0,l.jsx)(st,{type:"image"})]})}),!Z.Z.enabled("offsitePinCreation")&&"tag"!==b&&"collectionsTag"!==b&&(0,l.jsx)(s.xu,{position:"absolute",height:"100%",width:"100%",top:!0,left:!0,right:!0,bottom:!0,children:(0,l.jsx)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",marginStart:-2,children:(0,l.jsx)(at,{deleteText:m._("Delete image","Button to delete the image from the Pin","Button to delete the image from the Pin"),pinDraftId:a,pinItemId:u,showCarouselCreateButton:d,type:"image"})})}),C&&!i&&!p&&(0,l.jsx)("div",{style:{height:"100%",position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"center"},role:"presentation",children:(0,l.jsx)(s.xu,{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",zIndex:Mn,margin:2,width:"100%",children:(0,l.jsx)(gn,{})})})]}),C&&!p&&(0,l.jsx)(Dn,{imageDims:x,isHovering:i,pinDraftId:a,pinItemId:u})]})}));function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xn(e);if(t){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}function Hn(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn={progressBar:{__style:{backgroundColor:"rgba(241, 53, 53, 1)",borderRadius:"2px",transition:"1s transform",transformOrigin:"left"}},overlay:{__style:{backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6))"}}},zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(i,e);var t,n,r,o=qn(i);function i(){var e;Ln(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(Gn(e=o.call.apply(o,[this].concat(n))),"state",{visible:!!e.props.errorMessage||100!==e.props.progress}),Yn(Gn(e),"handleHide",(function(){e.setState({visible:!1})})),Yn(Gn(e),"getProgressText",(function(){return e.props.progress<100?e.props.i18n._("Uploading...","Upload progress status for pin create","Upload progress status for pin create"):e.props.i18n._("Finishing up","Upload progress status for pin create","Upload progress status for pin create")})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=e.progress,n=this.props,r=n.errorMessage,o=n.progress,i=this.state.visible;!r&&(t<100||i)&&100===o&&(this.hidingTimeout=setTimeout(this.handleHide,3e3))}},{key:"componentWillUnmount",value:function(){this.hidingTimeout&&clearTimeout(this.hidingTimeout)}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.onRetryUpload,r=e.progress;return this.state.visible?(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:Kn.overlay,"data-test-id":"pinbuilder-media-view-progress-bar",height:72,left:!0,position:"absolute",rounding:2,top:!0,width:"100%",children:(0,l.jsxs)(s.xu,{margin:3,children:[(0,l.jsx)(s.xu,{height:6,marginBottom:2,position:"relative",children:!t&&(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:Kn.progressBar,height:"100%",left:!0,position:"absolute",top:!0,width:"".concat(r,"%")})}),(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[!!t&&(0,l.jsx)(s.iP,{fullWidth:!1,onTap:n,rounding:"circle",children:(0,l.jsx)(s.xu,{marginEnd:2,children:(0,l.jsx)(s.JO,{accessibilityLabel:this.props.i18n._("Retry upload","Button allowing a user to retry a failed video upload","Button allowing a user to retry a failed video upload"),color:"white",icon:"refresh",size:20})})}),(0,l.jsx)(s.xv,{color:"white",inline:!0,weight:"bold",children:t||this.getProgressText()})]})]})}):null}}])&&Qn(t.prototype,n),r&&Qn(t,r),i}(r.Component);var $n=function(e){var t=(0,c.ZP)();return(0,l.jsx)(zn,Zn(Zn({},e),{},{i18n:t}))},er=n(234756);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sr(this,n)}}function sr(e,t){if(t&&("object"===tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lr(e)}function lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(i,e);var t,n,r,o=cr(i);function i(){var e;or(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dr(lr(e=o.call.apply(o,[this].concat(n))),"state",{controls:!0,playing:!0,volume:0}),dr(lr(e),"setVideoRef",(function(t){e.videoRef=t})),dr(lr(e),"handlePlay",(function(){return e.setState({playing:!0})})),dr(lr(e),"handlePause",(function(){return e.setState({playing:!1})})),dr(lr(e),"handleHideControls",(function(){return e.setState({controls:!1})})),dr(lr(e),"handleVolumeChange",(function(t){var n=t.event,r=t.volume;n.stopPropagation(),e.setState({volume:r})})),dr(lr(e),"handleMouseEnter",(function(){e.controlsTimeout&&clearTimeout(e.controlsTimeout),e.setState({controls:!0})})),dr(lr(e),"handleMouseLeave",(function(){e.controlsTimeout=setTimeout(e.handleHideControls,J.Hy)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.controlsTimeout=setTimeout(this.handleHideControls,J.Hy)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isSelecting,r=t.video;r.thumbnail!==e.video.thumbnail&&this.videoRef&&(this.videoRef.seek(r.thumbnail),this.setState({playing:!1})),n&&!e.isSelecting&&this.setState({playing:!1}),!n&&e.isSelecting&&this.setState({playing:!0})}},{key:"componentWillUnmount",value:function(){this.controlsTimeout&&clearTimeout(this.controlsTimeout)}},{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.isEdited,r=e.pinDraftId,o=e.pinItemId,i=e.retryUpload,a=e.video,c=e.videoError,u=e.view,d=this.state,p=d.controls,f=d.playing,h=d.volume,b=a.uploadProgress||0,m={__style:{boxShadow:t?"0 0 0 1px #0074e8":void 0}};return(0,l.jsxs)(s.xu,{dangerouslySetInlineStyle:m,"data-test-id":"media-video-view",height:"100%",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,overflow:"hidden",rounding:3,width:"100%",children:[(0,l.jsxs)(s.nk,{ref:this.setVideoRef,accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:a.width/a.height,captions:"",controls:p,loop:!0,onPause:this.handlePause,onPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:f,src:a.src,volume:h,children:[t&&(0,l.jsx)(st,{type:"video"}),(0,l.jsx)($n,{errorMessage:c,onRetryUpload:i,progress:b})]}),n&&(0,l.jsxs)(s.xu,{bottom:!0,color:"transparentDarkGray",dangerouslySetInlineStyle:m,left:!0,padding:3,paddingX:8,position:"absolute",right:!0,top:!0,children:[(0,l.jsx)(s.X6,{color:"white",size:"sm",children:this.props.i18n._("Your edits are stored","editedVideo.overlay.title","Text that appears over video after it has been edited if the preview is not working properly")}),(0,l.jsx)(s.xv,{color:"white",children:this.props.i18n._("Your edits aren't showing up in this preview, but don't worry, they've been stored and will show up in your published video. Tap back to the editing mode to see your edits. ","editedVideo.overlay.message","Text that appears over video after it has been edited if the preview is not working properly")})]}),"tag"!==u&&"collectionsTag"!==u&&(0,l.jsx)(s.xu,{bottom:!0,height:"100%",left:!0,position:"absolute",top:!0,children:(0,l.jsx)(s.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginStart:-2,children:(0,l.jsx)(at,{deleteText:this.props.i18n._("Delete video","Button to delete the video from the Pin","Button to delete the video from the Pin"),pinDraftId:r,pinItemId:o})})})]})}}])&&ir(t.prototype,n),r&&ir(t,r),i}(r.Component);function fr(e){var t=(0,c.ZP)(),n=(0,Q.Z)(),r=n.isAuth?n.id:"",i=n.isAuth?n.country:"",a=(0,o.useDispatch)(),s=e.pinDraftId,u=e.pinItemId,d=(0,o.useSelector)((function(e){return e.pinbuilder.selectedPinDraftIds.length>0})),p=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[s].mediaError})),f=(0,o.useSelector)((function(t){return(0,Tn.Xe)(t,e)}));return(0,l.jsx)(pr,rr(rr({},e),{},{isSelecting:d,retryUpload:function(){return a((0,er.dG)(s,u,r,i,t))},videoError:p,view:f,i18n:t}))}var hr=n(406516);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jr(e);if(t){var o=jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wr(this,n)}}function wr(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(i,e);var t,n,r,o=Ir(i);function i(){var e;yr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or(_r(e=o.call.apply(o,[this].concat(n))),"handleDrop",(function(t){var n=e.props,r=n.media,o=n.processFiles;t.preventDefault(),t.stopPropagation();var i=(0,U.Z)(t.dataTransfer);(0,a.j)(3502,{component:13308,element:10966,pin_builder_data:JSON.stringify({media_types:i.map((function(e){return e.type}))})}),o(Z.Z.enabled("carousel")&&!r?i:i.slice(0,1))})),e}return t=i,(n=[{key:"renderMedia",value:function(e,t){var n=this.props,r=n.media,o=n.pinDraftId,i=n.pinItemId,a=n.isEdited,c=n.showCarouselCreateButton,s=n.showCarouselControlButtons;if(r){if("localImage"===r.type||"webImage"===r.type)return(0,l.jsx)(Fn,{isDragging:e,isHovering:t,image:r,pinDraftId:o,pinItemId:i,showCarouselCreateButton:c,showCarouselControlButtons:s});if("localVideo"===r.type)return(0,l.jsx)(fr,{isDragging:e,isHovering:t,pinDraftId:o,pinItemId:i,video:r,isEdited:a})}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.media,r=t.pinDraftId,o=t.pinItemId,i=t.processFiles;return n?(0,l.jsx)(k.Z,{onDrop:this.handleDrop,children:function(t,n){return e.renderMedia(t,n)}}):(0,l.jsx)(Ge,{pinDraftId:r,pinItemId:o,processFiles:i})}}])&&vr(t.prototype,n),r&&vr(t,r),i}(r.Component);function Sr(e){var t=(0,c.ZP)(),n=(0,o.useDispatch)(),r=(0,Q.Z)(),i=r.isAuth&&r.isPartner,a=r.isAuth?r.id:"",s=r.isAuth?r.country:"";return(0,l.jsx)(Ar,gr(gr({},e),{},{processFiles:function(r){return n((0,hr.Z)(e.pinDraftId,r,i,a,s,t))}}))}function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){if(t&&("object"===Pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr={container:{__style:{borderRadius:6}},overlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}},Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(i,e);var t,n,r,o=Dr(i);function i(){var e;Cr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mr(Jr(e=o.call.apply(o,[this].concat(n))),"state",{isHovering:!1}),Mr(Jr(e),"handleMouseEnter",(function(){e.setState({isHovering:!0})})),Mr(Jr(e),"handleMouseLeave",(function(){e.setState({isHovering:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.clearCustomVideoThumbnail,n=e.coverImg,r=this.state.isHovering;return(0,l.jsx)(s.xu,{height:J.u1,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:"relative",width:J.u1*n.width/n.height,children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:Fr.container,overflow:"hidden",children:(0,l.jsx)(s.Ee,{alt:this.props.i18n._("Uploaded cover image","Label for user uploaded cover image for video","Label for user uploaded cover image for video"),naturalHeight:n.height,naturalWidth:n.width,src:n.src,children:r&&(0,l.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:Fr.overlay,display:"flex",height:"100%",justifyContent:"center",children:(0,l.jsx)(s.hU,{accessibilityLabel:this.props.i18n._("Remove image","Button to remove cover image for video","Button to remove cover image for video"),bgColor:"white",icon:"trash-can",iconColor:"darkGray",onClick:t,size:"xs"})})})})})}}])&&Rr(t.prototype,n),r&&Rr(t,r),i}(r.Component);var Ur=(0,o.connect)(null,(function(e,t){return{clearCustomVideoThumbnail:function(){return e((0,Et.Sz)(t.pinItemId,{customCoverImg:null}))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(Nr,kr(kr({},e),{},{i18n:t}))})),Zr=n(484898);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){to(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qr(e){return function(e){if(Array.isArray(e))return Hr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eo(e);if(t){var o=eo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zr(this,n)}}function zr(e,t){if(t&&("object"===Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var no=.98,ro=new Map,oo=new Map,io={backdrop:{__style:{opacity:.35}},video:{height:"100%",width:"100%"}},ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(a,e);var t,n,o,i=Kr(a);function a(){var e;Gr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return to($r(e=i.call.apply(i,[this].concat(n))),"state",{seeking:!1,thumbnails:ro.get(e.props.video.src)||[]}),to($r(e),"getVideoDuration",(function(){var t=e.props.video,n=t.trimmedEndTime,r=t.trimmedStartTime,o=void 0===r?0:r;return void 0===n?t.duration:n-o})),to($r(e),"getNumThumbnails",(function(){var t=e.props.video,n=oo.get(t.src);if(n)return n;if(e.container){var r=e.container.getBoundingClientRect().width,o=Math.max(Math.ceil(r/e.getVideoWidth()),6);return oo.set(t.src,o),o}return 6})),to($r(e),"getThumbnails",(function(){var t=e.props.video,n=e.getNumThumbnails(),r=0;e.videoThumbnail=document.createElement("video");var o=e.getVideoDuration(),i=function(){e.videoThumbnail.currentTime=r/n*o};e.videoThumbnail.addEventListener("canplaythrough",i),e.videoThumbnail.addEventListener("seeked",(function a(){if(e.videoThumbnail.removeEventListener("canplaythrough",i),r!==n){var c=document.createElement("canvas");c.height=e.videoThumbnail.videoHeight,c.width=e.videoThumbnail.videoWidth,c.getContext("2d").drawImage(e.videoThumbnail,0,0,c.width,c.height);var s=c.toDataURL();e.mounted&&e.setState((function(e){return{thumbnails:[].concat(qr(e.thumbnails),[s])}})),ro.set(t.src,[].concat(qr(e.state.thumbnails),[s])),r+=1,e.videoThumbnail.currentTime=r/n*o}else e.videoThumbnail.removeEventListener("seeked",a)})),e.videoThumbnail.src=t.src})),to($r(e),"getVideoWidth",(function(){var t=e.props,n=t.height,r=void 0===n?92:n,o=t.video;return r*o.width/o.height})),to($r(e),"setContainerRef",(function(t){e.container=t})),to($r(e),"setVideoRef",(function(t){e.video=t})),to($r(e),"mounted",!1),to($r(e),"handleMouseDown",(function(t){(0,e.props.onFocusSlider)(),e.setState({seeking:!0});var n=t.currentTarget.getBoundingClientRect().left;e.mouseOffsetX=t.clientX-n})),to($r(e),"handleMouseMove",(function(t){var n=$r(e).mouseOffsetX,r=e.state.seeking,o=e.props.video.trimmedStartTime,i=void 0===o?0:o;if(r&&n){var a=e.props,c=a.setThumbnail,s=a.video,l=t.currentTarget.getBoundingClientRect(),u=l.left,d=l.width,p=t.clientX-u-n,f=Math.max(0,Math.min(p/(d-e.getVideoWidth()),1)),h=Math.min(f,no)*s.duration;e.video&&h<=e.getVideoDuration()&&(e.video.currentTime=i+h,c(i+h))}})),to($r(e),"handleMouseUp",(function(){e.setState({seeking:!1}),e.mouseOffsetX=null})),to($r(e),"isSafari",Zr.Z.isSafari()),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props.video;this.video&&(this.video.currentTime=e.thumbnail),ro.has(e.src)||this.getThumbnails()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.setThumbnail,r=t.video,o=r.trimmedEndTime,i=r.trimmedStartTime;if(r.src!==e.video.src){var a=ro.get(r.src);a?this.setState({thumbnails:a}):this.getThumbnails()}e.video.trimmedEndTime===o&&e.video.trimmedStartTime===i||(this.video&&(this.video.currentTime=i||0),n(i||0),this.setState({thumbnails:[]}),ro.set(r.src,[]),this.getThumbnails())}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,o=t.showHeading,i=t.video,a=i.trimmedStartTime,c=void 0===a?0:a,u=this.state,d=u.seeking,p=u.thumbnails,f=this.getVideoWidth(),h=this.getVideoDuration(),b=Math.max(0,Math.round(100*(i.thumbnail-c)/h)/100),m=b>=no?1:b;return(0,l.jsxs)(r.Fragment,{children:[o&&(0,l.jsx)(s.xu,{marginBottom:3,children:(0,l.jsx)(s.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:this.props.i18n._("Pick a cover image","Heading for slider to select video thumbnail image","Heading for slider to select video thumbnail image")})}),(0,l.jsxs)(s.xu,{color:"lightGray",column:12,rounding:1,height:n,overflow:"hidden",position:"relative",children:[(0,l.jsx)(s.xu,{color:"white",column:12,dangerouslySetInlineStyle:io.backdrop,height:"100%",position:"relative",children:p.map((function(t,r){return(0,l.jsx)(s.xu,{position:"absolute",height:n,width:f,dangerouslySetInlineStyle:{__style:{left:"".concat(r*(100/e.getNumThumbnails()),"%")}},children:(0,l.jsx)(s.Ee,{alt:"",naturalHeight:i.height,naturalWidth:i.width,src:t})},r)}))}),(0,l.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,l.jsx)(s.xu,{column:12,height:"100%",onMouseLeave:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,position:"relative",ref:this.setContainerRef,children:(0,l.jsx)(s.xu,{rounding:1,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 3px #fff",cursor:d?"grabbing":"grab",left:"calc((100% - ".concat(f,"px) * ").concat(m,")")}},"data-test-id":"pin-draft-video-thumbnail-slider",height:n,overflow:"hidden",position:"absolute",width:f,children:(0,l.jsx)("video",{muted:!0,onMouseDown:this.handleMouseDown,ref:this.setVideoRef,src:i.src,style:io.video,children:(0,l.jsx)("track",{kind:"captions"})})})})})]})]})}}])&&Xr(t.prototype,n),o&&Xr(t,o),a}(r.Component);to(ao,"defaultProps",{height:92,showHeading:!0});var co=(0,o.connect)(null,(function(e,t){return{setThumbnail:function(n){return e((0,Et.Sz)(t.pinItemId,{thumbnail:n}))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(ao,Wr(Wr({},e),{},{i18n:t}))})),so=n(372802);function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vo(e);if(t){var o=vo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return go(this,n)}}function go(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yo(e)}function yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Io={border:{__style:{border:"dashed 0.5px rgba(51, 51, 51, 0.2)",borderRadius:.7}}},wo={__style:{padding:3}},_o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(c,e);var t,n,o,i=mo(c);function c(){var e;fo(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return xo(yo(e=i.call.apply(i,[this].concat(n))),"state",{coverImgError:null}),xo(yo(e),"uploadRef",(0,r.createRef)()),xo(yo(e),"logFailedAttempt",(function(e){(0,a.j)(7897,{component:13308,error_message:e})})),xo(yo(e),"clearCoverImgError",(function(){e.setState({coverImgError:null})})),xo(yo(e),"handleDrop",(function(t){t.preventDefault(),t.stopPropagation(),e.setState({coverImgError:null});var n=(0,U.Z)(t.dataTransfer);n.length>0&&(0,so.Z)(e.props.i18n,n[0]).then((function(t){return e.handleFileValidation(t)}))})),xo(yo(e),"handleChange",(function(t){e.setState({coverImgError:null});var n=t.target.files&&t.target.files[0];(0,so.Z)(e.props.i18n,n).then((function(t){return e.handleFileValidation(t)})),t.target.value=""})),xo(yo(e),"handleFileValidation",(function(t){var n=e.props,r=n.setCustomVideoThumbnail,o=n.video;switch(t.type){case"error":e.logFailedAttempt(t.id),e.setState({coverImgError:t});break;case"localVideo":var i=(0,pt.Z)("FILE_UNRECOGNIZED_TYPE",e.props.i18n);e.logFailedAttempt(i.id),e.setState({coverImgError:i});break;case"localImage":if(Math.abs(o.width/o.height-t.width/t.height)>.001){var a=(0,pt.Z)("VIDEO_COVER_INVALID_ASPECT_RATIO",e.props.i18n);e.logFailedAttempt(a.id),e.setState({coverImgError:a})}else r(t)}})),e}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.pinItemId,r=t.video,o=this.state.coverImgError;return(0,l.jsxs)(s.xu,{display:"flex",marginStart:-2,marginEnd:-2,wrap:!0,children:[(0,l.jsx)(s.xu,{flex:"grow",paddingX:2,children:(0,l.jsx)(co,{height:J.u1,pinItemId:n,onFocusSlider:this.clearCoverImgError,showHeading:!1,video:r})}),(0,l.jsxs)(s.xu,{display:"flex",flex:"none",justifyContent:"end",paddingX:2,ref:this.uploadRef,children:[(0,l.jsx)(B.Z,{accept:J.xl.join(","),allowMultipleFiles:!1,hasError:!!o,id:"video-cover-upload-input",onChange:this.handleChange,onDrop:this.handleDrop,children:function(){return(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:wo,height:J.u1,overflow:"hidden",position:"relative",rounding:1,width:J.u1,children:(0,l.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:Io.border,direction:"column",display:"flex",height:"100%",justifyContent:"center",children:(0,l.jsx)(s.JO,{color:o?"red":"gray",icon:o?"alert":"arrow-circle-up",accessibilityLabel:o?e.props.i18n._("Upload error","Error alert icon shown when image chosen is invalid","Error alert icon shown when image chosen is invalid"):e.props.i18n._("Choose a cover image","Add an image for the video poster cover","Add an image for the video poster cover"),size:18})})})}}),(0,l.jsx)(Ye.Z,{experienceIds:[501115],placementId:1000135,anchor:this.uploadRef.current,idealDirection:"down",flyoutSize:"sm",textOverflow:"normal"})]}),!!o&&(0,l.jsx)(s.xu,{column:12,paddingX:2,paddingY:3,children:(0,l.jsx)(s.xv,{color:"red",size:"sm",children:o.message})})]})}}])&&ho(t.prototype,n),o&&ho(t,o),c}(r.Component);var jo=(0,o.connect)(null,(function(e,t){return{setCustomVideoThumbnail:function(n){return e((0,Et.Sz)(t.pinItemId,{customCoverImg:n}))}}}))((function(e){var t=(0,c.ZP)();return(0,l.jsx)(_o,po(po({},e),{},{i18n:t}))}));function Oo(e){var t=e.pinItemId,n=e.video,r=(0,c.ZP)();return(0,l.jsxs)(s.xu,{children:[(0,l.jsx)(s.xu,{paddingY:3,children:(0,l.jsx)(s.xv,{size:"md",children:r._("Video cover image","Heading for selecting a video cover image in pin builder","Heading for selecting a video cover image in pin builder")})}),n.customCoverImg?(0,l.jsx)(Ur,{coverImg:n.customCoverImg,pinItemId:t}):(0,l.jsx)(jo,{pinItemId:t,video:n})]})}var Ao={__style:{backgroundColor:"#FDF5EC"}};function So(e){var t=e.message,n=e.learnMoreHref,r=(0,c.ZP)(),o=n?(0,G.nk)(r._("{{ message }} {{ learnMore }}.","pinbuilder.common.warningBanner.warningMessage","The interpolated message displayed to user with messaging and learn more link"),{message:t,learnMore:(0,l.jsx)(s.rU,{href:n,target:"blank",inline:!0,children:(0,l.jsx)(s.xv,{size:"sm",weight:"bold",children:r._("Learn more","pinbuilder.common.warningBanner.learnMore","Learn more link for warning banner")},"learnMore")},"learnMoreLink")}):t;return(0,l.jsxs)(s.xu,{width:"100%",rounding:2,paddingX:4,paddingY:2,display:"flex",dangerouslySetInlineStyle:Ao,children:[(0,l.jsx)(s.xu,{marginEnd:2,children:(0,l.jsx)(s.JO,{color:"orange",icon:"workflow-status-warning",size:12,accessibilityLabel:r._("Warning","pinbuilder.common.warningBanner.icon","The accessibility label for warning label's icon")})}),(0,l.jsx)(s.xv,{size:"sm",children:o},"warningMessage")]})}var Po=n(549156),Eo=n(312827);function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fo(e);if(t){var o=Fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(e,t){if(t&&("object"===ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mo(e)}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(c,e);var t,n,o,i=Jo(c);function c(){var e;Bo(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return No(Mo(e=i.call.apply(i,[this].concat(n))),"state",{hasFocus:!1,isAssetPickerOpen:!1,websiteLinkButtonRef:null}),No(Mo(e),"setWebsiteLinkButtonRef",(function(t){e.setState({websiteLinkButtonRef:t})})),No(Mo(e),"setTextFieldInput",(function(t){e.textFieldInput=t})),No(Mo(e),"handleBlur",(function(){var t=e.props,n=t.setWebsiteLink,r=t.websiteLink;r?n(r,r?(0,ht.FU)([(0,ht.Jx)({message:(0,pt.Z)("URL_INVALID",e.props.i18n).message})],r).join(""):null):e.setState({hasFocus:!1})})),No(Mo(e),"handleTouch",(function(){var t=e.props,n=t.websiteLink,r=t.setWebsiteLink,o=t.submitWebsiteLink,i=n?(0,ht.FU)([(0,ht.Jx)({message:(0,pt.Z)("URL_INVALID",e.props.i18n).message})],n).join(""):null;r(n,i),n&&!i&&(o(),(0,a.j)(101,{component:13308,element:10969,url:n}))})),No(Mo(e),"handleChange",(function(t){var n=t.value;e.props.setWebsiteLink(n)})),No(Mo(e),"handleClick",(function(){var t=e.props,n=t.experience,r=t.experienceClient;(0,a.j)(101,{component:13308,element:10968}),n&&501924===n.experience_id&&r.completeExperience(1000135,501924),Z.Z.enabled("asset_picker")?e.setState({isAssetPickerOpen:!0}):e.setState({hasFocus:!0})})),No(Mo(e),"handleClickStopPropagation",(function(e){e.stopPropagation()})),No(Mo(e),"handleDismiss",(function(){e.setState({isAssetPickerOpen:!1})})),e}return t=c,(n=[{key:"componentDidUpdate",value:function(e,t){this.textFieldInput&&!t.hasFocus&&this.textFieldInput.focus()}},{key:"render",value:function(){var e=this.props,t=e.createCarouselPinDraft,n=e.createPinDrafts,o=e.websiteLink,i=e.websiteLinkError,a=this.state,c=a.hasFocus,u=a.isAssetPickerOpen,d="pin-draft-website-link";return c?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.xu,{rounding:2,children:(0,l.jsx)(s.xu,{padding:1,color:"lightGray",rounding:2,children:(0,l.jsxs)(s.xu,{marginStart:-1,marginEnd:-1,display:"flex",children:[(0,l.jsx)(s.xu,{paddingX:1,flex:"grow",children:(0,l.jsx)(s.nv,{hasError:!!i,id:d,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:this.props.i18n._("Enter website","Placeholder text to enter website url","Placeholder text to enter website url"),ref:this.setTextFieldInput,size:"lg",type:"text",value:o})}),(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.iP,{onTap:this.handleTouch,fullHeight:!0,children:(0,l.jsx)(s.xu,{paddingX:1,height:"100%",children:(0,l.jsx)(s.xu,{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,"data-test-id":"website-link-submit-button",children:(0,l.jsx)(s.JO,{accessibilityLabel:this.props.i18n._("Submit","Submit website button to scrape images","Submit website button to scrape images"),size:20,icon:"arrow-forward"})})})})})]})})}),!!i&&(0,l.jsx)(dt.Z,{errorMessage:i,htmlFor:d})]}):(0,l.jsxs)(Po.Z,{id:"save-from-site-button",children:[(0,l.jsxs)(s.xu,{ref:this.setWebsiteLinkButtonRef,children:[(0,l.jsx)(s.zx,{fullWidth:!0,onClick:this.handleClick,size:"lg",text:this.props.i18n._("Save from site","Save from site button","Save from site button")}),u&&(0,l.jsx)(C.Z,{onPrimaryAction:n,onSecondaryAction:Z.Z.enabled("carousel")?t:void 0,onDismiss:this.handleDismiss,initialTab:"scrape"})]}),(0,l.jsx)(Ye.Z,{experienceIds:[501924],placementId:1000135,anchor:this.state.websiteLinkButtonRef,idealDirection:"up",flyoutSize:"md"})]})}}])&&Do(t.prototype,n),o&&Do(t,o),c}(r.Component);function Zo(e){var t=(0,c.ZP)(),n=e.pinDraftId,r=(0,o.useDispatch)(),a=(0,Q.Z)(),s=a.isAuth&&a.isEmployee,u=a.isAuth?a.id:"",d=a.isAuth?a.country:"",p=(0,Eo.Z)();return(0,l.jsx)(Uo,Ro(Ro({},e),{},{createPinDrafts:function(e){return r((0,Ee.createPinDraftsFromAssets)(e,s,u,d,t))},createCarouselPinDraft:function(e){return r((0,Ee.addAssetsToPinDraft)(e,void 0,s))},setWebsiteLink:function(e,t){return r((0,i.f9)(n,e,t))},submitWebsiteLink:function(){return r((0,i.c8)(n,"scrape"))},websiteLink:(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].websiteLink})),websiteLinkError:(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].websiteLinkError})),i18n:t,experienceClient:p}))}var Lo=n(47966),Qo=n(314434);function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){Ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Go=(0,o.connect)((function(){var e=(0,tt.jk)();return function(t,n){var r,o=n.i18n,i=t.pinbuilder.pinDrafts[n.pinDraftId],a=i.isAdIneligible,c=i.publishOption,s=i.type,l=t.pinbuilder.pinItems[n.pinItemId],u=l.media,d=l.canvasJson,p=null;return!u||"carousel"===s&&Z.Z.enabled("carousel")||!["localImage","assetImage","webImage"].includes(u.type)||(u.width<J.FM||u.height<J.Mn?r=(0,D.Z)(o._("We recommend an image that is at least {{ recommendedWidth }} px x {{ recommendedHeight }} px. This image is {{ actualWidth }} px x {{ actualHeight }} px.","pinbuilder.mediaImageView.warning","Warning message to notify the user that the pin does not meet our recommended dimension"),{recommendedWidth:J.FM,recommendedHeight:J.Mn,actualWidth:u?u.width:0,actualHeight:u?u.height:0}):u&&u.width/u.height>J.vk/J.NB&&(r=(0,D.Z)(o._("We recommend using an aspect ratio that is at least {{ recommendedWidthRatio }} width x {{ recommendedHeightRatio }} tall.","pinbuilder.mediaView.warning","Warning message to notify the user that the pin does not meet our recommended dimension"),{recommendedWidthRatio:J.vk,recommendedHeightRatio:J.NB}))),u&&"ad_creation"===Z.Z.scenario()&&(p=(0,Lo.Qj)(t,n.pinDraftId,n.pinItemId)),{media:u,canvasJson:d,publishOption:c,type:s,isAdIneligible:a,isSelecting:t.pinbuilder.selectedPinDraftIds.length>0,showProductCarousel:e(t,n).length>0,warningMessage:r,inferredAdMediaCreativeType:p}}}))((function(e){var t=(0,c.ZP)(),n=e.canvasJson,a=e.height,u=e.inCombinedMARPsPinCreationExp,d=e.inferredAdMediaCreativeType,p=e.isAdIneligible,f=e.media,h=e.pinDraftId,b=e.pinItemId,m=e.publishOption,g=e.showProductCarousel,y=e.type,v=e.view,x=e.warningMessage,I=(0,Q.Z)(),w=!Z.Z.enabled("offsitePinCreation")&&Z.Z.enabled("pinQuality"),j=(0,$e.tc)("web_stl_tooling"),O=!(!I.isAuth||!I.eligibleForStlTool||"ad_creation"===Z.Z.scenario())&&j({dangerouslySkipActivation:!0}).anyEnabled,A=(0,q.V3)().campaignObjectiveType,k=(0,o.useDispatch)(),C=(0,r.useRef)(null),R="single"===y&&"publish-immediately"===m,B=!f&&R,D=!!f&&"localImage"===f.type&&R&&Z.Z.enabled("carousel")&&"collectionsTag"!==v,T="carousel"===y&&Z.Z.enabled("carousel"),V="tag"!==v&&"collectionsTag"!==v;return(0,r.useEffect)((function(){"ad_creation"===Z.Z.scenario()&&(d&&A&&!(0,Qo.rt)(d,A)?C.current="objectiveType":f&&"gif"===(0,P.Z)(f)&&(C.current="gif"),p!==!!C.current&&k((0,i.TD)(h,!0)))}),[A,k,d,p,f,h]),(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:J.LM,children:[(0,l.jsxs)(s.xu,{position:"relative",display:"flex",direction:"column",height:a,children:[u&&B&&!Z.Z.enabled("pinbuilder_v2_tabs")&&!Z.Z.enabled("pinbuilder_v2_full")&&(0,l.jsx)(s.xu,{marginBottom:2,flex:"none",children:(0,l.jsx)(Zo,{pinDraftId:h})}),(0,l.jsx)(s.xu,{height:"100%",flex:"grow","data-tutorial-id":"pin-builder-media-draft-view",children:(0,l.jsx)(Sr,{media:f,isEdited:!!f&&"localVideo"===f.type&&!!n&&!!(0,E.Z)(f,n),pinDraftId:h,pinItemId:b,showCarouselCreateButton:D,showCarouselControlButtons:T})}),!u&&B&&!Z.Z.enabled("pinbuilder_v2_tabs")&&!Z.Z.enabled("pinbuilder_v2_full")&&(0,l.jsx)(s.xu,{marginTop:2,flex:"none",children:(0,l.jsx)(Zo,{pinDraftId:h})})]}),w&&!!x&&(0,l.jsx)(s.xu,{marginTop:3,width:"100%",children:(0,l.jsx)(So,{message:x})}),"objectiveType"===C.current&&(0,l.jsx)(s.xu,{marginTop:3,width:"100%","data-test-id":"ad-media-type-warning-message",children:(0,l.jsx)(So,{message:t._("Your file type isn't compatible with your campaign objective so it's ineligible for promotion in this campaign.","[m10n] pinbuilder.mediaView.adWarning","Warning message displayed to user when a pin may not be eligible to be promoted based on media type"),learnMoreHref:L.Z.settings.PRODUCT_SPECS_URL})}),"gif"===C.current&&(0,l.jsx)(s.xu,{marginTop:3,width:"100%","data-test-id":"ad-media-type-warning-message",children:(0,l.jsx)(So,{message:t._("Your file type isn't eligible for promotion in any campaign.","[m10n] pinbuilder.mediaView.adWarningGeneric","Warning message displayed to user when a pin may not be eligible to be promoted"),learnMoreHref:L.Z.settings.PRODUCT_SPECS_URL})}),D&&!g&&!O&&(0,l.jsx)(s.xu,{marginTop:2,children:(0,l.jsx)(S,{pinDraftId:h})}),T&&(0,l.jsx)(s.xu,{marginTop:2,children:(0,l.jsx)(_,{pinDraftId:h})}),V&&!!f&&"localVideo"===f.type&&(0,l.jsx)(s.xu,{marginTop:2,children:(0,l.jsx)(Oo,{pinItemId:b,video:f})})]})}));function Xo(e){var t=(0,c.ZP)();return(0,l.jsx)(Go,qo(qo({},e),{},{i18n:t}))}},284095:function(e,t,n){"use strict";n.d(t,{C:function(){return Y}});var r=n(793550),o=n(575429),i=n(990531),a=n(218265),c=n(80209);function s(e){var t=e.children,n=e.text;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{"aria-live":"assertive",display:"visuallyHidden",id:"operation",children:n}),(0,c.jsx)(a.xu,{"aria-describedby":"operation",children:t})]})}var l=n(588527),u=n(754999),d=n(174523);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.children,n=e.index,o=e.onCancel,i=e.onMove,f=e.onSelected,h=e.onConfirm,b=e.totalItems,m=(0,d.ZP)(),g=p((0,r.useState)(m._("Press the spacebar to begin moving","Assistive text description for how to begin assistive operation","Assistive text description for how to begin assistive operation")),2),y=g[0],v=g[1],x=p((0,r.useState)(n),2),I=x[0],w=x[1],_=p((0,r.useState)("INIT"),2),j=_[0],O=_[1];"INIT"===j&&n!==I&&w(n);var A=function(e){var t=I+e;("SELECTED"===j||"MOVING"===j)&&t>=0&&t<b&&(i(t),v((0,u.Z)(m._("Current position in list is {{currentIndex}} of {{totalItems}}","Assistive text describing current position in list","Assistive text describing current position in list"),{totalItems:b,currentIndex:t+1})),w(t),O("MOVING"))};return(0,c.jsx)(a.xu,{role:"listitem",rounding:2,onBlur:function(){v(m._("Press the spacebar to begin moving","Assistive text description for how to begin assistive operation","Assistive text description for how to begin assistive operation")),w(n),O("INIT"),o()},onKeyUp:function(e){switch(e.keyCode){case l.Z.SPACE:case l.Z.ENTER:"SELECTED"===j||"MOVING"===j?(v((0,u.Z)(m._("Position in list updated from {{index}} to {{currentIndex}}","Assistive text describing current position in list","Assistive text describing current position in list"),{currentIndex:I+1,index:n+1})),O("CONFIRMED"),I!==n?h():o()):(v((0,u.Z)(m._("List item {{index}} selected.","Assitive text describing selected item.","Assitive text describing selected item."),{index:n+1})),O("SELECTED"),f(n),A(0));break;case l.Z.ESCAPE:break;case l.Z.LEFT:A(-1);break;case l.Z.RIGHT:A(1)}},tabIndex:0,children:(0,c.jsx)(s,{text:y,children:t})})}function b(e){var t=e.show;return(0,c.jsx)(a.xu,{color:t?"red":"transparent",display:"flex",flex:"grow",width:2})}function m(e){var t=e.pinItem,n=t.description,r=t.media,o=t.title,i=r||{},s=i.height,l=i.src,u=i.width;return(0,c.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",children:(0,c.jsx)(a.xu,{display:"flex",direction:"column",rounding:2,children:(0,c.jsx)(a.Ee,{alt:o||n,color:"#FEFEFE",src:l,naturalHeight:s,naturalWidth:u,children:e.showOverlay?(0,c.jsx)(a.xu,{"data-test-id":"reorder-index-overlay",display:"flex",justifyContent:"end",position:"absolute",right:!0,top:!0,children:(0,c.jsx)(a.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",margin:2,paddingX:2,paddingY:1,rounding:"circle",children:(0,c.jsx)(a.xv,{align:"center",color:"white",size:"md",weight:"bold",children:e.index})})}):null})})})}var g=n(194620),y=n(297633),v=n(887018);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=-1,R=function(e,t,n){var r=E(e),o=r.splice(t,1)[0];return r.splice(n,0,o),r},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,n,r,o=j(i);function i(){var e;I(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(A(e=o.call.apply(o,[this].concat(n))),"state",{pinItemIds:e.props.pinItemIds,sourceIndex:C,targetIndex:C}),P(A(e),"handleDragCancel",(function(){e.setState({sourceIndex:C,targetIndex:C})})),P(A(e),"handleDragBegin",(function(t){e.setState({sourceIndex:t})})),P(A(e),"handleDragHover",(function(t){t!==e.state.targetIndex&&e.setState({targetIndex:t})})),P(A(e),"handleDragEnd",(function(){var t=e.props.updateIds,n=e.state,r=n.pinItemIds,o=n.sourceIndex,i=n.targetIndex,a=R(r,o,i);t(a),e.setState({pinItemIds:a,sourceIndex:C,targetIndex:C})})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.pinDraftId,r=t.pinItems,o=this.state,i=o.sourceIndex,s=o.targetIndex;return(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",direction:"row",justifyContent:"center",minHeight:v.DB,paddingY:6,width:"100%",children:r.map((function(t,o){return(0,c.jsxs)(a.xu,{display:"flex",width:154,children:[(0,c.jsx)(b,{show:i>s&&o===s}),(0,c.jsx)(a.xu,{padding:1}),(0,c.jsx)(h,{index:o,totalItems:r.length,onCancel:e.handleDragCancel,onConfirm:e.handleDragEnd,onMove:e.handleDragHover,onSelected:e.handleDragBegin,children:(0,c.jsx)(a.zd,{rounding:2,children:(0,c.jsx)(y.Z,{index:o,onDragBegin:e.handleDragBegin,onDragHover:e.handleDragHover,onDragEnd:e.handleDragEnd,type:y.y.CarouselItem,children:(0,c.jsx)(a.xu,{display:"flex",margin:0,rounding:2,width:v.mr,children:(0,c.jsx)(m,{index:"".concat(o+1),pinDraftId:n,pinItem:t,showOverlay:i!==o})})})})}),(0,c.jsx)(a.xu,{padding:1}),(0,c.jsx)(b,{show:i<s&&o===s})]},"".concat(t.id,"-reorder-view"))}))})}}])&&w(t.prototype,n),r&&w(t,r),i}(r.Component),D=(0,g.Z)(y.y.CarouselItem)(B),T=n(549156),J=n(549135),V=n(68545);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=Q(i);function i(){var e;U(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(q(e=o.call.apply(o,[this].concat(n))),"state",{pinItemIds:e.props.pinItemIds}),G(q(e),"commitChanges",(function(){var t=e.props.saveChanges,n=e.state.pinItemIds;(0,J.j)(101,{component:13308,element:11127}),t(n)})),G(q(e),"handleOnCancel",(function(){var t=e.props.cancelChanges;(0,J.j)(101,{component:13308,element:11128}),t()})),G(q(e),"updateIds",(function(t){e.setState({pinItemIds:t})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.height,n=e.mapPinItems,r=e.pinDraftId,o=this.state.pinItemIds,i=t>v.sD?t:v.sD;return(0,c.jsxs)(a.xu,{direction:"column",display:"flex",minHeight:i,marginBottom:10,children:[(0,c.jsxs)(a.kC,{alignItems:"start",justifyContent:"end",children:[(0,c.jsx)(a.xu,{"data-test-id":"cancel-reorder-button",paddingX:3,children:(0,c.jsx)(a.zx,{onClick:this.handleOnCancel,text:this.props.i18n._("Cancel","Button Text for cancelling an changes","Button Text for cancelling an changes")})}),(0,c.jsx)(T.Z,{id:"save-reorder-button",children:(0,c.jsx)(a.zx,{color:"red",onClick:this.commitChanges,text:this.props.i18n._("Done","Button text for accepting changes","Button text for accepting changes")})})]}),(0,c.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:10,children:[(0,c.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,c.jsx)(a.X6,{size:"md",children:this.props.i18n._("Organize your images","Heading for reordering images in carousel","Heading for reordering images in carousel")}),(0,c.jsx)(a.xu,{paddingY:4,children:(0,c.jsx)(a.xv,{color:"gray",children:this.props.i18n._("Drag and drop the images to change the order in which they appear in your carousel","Text describing how to reorder images in carousel","Text describing how to reorder images in carousel")})})]}),(0,c.jsx)(D,{pinDraftId:r,pinItems:n(o),pinItemIds:o,updateIds:this.updateIds})]})]})}}])&&Z(t.prototype,n),r&&Z(t,r),i}(r.Component);var Y=(0,o.connect)((function(e,t){var n=e.pinbuilder.pinItems,r=e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIds,o=function(e){return e.filter((function(e){return!!n[e].media})).map((function(e){return N(N({},n[e]),{},{id:e})}))},a=o(r)[0].media;return{height:a?(0,i.Z)(a,v.mr):v.sD,pinItemIds:r,mapPinItems:o}}),(function(e,t){return{saveChanges:function(n){e((0,V.XB)(t.pinDraftId,n)),e((0,V.c8)(t.pinDraftId,"upload"))},cancelChanges:function(){return e((0,V.c8)(t.pinDraftId,"upload"))}}}))((function(e){var t=(0,d.ZP)();return(0,c.jsx)(X,N(N({},e),{},{i18n:t}))}))},825319:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(575429),o=n(793550),i=n(174523),a=n(68545),c=n(218265),s=n(80209);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.connect)(null,(function(e,t){return{removeWebsiteMedia:function(){return e((0,a.YY)(t.pinDraftId,t.media.src))}}}))((function(e){var t=e.removeWebsiteMedia,n=e.media,r=n.height,a=n.width,u=n.src,d=(0,i.ZP)(),p=l((0,o.useState)(!1),2),f=p[0],h=p[1];return(0,s.jsx)(c.iP,{onMouseEnter:function(){h(!0)},onMouseLeave:function(){h(!1)},children:(0,s.jsxs)(c.xu,{marginStart:2,position:"relative",children:[(0,s.jsx)(c.zd,{rounding:2,width:64,height:r>=a?64:"100%",wash:!0,children:(0,s.jsx)(c.Ee,{alt:"Image from ".concat(u),naturalHeight:r,naturalWidth:a,src:u})}),f&&(0,s.jsx)(c.xu,{position:"absolute",top:!0,right:!0,marginTop:-2,marginEnd:-2,rounding:"circle",color:"white",dangerouslySetInlineStyle:{__style:{border:"2px #FFFFFF solid"}},children:(0,s.jsx)(c.hU,{onClick:t,bgColor:"lightGray",icon:"cancel",iconColor:"darkGray",accessibilityLabel:d._("Unselect image","pinBuilder.pinDraftFooterScrapeView.pinDraftFooterScrapeViewItem.unselect.text","Unselect image"),size:"xs"})})]})})})),p=n(76535),f=n(946753),h=n(887018),b=n(549135);var m=(0,r.connect)((function(e,t){return{selected:e.pinbuilder.pinDrafts[t.pinDraftId].websiteMedia}}),(function(e,t){return{onAddToPin:function(){return p.Z.enabled("pinbuilder_v2_full")?e((0,a.By)(t.pinDraftId)):e((0,a.q0)(t.pinDraftId))}}}))((function(e){var t=e.selected,n=e.pinDraftId,r=e.onAddToPin,o=e.width,a=e.marginStart,l=(0,i.ZP)();return t.length>0?(0,s.jsxs)(c.xu,{width:o||h.of,paddingX:4,marginStart:null!=a?a:-10,height:96,display:"flex",flex:"none",alignItems:"center",justifyContent:"between",dangerouslySetInlineStyle:{__style:{boxShadow:"0px -2px 10px -8px #000000"}},children:[(0,s.jsx)(c.xu,{padding:2,overflow:"scrollX",children:(0,s.jsx)(c.kC,{alignItems:"center",justifyContent:"start",children:t.map((function(e){return(0,s.jsx)(d,{pinDraftId:n,media:e},e.src)}))})}),(0,s.jsx)(c.xu,{marginStart:2,children:(0,s.jsx)(c.zx,{color:"red",onClick:function(){(0,b.j)(101,{component:13308,element:10970}),r()},text:p.Z.enabled("pinbuilder_v2_full")?l._("Next","pinbuilder.pinDraftBodyScrapeView.pinDraftFooterScrapeView.nextButton.text","Proceed to next step of pinbuilder after selecting images from site"):(0,f.nk)(l.ngettext("Add {{ numPins }} Pin","Add {{ numPins }} Pins",t.length,"pinBuilder.pinDraftBodyScrapeView.pinDraftFooterScrapeView.addPinButton.text","Add selected image from web to Pin create"),{numPins:t.length}).join("")})})]}):null})),g=n(616593),y=n(977958);function v(e){var t=e.pinDraftId,n=e.footerWidth,r=e.footerMarginStart,o=p.Z.enabled("multi_pin")||p.Z.enabled("multi_pin_pinner")?h.gU:h.sD+h.uR;return(0,s.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:p.Z.enabled("pinbuilder_v2_tabs")||p.Z.enabled("pinbuilder_v2_full")?h.$f:o,children:[(p.Z.enabled("pinbuilder_v2_tabs")||p.Z.enabled("pinbuilder_v2_full"))&&(0,s.jsx)(y.Z,{pinDraftId:t}),(0,s.jsx)(g.Z,{pinDraftId:t}),(p.Z.enabled("multi_pin")||p.Z.enabled("multi_pin_pinner"))&&(0,s.jsx)(m,{pinDraftId:t,width:n,marginStart:r})]})}},616593:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(575429),o=n(291396),i=n(793550),a=n(562239),c=n(535258),s=n(68545),l=n(218265),u=n(80209);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=b(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"handleClick",(function(){var t=e.props,n=t.addWebsiteMedia,r=t.clearWebsiteMedia,o=t.removeWebsiteMedia;t.selected?o():(r(),n())})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.media,r=n.height,o=n.width,i=n.src;return(0,u.jsx)(a.Z,{selected:t,onClick:this.handleClick,children:(0,u.jsx)(l.zd,{rounding:2,width:c.xf,wash:!0,children:(0,u.jsx)(l.Ee,{alt:"Image from ".concat(i),naturalHeight:r,naturalWidth:o,src:i})})})}}])&&f(t.prototype,n),r&&f(t,r),i}(i.Component),I=(0,r.connect)((function(e,t){return{selected:e.pinbuilder.pinDrafts[t.pinDraftId].websiteMedia.map((function(e){return e.src})).includes(t.media.src)}}),(function(e,t){return{addWebsiteMedia:function(){return e((0,s.dj)(t.pinDraftId,t.media))},clearWebsiteMedia:function(){return e((0,s.hb)(t.pinDraftId))},removeWebsiteMedia:function(){return e((0,s.YY)(t.pinDraftId,t.media.src))}}}))(x),w=n(731164),_=n(754999),j=n(76535),O=n(174523),A=n(549135),S=n(181307),P=n(585967);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=(0,r.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId].websiteMedia;return{selected:n.map((function(e){return e.src})).includes(t.media.src),disabled:n.length>=10}}),(function(e,t){return{addWebsiteMedia:function(){return e((0,s.dj)(t.pinDraftId,t.media))},removeWebsiteMedia:function(){return e((0,s.YY)(t.pinDraftId,t.media.src))}}}))((function(e){var t=e.media,n=t.src,r=t.height,o=t.width,c=e.pinDraftId,s=e.selected,d=e.disabled,p=e.addWebsiteMedia,f=e.removeWebsiteMedia,h=(0,O.ZP)(),b=(0,P.B)().isRTL,m=E((0,i.useState)(!1),2),g=m[0],y=m[1],v=(0,S.aq)("web_set_crossorigin_anonymous").anyEnabled,x=E((0,i.useState)(v?"anonymous":void 0),2),I=x[0],k=x[1],C=j.Z.enabled("offsite_pin_creation_multi_select")?"transparent":"white";return(0,u.jsx)(l.iP,{onMouseEnter:function(){y(!0)},onMouseLeave:function(){y(!1)},children:(0,u.jsx)(l.xu,{color:g?"lightGray":"transparent",rounding:5,dangerouslySetInlineStyle:{__style:{padding:"2px"}},children:(0,u.jsx)(a.Z,{selected:s,onClick:function(){s?(f(),(0,A.j)(8722,{component:13308,element:12229,pin_draft_id:c,src_url:n})):d||(p(),(0,A.j)(8721,{component:13308,element:12229,pin_draft_id:c,src_url:n}),j.Z.enabled("offsite_pin_creation_multi_select")&&w.Z.increment("offsite_pin_creation.select_image",1,{type:"multi_pin"}))},color:"#000000",style:{borderRadius:"18px"},children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"2px"}},children:(0,u.jsxs)(l.zd,{rounding:4,wash:!0,children:[(0,u.jsx)(l.Ee,{alt:(0,_.Z)(s?h._("Deselect image from {{imageSource}}","PinDraftMultiSelectGridItem.ImageLabel.Deselect","Deselect image"):h._("Select image from {{imageSource}}","PinDraftMultiSelectGridItem.ImageLabel.Select","Select image"),{imageSource:n}),naturalHeight:r,naturalWidth:o,src:n,crossOrigin:I,onError:function(){return k(void 0)}}),(0,u.jsx)(l.xu,{position:"absolute",bottom:!0,right:!b,left:!!b,height:24,width:24,marginEnd:3,marginBottom:3,rounding:2,padding:1,color:s?"darkGray":C,children:s&&(0,u.jsx)(l.JO,{accessibilityLabel:h._("Selected","pinBuilder.pinDraftInputScrapeGrid.pinDraftInputScrapeGriditem.selected.text","Selected image"),color:"white",icon:"check"})})]})})})})})})),R=n(887018);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,o=F(i);function i(){var e;J(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(U(e=o.call.apply(o,[this].concat(n))),"saveScrollContainer",(function(t){e.scrollContainer=t})),L(U(e),"renderItem",(function(t){var n=t.data,r=e.props.pinDraftId;return j.Z.enabled("multi_pin")||j.Z.enabled("multi_pin_pinner")||j.Z.enabled("offsite_pin_creation_multi_select")?(0,u.jsx)(C,{pinDraftId:r,media:n}):(0,u.jsx)(I,{pinDraftId:r,media:n})})),e}return t=i,(n=[{key:"getColumnWidth",value:function(){return j.Z.enabled("multi_pin")||j.Z.enabled("multi_pin_pinner")?R.eZ:c.xf}},{key:"getGutterWidth",value:function(){return j.Z.enabled("multi_pin")||j.Z.enabled("multi_pin_pinner")?c.lX:j.Z.enabled("offsite_pin_creation_multi_select")?c.nW:c.P2}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.media,r=e.showSpinner,o=this.scrollContainer;return(0,u.jsxs)(l.xu,{ref:this.saveScrollContainer,column:12,height:"100%",width:j.Z.enabled("pinbuilder_v2_full")?R.Zl:R.km,overflow:"auto",padding:j.Z.enabled("multi_pin")||j.Z.enabled("multi_pin_pinner")?0:2,children:[(0,u.jsx)(l.$j,{accessibilityLabel:this.props.i18n._("Loading images from URL...","loading message","loading message"),show:r}),o&&n.length>0?(0,u.jsx)(l.Rk,{flexible:j.Z.enabled("offsite_pin_creation_multi_select"),columnWidth:this.getColumnWidth(),comp:this.renderItem,gutterWidth:this.getGutterWidth(),items:n,minCols:j.Z.enabled("offsite_pin_creation_multi_select")?3:c.yc,scrollContainer:function(){return o}}):t&&(0,u.jsx)(l.xv,{color:"gray",align:"center",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})]})}}])&&V(t.prototype,n),r&&V(t,r),i}(i.Component);function W(e){var t=(0,O.ZP)();return(0,u.jsx)(Q,T(T({},e),{},{i18n:t}))}function q(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=(0,r.connect)((function(e,t){return{websiteLink:e.pinbuilder.pinDrafts[t.pinDraftId].websiteLink,websiteDefaultImageUrl:e.pinbuilder.pinDrafts[t.pinDraftId].websiteDefaultImageUrl}}))((function(e){var t=e.pinDraftId,n=e.websiteLink;return(0,u.jsx)(o.Z,{url:n,source:"pin_create",children:function(e){var r=e.images,o=e.error,i=e.loading,a=q(r);return function(e,t){e.forEach((function(e){return Object.assign(e,{src:e.url,type:"webImage",sourceURL:t})}))}(a,n),(0,u.jsx)(W,{errorMessage:o,media:a,pinDraftId:t,showSpinner:i})}},n)}))},448164:function(e,t,n){"use strict";n.d(t,{Z:function(){return be}});var r=n(575429),o=n(990531),i=n(793550),a=n(291396),c=n(508841),s=n(297189),l=n(946753),u=n(887018),d=n(68545),p=n(874048),f=n(549135),h=n(981444),b=n(174523),m=n(218265),g=n(80209);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,o=j(a);function a(){var e;I(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(A(e=o.call.apply(o,[this].concat(n))),"handleTouch",(function(){var t=e.props,n=t.mode,r=t.saveTaggedObject;(0,f.j)(101,{component:13308,element:10911,method:n}),r()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.image,t=e.height,n=e.width,r=e.url;return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(m.iP,{onTap:this.handleTouch,rounding:2,children:(0,g.jsx)(m.zd,{rounding:2,width:u.yC,wash:!0,children:(0,g.jsx)(m.Ee,{alt:"Image from ".concat(null!=r?r:""),naturalHeight:null!=t?t:1,naturalWidth:null!=n?n:1,src:null!=r?r:""})})}),(0,g.jsx)(m.xu,{marginTop:1,display:"flex",justifyContent:"center",children:(0,g.jsx)(m.xv,{align:"center",children:(0,l.nk)(this.props.i18n._("{{ height }} × {{ width }}","Dimensions of an image separated by multiplication sign","Dimensions of an image separated by multiplication sign"),{height:t,width:n})})})]})}}])&&w(t.prototype,n),r&&w(t,r),a}(i.PureComponent);var k=(0,r.connect)((function(e,t){return{mode:e.pinbuilder.pinDrafts[t.pinDraftId].mode}}),(function(e,t){return{saveTaggedObject:function(){var n=t.pinId||(0,h.Z)();e((0,s.Dn)(t.pinTagId,n,{media:t.image})),e((0,p.C_)(t.pinItemId,null)),e((0,d.c8)(t.pinDraftId,"tag"))}}}))((function(e){var t=(0,b.ZP)();return(0,g.jsx)(E,x(x({},e),{},{i18n:t}))}));function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(i,e);var t,n,r,o=V(i);function i(){var e;D(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U(F(e=o.call.apply(o,[this].concat(n))),"saveScrollContainer",(function(t){e.scrollContainer=t})),U(F(e),"renderItem",(function(t){var n=t.data,r=e.props,o=r.pinDraftId,i=r.pinItemId,a=r.pinId,c=r.pinTagId;return(0,g.jsx)(k,{image:n,pinDraftId:o,pinItemId:i,pinId:a,pinTagId:c})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.images,r=e.showSpinner,o=this.scrollContainer;return(0,g.jsx)(m.xu,{ref:this.saveScrollContainer,column:12,height:"100%",children:(0,g.jsxs)(m.xu,{padding:2,children:[(0,g.jsx)(m.$j,{accessibilityLabel:this.props.i18n._("Loading images from URL...","loading message","loading message"),show:r}),t&&(0,g.jsx)(m.xv,{size:"md",color:"red",children:t}),o&&n.length>0&&(0,g.jsx)(m.xu,{"data-test-id":"pin-tag-grid",children:(0,g.jsx)(m.Rk,{columnWidth:u.yC,comp:this.renderItem,gutterWidth:24,items:n,minCols:2,scrollContainer:function(){return o}})})]})})}}])&&T(t.prototype,n),r&&T(t,r),i}(i.Component);function L(e){var t=(0,b.ZP)();return(0,g.jsx)(Z,B(B({},e),{},{i18n:t}))}var Q=n(668906);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,e);var t,n,r,o=K(i);function i(){var e;G(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te($(e=o.call.apply(o,[this].concat(n))),"handleError",(function(){var t=e.props.mode;(0,f.j)(7580,{component:13308,method:t})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.closeTagGrid,n=e.pinDraftId,r=e.pinItemId,o=e.pinTagId,i=e.link,s=(0,c.Z)(i)?/\/pin\/([\w-]+)\/?$/.exec(i):null;return(0,g.jsxs)(m.xu,{display:"flex",direction:"column",height:"100%",column:12,children:[(0,g.jsxs)(m.xu,{flex:"none",display:"flex",alignItems:"center",marginBottom:6,children:[(0,g.jsxs)(m.xu,{flex:"grow",children:[(0,g.jsx)(m.xu,{marginBottom:1,children:(0,g.jsx)(m.X6,{size:"sm",children:this.props.i18n._("Pick an image for this product","Instructions to select an image to add as a tagged product to a Pin tag","Instructions to select an image to add as a tagged product to a Pin tag")})}),(0,g.jsx)(m.xv,{size:"md",lineClamp:1,children:(0,l.nk)(this.props.i18n._("Images from {{ link }}","Text displaying the website link where images were collected","Text displaying the website link where images were collected"),{link:i})})]}),(0,g.jsx)(m.xu,{flex:"none",children:(0,g.jsx)(m.hU,{accessibilityLabel:this.props.i18n._("Cancel","Button to cancel selecting products for a Pin tag","Button to cancel selecting products for a Pin tag"),icon:"cancel",onClick:t})})]}),(0,g.jsx)(m.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",overflow:"auto",children:s?(0,g.jsx)(Q.Z,{pinId:s[1],fieldSetKey:"images_only_item",children:function(e){var t=e.pin,i=e.error,a=e.loading;return(0,g.jsx)(L,{errorMessage:i,images:t?[t.images["474x"]]:[],pinDraftId:n,pinItemId:r,pinId:s[1],pinTagId:o,showSpinner:a})}}):(0,g.jsx)(a.Z,{url:i,onError:this.handleError,source:"product_tags",children:function(e){var t=e.images,i=e.error,a=e.loading;return(0,g.jsx)(L,{errorMessage:i,images:t,pinDraftId:n,pinItemId:r,pinTagId:o,showSpinner:a})}})})]})}}])&&X(t.prototype,n),r&&X(t,r),i}(i.PureComponent);var re=(0,r.connect)((function(e,t){var n=e.pinbuilder.pinItems[t.pinItemId].selectedPinTagId;return{link:n?e.pinbuilder.pinTags[n].link:"",mode:e.pinbuilder.pinDrafts[t.pinDraftId].mode,pinTagId:n||""}}),(function(e,t){return{closeTagGrid:function(){return e((0,d.c8)(t.pinDraftId,"tag"))}}}))((function(e){var t=(0,b.ZP)();return(0,g.jsx)(ne,H(H({},e),{},{i18n:t}))})),oe=n(702922),ie=n(76535);var ae=(0,r.connect)(null,(function(e,t){return{selectPinTag:function(){return e((0,p.C_)(t.pinItemId,t.pinTagId))}}}))((function(e){var t=e.disabled,n=e.selectPinTag,r=(0,b.ZP)(),o=ie.Z.enabled("shop_the_pin"),i=(0,g.jsx)(m.xu,{alignItems:"center",color:"lightGray",display:"flex",height:o?u.MN:u.Bj,justifyContent:"center",rounding:2,width:o?u.MN:u.Bj,children:(0,g.jsx)(m.JO,{accessibilityLabel:r._("Add product","Accessibility label for adding a new product to a tag","Accessibility label for adding a new product to a tag"),icon:"add",color:"gray",size:24})});return t?i:(0,g.jsx)(m.iP,{onTap:n,rounding:2,children:i})})),ce=n(670461),se=n(926142),le={circle:{__style:{border:"solid 2px #efefef"}},overlay:{__style:{opacity:.4}}};var ue=(0,r.connect)((function(){var e=(0,se.A$)();return function(t,n){var r=t.pinbuilder.pinItems[n.pinItemId].selectedPinTagId;return{isSelected:r?r===n.pinTagId:null,taggedObjectIds:e(t,n)}}}))((function(e){var t=(0,b.ZP)(),n=e.isSelected,r=e.pinItemId,o=e.pinTagId,i=e.pinTagKey,a=e.taggedObjectIds,c=a.length,s=!1===n;return(0,g.jsxs)(m.xu,{column:12,dangerouslySetInlineStyle:s?le.overlay:void 0,children:[(0,g.jsxs)(m.xu,{display:"flex",alignItems:"center",marginBottom:2,children:[(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",height:24,justifyContent:"center",rounding:"circle",width:24,dangerouslySetInlineStyle:le.circle,children:(0,g.jsx)(m.xv,{size:"sm",weight:"bold",children:i})}),(0,g.jsx)(m.xu,{paddingX:2,children:(0,g.jsx)(m.xv,{size:"md",weight:"bold",children:(0,l.nk)(t.ngettext("{{ numProducts }} product","{{ numProducts }} products",c,"Text displaying the total number of products across a single tag on a Pin","Text displaying the total number of products across a single tag on a Pin"),{numProducts:c})})})]}),(0,g.jsxs)(m.xu,{display:"flex",marginStart:-1,marginEnd:-1,wrap:!0,children:[a.map((function(e){return(0,g.jsx)(m.xu,{padding:1,children:(0,g.jsx)(ce.Z,{disabled:s,pinTagId:o,taggedObjectId:e})},e)})),(0,g.jsx)(m.xu,{padding:1,children:(0,g.jsx)(ae,{disabled:s,pinItemId:r,pinTagId:o})})]})]})})),de=n(878243);var pe=(0,r.connect)((function(){var e=(0,de.vd)(),t=(0,de.jk)();return function(n,r){return{numProducts:t(n,r).length,pinTagIds:e(n,r)}}}))((function(e){var t=e.numProducts,n=e.pinItemId,r=e.pinTagIds,o=(0,b.ZP)(),i=r.length;return(0,g.jsxs)(m.xu,{display:"flex",direction:"column",height:"100%",column:12,children:[(0,g.jsxs)(m.xu,{flex:"none",marginBottom:6,children:[(0,g.jsx)(m.xu,{marginBottom:1,children:(0,g.jsx)(m.X6,{size:"sm",children:o._("Products tagged","Heading for grid of products tagged to one Pin tag","Heading for grid of products tagged to one Pin tag")})}),(0,g.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(m.xv,{size:"md",children:(0,l.nk)(o.ngettext("{{ numTags }} tag","{{ numTags }} tags",i,"Text displaying the total number of tags on a Pin","Text displaying the total number of tags on a Pin"),{numTags:i})}),(0,g.jsx)(oe.Z,{}),(0,g.jsx)(m.xv,{size:"md",children:(0,l.nk)(o.ngettext("{{ numProducts }} product","{{ numProducts }} products",t,"Text displaying the total number of products across all tags on a Pin","Text displaying the total number of products across all tags on a Pin"),{numProducts:t})})]})]}),(0,g.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",overflow:"auto",children:r.map((function(e,t){return(0,g.jsx)(m.xu,{marginBottom:5,children:(0,g.jsx)(ue,{pinItemId:n,pinTagId:e,pinTagKey:t+1})},e)}))})]})})),fe=n(626815),he={__style:{paddingBottom:u.uR}};var be=(0,r.connect)((function(e,t){var n=e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIds,r=e.pinbuilder.pinItems[n[0]].media;return{height:r?(0,o.Z)(r):u.sD}}))((function(e){var t=e.height,n=e.pinDraftId,r=e.pinItemId,o=e.view,i=e.paddingX,a=void 0===i?5:i;return(0,g.jsxs)(m.xu,{display:"flex",direction:"row",dangerouslySetInlineStyle:he,children:[(0,g.jsx)(m.xu,{paddingX:a,children:(0,g.jsx)(fe.Z,{height:t,pinDraftId:n,pinItemId:r})}),(0,g.jsxs)(m.xu,{flex:"grow",height:t,minHeight:u.sD,paddingX:5,width:"100%",children:["tag"===o&&(0,g.jsx)(pe,{pinItemId:r}),"selectTag"===o&&(0,g.jsx)(re,{pinDraftId:n,pinItemId:r})]})]})}))},670461:function(e,t,n){"use strict";var r=n(575429),o=n(482452),i=n(76535),a=n(174523),c=n(549135),s=n(297189),l=n(889164),u=n(887018),d=n(218265),p=n(80209);t.Z=(0,r.connect)((function(e,t){return{media:e.pinbuilder.taggedObjects[t.taggedObjectId].media||null,pin:e.pinbuilder.taggedObjects[t.taggedObjectId].pin||null}}),(function(e,t){var n=t.pinTagId,r=t.taggedObjectId;return{removeTaggedObject:function(){e((0,s.Go)(n,r)),e((0,s.Cf)(n,"edited"))}}}))((function(e){var t=e.disabled,n=e.media,r=e.removeTaggedObject,s=e.pin,f=(0,a.ZP)(),h=n||{},b=h.height,m=h.width,g=h.url,y=i.Z.enabled("shop_the_pin"),v=y?(0,l.mt)(s):null,x=y?(0,l.BE)(s):null;return(0,p.jsxs)(d.xu,{position:"relative",rounding:2,"data-test-id":"tagged-item",children:[(0,p.jsx)(d.zd,{rounding:2,height:y?u.MN:u.Bj,width:y?u.MN:u.Bj,wash:!0,children:(0,p.jsx)(d.Ee,{alt:"Image from ".concat(null!=g?g:""),fit:"cover",naturalHeight:null!=b?b:1,naturalWidth:null!=m?m:1,src:null!=g?g:""})}),y&&(0,p.jsxs)(d.xu,{children:[!!v&&(0,p.jsx)(d.xu,{marginTop:1,children:(0,p.jsx)(d.xu,{paddingY:1,display:"flex",children:(0,p.jsx)(o.Z,{text:v,icon:"tag"})})}),!!x&&(0,p.jsx)(d.xu,{width:y?u.MN:u.Bj,children:(0,p.jsx)(d.xv,{overflow:"breakWord",size:"md",weight:"bold",children:x})})]}),(0,p.jsx)(d.xu,{position:"absolute",top:!0,left:!0,margin:2,"data-test-id":"remove-tagged-item-button",children:(0,p.jsx)(d.hU,{accessibilityLabel:f._("Remove tagged product","button to remove tagged product","button to remove tagged product"),bgColor:"white",icon:"cancel",iconColor:"gray",onClick:t?void 0:function(){r(),(0,c.j)(101,{component:13308,element:12127})},size:"xs"})})]})}))},836466:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(575429),o=n(793550),i=n(267782),a=n(887018),c=n(549135),s=n(218265),l=n(80209);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={__style:{zIndex:a.v9}},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,r,a=m(u);function u(){var e;f(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(y(e=a.call.apply(a,[this].concat(n))),"state",{showFlyout:!1}),x(y(e),"buttonRef",(0,o.createRef)()),x(y(e),"handleShowFlyout",(function(){e.setState({showFlyout:!0}),(0,c.j)(101,{component:13308,element:12123})})),x(y(e),"handleHideFlyout",(function(){e.setState({showFlyout:!1})})),e}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.accessibilityLabel,r=t.icon,o=t.items,a=t.size,c=this.state.showFlyout,u=o.map((function(t){return p(p({},t),{},{onClick:function(){t.onClick(),e.handleHideFlyout()}})}));return(0,l.jsxs)(s.xu,{position:"relative",dangerouslySetInlineStyle:c?I:void 0,children:[(0,l.jsx)(s.xu,{ref:this.buttonRef,children:(0,l.jsx)(s.hU,{accessibilityLabel:n,icon:r,onClick:this.handleShowFlyout,size:a})}),c&&(0,l.jsx)(s.J2,{anchor:this.buttonRef.current,idealDirection:"down",onDismiss:this.handleHideFlyout,size:"xs",children:(0,l.jsx)(i.Z,{items:u})})]})}}])&&h(t.prototype,n),r&&h(t,r),u}(o.Component),_=n(174523),j=n(34411),O=n(743174),A=function(e){(0,c.j)(101,{component:13308,element:12124,value:e})};function S(e){var t=e.pinDraftId,n=(0,_.ZP)(),o=(0,j.Z)(),i=o.isAuth&&o.isEmployee,a=(0,r.useDispatch)();return(0,l.jsx)(s.xu,{paddingX:3,"data-test-id":"pindraft-option-menu",children:(0,l.jsx)(w,{accessibilityLabel:n._("Options","Button to open options menu for this Pin","Button to open options menu for this Pin"),icon:"ellipsis",items:[{children:(0,l.jsx)(s.xu,{"data-test-id":"delete-pin-draft",children:n._("Delete","Button to delete Pin draft","Button to delete Pin draft")}),onClick:function(){a((0,O.deletePinDraft)(t,i)),A("delete")}},{children:n._("Duplicate","Button to duplicate Pin draft to another","Button to duplicate Pin draft to another"),onClick:function(){a((0,O.duplicatePinDraft)(t)),A("duplicate")}}]})})}},16341:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(575429),o=n(76535),i=n(174523),a=n(767523),c=n(34411),s=n(159276),l=n(887018),u=n(301314),d=n(549135),p=n(181307),f=n(68545),h=n(874048),b=n(218265),m=n(80209);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=e.pinDraftId,n=e.pinItemId,v=(0,i.ZP)(),x=(0,c.Z)(),I=x.isAuth?x.id:"",w=x.isAuth?x.country:"",_=x.isAuth&&x.isPartner,j=(0,p.tc)("web_m10n_business_access_orbac_beta")().anyEnabled,O=(0,a.Z)(),A=j?(0,s.lJ)(x,O):"",S=(0,r.useDispatch)(),P=function(){S((0,h.C_)(n,null)),S((0,h.b0)(n)),S((0,f.Ju)(t,void 0,I,A,w,_,v)),S((0,u.jB)("PinResource"))},E=(0,r.useSelector)((function(e){return"selectTag"===e.pinbuilder.pinDrafts[t].view})),k=(0,r.useSelector)((function(e){return"edit"===e.pinbuilder.pinDrafts[t].mode})),C=(0,r.useSelector)((function(e){return e.pinbuilder.pinItems[n].tagError})),R=(0,r.useSelector)((function(e){return e.pinbuilder.closeupImageSignature})),B=(0,r.useSelector)((function(e){return e.pinbuilder.entryPoint})),D=(0,p.tc)("web_stl_tooling"),T=!(!x.isAuth||!x.eligibleForStlTool||"ad_creation"===o.Z.scenario())&&D({dangerouslySkipActivation:!0}).anyEnabled?function(){(0,d.j)(101,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({component:13308,element:10973},B||R?{entry_point_source:B,image_signature:R}:{})),P()}:P;return(0,m.jsxs)(b.kC,{alignItems:"stretch",justifyContent:C?"between":"end",children:[!!C&&(0,m.jsx)(b.xu,{display:"flex",alignItems:"center",paddingX:5,children:(0,m.jsx)(b.xu,{width:l.LM,children:(0,m.jsx)(b.xv,{color:"red",size:"md",children:C})})}),(0,m.jsx)(b.zx,{color:"red",disabled:E,name:"pin-draft-header-tag-view-done",onClick:k?T:function(){(0,d.j)(101,{component:13308,element:12128}),S((0,h.C_)(n,null)),S((0,f.c8)(t,"upload")),S((0,h.b0)(n))},text:v._("Done","Button to save changes to the tagging flow.","Button to save changes to the tagging flow.")})]})}},977958:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(129206),a=n(174523),c=n(887018),s=n(68545),l=n(218265),u=n(997993),d=n(80209);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=(0,o.connect)(null,(function(e,t){return{setWebsiteLink:function(n,r){return e((0,s.f9)(t.pinDraftId,n,r))},setPinDraftViewScrape:function(){return e((0,s.c8)(t.pinDraftId,"scrape"))}}}))((function(e){var t=(0,a.ZP)(),n=e.pinDraftId,s=e.setWebsiteLink,f=e.setPinDraftViewScrape,h=p((0,r.useState)(""),2),b=h[0],m=h[1],g=p((0,r.useState)(""),2),y=g[0],v=g[1],x=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].view})),I=(0,o.useSelector)((function(e){return e.pinbuilder.pinDrafts[n].websiteLink})),w=t._("Enter a website link","pinbuilder.searchView.placeholdertext","Placeholder text for searching for a website to save ideas from");return(0,d.jsxs)(l.xu,{paddingY:2,height:"scrape"===x?c.i2:c.UU,children:[(0,d.jsx)(l.xu,{position:"relative",children:(0,d.jsx)(l.Um,{accessibilityLabel:"Enter a website",errorMessage:""!==y?t._("No images found. Please check your URL and try again.","pinbuilder.searchView.errorMessage","Error message for invalid URL entered by user"):"",id:"save-from-site",onChange:function(e){var t=e.value;m(t)},onKeyDown:function(e){"Enter"===e.event.key&&(v(""!==b?(0,u.FU)([(0,u.Jx)({message:(0,i.Z)("URL_INVALID",t).message})],b).join(""):""),s(b,y),""!==b&&""===y&&f())},placeholder:I||w,size:"lg",value:b})}),"search"===x&&(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:"gray",size:"sm",children:t._("Example: http://www.websitename.com","pinbuilder.PinDraftSearchView.searchFieldExample","Example of website URL to guide user search")})})]})}))},69640:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(156799),a=n(562239),c=n(310054),s=n(549135),l=n(743174),u=n(80209);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,r,o=b(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"handleClick",(function(){var t=e.props,n=t.deselectPinDraft,r=t.inSelectMode,o=t.pinDraftId,i=t.pinDraftRefs,a=t.published,c=t.selected,l=t.selectPinDraft;(0,s.j)(101,{component:13395,element:11330});var u=i.get(o);u&&u.scrollIntoView({behavior:"smooth",block:"start"}),r&&!a&&(c?n():l())})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.pinDraftId,n=e.published,r=e.selected,o=e.selectedColor,c=e.width,s=e.height,l=e.hasError,d=e.shouldHighlightErrors,p=l&&d;return(0,u.jsx)(a.Z,{selected:p||r,onClick:this.handleClick,color:p?"#e60023":o,children:(0,u.jsx)(i.Z,{pinDraftId:t,type:"thumbnail",collapsed:n,width:c,height:s})})}}])&&f(t.prototype,n),r&&f(t,r),c}(r.Component);t.Z=(0,o.connect)((function(e,t){var n=e.pinbuilder,r=n.pinDrafts,o=n.selectedPinDraftIds;return{inSelectMode:o.length>0,published:"succeeded"===r[t.pinDraftId].status,selected:o.includes(t.pinDraftId),hasError:(0,c.Fh)(e.pinbuilder,t)}}),(function(e,t){return{selectPinDraft:function(){return e((0,l.selectPinBuilderPinDraft)(t.pinDraftId))},deselectPinDraft:function(){return e((0,l.deselectPinBuilderPinDraft)(t.pinDraftId))}}}))(x)},156799:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(575429),o=n(174523),i=n(218265),a=n(80209);function c(e){var t=e.type,n=e.height,r=e.width,c=(0,o.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",color:"lightWash",display:"flex",height:n||("thumbnail"===t?60:"100%"),justifyContent:"center",rounding:2,width:r||("thumbnail"===t?40:"100%"),children:(0,a.jsx)(i.JO,{accessibilityLabel:c._("Empty Pin","Label for Pin draft with no image","Label for Pin draft with no image"),color:"gray",icon:"camera-roll",size:16})})}var s=n(427750),l=n(793550),u=n(990531),d=n(887018);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={video:{height:"100%",objectFit:"cover",width:"100%"},wash:{__style:{opacity:.3}},container:{__style:{transition:"height 250ms ".concat(d.rc)}}},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(c,e);var t,n,r,o=y(c);function c(){var e;b(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=o.call.apply(o,[this].concat(n))),"videoRef",(0,l.createRef)()),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props.media;"localVideo"===e.type&&this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"componentDidUpdate",value:function(e){var t=e.media,n=this.props.media;"localVideo"===n.type&&t.thumbnail!==n.thumbnail&&this.videoRef.current&&(this.videoRef.current.currentTime=n.thumbnail)}},{key:"render",value:function(){var e=this.props,t=e.collapsed,n=e.media,r=e.text,o=e.type,c=e.width,s=void 0===c?40:c,l=("localVideo"===n.type?n:{}).customCoverImg,d="square"===o?"100%":s,p=t?4:(0,u.Z)(l||n,s),f="square"===o?"100%":p;return(0,a.jsxs)(i.xu,{rounding:2,width:d,height:f,position:"relative",dangerouslySetInlineStyle:_.container,children:[(0,a.jsx)(i.xu,{column:12,height:"100%",dangerouslySetInlineStyle:t?_.wash:void 0,children:(0,a.jsxs)(i.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:["localVideo"===n.type&&l&&(0,a.jsx)(i.Ee,{alt:this.props.i18n._("Video Pin","Label for Pin draft with an video","Label for Pin draft with an video"),fit:"square"===o?"cover":void 0,naturalHeight:l.height,naturalWidth:l.width,src:l.src}),"localVideo"===n.type&&!l&&(0,a.jsx)("video",{muted:!0,ref:this.videoRef,src:n.src,style:_.video,children:(0,a.jsx)("track",{kind:"captions"})}),("localImage"===n.type||"webImage"===n.type)&&(0,a.jsx)(i.Ee,{alt:this.props.i18n._("Image Pin","Label for Pin draft with an image","Label for Pin draft with an image"),fit:"square"===o?"cover":void 0,naturalHeight:n.height,naturalWidth:n.width,src:n.src})]})}),("localVideo"===n.type||!!r)&&(0,a.jsxs)(i.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",children:["localVideo"===n.type&&(0,a.jsx)(i.JO,{accessibilityLabel:this.props.i18n._("Video Pin","Label for Pin draft with an video","Label for Pin draft with an video"),color:"white",icon:"video-camera"}),!!r&&(0,a.jsx)(i.xv,{color:"white",size:"sm",weight:"bold",children:r})]})]})}}])&&m(t.prototype,n),r&&m(t,r),c}(l.Component);function O(e){var t=(0,o.ZP)();return(0,a.jsx)(j,h(h({},e),{},{i18n:t}))}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,r.connect)((function(e,t){var n=t.i18n,r=e.pinbuilder,o=r.pinDrafts,i=r.pinItems,a=r.storyPinItems,c=o[t.pinDraftId],l=c.pinItemIds,u=c.pinItemIndex,d=c.type,p=l[u],f=("story"===d?a[p]:i[p]).media;return{media:f,text:"carousel"===d?"".concat(u+1,"/").concat(l.filter((function(e){return"story"===d?!!a[e].media:!!i[e].media})).length):f&&"gif"===(0,s.Z)(f)?n._("GIF","Overlay text for GIF images","Overlay text for GIF images"):void 0}}))((function(e){var t=e.collapsed,n=e.media,r=e.text,o=e.type,i=e.height,s=e.width;return n?"localImage"===n.type||"webImage"===n.type||"localVideo"===n.type?(0,a.jsx)(O,{media:n,text:r,type:o,collapsed:t,width:s}):null:(0,a.jsx)(c,{type:o,height:i,width:s})}));function k(e){var t=(0,o.ZP)();return(0,a.jsx)(E,S(S({},e),{},{i18n:t}))}},76535:function(e,t,n){"use strict";var r=n(221469),o={asset_picker:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_asset_picker",groups:/^(enabled|employees)/,scenarios:["default"]},asset_picker_dropbox:{experiment:"web_pin_builder_dropbox",groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!0},carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_beta"},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},rename:{experiment:"web_sp2s",groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!1,scenarios:["story_pin_v2"]},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},pinbuilder_v2_tabs:{authOnly:!0,partnerOnly:!1,experiment:"web_pinbuilder_v2_tabs",groups:/^(employees|enabled)/,scenarios:["default"]},pinbuilder_v2_full:{authOnly:!0,partnerOnly:!1,experiment:"web_pinbuilder_v2_full",groups:/^(employees|enabled)/,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_beta"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_beta"},storyPinBoardlessPublishing:{authOnly:!0,partnerOnly:!1,experiment:"boardless_idea_pin_publishing",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_publish_comments_permissions",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinExpandedFormats:{authOnly:!0,partnerOnly:!1,experiment:"web_sp_format_support",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinExpressive:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_creator",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinLimitedEdits:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_limit_edits",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMetadataLists:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_metadata_lists",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMetadataListsExpanded:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_metadata_lists_expanded",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMetadataModule:{authOnly:!0,partnerOnly:!1,experiment:"web_sp_create_metadata",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMultiSelect:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_multi_select",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinPreview:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_preview",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_beta"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},suppressFirstAdCreate:{scenarios:["first_pin_page"]},video:{customEnabledCheck:function(e){var t=e.user;return!(null==t||!t.video_upload_allowed)},authOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_beta"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_beta"},videoCollectionsTagging:{authOnly:!0,partnerOnly:!0,experiment:"video_hero_collections",groups:/^(employees|enabled)/,orbacDisabled:!0},pinQuality:{partnerOnly:!0}};t.Z={_experiments:null,_viewer:null,_advertiser:null,_scenario:null,_language:null,_context:null,_orbacActingAs:null,initialize:function(e){var t=e.requestContext,n=e.viewer,o=e.location,i=e.advertiser,a=e.scenario,c=e.orbacActingAs;this._context=e,this._experiments=t.experiments,this._language=t.language,this._viewer=n,this._advertiser=i,this._orbacActingAs=c;var s=(0,r.mB)(o.search).adCreate;this._scenario=a||(s?"ad_creation":"default")},scenario:function(){return this._scenario},enabled:function(e){var t;if(!this._viewer||!this._experiments)return!1;var n=o[e],r=n.advertisers,i=n.authOnly,a=n.experiment,c=n.groups,s=void 0===c?/.*/:c,l=n.languages,u=n.partnerOnly,d=n.scenarios,p=n.orbacDisabled,f=n.orbacExperiment,h=n.customEnabledCheck;return(!(!(null===(t=this._orbacActingAs)||void 0===t||!t.id)&&this._orbacActingAs.id!==this._viewer.id)||!(p||f&&"enabled"!==this._experiments.v2ActivateExperiment(f)))&&(h?h(this._context):!(!r||!this._advertiser||null===this._advertiser.billing_type)||!(i&&!this._viewer.isAuth)&&(!(u&&!this._viewer.isPartner)&&(!(d&&!d.includes(this._scenario))&&(!(l&&!l.includes(this._language))&&(!a||s.test(this._experiments.v2ActivateExperiment(a)||""))))))}}},889164:function(e,t,n){"use strict";n.d(t,{BE:function(){return f},mt:function(){return h},ir:function(){return p},VX:function(){return d},Bc:function(){return u}});var r=n(923103),o=n.n(r),i=function(e){var t=e.url;if(!t||0===t.length)return!1;var n=new RegExp("itunes\\.apple\\.com\\/(?:.*\\/)?app\\/(?:.*\\/)?id([0-9]+)"),r=new RegExp("play.google.com/store/apps/details");return n.test(t)||r.test(t)},a=n(537343),c=n(180317),s=n(560133),l=n(493858);function u(e){if(e){if(e.carousel_data&&e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.length>1)return!1;if(e.videos&&(0,l.iR)(e.videos))return!1;if((0,s.nn)(e)||e.aggregated_pin_data&&e.aggregated_pin_data.is_shop_the_look)return!1;if(e.story_pin_data_id&&e.story_pin_data_id.length>0)return!1;var t=e.link?e.link.trim():"";if(!(t.length>0&&(0,c.Z)({url:t}))||t.length>0&&i({url:t}))return!1;if("pin"===e.type)return!0}return!1}function d(e){return!!(e&&u(e)&&(e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products.length>0&&e.rich_metadata.products[0].offer_summary&&e.rich_metadata.products[0].offer_summary.price||e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0&&e.rich_summary.products[0].offer_summary&&e.rich_summary.products[0].offer_summary.price))}function p(e,t){if(e){var n=t.toLowerCase();if(!t||t&&t.length<=3||e.title&&e.title.toLowerCase().includes(n)||e.grid_title&&e.grid_title.toLowerCase().includes(n)||e.closeup_description&&e.closeup_description.toLowerCase().includes(n)||e.description&&e.description.toLowerCase().includes(n))return!0}return!1}function f(e){if(!e)return"";var t=e.grid_title,n=e.rich_summary,r=e.rich_metadata,o=e.title,i=n&&"mobile application"!==n.type_name,c=o||t||i&&n.display_name||(null==r?void 0:r.title);return c?(0,a.ZP)(c.trim(),30):""}function h(e){if(!e)return"";var t=e.rich_summary,n=e.rich_metadata,r=o()(t,["products","0","offer_summary","price"]),i=o()(n,["products","0","offer_summary","price"]);return r||i}},137878:function(e,t,n){"use strict";n.d(t,{b9:function(){return r},X9:function(){return o},NC:function(){return i},gu:function(){return a},Rc:function(){return c},f9:function(){return s},WK:function(){return l}});var r="pin-builder-font-faces",o="system-font-faces",i="pin-builder-education-font-faces",a="licensed",c="system",s="brand",l=4},730630:function(e,t,n){"use strict";n.d(t,{Wt:function(){return c},j1:function(){return s},CP:function(){return l},$D:function(){return u},KV:function(){return d},vK:function(){return p},a2:function(){return f},bs:function(){return h}});var r=n(380488),o=n(137878);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=[{fontGroup:o.gu,fontFamily:"A-FRAME",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!0},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Graphik XCond-Black.otf"}]},{fontGroup:o.gu,fontFamily:"Cross-stitch",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"normal",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Produkt-Medium.otf"}]},{fontGroup:o.gu,fontFamily:"Lagoon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Gabriello-Black.otf"}]},{fontGroup:o.gu,fontFamily:"Lava lamp",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Publico Banner-Ultra Italic.otf"}]},{fontGroup:o.gu,fontFamily:"Marathon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Produkt-Super Italic.otf"}]},{fontGroup:o.gu,fontFamily:"Sourdough",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Publico Banner-Bold.otf"}]},{fontGroup:o.gu,fontFamily:"Superglue",format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Graphik-Bold+Italic.otf"}]},{fontGroup:o.Rc,fontFamily:"Merriweather",fontFaceUrl:"https://fonts.googleapis.com/css?family=Merriweather:700",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:o.gu,fontFamily:"Noto Serif SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:o.gu,fontFamily:"Noto Sans SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:o.gu,fontFamily:"Noto Serif TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:o.gu,fontFamily:"Noto Sans TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:o.gu,fontFamily:"Noto Serif KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:o.gu,fontFamily:"Noto Sans KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:o.gu,fontFamily:"Noto Serif JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:o.gu,fontFamily:"Noto Sans JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:o.gu,fontFamily:"Noto Serif",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:o.gu,fontFamily:"Noto Sans",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:o.Rc,fontFamily:"Playfair Display",fontFaceUrl:"https://fonts.googleapis.com/css?family=Playfair+Display:400",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Raleway",fontFaceUrl:"https://fonts.googleapis.com/css?family=Raleway:900",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Black",fontStyle:"",fontWeight:"900"}]},{fontGroup:o.Rc,fontFamily:"Roboto Condensed",fontFaceUrl:"https://fonts.googleapis.com/css?family=Roboto+Condensed:700i",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:o.Rc,fontFamily:"Suez One",fontFaceUrl:"https://fonts.googleapis.com/css?family=Suez+One&display=swap",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Domine",fontFaceUrl:"https://fonts.googleapis.com/css?family=Domine&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Overlock",fontFaceUrl:"https://fonts.googleapis.com/css?family=Overlock:900i&display=swap",fontOverrides:{letterSpacing:-1,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Black Italic",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Satisfy",fontFaceUrl:"https://fonts.googleapis.com/css?family=Satisfy&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]}];function s(){return c}function l(e,t,n){var r=e.styles.find((function(e){return e.fontStyle===t&&e.fontWeight===n}));return r?r.name:""}function u(e,t){return e.reduce((function(e,t){return[].concat(i(e),i(t.fonts))}),[]).find((function(e){return e.fontFamily===t}))||null}function d(e){return(0,r.h)(e,o.b9)}function p(){return(0,r.h)(s(),o.X9)}function f(){return(0,r.h)([c[o.WK]],o.NC)}function h(e){var t=function(e){var t=s();if(e){var n=t.findIndex((function(t){return t.localeFilter===e}));if(n>=0)return t[n]}return t[6]}(e),n=t.defaultStyle,r=t.styles[n],i=t.fontFamily,a=t.fontOverrides,c=a&&a.textTransform?1:0,l=a&&a.lineHeight||1.2,u=a&&a.letterSpacing||0;return{fontGroupName:o.gu,fontFamilyName:null!=i?i:"",fontStyleName:r.name,fontWeight:r.fontWeight,fontSize:50,textColor:"#FFFFFF",marginIndex:1,alignmentIndex:1,positionIndex:2,backgroundColor:"",backgroundTransparencyIndex:0,lineHeight:l,letterSpacing:u,transformIndex:c,showMoreOptions:!1}}},629973:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(887018);function o(e){return r.hH[e]}},427750:function(e,t,n){"use strict";function r(e){var t=e.lastIndexOf("."),n=e.toLocaleLowerCase();return n.substr(t).includes("gif")||n.startsWith("data:image/gif")}function o(e){if("localVideo"===e.type)return"localVideo";if("localImage"===e.type)return"image/gif"===(e.fileSrc&&e.fileSrc.type)?"gif":null;if("webImage"===e.type)return r(e.src)?"gif":null;if("dropboxFile"===e.type)return r(e.name)?"gif":null;if("pin"===e.type){var t=e.images;if(e.videos)return"localVideo";if(null!=t&&t.orig&&t.orig.url&&r(t.orig.url))return"gif"}return null}n.d(t,{Z:function(){return o}})},721869:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(741993),o=n(359712);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return(0,r.Z)().then((function(r){var i=e[0],c=((t[i]||{}).media||{}).width,s=e.every((function(e){var n=(t[e]||{}).media;return!n||(n||{}).width===c}))?c:o.IU,l=e.map((function(e){var o=new r(document.createElement("div")),i=t[e]||{},c=i.canvasJson,l=i.media;if(!l)return t[e];var u=function(){return o.setAspectRatio(n),a(a({},t[e]),{},{canvasJson:o.toJSON(),media:a(a({},l),o.getCanvasOutput({width:s}))})};return c?o.loadFromJSON(c).then(u):o.setImage(l.src).then(u)}));return Promise.all(l)}))}},453512:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(741993),o=n(359712);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.IU;return(0,r.Z)().then((function(n){var r=new n(document.createElement("div")),o=e.filter((function(e){return"localImage"===e.type})).map((function(e){return e.src}));return r.setImages(o).then((function(){return{media:r.getCanvasOutput({width:t}),canvasJson:r.toJSON()}}))}))}},252186:function(e,t,n){"use strict";var r=n(981444),o=n(129206);t.Z=function(e){return function(t){return new Promise((function(n,i){var a=new Image;a.addEventListener("load",(function(){return n({fileSrc:t,height:a.height,id:(0,r.Z)(),name:t.name,size:t.size,src:a.src,type:"localImage",width:a.width})})),a.addEventListener("error",(function(){return function(e){return function(t){return t((0,o.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}}(e)(i)})),a.src=URL.createObjectURL(t)}))}}},894077:function(e,t,n){"use strict";var r=n(981444),o=n(129206);t.Z=function(e){return function(t){return new Promise((function(n,i){var a=new FileReader,c=URL.createObjectURL(t);a.addEventListener("load",(function(){var a=document.createElement("video");a.addEventListener("loadedmetadata",(function(){return n({id:(0,r.Z)(),duration:a.duration,fileSrc:t,height:a.videoHeight,name:t.name,size:t.size,src:a.src,thumbnail:0,type:"localVideo",width:a.videoWidth})})),a.addEventListener("error",(function(){return function(e){return function(t){return t((0,o.Z)("VIDEO_UNRECOGNIZED_ENCODING",e))}}(e)(i)})),a.src=c})),a.readAsDataURL(t)}))}}},990531:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(887018);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.LM,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(t-2*n)/e.width*e.height+2*n}},371599:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(887018);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=e/t,i=r.hH.carousel,a=i.length,c=i[0],s=i[a-1];if(n<=s.w/s.h)return{w:e,h:t};var l=i.reduce((function(e,t,r){var i=t.w/t.h,a=o(e,2),c=a[0],s=a[1],l=Math.abs(i-n);return s&&s<l?[c,s]:[t,l]}),[null,null]),u=o(l,1)[0];return{w:t*(u?u.w/u.h:c.w/c.h),h:t}}},232392:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(415149);function o(e){if(e){var t=(0,r.Z)().includes("/create/")?"create_flow":"standalone";return"partner_upload_".concat(t)}return"pinner_upload_standalone"}},420884:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(176948);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=((t||{}).layout||{}).sections,o=((n&&1===n.length?n[0]:{})||{}).media||{},a=o.viewbox,c=o.angle,s=o.width,l=o.height,u={},d=!1;if(a){var p=Math.round(a.width*s),f=Math.round(a.height*l),h=Math.round(a.left*s-p/2),b=Math.round(a.top*l-f/2),m=c||0;u={origin_x:h,origin_y:b,width:p,height:f,rotation:m},d=h>Number.EPSILON||b>Number.EPSILON||1-a.width>Number.EPSILON||1-a.height>Number.EPSILON||0!==m;var g=e.duration?e.duration:0,y=e.trimmedStartTime?e.trimmedStartTime:0,v=e.trimmedEndTime?e.trimmedEndTime:g;return u=i(i({},u),{},{time_start:(0,r.TA)(y),time_end:(0,r.TA)(v)}),(d=d||y>Number.EPSILON||g-v>.01)?u:null}return null}},919850:function(e,t,n){"use strict";n.d(t,{v:function(){return r},B:function(){return o}});function r(e,t,n){return new Promise((function(r){var o,i=document.createElement("video"),a=function(){var e=i.seekable.length;e&&i.seekable.end(e-1)>=t&&(window.clearInterval(o),i.currentTime=t)};i.addEventListener("loadedmetadata",(function(){o=window.setInterval(a,50)})),i.addEventListener("seeked",(function(){var e=n||{x:0,y:0,width:i.videoWidth,height:i.videoHeight},t=e.x,o=e.y,a=e.width,c=e.height,s=document.createElement("canvas");s.height=c,s.width=a,s.getContext("2d").drawImage(i,t,o,s.width,s.height,0,0,s.width,s.height),r(s.toDataURL())})),i.src=e.src}))}function o(e,t){return new Promise((function(n){var r=document.createElement("img");r.onload=function(){var e=t||{x:0,y:0,width:r.width,height:r.height},o=e.x,i=e.y,a=e.width,c=e.height,s=document.createElement("canvas");s.height=c,s.width=a,s.getContext("2d").drawImage(r,o,i,s.width,s.height,0,0,s.width,s.height),n(s.toDataURL())},r.src=e}))}},314434:function(e,t,n){"use strict";n.d(t,{PG:function(){return a},Sl:function(){return c},rt:function(){return l}});var r,o=n(887018);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return e.width>=o.FM&&e.height>=o.Mn}function c(e){return!!e&&("localImage"===e.type||"webImage"===e.type||"assetImage"===e.type)}var s=(i(r={},o.MH.STATIC,[o.ox.TRAFFIC,o.ox.AWARENESS,o.ox.APP_INSTALL,o.ox.WEB_CONVERSION,o.ox.WEB_SESSIONS]),i(r,o.MH.CAROUSEL,[o.ox.TRAFFIC,o.ox.AWARENESS,o.ox.WEB_CONVERSION,o.ox.WEB_SESSIONS,o.ox.APP_INSTALL]),i(r,o.MH.VIDEO,[o.ox.TRAFFIC,o.ox.AWARENESS,o.ox.APP_INSTALL,o.ox.WEB_CONVERSION,o.ox.VIDEO_VIEW,o.ox.WEB_SESSIONS]),i(r,o.MH.COLLECTIONS,[o.ox.TRAFFIC,o.ox.AWARENESS,o.ox.WEB_CONVERSION,o.ox.WEB_SESSIONS]),r);function l(e,t){return!(!e||!t)&&(s[e]||[]).includes(t)}},805092:function(e,t,n){"use strict";function r(e){var t=[];return e.items?Array.from(e.items).forEach((function(e){if("file"===e.kind){var n=e.getAsFile();n&&t.push(n)}})):t.concat(Array.from(e.files)),t}n.d(t,{Z:function(){return r}})},630269:function(e,t,n){"use strict";n.d(t,{Mi:function(){return g},f:function(){return y},zp:function(){return v},Fv:function(){return x},iX:function(){return I},fh:function(){return _},Ix:function(){return O},Yv:function(){return A},GV:function(){return S},xc:function(){return P},wL:function(){return k},Ch:function(){return C}});var r=n(296882),o=n(311866),i=n(754999),a=n(479669),c=n(496764);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=1e3,h=[200,201,204],b=2e3,m=8e3;function g(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=e.split(";"),r=n[0].split(":")[1],o=n[1].split(",")[1],i=atob(o),a=[],c=0;c<i.length;c+=t){for(var s=i.slice(c,c+t),l=new Array(s.length),u=0;u<s.length;u+=1)l[u]=s.charCodeAt(u);var d=new Uint8Array(l);a.push(d)}var p=new Blob(a,{type:r});return p}var y=function(e){var t=[e.substring(0,2),e.substring(2,4),e.substring(4,6)],n=t[1],r=t[2];return e?"https://i.pinimg.com/736x/".concat(t[0],"/").concat(n,"/").concat(r,"/").concat(e,".jpg"):""};function v(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){if(200===n.status){var r=n.response,o=new FileReader;o.onloadend=function(){var e="string"==typeof o.result?o.result:"";t(e)},o.readAsDataURL(r)}},n.send()}))}function x(e){return o.ZP.create("VisualLinkBoardResource",e?{orbacSubjectId:e}:{}).callCreate().then((function(e){return e.resource_response.data}))}function I(e){return o.ZP.create("PinResource",e).callCreate().then((function(e){return e.resource_response.data}))}function w(e,t){var n,r,i=t.onSuccess,a=t.onError,c=t.onProcessingStarted,s=t.resolvedAfterProcessingStarted,l=t.delay,u=void 0===l?b:l,d=!1,p=function(){clearTimeout(r),clearTimeout(n)};!function t(){d||o.ZP.create("VIPResource",{upload_ids:[e]}).callGet().then((function(o){var l=o.resource_response.data;if(l[e]){var f=l[e],h=f.status,b=f.signature,m=f.failure_code;n||(n=setTimeout((function(){d=!0,a("","registered_timeout")}),6e4)),r||(r=setTimeout((function(){d=!0,a("","processing_timeout")}),3e5)),"processing"===h||"registered"===h?"processing"===h?(clearTimeout(n),c?s?(clearTimeout(r),c(b)):(c(b),setTimeout((function(){return t()}),u)):setTimeout((function(){return t()}),u)):setTimeout((function(){return t()}),u):"succeeded"===h?(p(),i(b)):(p(),a("VIP status failure code: ".concat(m),null))}else a("VIP upload ID was not returned",null)})).catch((function(){a("VIP failure with checking status",null)}))}()}function _(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){o.ZP.create("VIPResource",{type:t}).callCreate().then((function(o){var c=r||{},s=c.onCancelUpload,l=c.onFailureUpload,u=c.onFinishProcessing,d=c.onFinishUpload,p=c.onProgress,g=c.onStartProcessing,y=c.onStartUpload,v=c.setXhr,x=o.resource_response.data,I=x.upload_id,_=x.upload_url,j=x.upload_parameters,O=e.size,A=new Date;y&&y({fileSizeBytes:O,uploadId:I});var S=function(e,t){l&&l({failureReason:t,fileSizeBytes:O,message:e,uploadId:I}),a({isError:!0,uploadId:I})},P=new XMLHttpRequest;P.open("POST",_,!0),P.onabort=function(){s&&s(I),a({isError:!1,uploadId:I})},P.onload=function(){if(h.includes(P.status)){var e=new Date,r=(e-A)/f;if(d){var o=P.getResponseHeader("x-amz-request-id"),a=P.getResponseHeader("x-amz-id-2");d({amzId2:a,amzRequestId:o,statusCode:P.status,uploadId:I,uploadTime:r})}w(I,{onProcessingStarted:function(e){return g&&g({signature:e,uploadId:I}),n?i({signature:e,uploadId:I}):void 0},delay:t.includes("image")?b:m,onError:S,onSuccess:function(t){var n=(new Date-e)/f;return u&&u({fileSizeBytes:O,processingTime:n,signature:t,uploadId:I,uploadTime:r}),i({signature:t,uploadId:I})},resolvedAfterProcessingStarted:n})}else S("XHR failure status code: ".concat(P.status),null)},P.onerror=function(){P.abort()},p&&(P.upload.onprogress=p),v&&v(P);var E=new FormData;Object.keys(j).forEach((function(e){E.append(e,j[e])})),E.append("file",e),P.send(E)})).catch((function(e){a({isError:!0})}))}))}function j(e,t){return new Promise((function(n,o){var a=new FormData;a.append("img",e);var s=new XMLHttpRequest;s.open("POST",(0,r.Z)("/upload-image/"),!0),s.setRequestHeader("x-CSRFToken",(0,c.getCsrfToken)()),s.onload=function(){if(200===s.status){var e=JSON.parse(s.responseText);e.success?n(e):o(new Error(e.error))}else 413===s.status?o(new Error(t._("Oops! Something went wrong while uploading your image. Try uploading a smaller image.","pinBuilderResource.uploadImage.error.smallerImage","Error message displayed to prompt user to upload a smaller image"))):o(new Error((0,i.Z)(t._("Oops! Something went wrong while uploading your image (Status code {{statusCode}})","pinBuilderResource.uploadImage.genericError","Error message displayed to user when an error has occurred with image upload"),{statusCode:s.status})))},s.send(a)}))}function O(e,t){return"string"==typeof e?e.startsWith("data")?j(g(e),t):v(e).then((function(e){return j(g(e),t)})):j(e,t)}function A(e,t,n,r){return new Promise((function(i,a){o.ZP.create("VIPEditResource",d({type:t,video_signature:e},n)).callCreate().then((function(e){var t=r||{},n=t.onStartEdits,o=t.onFinishEdits,c=e.resource_response.data.tracking_id,s=new Date;n&&n(c),w(c,{delay:m,onError:function(e){return a(e)},onProcessingStarted:function(e){return i({signature:e,uploadId:c})},onSuccess:function(e){var t=(new Date-s)/f;o&&o(c,t,e),i({signature:e,uploadId:c})},resolvedAfterProcessingStarted:!0})})).catch((function(){a()}))}))}function S(e,t,n){return"string"==typeof e?e.startsWith("data")?_(g(e),t,!1,n):v(e).then((function(e){return _(g(e),t,!1,n)})):_(e,t,!1,n)}function P(e,t){return S(e,"pinimage",{onFailureUpload:function(e){var n=e.fileSizeBytes,r=e.uploadId;return function(e){var t=e.fileSizeBytes,n=e.pinDraftId,r=e.uploadId;(0,a.Z)(8785,{file_size_mb:t/Math.pow(1024,2),media_upload_id:r,pin_draft_id:n})}({pinDraftId:t,uploadId:r,fileSizeBytes:n})},onFinishProcessing:function(e){var n=e.fileSizeBytes,r=e.processingTime,o=e.signature,i=e.uploadId,c=e.uploadTime;return function(e){var t=e.fileSizeBytes,n=e.imageSignature,r=e.pinDraftId,o=e.uploadId,i=e.uploadTimeSec;(0,a.Z)(8781,{file_size_mb:t/Math.pow(1024,2),image_signature:n,media_upload_id:o,pin_draft_id:r,upload_time:i})}({fileSizeBytes:n,imageSignature:o,pinDraftId:t,uploadId:i,uploadTimeSec:r+c})},onStartUpload:function(e){var n=e.fileSizeBytes,r=e.uploadId;return function(e){var t=e.fileSizeBytes,n=e.pinDraftId,r=e.uploadId;(0,a.Z)(8780,{file_size_mb:t/Math.pow(1024,2),media_upload_id:r,pin_draft_id:n})}({pinDraftId:t,uploadId:r,fileSizeBytes:n})}})}function E(e,t){return P(e,t).then((function(e){var t=e.signature;if(!t)throw new Error;return{image_url:y(t),success:!0}}))}function k(e,t,n){return E(e,t).then((function(e){return new Promise((function(t,r){var i=e.image_url;o.ZP.create("ScheduledPinResource",d({image_url:i,method:"upload"},n?{orbac_subject_id:n}:{})).callCreate().then((function(e){var n=e.resource_response.data.image_signature;t(n)})).catch((function(){r(new Error("Cannot schedule the Pin."))}))}))})).catch((function(e){throw e}))}function C(e,t){var n=e.filter((function(e){return!!e.media}));return Promise.all(n.map((function(e){var n,r;return E(null!==(n=null===(r=e.media)||void 0===r?void 0:r.src)&&void 0!==n?n:"",t)}))).then((function(e){var t=e.map((function(e){return e.image_url}));return Promise.all([o.ZP.create("CarouselImageUploaderResource",{image_urls:t}).callUpdate(),t])})).then((function(e){var t=s(e,2),r=t[0],o=t[1],i=r.resource_response.data,a=n.findIndex((function(e,t){return!!i[t].image_signature})),c=(n.find((function(e){return!!e.description}))||{}).description,l=(n.find((function(e){return!!e.link}))||{}).link;return{metadata:{description:c||"",title:(n.find((function(e){return!!e.title}))||{}).title||"",link:l||"",imageSignature:i[a].image_signature||"",image_url:o[0]},slots:n.map((function(e,t){var n=i[t],r=e.description,o=e.title,a=e.link;return d(d({},n),{},{title:o,description:r,link:a})}))}})).catch((function(e){throw e}))}},176948:function(e,t,n){"use strict";n.d(t,{to:function(){return o},TA:function(){return i},SD:function(){return a}});var r=6e3,o=function(e){var t=Math.floor(100*e||0),n=Math.floor(t/r),o=Math.floor((t-n*r)/100),i=t-n*r-100*o,a=n<10?"0".concat(n):n,c=o<10?"0".concat(o):o,s=i<10?"0".concat(i):i;return"".concat(a,":").concat(c,":").concat(s)},i=function(e){var t=o(e);return"00:".concat(t.substring(0,5),":00")},a=function(e){var t=e.split(":"),n=0;return 3===t.length&&(n+=isNaN(t[0])?0:60*+t[0],n+=isNaN(t[1])?0:+t[1],n+=isNaN(t[2])?0:+t[2]/100),n}},479669:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(730762),o=n(549135);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.Z.getInstance(),i=n.getViewFromContext();n.addViewToContext({view_type:212}),(0,o.j)(e,t),n.addViewToContext(i)}},372802:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(252186),o=n(76535),i=n(129206),a=n(887018);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t.size>a.qr?Promise.resolve((0,i.Z)("IMAGE_OVER_MAX_FILE_SIZE",e)):(0,r.Z)(e)(t).then((function(t){return function(e,t,n){var r=c(o.Z.enabled("pinQuality")?[300,200]:[a.yL,a.Ci],2),s=r[0],l=r[1],u=(null==n?void 0:n.minHeight)||s,d=(null==n?void 0:n.minWidth)||l;return t.height*t.width>a.IR?(0,i.Z)("IMAGE_OVER_MAX_DIMENSIONS",e):t.height<u||t.width<d?(0,i.Z)("IMAGE_UNDER_MIN_DIMENSIONS",e):t}(e,t,n)})).catch((function(e){return e}))}var u=n(894077),d=n(297583);function p(e,t,n){var r=(n||{}).forStoryPin,o=r?d.sy:a.sy;return t.size>o?Promise.resolve((0,i.Z)(r?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",e)):(0,u.Z)(e)(t).then((function(t){return function(e,t,n){var r=!(null==n||!n.forStoryPin),o=r?d.aB:a.VY,c=r?d.fl:a.lr;return t.duration<o?(0,i.Z)(r?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",e):t.duration>c?(0,i.Z)(r?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",e):t.width&&t.height?t.width/t.height<a.X5||t.width/t.height>a.b1?(0,i.Z)("VIDEO_UNSUPPORTED_RATIO",e):t.width<a.x2||t.height<a.uW?(0,i.Z)("VIDEO_UNDER_MIN_DIMENSIONS",e):t:(0,i.Z)("VIDEO_UNRECOGNIZED_ENCODING",e)}(e,t,n)})).catch((function(e){return e}))}function f(e,t,n){var r=(n||{}).allowVideo;return a.ss.includes(t.type)&&r?p(e,t,n):a.xl.includes(t.type)?l(e,t,n):Promise.resolve((0,i.Z)("FILE_UNRECOGNIZED_TYPE",e))}},268751:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(372802);function o(e,t,n){return Promise.all(t.map((function(t){return(0,r.Z)(e,t,n)})))}},230118:function(e,t,n){"use strict";n.d(t,{qi:function(){return P},Oc:function(){return E},DY:function(){return k},x:function(){return U},J6:function(){return Z},f5:function(){return L}});var r=n(72984),o=n(713406),i=n.n(o),a=n(311866),c=n(76535),s=n(139848),l=n(301314),u=n(349079),d=n(874048),p=n(981444),f=n(129206),h=n(310054),b=n(887018),m=n(997993);function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=e.pinbuilder.pinDrafts[t];return n.pinItemIds[n.pinItemIndex]}function _(e,t){return e.pinbuilder.pinItems[w(e,t)]}function j(e,t){if(e){var n=Object.keys(e),r=[];return n.forEach((function(n){var o=Object.keys(e[n]);o.length>0&&o.forEach((function(e){switch(parseInt(e,10)){case 1:r.push((0,f.Z)("URL_UNREACHABLE",t,n));break;case 2:r.push((0,f.Z)("URL_CONTAINS_PORN_DOMAIN",t,n));break;case 304:r.push((0,f.Z)("IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",t,n));break;case 301:r.push((0,f.Z)("IMAGE_UNDER_MIN_DIMENSIONS",t,n));break;case 9:r.push((0,f.Z)("LINK_LOADS_SLOWLY",t,n));break;case 10:r.push((0,f.Z)("LINK_IS_AGGREGATOR",t,n));break;case 305:r.push((0,f.Z)("IMAGE_IS_SCREENSHOT",t,n));break;case 306:r.push((0,f.Z)("IMAGE_IS_BLURRY",t,n))}}))})),r}return[]}function O(e,t){return function(n,r){var o={},i=r().pinbuilder.pinItems[e].signals;switch(t){case"link_url":Object.prototype.hasOwnProperty.call(i,"URL_CONTAINS_PORN_DOMAIN")&&(o.URL_CONTAINS_PORN_DOMAIN=!1),Object.prototype.hasOwnProperty.call(i,"URL_UNREACHABLE")&&(o.URL_UNREACHABLE=!1);break;case"image_signature":Object.prototype.hasOwnProperty.call(i,"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO")&&(o.IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO=!1),Object.prototype.hasOwnProperty.call(i,"IMAGE_UNDER_MIN_DIMENSIONS")&&(o.IMAGE_UNDER_MIN_DIMENSIONS=!1)}Object.keys(o).length>0&&n((0,d.nh)(e,{signals:o}))}}function A(e,t){return function(n,r){var o=r();return new Promise((function(n){n(o.pinbuilder.pinDrafts[e].selectedItem?null:(0,f.Z)("BOARD_MISSING",t,e))}))}}function S(e,t,n){if(t){var r=n[Object.keys(n)[0]];e&&(e.PinCreationQualitySignalResource||(e.PinCreationQualitySignalResource={}),e.PinCreationQualitySignalResource[t]=r)}}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,p.Z)(),r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i){if(t)if((0,m.FU)([(0,m.Jx)({message:(0,f.Z)("URL_INVALID",e).message})],t).length>0)i([(0,f.Z)("URL_INVALID",e,n)]);else if(c.Z.enabled("linkStatusValidation")){var s="PinCreationQualitySignalResource",u={pin_items:I({},n,{link_url:t})};if(r&&r[s]&&r[s][t]){var d=I({},n,r[s][t]);i(j(d,e))}else a.ZP.create(s,u).callGet().then((function(n){var a=n.resource_response.data;S(r,t,a),o&&o((0,l.Sr)(s,u,n)),i(j(a,e))})).catch((function(e){return i(null)}))}else i(null);else c.Z.enabled("requireLink")?i([(0,f.Z)("URL_MISSING",e,n)]):i(null)}))}function E(e,t){return function(n,r){var o=r(),i=o.pinbuilder,a=o.resources,c=i.pinDrafts,s=i.pinItems,l=i.storyPinItems,u=c[e],d=u.pinItemIds,p=u.type;return d.filter((function(e){return"carousel"!==p||!!s[e].media})).map((function(e){return"story"!==p&&n(O(e,"link_url")),P(t,"story"===p?l[e].linkBlock&&l[e].linkBlock.srcUrl:s[e].link,e,a,n)}))}}function k(e,t,n){return function(r,o){var i=o(),c=i.pinbuilder,u=i.resources,d=c.pinDrafts,p=c.pinItems,f=c.storyPinItems,h=d[e],b=h.pinItemIds,m=h.type,g="PinCreationQualitySignalResource";if("story"===m)return Promise.resolve([]);var y={pin_items:b.reduce((function(e,t){var r="story"===m,o=r?f[t]:p[t],i=o.title,a=o.description,c=o.media,s=r?f[t].linkBlock.srcUrl:p[t].link;return x(x({},e),{},I({},t,{title:i,description:a,image_signature:c&&"localImage"===c.type?c.signature:"",link_url:s,fields_to_check:[n]}))}),{})},v=(0,s.e)(y);if(u&&u[g]&&u[g][v]){var w=u[g][v].data;return b.map((function(e){return r(O(e,n))})),Promise.resolve(j(w,t))}return new Promise((function(e){a.ZP.create(g,y).callGet().then((function(o){var i=o.resource_response.data;return b.map((function(e){return r(O(e,n))})),r((0,l.Sr)(g,y,o)),e(j(i,t))})).catch((function(t){return e([])}))}))}}function C(e,t){return function(n,r){var o=r();return new Promise((function(n){(0,h.q7)(o,{pinDraftId:e}).filter((function(e){return null!==e.media})).length<b.fk?n((0,f.Z)("STORY_PIN_NOT_ENOUGH_PAGES",t,e)):n(null)}))}}function R(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=(0,h.q7)(o,{pinDraftId:e}).filter((function(e){return!!e.blockIds.length}));0===r.length?n((0,f.Z)("STORY_PIN_NOT_ENOUGH_PAGES",t)):r.length>b.yX?n((0,f.Z)("STORY_PIN_TOO_MANY_PAGES",t)):n(null)}))}}function B(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=(0,h.pq)(o,{pinDraftId:e});return 1!==(0,u.yp)(o,{pinItemId:r[0]}).filter((function(e){return("story_pin_image_block"===e.type||"story_pin_video_block"===e.type)&&!!e.media})).length?n((0,f.Z)("STORY_PIN_COVER_PAGE_IMAGE_MISSING",t)):n(null)}))}}function D(e,t){return function(n,r){var o=r();return new Promise((function(n){return n((0,h.pc)(o,{pinDraftId:e})?null:(0,f.Z)("STORY_PIN_TITLE_MISSING",t))}))}}var T=[A,E,function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=o.pinbuilder.pinDrafts[e].type,i=_(o,e).media;n("carousel"===r||i?null:(0,f.Z)("MEDIA_MISSING",t,e))}))}},function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=_(o,e),i=r.isTaggable,a=r.pinTagIds.filter((function(e){return"deleted"!==o.pinbuilder.pinTags[e].status}));n(!i&&a.length>0?(0,f.Z)("TAG_INVALID",t,w(o,e)):null)}))}},function(e,t){return function(n,o){var i=o();return new Promise((function(n){var o=i.pinbuilder.pinDrafts[e],a=o.publishOption,c=o.scheduledDate,s=new Date;s.setHours(0,0,0,0),"publish-immediately"!==a&&(c?c<s?n((0,f.Z)("DATE_IN_PAST",t,e)):c>(0,r.Z)(new Date,b.TZ)&&n((0,f.Z)("DATE_TOO_FAR_IN_FUTURE",t,e)):n((0,f.Z)("DATE_MISSING",t,e))),n(null)}))}},function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=o.pinbuilder.pinDrafts[e],i=r.publishOption,a=r.scheduledTime;n("publish-immediately"===i||a?null:(0,f.Z)("TIME_MISSING",t,e))}))}}],J=[A,E,function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=o.pinbuilder.pinDrafts[e].pinItemIds,i=o.pinbuilder.storyPinItems[r[0]].canvasJson;i&&i.aspectRatio&&9===i.aspectRatio.w&&16===i.aspectRatio.h?n(null):n((0,f.Z)("STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",t,e))}))}},function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=o.pinbuilder.pinDrafts[e].pinItemIds,i=o.pinbuilder.storyPinItems[r[0]].media;i&&"localVideo"===i.type?n((0,f.Z)("STORY_PIN_VIDEO_ON_COVER",t,e)):n(null)}))}},function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=o.pinbuilder.pinDrafts[e].pinItemIds;n(o.pinbuilder.storyPinItems[r[0]].title?null:(0,f.Z)("STORY_PIN_COVER_PAGE_TITLE_MISSING",t,e))}))}},C],V=[A,B,R,D],M=[A,E,C],F=[A,B,R,D],N=[function(e,t){return function(n,r){var o=r();return new Promise((function(n){for(var r=(0,h.uO)(o,{pinDraftId:e}),i=!1,a=0;a<r.length;a+=1){var c;if(null!==(c=r[a].media)&&void 0!==c&&c.type){var s=r[a].media,l=void 0;switch(s.type){case"localImage":l=s.signatureEdited;break;case"localVideo":l=void 0===s.trimmedEndTime||void 0===s.trimmedStartTime||0===s.trimmedStartTime&&s.trimmedEndTime===s.duration?s.signature:s.signatureEdited;break;case"webImage":case"webVideo":l=s.signature}if(!l){i=!0;break}}}return n(i?(0,f.Z)("STORY_PIN_MEDIA_SIGNATURES_MISSING",t):null)}))}},function(e,t){return function(n,r){var o=r();return new Promise((function(n){var r=o.pinbuilder.pinDrafts[e].pinItemIds[0];return o.pinbuilder.storyPinItems[r].coverImgSignature?n(null):n((0,f.Z)("STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",t))}))}}];function U(e,t){return function(n,r){var o=r(),a=o.pinbuilder.pinDrafts[e].type,c=i()(g("story"===a?function(e,t){var n=e.pinbuilder.pinDrafts[t].pinItemIds;return(n.length?e.pinbuilder.storyPinItems[n[0]]:{}).blockIds.length?V:J}(o,e):T).map((function(r){return n(r(e,t))})));return Promise.all(c).then((function(e){return i()(e.filter(Boolean))}))}}function Z(e,t){return function(n,r){var o=r(),a=o.pinbuilder.pinDrafts[e].type,c=i()(g("story"===a?function(e,t){var n=e.pinbuilder.pinDrafts[t].pinItemIds;return(n.length?e.pinbuilder.storyPinItems[n[0]]:{}).blockIds.length?F:M}(o,e):T).map((function(r){return n(r(e,t))})));return Promise.all(c).then((function(e){return i()(e.filter(Boolean))}))}}function L(e,t){return function(n,r){var o=r(),a=o.pinbuilder.pinDrafts[e],c=o.pinbuilder.storyPinItems[a.pinItemIds[0]].blockIds.length>0,s=i()(g(c?function(e,t){var n=e.pinbuilder.pinDrafts[t].pinItemIds;return(n.length?e.pinbuilder.storyPinItems[n[0]]:{}).blockIds.length?N:[]}(o,e):[]).map((function(r){return n(r(e,t))})));return Promise.all(s).then((function(e){return i()(e.filter(Boolean))}))}}},319234:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(793550),o=n(551687),i=n(689859),a=n(174523),c=n(218265),s=n(80209);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=(0,r.lazy)((function(){return Promise.all([n.e(32535),n.e(59701),n.e(86032),n.e(88840)]).then(n.bind(n,948536))})),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,r,a=b(l);function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=a.call.apply(a,[this].concat(n))),"loaded",!1),v(g(e),"setRef",(function(t){var n=e.props.onLoaded;!e.loaded&&n&&n(t),e.loaded=!0})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.borderRadius,n=e.height,r=e.width;return(0,s.jsx)(o.Z,{name:"SafeSuspense_PinCanvasLoader_PinCanvas",children:(0,s.jsx)(i.Z,{fallback:(0,s.jsx)(c.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(c.$j,{accessibilityLabel:this.props.i18n._("Loading image editor","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})}),children:(0,s.jsx)(x,{borderRadius:t,width:r,height:n,ref:this.setRef})})})}}])&&f(t.prototype,n),r&&f(t,r),l}(r.Component);function w(e){var t=(0,a.ZP)();return(0,s.jsx)(I,d(d({},e),{},{i18n:t}))}},741993:function(e,t,n){"use strict";function r(){return Promise.all([n.e(32535),n.e(59701),n.e(86032)]).then(n.bind(n,327649)).then((function(e){return e.default}))}n.d(t,{Z:function(){return r}})},359712:function(e,t,n){"use strict";n.d(t,{fQ:function(){return r},_y:function(){return o},AW:function(){return i},xZ:function(){return a},IU:function(){return c},J6:function(){return s},Wx:function(){return l},qs:function(){return u},Vv:function(){return d},fD:function(){return p},it:function(){return f},z2:function(){return h},f5:function(){return b},Nv:function(){return m},zA:function(){return g},ln:function(){return y},g6:function(){return v},re:function(){return x},oH:function(){return I},Ir:function(){return w},sT:function(){return _},Hv:function(){return j},IW:function(){return O},uN:function(){return A},VC:function(){return S},bg:function(){return P},fI:function(){return E},Dp:function(){return k},rh:function(){return C},$R:function(){return R},SX:function(){return B},zU:function(){return D},zs:function(){return T},hp:function(){return J},vF:function(){return V},JK:function(){return M},as:function(){return F},De:function(){return N},ZT:function(){return U},pg:function(){return Z},QS:function(){return L},uO:function(){return Q}});var r=600,o=64,i=600,a=150,c=750,s="jpeg",l=.92,u="#efefef",d=.7,p=2,f=16,h="#e60023",b=8,m="#e60023",g=1,y="white",v="#efefef",x=.7,I=2,w=8,_="#ffb3be",j=1,O=16,A="#ffb3be",S=1,P="white",E=50,k="#e60023",C="#e60023",R=4,B="black",D=58,T="#0074e8",J=.94,V=8,M="white",F="bold 16px sans-serif",N=.1,U={w:2,h:3},Z=5,L={1:[{viewbox:{top:0,left:0,width:1,height:1},roundedCorners:{tl:!0,tr:!0,bl:!0,br:!0},internalEdges:{mt:!1,mb:!1,ml:!1,mr:!1}}],2:[{viewbox:{top:0,left:0,width:1,height:2/3},roundedCorners:{tl:!0,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!1},alignedSections:{mb:[]},againstSections:{mb:[1]}},{viewbox:{top:2/3,left:0,width:1,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!0},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!1},alignedSections:{mt:[]},againstSections:{mt:[0]}}],3:[{viewbox:{top:0,left:0,width:1,height:1/3},roundedCorners:{tl:!0,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!1},alignedSections:{mb:[]},againstSections:{mb:[1]}},{viewbox:{top:1/3,left:0,width:1,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!1},internalEdges:{mt:!0,mb:!0,ml:!1,mr:!1},alignedSections:{mt:[],mb:[]},againstSections:{mt:[0],mb:[2]}},{viewbox:{top:2/3,left:0,width:1,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!0},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!1},alignedSections:{mt:[]},againstSections:{mt:[1]}}],4:[{viewbox:{top:0,left:0,width:.5,height:.5},roundedCorners:{tl:!0,tr:!1,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!0},alignedSections:{mb:[2],mr:[1]},againstSections:{mb:[1,3],mr:[2,3]}},{viewbox:{top:.5,left:0,width:.5,height:.5},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!1},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!0},alignedSections:{mt:[3],mr:[0]},againstSections:{mt:[0,2],mr:[2,3]}},{viewbox:{top:0,left:.5,width:.5,height:.5},roundedCorners:{tl:!1,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!0,mr:!1},alignedSections:{mb:[0],ml:[3]},againstSections:{mb:[1,3],ml:[0,1]}},{viewbox:{top:.5,left:.5,width:.5,height:.5},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!0},internalEdges:{mt:!0,mb:!1,ml:!0,mr:!1},alignedSections:{mt:[1],ml:[2]},againstSections:{mt:[0,2],ml:[0,1]}}],5:[{viewbox:{top:0,left:0,width:.6,height:.5},roundedCorners:{tl:!0,tr:!1,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!0},alignedSections:{mb:[],mr:[1]},againstSections:{mb:[1],mr:[2,3,4]}},{viewbox:{top:.5,left:0,width:.6,height:.5},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!1},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!0},alignedSections:{mt:[],mr:[0]},againstSections:{mt:[0],mr:[2,3,4]}},{viewbox:{top:0,left:.6,width:.4,height:1/3},roundedCorners:{tl:!1,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!0,mr:!1},alignedSections:{mb:[],ml:[3,4]},againstSections:{mb:[3],ml:[0,1]}},{viewbox:{top:1/3,left:.6,width:.4,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!1},internalEdges:{mt:!0,mb:!0,ml:!0,mr:!1},alignedSections:{mt:[],mb:[],ml:[2,4]},againstSections:{mt:[2],mb:[4],ml:[0,1]}},{viewbox:{top:2/3,left:.6,width:.4,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!0},internalEdges:{mt:!0,mb:!1,ml:!0,mr:!1},alignedSections:{mt:[],ml:[2,3]},againstSections:{mt:[3],ml:[0,1]}}]},Q={sm:20,md:30,lg:40}},130874:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(207508),o=n.n(r),i=n(174523),a=n(34411),c=n(218265),s=n(946753),l=n(80209);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t,n,r=null!==(t=e.imageMediumUrl)&&void 0!==t?t:e.image_medium_url;return{name:null!==(n=e.fullName)&&void 0!==n?n:e.full_name,src:"https://s.pinimg.com/images/user/default_75.png"===r?void 0:r}}function f(e){var t=e.board,n=e.forceViewer,r=e.isCompact,d=e.ownerOnly,f=(0,i.ZP)(),h=(0,a.Z)(),b=d?[p(t.owner)]:function(e,t,n){var r=e.collaborated_by_me,i=e.collaborating_users,a=void 0===i?[]:i,c=[e.owner];if(r||n){var s=a.findIndex((function(e){return t.isAuth&&e.id===t.id}));if(-1!==s){var l=a.splice(s,1)[0];c.push(l)}else c.push(t)}var d=o()(a,"full_name");return[].concat(c,u(d))}(t,h,n).map(p),m=b.slice(0,3).map((function(e){return e.name})),g="";switch(b.length){case 3:g=(0,s.Wc)("".concat(f._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames")),{first:"".concat(m[0]),second:"".concat(m[1]),last:"".concat(m[2])});break;case 2:g=(0,s.Wc)("".concat(f._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames.")),{first:"".concat(m[0]),second:"".concat(m[1])});break;default:g=m.join(", ")}var y=b.length>3?(0,s.Wc)(", ".concat(f.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",b.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars")),{userNames:g,leftCount:"".concat(b.length-3)}):(0,s.Wc)(", ".concat(f._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators")),{userNames:g});return(0,l.jsx)(c.HE,{accessibilityLabel:y,collaborators:b,size:r?"xs":"sm"})}},269307:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},Yh:function(){return u},tY:function(){return d}});var r=n(575429),o=n(535718),i=n(34411),a=n(153155),c=0,s=1;function l(e){var t,n=(0,i.Z)(),r=n.isAuth&&n.id===e,a=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||r});return{showEnabledSaveBehavior:r&&n.has_quicksave_board||!(!n.isAuth||null===(t=a.data)||void 0===t||!t.has_quicksave_board)}}function u(e){var t,n=(0,r.useDispatch)(),c=(0,i.Z)(),s=c.isAuth&&!!c.boardCount&&c.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:c.isAuth&&c.id},dangerouslyDisableFetch:!s||!e});return c.isAuth&&void 0===c.save_behavior&&l&&null!==(t=l.data)&&void 0!==t&&t.id&&n((0,a.W)(l.data.save_behavior)),{showEnabledSaveBehavior:s}}function d(e){var t,n=(0,i.Z)();return e&&(n.save_behavior===c?t={type:"classic"}:n.save_behavior===s&&(t={type:"inline"})),{saveBehaviorType:t}}},330658:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(538052),o=n(451190),i=n(174523),a=n(585967),c=n(218265),s=n(80209);function l(e){var t=(0,i.ZP)(),n=e.onSectionCreate,l=e.onClose,u=e.selectedBoard,d=e.useLayer,p=void 0===d||d,f=(0,a.B)().isRTL,h=p?o.Z:c.u_,b=(0,s.jsx)(c.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,s.jsxs)(c.kC,{alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(c.xu,{maxWidth:400,children:(0,s.jsx)(c.X6,{align:"center",size:"md",children:t._("Add section","Modal header for adding a section","Modal header for adding a section")})}),(0,s.jsx)(c.xu,{left:f,paddingX:6,paddingY:5,position:"absolute",right:!f,top:!0,children:(0,s.jsx)(c.hU,{icon:"cancel",iconColor:"darkGray",size:"lg",accessibilityLabel:t._("Close","CreateSection.Modal.Icon","Icon to close section create modal"),onClick:l})})]})});return(0,s.jsx)(h,{accessibilityModalLabel:t._("Add a section to the board","modal to add a section to a board","modal to add a section to a board"),heading:b,onDismiss:l,size:"sm",children:(0,s.jsx)(c.xu,{display:"flex",color:"white",rounding:2,children:(0,s.jsx)(r.Z,{board:u,completeCreateSectionAction:n,onClearModal:l,positionRelative:!0,showTitle:!1})})})}},273341:function(e,t,n){"use strict";n.d(t,{OJ:function(){return l},Sd:function(){return u},Q2:function(){return d}});var r=n(881219),o=n(711349),i=n(301314);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],l={name:"BoardsResource",key:"boardsResource",options:function(e,t){var n=e.boardOrder,r=e.filterStories,o=e.mixPublicSecret;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({privacy_filter:"all",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:e.username,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},u=function(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}},d=function(e){return s.reduce((function(t,n){var a=[(0,o.Z)("profileBoards",(0,r.OV)(e,n))];return[!0,!1].forEach((function(t){[!0,!1].forEach((function(r){a.push((0,i.jB)(l.name,l.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:r})))}))})),t.concat(a)}),[])}},383722:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(535718),o=n(272828);function i(){var e=(0,o.UO)().username;return(0,r.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},443517:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(793550),o=n(574037),i=n(730762),a=n(627578),c=n(786259),s=n(174523),l=n(457175),u=n(80209);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.isExtensionInstalled,n=void 0!==t&&t,f=e.isFromPinBuilder,h=void 0!==f&&f,b=e.onInstall,m=void 0===b?function(){}:b,g=e.onHide,y=void 0===g?function(){}:g,v=e.onMounted,x=void 0===v?function(){}:v,I=(0,l.v)().logContextEvent,w=(0,s.ZP)();(0,r.useEffect)((function(){var e=i.Z.getInstance(),t=e.getViewFromContext();return e.addViewToContext({view_type:438}),I(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:13},{view_type:438,component:13588})),x(),function(){e.addViewToContext(t)}}),[]);return(0,u.jsx)(c.Z,{installClick:function(){n?a.Z.showError(w._("Oops! You already have the browser button."," - "," -- ")):o.Z.handleExtensionInstall((function(){m()})),I({event_type:101,component:7,element:456})},isExtensionInstalled:!h&&n,isFromPinBuilder:!!h,skipClick:function(){y()}})}},16719:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(535718),o=["children"];function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=function(e){var t=e.boardId,n=e.ownerUsername,o=e.ownerName,i=e.ownerImgSrc,a=(0,r.Z)({name:"BoardInvitesResource",options:{board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),c=a.data,s=a.isLoaded,l=[{name:o,src:i,href:"/".concat(n,"/"),isDim:!1}];return s&&c&&c.length>0&&c.forEach((function(e){l.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),l};function c(e){var t=e.children,n=i(e,o);return t(a(n))}t.Z=a},23219:function(e,t,n){"use strict";n.d(t,{Z:function(){return _e}});var r=n(793550),o=n(551687),i=n(689859),a=n(881220),c=n(174523),s=n(880841),l=n(218265),u=n(80209),d=(0,r.lazy)((function(){return n.e(4603).then(n.t.bind(n,488678,23))}));function p(e){var t=e.linkURL,n=e.onDidFocus,r=e.onDidClickCopyButton,p=(0,c.ZP)(),f=(0,s.F9)().showOneToast,h=p._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return(0,u.jsxs)(l.xu,{display:"flex",alignItems:"center",paddingX:4,children:[(0,u.jsx)(l.xu,{flex:"grow",marginEnd:2,children:(0,u.jsx)(l.nv,{id:"copylinkurl",onChange:function(){},onFocus:n,size:"lg",type:"url",value:t})}),(0,u.jsx)(o.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,u.jsx)(i.Z,{fallback:(0,u.jsx)(l.zx,{text:h,disabled:!0}),children:(0,u.jsx)(d,{text:t,onCopy:function(e,t){t&&f((function(e){var t=e.onHide;return(0,u.jsx)(a.Z,{onHide:t,text:p._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})})),r()},children:(0,u.jsx)(l.zx,{text:h,size:"lg"})})})})]})}var f=n(640027),h=n(237574),b=n(457175),m=n(659048);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){return{invite_category:4,invite_channel:12,object_type:h.d.BOARD,object_id:e}};function w(e){var t=e.boardId,n=(0,b.v)().logContextEvent,o=v((0,r.useState)(!1),2),i=o[0],a=o[1],c=v((0,r.useState)(null),2),s=c[0],l=c[1];(0,r.useEffect)((function(){if(!s){var e=I(t),n=(0,f.Z)(m.Z.createShareInviteData(e)),r=n.cancel;return n.promise.then((function(e){return l(e)})),function(){r()}}}),[]);var d=s?s.invite_url:"...",h=function(){null===s||i||(a(!0),m.Z.logShareInvite(I(t),s))};return(0,u.jsx)(p,{linkURL:d,onDidClickCopyButton:function(){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:101},function(e){return{component:13305,element:10921,object_id_str:e,view_type:5,view_parameter:3059}}(t))),h()},onDidFocus:h})}var _=n(760001),j=n(151101),O=n(535718);function A(e){var t=e.boardId,n=e.invitedUserId,o=e.isInvited,i=e.onClick,a=e.buttonSize,s=void 0===a?"sm":a,d=(0,c.ZP)(),p=(0,O.Z)({name:"BoardInviteResource",options:{board_id:t,invited_user_id:n}});(0,r.useEffect)((function(){p.refresh()}),[]);var f={text:d._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return p.isFetching&&(f.text=d._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),f.color="gray",f.disabled=!0),(o||p.isLoaded&&p.data)&&(f.text=d._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),f.color="gray",f.disabled=!0),(0,u.jsx)(l.zx,{fullWidth:!0,color:f.color,size:s,disabled:f.disabled,onClick:i,text:f.text})}var S=n(494715),P=n(497199),E=n(760620),k=n(731164),C=n(227457),R=n.n(C),B=n(525974),D=n(912397);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J="40px";function V(e){var t,n=(0,c.ZP)(),r=(T(t={},D.vq,n._("Find friends from Facebook"," - "," -- ")),T(t,D.jq,n._("Find friends from Google+"," - "," -- ")),T(t,D.u2,n._("Find friends from Yahoo"," - "," -- ")),t),o=e.network;return(0,u.jsx)(l.iP,{onTap:function(){return function(e,t){B.Z.instance().handleConnect(e,!0,{},t)}(o,n)},children:(0,u.jsxs)(l.xu,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[(0,u.jsx)(l.xu,{width:J,height:J,marginEnd:4,children:(0,u.jsx)("div",{className:"SocialConnectCell",children:(0,u.jsx)("div",{className:R()("icon","socialConnect-".concat(o)),children:(0,u.jsx)("em",{})})})}),(0,u.jsx)(l.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:(0,u.jsx)(l.xv,{color:"darkGray",size:"md",weight:"bold",children:r[o]})})]})})}var M=n(203620),F=n(34411);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=n(163880);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=[];function Y(e){var t=e.boardId,n=e.onInvitesDidUpdate,o=e.onInviteDidComplete,i=e.shareSuggestions,a=(0,b.v)().logContextEvent,s=(0,c.ZP)(),d=(0,F.Z)(),p=null,f=(0,O.Z)({name:"UserResource",options:{user_id:d.isAuth?d.id:"",username:d.isAuth?d.username:"",field_set_key:"social_connect"},dangerouslyDisableFetch:!d.isAuth});f.data&&(p=function(e){var t;return N(t={},"facebook",{connected:e.connected_to_facebook||!1}),N(t,"google",{connected:e.connected_to_google||!1}),N(t,"youtube",{connected:e.connected_to_youtube||!1}),N(t,"gplus",{connected:!!e.gplus_url,url:e.gplus_url}),N(t,"microsoft",{connected:e.connected_to_microsoft||!1}),N(t,"twitter",{connected:!!e.twitter_url,url:e.twitter_url}),N(t,"etsy",{connected:e.connected_to_etsy||!1}),N(t,"instagram",{connected:e.connected_to_instagram||!1}),N(t,"dropbox",{connected:e.connected_to_dropbox||!1}),t}(f.data));var h,m,g,y=q((0,r.useState)(""),2),v=y[0],x=y[1],I=q((0,r.useState)([]),2),w=I[0],_=I[1],C=q((0,r.useState)({}),2),R=C[0],B=C[1],D=q((0,r.useState)({}),2),T=D[0],J=D[1],Z=function(e){switch(e.type){case"user":case"user_share_suggestion":return e.username||s._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||s._("Email Contact","invited user has an email","invited user has an email")}return""},Q=function(e,r){var i=e.id,c=e.full_name,s=e.debug_reason,l="";s&&(l=s.reason),function(e,n){a({event_type:101,component:13029,element:v?1044:1039,object_id_str:t,view_type:5,view_parameter:3059,aux_data:{entered_query:v,result_index:e+1,rs:n}})}(r,l);var u=L({},R);u[i]=!0,B(u),(0,U.pS)(t,[i]).then((function(){o(c,!0)})).catch((function(e){o(c,!1,e);var t=L({},R);t[i]=!1,B(t)})).finally(n)},H=W(function(e){return e?Object.keys(e).filter((function(e){return X.includes(e)})).filter((function(t){return!1===e[t].connected})).map((function(e){return(0,u.jsx)(V,{network:e},"socialConnect-".concat(e))})):[]}(p)),G=i;return v&&(G=w),(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[(0,u.jsx)(l.xu,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:(0,u.jsx)(l.xu,{flex:"grow",children:(0,u.jsx)(M.Z,{onTypeaheadSuggestionsChange:function(e){k.Z.increment("web_contacts_search",1,{source:"board_invite"}),_(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:v,children:(0,u.jsx)(l.xu,{paddingX:4,children:(0,u.jsx)(l.Um,{accessibilityLabel:s._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:function(e){var t=e.value;x(t),a({event_type:4113,component:13029,element:1043,view_parameter:3059,aux_data:{entered_query:t}})},placeholder:s._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:v})})})})}),(0,u.jsxs)(l.xu,{overflow:"scrollY",maxHeight:414,children:[G.map((function(e,n){var r,o=e.username?"/".concat(e.username,"/"):null;return(0,u.jsx)(l.xu,{children:(0,u.jsx)(S.Z,{imageUrl:e.image_medium_url||"",name:e.full_name||e.email,title:e.full_name||e.email,subtitle:Z(e),accessory:(0,u.jsx)(A,{boardId:t,invitedUserId:e.id,isInvited:(r=e.id,!!R[r]),onClick:function(){return Q(e,n)},buttonSize:"lg"}),linkURL:o})},n)})),v&&((0,E.Z)(v)?(0,u.jsx)(S.Z,{name:v,title:v,accessory:(h=!!T[v],m=function(){var e=v;if((0,E.Z)(e)){var r=L({},T);r[e]=!0,J(r),(0,U.OA)(t,[e]).then((function(){o(e,!0),x("")})).catch((function(t){o(e,!1,t);var n=L({},T);n[e]=!1,J(n)})).finally(n)}},g="lg",(0,u.jsx)(l.zx,{fullWidth:!0,color:h?"gray":"red",disabled:!!h,size:g,onClick:m,text:h?s._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):s._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):(0,u.jsx)(P.Z,{iconNode:(0,u.jsx)(j.Z,{name:v,size:"md"}),title:v,subtitle:s._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),H]})]})}var K=n(946753);function z(e){var t=e.boardId,n=(0,b.v)().logContextEvent,o=(0,c.ZP)(),i=(0,s.F9)(),d=(0,O.Z)({name:"BoardInvitesResource",options:{board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},noCache:!0}).refresh,p=(0,O.Z)({name:"BoardInvitesResource",options:{board_id:t,field_set_key:"boardEdit",status_filters:"pending_approval"},noCache:!0}).refresh,f=(0,O.Z)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},noCache:!0}),h=f.data,m=f.isLoaded;(0,r.useEffect)((function(){n({event_type:7120,object_id_str:t,view_type:5,view_parameter:3059})}),[]),(0,r.useEffect)((function(){if(m){var e=h&&h.length>0?7511:7512;n({event_type:e,component:13305,element:10592,view_type:5,view_parameter:3059})}}),[m]);var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.showOneToast((function(n){var r=n.onHide;return(0,u.jsx)(a.Z,{duration:3e3,onHide:r,text:e,variant:t?"error":void 0})}))};return m?(0,u.jsx)(Y,{boardId:t,onInvitesDidUpdate:function(){d(),p()},onInviteDidComplete:function(e,t,n){t?g(o._("1 invite sent!","BoardCollabInviteFormContainer.showInviteSuccessToast.text","Toast for successfully sending invitation of collaborating a board")):function(e,t){var n=o._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");g(t&&t.message?t.message:(0,K.nk)(n,{userIdentifier:e}).join(""),!0)}(e,n)},shareSuggestions:h||[]}):(0,u.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:(0,u.jsx)(l.$j,{accessibilityLabel:o._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0})})}var $="INVITE_SETTING",ee="REQUEST_TO_JOIN_SETTING";function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t,n=e.boldHeading,o=e.setting,i=e.viewerIsOwner,a=(0,c.ZP)(),s=(te(t={},0,{name:a._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:a._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}),te(t,1,{name:a._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:i?a._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):a._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")}),te(t,$,{name:a._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:a._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}),te(t,ee,{name:a._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:a._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}),t),d=n?l.X6:l.xv;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(d,{color:"darkGray",size:n?"sm":"lg",children:s[o].name}),(0,u.jsx)(l.xu,{paddingY:1,children:(0,u.jsx)(l.xv,{color:"gray",size:"lg",children:s[o].description})})]})}var re=n(26629),oe=n(451190),ie=n(629318),ae=n(272828),ce=n(585967);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e){var t,n=e.board,o=e.currentPermissionLevel,i=e.fromBoardEditModal,a=e.navigateToPermissions,s=e.onDismiss,d=(0,c.ZP)(),p="number"==typeof n.collaborator_count&&n.collaborator_count>0,f=ue((0,r.useState)(!p),2),h=f[0],b=f[1],m=(0,ce.B)(),g=(0,F.Z)(),y=(0,ae.k6)(),v=g.isAuth&&(null===(t=n.owner)||void 0===t?void 0:t.id)===g.id,x=v||n.collaborator_invites_enabled,I=h&&!p||!h;return(0,u.jsx)(ie.k,{boardName:n.name,pendingOwnershipTransfer:n.pending_ownership_transfer,viewerIsOwner:v,children:(0,u.jsx)(oe.Z,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:h?d._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):d._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:x&&!h?(0,u.jsx)(l.iP,{onTap:function(){return b(!0)},rounding:8,children:(0,u.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(l.hU,{accessibilityLabel:d._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),(0,u.jsx)(l.xu,{paddingX:3,children:(0,u.jsx)(l.xv,{size:"lg",weight:"bold",children:d._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form")})})]})}):null,heading:(0,u.jsxs)(l.xu,{padding:8,children:[i&&(0,u.jsx)(l.xu,{position:"absolute",top:!0,left:!m.isRTL,right:m.isRTL,paddingY:8,paddingX:6,children:(0,u.jsx)(l.hU,{accessibilityLabel:d._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:s})}),(0,u.jsx)(l.X6,{align:"center",size:"md",children:h?d._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):d._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")})]}),onDismiss:s,children:(0,u.jsxs)(l.xu,{marginBottom:5,children:[I&&(0,u.jsxs)(l.xu,{paddingX:6,children:[(0,u.jsx)(l.xu,{paddingY:3,children:(0,u.jsx)(l.xv,{size:"sm",children:v?d._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):d._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting")})}),(0,u.jsxs)(l.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,u.jsx)(l.xu,{width:"60%",children:(0,u.jsx)(ne,{boldHeading:!0,viewerIsOwner:v,setting:o})}),v&&(0,u.jsx)(l.hU,{accessibilityLabel:d._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:a})]})]}),h?(0,u.jsxs)(l.xu,{paddingX:2,children:[(0,u.jsx)(w,{boardId:n.id}),(0,u.jsx)(z,{boardId:n.id})]}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.xu,{paddingX:6,paddingY:5,children:(0,u.jsx)(l.xv,{size:"sm",children:d._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board")})}),(0,u.jsx)(re.Z,{board:n,scrollInfo:null,onBoardLeave:function(){var e=g.isAuth?"/".concat(g.username):"/";y.replace(e)},renderInvite:function(e,t,n){var r={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return(0,u.jsx)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}})]})]})})})}var fe=n(575429),he=n(164756);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){var t=e.board,n=t.collaborator_invites_enabled,o=t.collaborator_requests_enabled,i=t.id,a=e.currentPermissionLevel,s=e.navigateToCollaborators,d=e.onDismiss,p=(0,b.v)().logContextEvent,f=(0,c.ZP)(),h=ye((0,r.useState)(a),2),m=h[0],g=h[1],y=ye((0,r.useState)(n),2),v=y[0],x=y[1],I=ye((0,r.useState)(o),2),w=I[0],_=I[1],j=ye((0,r.useState)(!1),2),O=j[0],A=j[1],S=(0,ce.B)(),P=(0,fe.useDispatch)();return(0,u.jsx)(oe.Z,{accessibilityModalLabel:f._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:(0,u.jsxs)(l.xu,{paddingY:8,position:"relative",children:[(0,u.jsx)(l.xu,{position:"absolute",top:!0,left:!S.isRTL,right:S.isRTL,paddingY:8,paddingX:6,children:(0,u.jsx)(l.hU,{accessibilityLabel:f._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:s})}),(0,u.jsx)(l.X6,{align:"center",size:"md",children:f._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")}),(0,u.jsx)(l.xu,{position:"absolute",top:!0,left:S.isRTL,right:!S.isRTL,paddingY:8,paddingX:6,children:(0,u.jsx)(l.hU,{accessibilityLabel:f._("Close","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"cancel",iconColor:"darkGray",onClick:d})})]}),footer:(0,u.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,u.jsx)(l.zx,{color:"red",disabled:O||m===a&&v===n&&w===o,onClick:function(){A(!0);var e={id:i},t={view_type:5,view_parameter:3472};v!==n&&(e.collaborator_invites_enabled=v,p(me({event_type:v?106:107,element:11896},t))),m!==a&&(e.collaborator_permissions_setting=m,p(me({event_type:8841},t))),w!==o&&(e.collaborator_requests_enabled=w),P((0,he.wN)(e)).then((function(){return d()}))},size:"lg",text:f._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})}),onDismiss:d,children:(0,u.jsxs)(l.xu,{paddingX:12,children:[(0,u.jsx)(l.xu,{paddingY:3,children:(0,u.jsx)(l.xv,{size:"sm",children:f._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions")})}),(0,u.jsxs)(l.kC,{alignItems:"center",children:[(0,u.jsx)(l.EU,{checked:0===m,id:"ALL",onChange:function(){return g(0)},value:0}),(0,u.jsx)(l.xu,{marginEnd:12,paddingX:2,children:(0,u.jsx)(ne,{setting:0})})]}),(0,u.jsxs)(l.xu,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[(0,u.jsx)(l.EU,{checked:1===m,id:"SAVE_ONLY",onChange:function(){return g(1)},value:1}),(0,u.jsx)(l.xu,{marginEnd:12,paddingX:2,children:(0,u.jsx)(ne,{setting:1})})]}),(0,u.jsx)(l.xu,{paddingY:3,children:(0,u.jsx)(l.xv,{size:"sm",children:f._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting")})}),(0,u.jsxs)(l.xu,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[(0,u.jsx)(l.XZ,{checked:v,id:"inviteSetting",onChange:function(e){var t=e.checked;return x(t)}}),(0,u.jsx)(l.xu,{marginEnd:12,paddingX:2,children:(0,u.jsx)(ne,{setting:$})})]}),(0,u.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(l.XZ,{checked:w,id:"inviteSetting",onChange:function(e){var t=e.checked;return _(t)}}),(0,u.jsx)(l.xu,{marginEnd:12,paddingX:2,children:(0,u.jsx)(ne,{setting:ee})})]})]})})}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e){var t=e.board,n=e.fromBoardEditModal,o=e.onDismiss,i=Ie((0,r.useState)("collaboratorsView"),2),a=i[0],c=i[1],s=t.collaborator_permissions_setting;return"collaboratorsView"===a?(0,u.jsx)(pe,{board:t,currentPermissionLevel:s,fromBoardEditModal:n,navigateToPermissions:function(){return c("permissionsView")},onDismiss:o}):(0,u.jsx)(xe,{board:t,currentPermissionLevel:s,navigateToCollaborators:function(){return c("collaboratorsView")},onDismiss:o})}},648381:function(e,t,n){"use strict";n.d(t,{k:function(){return i},s:function(){return a}});var r=n(793550),o=(0,r.createContext)(Object.freeze({})),i=o.Provider;function a(){return(0,r.useContext)(o)}},816670:function(e,t,n){"use strict";n.d(t,{cg:function(){return r},c7:function(){return o},Ac:function(){return i}});var r=-1,o=5,i=6},963232:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(577302),o=n(129826);function i(e){var t,n=e.action,i=e.board,a=e.viewer;return(0,r.Z)(a,i)||(0,o.Z)({board:i,viewer:a})&&!(null===(t=i.collaborator_permissions)||void 0===t||!t.includes(n))}},129826:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.viewer,r=t.collaborated_by_me;return Boolean(n.isAuth&&r)}n.d(t,{Z:function(){return r}})},609055:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(793550),o=n(218265),i=n(80209);function a(e){var t=e.accessibilityLabel,n=e.focused,a=e.id,c=e.onBlur,s=e.onChange,l=e.onFocus,u=e.placeholder,d=e.value,p=e.size,f=void 0===p?"lg":p,h=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(n){var e=h.current;window.requestAnimationFrame((function(){var t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()}))}}),[n]),(0,i.jsx)(o.xu,{ref:h,children:(0,i.jsx)(o.Um,{accessibilityLabel:t,id:a,onBlur:c,onChange:s,onFocus:l,placeholder:u,size:f,value:d})})}},209067:function(e,t,n){"use strict";var r=n(174523),o=n(218265),i=n(80209);t.Z=function(e){var t=e.type,n=(0,r.ZP)(),a={group:{accessibilityLabel:n._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:n._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:n._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:n._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:n._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[t];return(0,i.jsx)(o.xu,{marginStart:1,children:(0,i.jsx)(o.xu,{marginStart:2,children:"sections"===t||"sectionsInline"===t?(0,i.jsx)(o.JO,{accessibilityLabel:a.accessibilityLabel,icon:a.icon,size:"12",color:"darkGray"}):(0,i.jsx)(o.JO,{accessibilityLabel:a.accessibilityLabel,icon:a.icon,size:16,color:"darkGray"})})})}},538052:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(234316),a=n(588527),c=n(729787),s=n(34411),l=n(159276),u=n(174523),d=n(767523),p=n(218265),f=n(80209);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,r,o=v(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),_(I(t=o.call(this,e)),"onCreateSection",(function(){var e=t.props,n=e.board,r=e.dispatch,o=e.completeCreateSectionAction,a=e.pinImport,c=e.viewer,s=e.orbacActingAs,u=(0,l.lJ)(c,s);return t.setState({isSaving:!0}),r((0,i.Z)({boardId:n.id,name:t.state.inputName.trim(),pinImport:a},t.props.i18n,u)).then((function(e){t.setState({isSaving:!1}),o(e)})).catch((function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})}))})),_(I(t),"handleKeyDown",(function(e){var n=e.event,r=(e.value,t.state),o=r.createError,i=r.inputName;[a.Z.ENTER,a.Z.NUMPAD_ENTER].includes(n.which)&&!o&&i.trim()&&t.onCreateSection()})),_(I(t),"handleChangeName",(function(e){var n=e.value;t.setState({createError:null,inputName:n})})),_(I(t),"handleInputRef",(function(e){t.setState({inputRef:e})})),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return t=s,(n=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.createError,o=n.inputRef;!o||t.inputRef&&!r||o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,n=e.positionRelative,r=this.state,o=r.createError,i=r.inputName,a=r.isSaving,s=!!i.trim()&&!o;return(0,f.jsxs)(p.xu,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:n?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[t&&(0,f.jsx)(p.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,f.jsx)(p.X6,{size:"sm",children:this.props.i18n._("Add section","Title in the add section modal","Title in the add section modal")})}),(0,f.jsxs)(p.xu,{padding:4,children:[(0,f.jsx)(p.xu,{marginBottom:2,children:(0,f.jsx)(p.__,{htmlFor:"sectionEditName",children:(0,f.jsx)(p.xv,{size:"md",color:o?"red":"gray",children:this.props.i18n._("Name","Board section name","Board section name")})})}),(0,f.jsx)(p.xu,{children:(0,f.jsx)(p.xu,{ref:this.handleInputRef,children:(0,f.jsx)(p.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})})})]}),(0,f.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,f.jsx)(p.xu,{padding:4,children:(0,f.jsx)(p.kC,{alignItems:"stretch",justifyContent:"end",children:(0,f.jsx)(c.Z,{disabled:!s||a,onClick:this.onCreateSection,submitting:a,text:this.props.i18n._("Add","add a new section","add a new section")})})})]})}}])&&g(t.prototype,n),r&&g(t,r),s}(r.Component);t.Z=(0,o.connect)()((function(e){var t=(0,u.ZP)(),n=(0,s.Z)(),r=(0,d.Z)();return(0,f.jsx)(j,m(m({},e),{},{i18n:t,viewer:n,orbacActingAs:r}))}))},376067:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(542756),o=n(218265),i=n(80209);function a(e){var t=e.url,n=e.description,a=e.color;return a=a||"#8fa7bf",(0,i.jsx)(o.xu,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:a}},children:(0,i.jsxs)(o.xu,{maxHeight:200,padding:4,overflow:"hidden",children:[t&&(0,i.jsx)(o.xu,{marginBottom:2,children:(0,i.jsx)(o.xv,{color:"white",size:"sm",children:(0,r.Z)(t).hostname||t})}),(0,i.jsx)(o.xu,{maxHeight:144,children:(0,i.jsx)(o.xv,{color:"white",overflow:"normal",weight:"bold",children:n})})]})})}},526745:function(e,t,n){"use strict";var r=n(793550),o=n(949876),i=n(76535),a=n(854458),c=n(218265),s=n(457175),l=n(80209);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,r,s=m(u);function u(){var e;f(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(y(e=s.call.apply(s,[this].concat(n))),"state",{}),x(y(e),"handleUserFollow",(function(t,n){e.setState({isFollowing:n}),n?e.props.logContextEvent({event_type:45,object_id_str:t,view_type:3,view_parameter:73}):e.props.logContextEvent({event_type:46,object_id_str:t,view_type:3,view_parameter:73})})),e}return t=u,r=[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:e.user.followed_by_me}:Object.freeze({})}}],(n=[{key:"render",value:function(){var e=this,t=this.props.user,n=t.id,r=t.full_name,s=t.image_medium_url,u=t.username,d=u?"/".concat(u,"/"):"";return(0,l.jsxs)(c.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:[(0,l.jsx)(c.xu,{flex:"grow",paddingX:1,children:(0,l.jsx)(o.default,{fullName:r,imageUrl:s,profileUrl:d,openNewTab:!0})}),(0,l.jsx)(c.xu,{flex:"none",paddingX:1,children:(0,l.jsx)(a.Z,{fullName:r,hideFollowingText:!0,suppressToasts:!0,id:n,imageUrl:s||"",isSecondaryButton:i.Z.enabled("pinbuilder_v2_full"),isOwnProfile:!1,onUserFollow:function(t){return e.handleUserFollow(n,t)},profileUrl:d,size:"md"})})]})}}])&&h(t.prototype,n),r&&h(t,r),u}(r.PureComponent);t.Z=function(e){var t=(0,s.v)().logContextEvent;return(0,l.jsx)(I,p(p({},e),{},{logContextEvent:t}))}},859514:function(e,t,n){"use strict";n.d(t,{Z:function(){return he}});var r=n(793550),o=n(138881),i=n(903781),a=n(731164),c=n(526745),s=n(575429),l=n(631739),u=n(454690),d=n(218265),p=n(739603),f=n(174523),h=n(108301),b=n(80209);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=["","",""],E={margin:0,padding:0},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),S(O(t=o.call(this,e)),"getCoverImgUrl",(function(){var e;if(t.state.coverImgPos)return t.state.coverImgUrl;var n=t.props.board,r=n.image_cover_url,o=n.cover_images,i=void 0===o?{}:o,a=((null==i?void 0:i["400x300"])||{}).url;return a||(a=r),null!==(e=a)&&void 0!==e?e:""})),S(O(t),"handleFollow",(function(){var e=t.props,n=e.board.id,r=e.follow,o=e.unfollow,i=t.state.isBoardFollowed,a=i?"board_unfollow":"board_follow";u.Z.trackEvent(a,"click"),i?o(n):r(n),t.setState({isBoardFollowed:!i})})),S(O(t),"renderThumbs",(function(e){for(var t=[],n=0;n<2;n+=1)t.push((0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"hoverMask",style:p.nT}),e[n]?(0,b.jsx)("img",{alt:"",className:"thumb",src:e[n]}):null]},n));return t})),t.state={isBoardFollowed:e.board.followed_by_me,coverImgPos:0,coverImgUrl:""},t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.board.followed_by_me;t!==e.board.followed_by_me&&t!==this.state.isBoardFollowed&&this.setState({isBoardFollowed:t})}},{key:"render",value:function(){if(!this.props.board)return null;var e=this.props.board,t=e.name,n=e.is_collaborative,r=e.privacy,o=e.url,i=v(this.props.board.pin_thumbnail_urls||[]);i.length||(i=[].concat(P));var a=this.getCoverImgUrl();a&&(i[0]=a);var c=this.state.isBoardFollowed?this.props.i18n._("Unfollow","board follow button","board follow button"):this.props.i18n._("Follow","board follow button","board follow button");return(0,b.jsx)("div",{className:"item",style:y(y({},p.ZP),{},{display:"inline-block"}),children:(0,b.jsxs)("div",{className:"Board Module boardCoverImage",style:E,children:[(0,b.jsxs)("a",{className:"boardLinkWrapper",href:o,rel:"noopener noreferrer",target:"_blank",children:[(0,b.jsxs)("div",{className:"boardName",children:[(0,b.jsxs)("div",{className:"BoardIcons Module pinCreate",children:[n?(0,b.jsx)("span",{className:"collaborativeIcon"}):null,r===l.Z.BoardPrivacy.SECRET?(0,b.jsx)("span",{className:"secretIcon"}):null]}),t]}),(0,b.jsx)("div",{className:"boardImagesWrapper",children:(0,b.jsx)("ul",{className:"boardThumbs",children:this.renderThumbs(i)})})]}),(0,b.jsx)(d.zx,{fullWidth:!0,color:this.state.isBoardFollowed?"gray":"red",onClick:this.handleFollow,text:c})]})})}}])&&I(t.prototype,n),r&&I(t,r),i}(r.Component);var C=(0,s.connect)((function(e,t){var n=t.board,r=e&&e.boards&&e.boards.content&&e.boards.content[n.id];return{board:r?y(y({},n),{},{followed_by_me:r.followed_by_me}):n}}),(function(e){return{follow:function(t){return e((0,h.Z)(t))},unfollow:function(t){return e((0,h.f)(t))}}}))((function(e){var t=(0,f.ZP)();return(0,b.jsx)(k,y(y({},e),{},{i18n:t}))})),R=n(376067);function B(e){var t=e.color,n=e.description,r=e.imageUrl,o=e.link;return(0,b.jsx)(d.xu,{alignItems:"center",justifyContent:"center",padding:2,display:"flex",children:!r&&t&&o?(0,b.jsx)(d.xu,{width:236,children:(0,b.jsx)(R.Z,{color:t,description:n,url:o})}):(0,b.jsx)(d.zd,{rounding:2,width:236,children:(0,b.jsx)("img",{alt:n,src:r})})})}var D=n(990531),T=n(432921);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={width:"100%"},q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,o,i=N(a);function a(){var e;V(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Q(Z(e=i.call.apply(i,[this].concat(n))),"videoRef",(0,r.createRef)()),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.video;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"render",value:function(){var e=this.props.video,t=(0,D.Z)(e.customCoverImg||e,236);return(0,b.jsx)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,b.jsxs)(d.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,b.jsx)(d.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:e.customCoverImg?(0,b.jsx)(d.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,b.jsx)("video",{muted:!0,src:e.src,ref:this.videoRef,style:W,children:(0,b.jsx)("track",{kind:"captions"})})}),(0,b.jsx)(d.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,b.jsx)(T.Z,{duration:1e3*e.duration})})]})})}}])&&M(t.prototype,n),o&&M(t,o),a}(r.Component),H=n(535718);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(){return z(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderPinCreateSuccessImage",value:function(){var e=this.props,t=e.color,n=e.description,r=e.imageUrl,o=e.link,i=e.websiteMedia;return i&&i.length>1?(0,b.jsx)(d.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,b.jsx)(d.Rk,{comp:function(e){var t=e.data;return(0,b.jsx)(B,{description:n,imageUrl:t.src})},items:i,minCols:3,columnWidth:160})}):(0,b.jsx)(B,{color:t,description:n,imageUrl:r,link:o})}},{key:"render",value:function(){var e=this.props.relatedBoard;if(!e.isLoaded)return(0,b.jsx)(d.xu,{minHeight:250,children:(0,b.jsx)(d.$j,{accessibilityLabel:this.props.i18n._("See suggested board","suggested board to follow after pinnning","suggested board to follow after pinnning"),show:!0})});if(e.data&&!e.data.length){var t=this.props.video;return(0,b.jsx)(d.xu,{marginTop:-8,paddingY:8,children:t?(0,b.jsx)(q,{video:t}):this.renderPinCreateSuccessImage()})}var n=e.data&&e.data[0];return(0,b.jsx)(d.xu,{color:"lightGray",display:"flex",justifyContent:"center",margin:6,rounding:2,children:(0,b.jsxs)(d.xu,{marginBottom:6,children:[(0,b.jsx)(d.xu,{display:"flex",marginTop:6,marginBottom:4,justifyContent:"center",children:(0,b.jsx)(d.xv,{weight:"bold",children:this.props.i18n._("Also On"," - "," -- ")})}),n&&(0,b.jsx)(C,{board:n})]})})}}])&&$(t.prototype,n),r&&$(t,r),i}(r.PureComponent);function ie(e){var t=(0,f.ZP)(),n=(0,H.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:1,pin:e.pinId},noCache:!0});return(0,b.jsx)(oe,Y(Y({},e),{},{i18n:t,relatedBoard:n}))}var ae=n(34411),ce=n(233949),se=n(946753),le=n(735588),ue=n(172738),de=n(272828),pe=n(585967),fe=n(616240);function he(e){var t=e.boardName,n=e.color,s=e.description,l=void 0===s?"":s,u=e.hideHeader,p=e.imageUrl,h=e.link,m=e.onClose,g=e.openNewTab,y=e.pin,v=e.pinId,x=e.sectionName,I=e.siteType,w=e.video,_=e.websiteMedia,j=(0,f.ZP)(),O=(0,de.k6)(),A=(0,pe.B)(),S=(0,ae.Z)(),P=(0,H.Z)({name:"PinResource",options:{id:v,field_set_key:"detailed"}}),E=function(){return y&&y.is_quick_promotable_by_pinner&&3!==I&&(0,fe.su)(S)};(0,r.useEffect)((function(){E()?((0,le.vF)("render","pin_create_success_pinner",120,207),a.Z.increment("web.pin_create.success.promote")):a.Z.increment("web.pin_create.success.send"),a.Z.increment("web.pin_create.success.default")}),[]);var k=function(){(0,le.vF)("click","pin_create_success_pinner",101,207),(0,fe.Pw)({history:O,pinId:v,requestContext:A}),m()},C=(0,i.Z)({currentSiteType:I,destinationSiteType:0,inputPath:"/pin/".concat(v)}),R=x?(0,se.nk)(j._("Saved to {{ sectionName }} in {{ boardName }}"," - "," -- "),{boardName:t,sectionName:x}):(0,se.nk)(j._("Saved to {{ boardName }}"," - "," -- "),{boardName:t}),B=P.data&&P.data.link_domain&&P.data.link_domain.official_user,D=S.isAuth&&B&&B.id!==S.id&&!B.followed_by_me;return(0,b.jsx)(d.xu,{minWidth:500,"data-test-id":"saved-pin-modal",children:(0,b.jsxs)(d.xu,{color:"white",rounding:2,width:"auto",children:[u?null:(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(d.xu,{paddingX:6,paddingY:4,children:(0,b.jsx)(d.X6,{size:"md",children:R})}),(0,b.jsx)(d.iz,{})]}),(0,b.jsx)(ce.KS,{name:"web_pin_create_creator_follow",isEligible:!!B&&!!D,children:function(e){var t=e.group;return!!B&&(t.includes("enabled")||"employees"===t)&&(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(d.xu,{paddingX:6,paddingY:3,children:(0,b.jsx)(c.Z,{user:B})}),(0,b.jsx)(d.iz,{})]})}}),(0,b.jsx)(ie,{color:n,description:l,imageUrl:p,link:h,pinId:v,video:w,websiteMedia:_}),(0,b.jsx)(d.iz,{}),(0,b.jsx)(d.xu,{paddingX:6,paddingY:2,children:(0,b.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"end",children:[!E()&&(0,b.jsx)(ue.SendButton,{buttonType:"icon-and-text",handleSendShareFlyoutButtonClick:function(){O.push("/pin/".concat(v,"/?share=true"))}}),(0,b.jsx)(d.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,b.jsx)(d.zx,{role:"link",href:C,target:g?"blank":null,onClick:function(){(0,le.vF)("dismiss","pin_create_success_pinner",123,207),m()},color:S.isAuth&&S.isPartner||y&&E()?"gray":"red",text:j._("See it now","pinCreateSuccess.seeItNow","Text for button that takes user to see their new Pin")})}),y&&E()&&(0,b.jsx)(d.xu,{paddingX:1,children:(0,b.jsx)(o.Z,{children:function(e){return e.anyEnabled?(0,b.jsx)(d.zx,{color:"red",text:j._("Boost your Pin","Text for button to that takes users to boost a Pin","Text for button to that takes users to boost a Pin"),onClick:k}):(0,b.jsx)(d.zx,{color:"red",text:j._("Promote your Pin","Text for button to that takes users to promote a Pin","Text for button to that takes users to promote a Pin"),onClick:k})}})})]})})]})})}},686723:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(793550),o=n(294386),i=n(845555),a=n(504534),c=n(881220),s=n(174523),l=n(382745),u=n(181307),d=n(272828),p=n(880841),f=n(659048),h=n(218265),b=n(80209);function m(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.iconColor,n=e.iconSize,y=e.backgroundColor,v=e.marginEnd,x=e.isCloseupActionBar,I=e.sharedObject,w=(0,s.ZP)(),_=(0,p.F9)(),j=g((0,r.useState)(""),2),O=j[0],A=j[1],S=g((0,r.useState)(!1),2),P=S[0],E=S[1],k=g((0,r.useState)(!1),2),C=k[0],R=k[1],B=(0,d.TH)(),D=w._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"),T=function(e){x?navigator.clipboard.writeText(e).then((function(){var e;e=w._("Copied link to your clipboard to share","web.unauth.pinbar.copylink","Message to indicate link has been copied"),_.showToast((function(t){var n=t.onHide;return(0,b.jsx)(h.xu,{top:!0,children:(0,b.jsx)(c.Z,{duration:3e3,onHide:n,text:e})})}))})):navigator.clipboard.writeText(e).then((function(){R(!0),setTimeout((function(){R(!1)}),3e3)}))},J=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=3;break}return T(O),e.abrupt("return");case 3:E(!0),t={invite_category:3,invite_channel:12,object_type:I.type,object_id:I.id,name:I.name,description:I.description||"",path:I.url,picture:I.imageUrl},f.Z.createShareInviteData(t).then((function(e){var n=e.invite_url;E(!1),n&&(A(n),f.Z.logShareInvite(t,e),T(n))}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),V=function(){J()},M=(0,u.tc)("web_copy_link_btn_replace");return(0,l.am)(B)&&x&&M().anyEnabled?(0,b.jsx)(h.xu,{marginStart:1,children:(0,b.jsx)(h.zx,{accessibilityLabel:w._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard"),text:w._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard"),onClick:function(){return V()},size:"lg",color:"gray",fullWidth:!0})}):(0,b.jsxs)(a.Z,{iconSize:n,marginEnd:v||!1,children:[(0,b.jsx)(h.xu,{alignItems:x?"center":"stretch",display:x?"flex":"block",width:x?"100%":"auto",children:(0,b.jsx)(h.iP,{disabled:P,onTap:function(){return V()},children:(0,b.jsx)(h.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,b.jsx)(o.Z,{backgroundColor:y,iconColor:t,size:n})})})}),!x&&(0,b.jsx)(i.Z,{text:C?D:w._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})}},134507:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(218265),o=n(80209);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t,n=e.size,i=e.name,a=e.textLayout,c="calc(".concat(Math.sin((t=45,t*(Math.PI/180)))," * (").concat(n,") / 2)"),s=(0,o.jsx)(r.qE,{name:i?l(i)[0].toUpperCase():""});switch(a){case"bottomLeft":return(0,o.jsx)(r.xu,{"aria-label":i,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:c,paddingRight:c}},children:s});case"topLeft":return(0,o.jsx)(r.xu,{"aria-label":i,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:c,paddingRight:c}},children:s});default:return(0,o.jsx)(r.xu,{"aria-label":i,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:s})}};function f(e){var t=e.collaborators,n=e.outline,a=void 0!==n&&n,s=e.size,l=void 0===s?"fit":s,u=(0,r.tv)(),d=u.colorGray0,f=u.colorGray100,h="fit"===l?"100%":32,b="fit"===l?"":32,m=function(e,t){switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - ".concat(1,"px)"),height:t,textLayout:"center"},{top:0,left:"calc(50% + ".concat(1,"px)"),width:"calc(50% - ".concat(1,"px)"),height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - ".concat(1,"px)"),height:t,textLayout:"center"},{top:0,left:"calc(50% + ".concat(1,"px)"),width:"calc(50%)",height:"calc(50% - ".concat(1,"px)"),textLayout:"topLeft"},{top:"calc(50% + ".concat(1,"px)"),left:"calc(50% + ".concat(1,"px)"),width:"calc(50%)",height:"calc(50% - ".concat(1,"px)"),textLayout:"bottomLeft"}]}}(t.length,h).map((function(e,n){return[e,t[n]]}));return(0,o.jsxs)(r.xu,{color:"white",overflow:"hidden",rounding:"circle",width:h,height:b,position:"relative",dangerouslySetInlineStyle:{__style:c(c({},a?{boxShadow:"0 0 0 2px ".concat(d)}:{}),{},{willChange:"transform"})},children:[(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),m.map((function(e,t){var n=i(e,2),a=n[0],c=n[1],s=void 0===c?{name:"",src:void 0}:c,l=a.width,u=a.height,d=a.top,h=a.left,b=a.textLayout,m=s.name,g=s.src;return(0,o.jsxs)(r.xu,{position:"absolute",width:l,height:u,dangerouslySetInlineStyle:{__style:{top:d,left:h}},children:[null!=g?(0,o.jsx)(r.Ee,{alt:m,color:f,src:g,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,o.jsx)(p,{name:m,textLayout:b,size:u}),(0,o.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},t)}))]})}},373600:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(731164),o=n(311866),i=n(174523),a=n(457175),c=n(218265),s=n(80209);function l(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(e){var t=(0,a.v)().logContextEvent,n=(0,i.ZP)(),u=e.identifier,d=e.onUndoHide,p=e.isGroupChat,f=function(){var n,i=(n=regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o.ZP.create("ShareSuggestionsHideResource",{user_identifier:u}),n.next=3,i.callDelete();case 3:d(),a=void 0,c=void 0,a=e.component,c=e.element,t({event_type:101,component:a,element:c}),r.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:a});case 5:case"end":return n.stop()}var a,c}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return i.apply(this,arguments)}}();return(0,s.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(c.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,s.jsx)(c.xv,{inline:!0,color:"gray",children:p?n._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):n._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),(0,s.jsx)(c.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,s.jsx)(c.zx,{onClick:function(e){e.event.stopPropagation(),f()},text:n._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},617629:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(731164),o=n(311866),i=n(174523),a=n(218265),c=n(457175),s=n(80209);function l(e){var t=(0,c.v)().logContextEvent,n=(0,i.ZP)(),l=e.identifier,u=e.onHide,d=function(){o.ZP.create("ShareSuggestionsHideResource",{user_identifier:l}).callCreate().then((function(){var n,o;u(),n=e.component,o=e.element,t({event_type:101,component:n,element:o}),r.Z.increment("web_contacts.suggestions.hide",1,{surface:n})}))};return(0,s.jsx)(a.hU,{icon:"cancel",iconColor:"darkGray",onClick:function(e){e.event.stopPropagation(),d()},accessibilityLabel:n._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},252688:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(80209);function o(e){var t=e.size,n=e.iconColor,o=e.backgroundColor,i=e.grayscale,a=void 0!==i&&i,c=n||(a?"#333333":"#8E8E8E"),s=o||"#EFEFEF";return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{id:"Oval",fill:s,cx:"18",cy:"18",r:"18"}),(0,r.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:c,fillRule:"nonzero",children:(0,r.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},294386:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(80209);function o(e){var t=e.size,n=e.iconColor,o=e.backgroundColor,i=e.grayscale,a=void 0!==i&&i,c=n||(a?"#333333":"#8E8E8E"),s=o||"#EFEFEF";return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",version:"1.1",children:(0,r.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{fill:s,cx:"18",cy:"18",r:"18"}),(0,r.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:c,fillRule:"nonzero",children:(0,r.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},237574:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},415339:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pt}});var r=n(793550),o=n(151101),i=n(134507),a=n(34411),c=n(237574),s=n(174523),l=n(218265),u=n(80209);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,a=g(c);function c(){var e;h(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(v(e=a.call.apply(a,[this].concat(n))),"state",{textValue:e.props.initialTextValue||""}),I(v(e),"handleSendMessage",(function(){e.props.onSendMessage(e.props.recipient,e.state.textValue)})),I(v(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.isFlyout,n=e.onCancelDraft,r=e.viewerId,a=this.props.recipient||{},c="conversation_share_suggestion"===a.type,s=c?(a.users||[]).filter((function(e){return e.id!==r})):[];return(0,u.jsxs)(l.xu,{paddingX:4,width:360,children:[(0,u.jsxs)(l.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,u.jsx)(l.xu,{height:48,paddingX:1,width:56,children:c?(0,u.jsx)(i.Z,{collaborators:s.map((function(e){return{name:e.full_name||e.first_name,src:e.image_large_url}}))}):(0,u.jsx)(o.Z,{name:a.full_name||a.email||" ",src:a.image_large_url})}),(0,u.jsxs)(l.xu,{flex:"grow",marginStart:1,children:[(0,u.jsx)(l.xv,{weight:"bold",children:c?s.map((function(e){return e.first_name||e.full_name})).join(", "):a.full_name||a.email}),(0,u.jsx)(l.xv,{color:"gray",size:"sm",children:c||a.username?a.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),t?(0,u.jsx)(l.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:n,size:"sm"}):null]}),(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,u.jsx)(l.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}])&&b(t.prototype,n),r&&b(t,r),c}(r.Component);function _(e){var t=(0,s.ZP)(),n=(0,a.Z)();return(0,u.jsx)(w,f(f({},e),{},{viewerId:n.isAuth?n.id:"",i18n:t}))}var j=n(760620);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=C(i);function i(){var e;P(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(B(e=o.call.apply(o,[this].concat(n))),"state",{textValue:e.props.initialTextValue||"",emailValue:""}),T(B(e),"handleSendEmail",(function(t,n){if(t){var r={email:t,full_name:t,id:"",image_large_url:"",username:""};e.props.onSendMessage(r,n)}})),T(B(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),T(B(e),"handleEmailValueChange",(function(t){var n=t.value;e.setState({emailValue:n})})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.isFlyout,r=t.onCancelDraft;return(0,u.jsxs)(l.xu,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[(0,u.jsxs)(l.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,u.jsx)(l.xu,{flex:"grow",children:(0,u.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),n?(0,u.jsx)(l.hU,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:r,size:"sm"}):null]}),(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(l.xu,{paddingY:1,marginBottom:4,children:(0,u.jsx)(l.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),(0,u.jsx)(l.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),(0,u.jsx)(l.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,u.jsx)(l.zx,{size:"lg",color:"red",onClick:function(){return e.handleSendEmail(e.state.emailValue||"",e.state.textValue||"")},type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!(0,j.Z)(this.state.emailValue)})})]})]})}}])&&E(t.prototype,n),r&&E(t,r),i}(r.Component);function V(e){var t=(0,s.ZP)();return(0,u.jsx)(J,S(S({},e),{},{i18n:t}))}var M=n(946753);function F(e){var t=e.email,n=e.isValid,r=e.onClick,i=e.showSendEmailText,a=(0,s.ZP)(),c=n?a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),d=i?(0,M.nk)(a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:t}):(0,M.nk)(a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:t});return(0,u.jsx)(l.xu,{marginBottom:4,children:(0,u.jsx)(l.iP,{onTap:function(){n&&r()},children:(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(l.xu,{height:48,width:48,children:(0,u.jsx)(o.Z,{name:t})}),(0,u.jsxs)(l.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(l.xv,{weight:"bold",size:"lg",children:d}),(0,u.jsx)(l.xv,{size:"sm",color:"gray",children:c})]})]})})})}var N=n(94236),U=n(373600),Z=n(617629),L=n(549156);function Q(e){var t=(0,s.ZP)(),n=e.shouldShowViewChat,r=e.isSent,o=e.onClickSend,i=e.onViewConversation;return(0,u.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:n?(0,u.jsx)(l.iP,{mouseCursor:"pointer",onTap:function(e){e.event.stopPropagation(),i()},children:(0,u.jsxs)(l.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,u.jsx)(l.xv,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),(0,u.jsx)(l.xu,{marginStart:1,children:(0,u.jsx)(l.JO,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):(0,u.jsx)(L.Z,{id:r?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,u.jsx)(l.zx,{color:r?"gray":"red",disabled:r,onClick:o,size:"lg",text:r?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var W=n(457175);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t,n,c,s=(0,W.v)().logContextEvent,d=e.item,p=e.textFieldValue,f=e.onSendMessage,h=e.onShowSendDraft,b=e.onViewConversation,m=e.sentHistory,g=q((0,r.useState)(!1),2),y=g[0],v=g[1],x=q((0,r.useState)(!1),2),I=x[0],w=x[1],_=q((0,r.useState)(!1),2),j=_[0],O=_[1],A=d.id||"string"==typeof d.email&&d.email||"",S=A in m,P=""!==p,E=null!==(t=m[A])&&void 0!==t?t:"",k=(0,a.Z)().id||"",C="conversation_share_suggestion"===d.type,R=C?(d.users||[]).filter((function(e){return e.id!==k})):[],B=d.debug_reason&&d.debug_reason.readable_reason,D="";"string"!=typeof d.full_name||d.full_name.match(/^\s*$/)?"string"!=typeof d.email||d.email.match(/^\s*$/)||(D=d.email):D=d.full_name;return y?(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,u.jsx)(U.Z,{identifier:null!==(n=d.id)&&void 0!==n?n:d.email,onUndoHide:function(){return v(!1)},component:13029,element:11918,isGroupChat:R.length>1})}):(0,u.jsxs)(l.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,u.jsx)(l.iP,{mouseCursor:"pointer",onTap:function(e){e.event.stopPropagation(),h(d)},children:(0,u.jsx)(l.Zb,{onMouseEnter:function(){w(!(P||j&&S))},onMouseLeave:function(){return w(!1)},children:(0,u.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(l.xu,{height:48,width:48,children:C?(0,u.jsx)(i.Z,{collaborators:R.map((function(e){return{name:e.full_name||e.first_name,src:e.image_medium_url}}))}):(0,u.jsx)(o.Z,{accessibilityLabel:"",name:D,src:d.image_medium_url})}),(0,u.jsxs)(l.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,u.jsx)(l.xu,{marginBottom:1,children:(0,u.jsx)(l.xv,{color:"darkGray",lineClamp:1,weight:"bold",children:C?R.map((function(e){return e.first_name||e.full_name})).join(", "):D})}),P&&B?(0,u.jsx)(l.xv,{color:"gray",size:"sm",children:B}):"string"==typeof d.username&&(0,u.jsx)(l.xv,{color:"gray",size:"sm",children:d.username})]}),(0,u.jsxs)(l.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[I&&(0,u.jsx)(l.xu,{display:"flex",marginEnd:2,children:(0,u.jsx)(Z.Z,{identifier:null!==(c=d.id)&&void 0!==c?c:d.email,onHide:function(){return v(!0)},component:13029,element:11917})}),(0,u.jsx)(Q,{shouldShowViewChat:S,isSent:j,onClickSend:function(t){var n,r;t.event.stopPropagation(),r=e.idx,s({event_type:101,component:13029,element:p?1044:1039,aux_data:{entered_query:p,result_index:r+1,rs:null===(n=d.debug_reason)||void 0===n?void 0:n.reason}}),O(!0),f(d),w(!1)},onViewConversation:function(){return b(E)}})]})]})]})})}),(0,u.jsx)(N.Z.Consumer,{children:function(e){var t;return e?(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,u.jsx)(l.X6,{color:"blue",size:"sm",children:null===(t=d.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var X=n(535718),Y=n(192830),K=n(463111);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){var t=(0,W.v)().logContextEvent,n=(0,s.ZP)(),o=e.onChange,i=e.onSendMessage,a=e.onShowSendDraft,c=e.onShowImportContacts,d=e.sentHistory,p=e.value,f=e.paddingX,h=(0,X.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}).isLoaded,b=(0,X.Z)({name:"ShareSuggestionsTypeaheadResource",options:{field_set_key:"default",term:p||"default"},noCache:!0}).isLoaded,m=(0,K.E)().shareSuggestions[p]||[];(0,r.useEffect)((function(){if(!p&&h){var e=m.length>0?7511:7512;t({event_type:e,component:56,view_type:70,view_parameter:256})}}),[h]);var g=(0,Y.Z5)(),y=g.dropdownOpen,v=g.conversationOpen,x=function(t){var n=e.isFlyout,r=e.onHide;!n&&r&&r(),v(t),y()},I=m.map((function(e,t){var n=p?"search":"suggestion",r="".concat(t,"-").concat(n),o={item:e,idx:t,onSendMessage:i,onShowSendDraft:a,onViewConversation:x,sentHistory:d,textFieldValue:p};return(0,u.jsx)(G,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o),r)})),w=0===m.length&&(""===p&&!h||""!==p&&!b);return(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xu,{display:"flex",paddingX:f,position:"relative",children:(0,u.jsx)(l.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,u.jsx)(l.Um,{accessibilityLabel:n._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:o,placeholder:n._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:p})})}),(0,u.jsx)(l.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new l.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,u.jsxs)(l.xu,{paddingX:f,children:[(0,u.jsx)(l.xu,{paddingY:w?2:0,children:(0,u.jsx)(l.$j,{accessibilityLabel:n._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:w})}),(0,u.jsxs)(l.xu,{children:[I,p&&(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.Zb,{children:(0,u.jsx)(F,{email:p,isValid:(0,j.Z)(p),onClick:function(){return a({email:p,full_name:p})},showSendEmailText:!1})}),!w&&(0,u.jsx)(l.xu,{width:"100%",children:(0,u.jsx)(l.Zb,{children:(0,u.jsx)(l.iP,{onTap:c,children:(0,u.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,u.jsx)(l.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,u.jsx)(l.JO,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),(0,u.jsx)(l.xu,{paddingX:3,children:(0,u.jsx)(l.xv,{weight:"bold",children:n._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var te=n(296882),ne=n(686723),re=n(252688),oe=n(230457),ie=n(674245);function ae(e){var t=e.size,n=void 0===t?48:t,r=e.iconColor,o=e.backgroundColor,i=e.grayscale,a=void 0!==i&&i,c=r||(a?"#333333":"#8E8E8E"),s=o||"#EFEFEF";return(0,u.jsx)("svg",{viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,u.jsx)("circle",{fill:s,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,u.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:c,children:[(0,u.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,u.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,u.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,u.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,u.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,u.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,u.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,u.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,u.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var ce=n(845555),se=n(504534);function le(e){var t=e.sharedObject,n=e.onCreatePincodeClick,r=e.iconColor,o=e.iconSize,i=e.backgroundColor,d=(0,s.ZP)(),p=(0,a.Z)();return n&&[c.d.BOARD,c.d.PINNER,c.d.USER].includes(t.type)&&p.isAuth&&(t.id===p.id||p.isEmployee)?(0,u.jsxs)(se.Z,{iconSize:o,marginEnd:!0,children:[(0,u.jsx)(l.iP,{fullWidth:!1,onTap:n,children:(0,u.jsx)(ae,{backgroundColor:i,iconColor:r,size:o})}),(0,u.jsx)(ce.Z,{text:d._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var ue=n(447186),de=n(272828),pe=n(659048),fe="#EFEFEF",he="#333333";function be(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,o=void 0!==r&&r,i=o?he:"#FFFFFF",a=o?fe:"#1877f2";return(0,u.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,children:[(0,u.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,u.jsxs)("g",{id:"surface1",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function me(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,o=void 0!==r&&r,i=o?he:"#FFFFFF",a=o?fe:"#0DC2FF";return(0,u.jsx)("svg",{viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsxs)("g",{id:"surface1",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function ge(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,o=void 0!==r&&r,i=o?he:"#FFFFFF",a=o?fe:"#25d366";return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n," ").concat(n),width:n,height:n,version:"1.1",children:(0,u.jsxs)("g",{id:"surface1",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function ye(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,o=void 0!==r&&r,i=o?he:"#fff",a=o?fe:"#00b900";return(0,u.jsx)("svg",{width:n,height:n,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,u.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,u.jsx)("path",{style:{fill:a,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}function ve(e){var t=e.size,n=void 0===t?48:t,r=e.grayscale,o=void 0!==r&&r?he:"#fff";return(0,u.jsxs)("svg",{viewBox:"0 0 800 800",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,children:[(0,u.jsx)("circle",{cx:"400",cy:"400",fill:"#ff4500",r:"400"}),(0,u.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M666.8 400c.08 5.48-.6 10.95-2.04 16.24s-3.62 10.36-6.48 15.04c-2.85 4.68-6.35 8.94-10.39 12.65s-8.58 6.83-13.49 9.27c.11 1.46.2 2.93.25 4.4a107.268 107.268 0 0 1 0 8.8c-.05 1.47-.14 2.94-.25 4.4 0 89.6-104.4 162.4-233.2 162.4S168 560.4 168 470.8c-.11-1.46-.2-2.93-.25-4.4a107.268 107.268 0 0 1 0-8.8c.05-1.47.14-2.94.25-4.4a58.438 58.438 0 0 1-31.85-37.28 58.41 58.41 0 0 1 7.8-48.42 58.354 58.354 0 0 1 41.93-25.4 58.4 58.4 0 0 1 46.52 15.5 286.795 286.795 0 0 1 35.89-20.71c12.45-6.02 25.32-11.14 38.51-15.3s26.67-7.35 40.32-9.56 27.45-3.42 41.28-3.63L418 169.6c.33-1.61.98-3.13 1.91-4.49.92-1.35 2.11-2.51 3.48-3.4 1.38-.89 2.92-1.5 4.54-1.8 1.61-.29 3.27-.26 4.87.09l98 19.6c9.89-16.99 30.65-24.27 48.98-17.19s28.81 26.43 24.71 45.65c-4.09 19.22-21.55 32.62-41.17 31.61-19.63-1.01-35.62-16.13-37.72-35.67L440 186l-26 124.8c13.66.29 27.29 1.57 40.77 3.82a284.358 284.358 0 0 1 77.8 24.86A284.412 284.412 0 0 1 568 360a58.345 58.345 0 0 1 29.4-15.21 58.361 58.361 0 0 1 32.95 3.21 58.384 58.384 0 0 1 25.91 20.61A58.384 58.384 0 0 1 666.8 400zm-396.96 55.31c2.02 4.85 4.96 9.26 8.68 12.97 3.71 3.72 8.12 6.66 12.97 8.68A40.049 40.049 0 0 0 306.8 480c16.18 0 30.76-9.75 36.96-24.69 6.19-14.95 2.76-32.15-8.68-43.59s-28.64-14.87-43.59-8.68c-14.94 6.2-24.69 20.78-24.69 36.96 0 5.25 1.03 10.45 3.04 15.31zm229.1 96.02c2.05-2 3.22-4.73 3.26-7.59.04-2.87-1.07-5.63-3.07-7.68s-4.73-3.22-7.59-3.26c-2.87-.04-5.63 1.07-7.94 2.8a131.06 131.06 0 0 1-19.04 11.35 131.53 131.53 0 0 1-20.68 7.99c-7.1 2.07-14.37 3.54-21.72 4.39-7.36.85-14.77 1.07-22.16.67-7.38.33-14.78.03-22.11-.89a129.01 129.01 0 0 1-21.64-4.6c-7.08-2.14-13.95-4.88-20.56-8.18s-12.93-7.16-18.89-11.53c-2.07-1.7-4.7-2.57-7.38-2.44s-5.21 1.26-7.11 3.15c-1.89 1.9-3.02 4.43-3.15 7.11s.74 5.31 2.44 7.38c7.03 5.3 14.5 9.98 22.33 14s16 7.35 24.4 9.97 17.01 4.51 25.74 5.66c8.73 1.14 17.54 1.53 26.33 1.17 8.79.36 17.6-.03 26.33-1.17A153.961 153.961 0 0 0 476.87 564c7.83-4.02 15.3-8.7 22.33-14zm-7.34-68.13c5.42.06 10.8-.99 15.81-3.07 5.01-2.09 9.54-5.17 13.32-9.06s6.72-8.51 8.66-13.58A39.882 39.882 0 0 0 532 441.6c0-16.18-9.75-30.76-24.69-36.96-14.95-6.19-32.15-2.76-43.59 8.68s-14.87 28.64-8.68 43.59c6.2 14.94 20.78 24.69 36.96 24.69z"})]})}var xe=n(181307),Ie=n(880841),we=n(382745);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=48,Te="#111111",Je="#EFEFEF",Ve={backgroundColor:"#ffffff",border:"none",padding:0},Me=new Set(["JP","TW","TH"]),Fe=new Set(["US","UK","CA","AU","DE"]),Ne=function(e){(0,ie.default)((function(t){t&&(t.getUserID()?e():t.login((function(){e()})))}),oe.Z)},Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(a,e);var t,n,o,i=Ee(a);function a(){var e;Ae(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Be(Ce(e=i.call.apply(i,[this].concat(n))),"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Be(Ce(e),"mounted",!1),Be(Ce(e),"logShareInviteLink",(function(){var t=e.state,n=t.copyLinkLogged,r=t.inviteData,o=e.getShareOptions(12);n||(pe.Z.logShareInvite(o,r),e.setState({copyLinkLogged:!0}))})),Be(Ce(e),"selectText",(function(e){e.target.select()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.getWhatsAppURL()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getShareOptions",value:function(e){var t=this.props.sharedObject;return{invite_category:t.type===c.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}},{key:"getSendDisplayText",value:function(e){switch(e){case c.d.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case c.d.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case c.d.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}},{key:"getWhatsAppURL",value:function(){var e=this,t=this.getShareOptions(10);pe.Z.createShareInviteData(t).then((function(t){var n=t.message;if(n){var r=encodeURIComponent(n);e.setState({whatsappInviteData:t,whatsappURL:"https://web.whatsapp.com/send?text="+r})}else e.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,te.Z)(e.props.sharedObject.url)})}))}},{key:"checkWritePermissions",value:function(){return!!ue.Z.isWriteBanned()}},{key:"handleSocialShareClick",value:function(e){if(!this.checkWritePermissions()){var t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),this.props.logContextEvent({event_type:101,component:153,element:t})}}},{key:"openEmailDialog",value:function(){this.props.onEmailIconClick()}},{key:"openFacebookDialog",value:function(){var e=this;Ne((function(){pe.Z.shareFacebookInvite(e.getShareOptions(5))}))}},{key:"openFbMessengerDialog",value:function(){var e=this;Ne((function(){pe.Z.shareFbMessengerInvite(e.getShareOptions(6))}))}},{key:"openWhatsAppDialog",value:function(){var e=this.getShareOptions(10);this.state.whatsAppLogged||(pe.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}},{key:"openShareUrlLink",value:function(){this.logShareInviteLink()}},{key:"openTwitterDialog",value:function(){pe.Z.shareTwitterInvite(this.getShareOptions(9))}},{key:"openLineDialog",value:function(){pe.Z.shareLineInvite(this.getShareOptions(8))}},{key:"openRedditDialog",value:function(){pe.Z.shareRedditInvite(this.getShareOptions(29))}},{key:"renderShareOptions",value:function(){var e=this,t=this.props,n=t.sharedObject,o=t.onCreatePincodeClick,i=t.showLineShare,a=t.showRedditPinShare,c=t.activateWebRedditPinShareExp,s=t.showRedditBoardShare,d=t.activateWebRedditBoardShareExp,p=t.i18n;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"around",children:[i&&(0,u.jsxs)(se.Z,{iconSize:De,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:function(){return e.handleSocialShareClick("line")},style:Ve,children:(0,u.jsx)(ye,{size:48})}),(0,u.jsx)(ce.Z,{text:p._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),(0,u.jsxs)(se.Z,{iconSize:De,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:function(){return e.handleSocialShareClick("whatsapp")},style:Ve,tabIndex:"-1",children:(0,u.jsx)(l.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,u.jsx)(ge,{size:De})})}),(0,u.jsx)(ce.Z,{text:p._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),(0,u.jsxs)(se.Z,{iconSize:De,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:function(){return e.handleSocialShareClick("facebook")},style:Ve,children:(0,u.jsx)(be,{size:De})}),(0,u.jsx)(ce.Z,{text:p._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),(0,u.jsxs)(se.Z,{iconSize:De,marginEnd:!i,children:[(0,u.jsx)("button",{"aria-label":p._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:function(){return e.handleSocialShareClick("twitter")},style:Ve,"data-test-id":"twitter-share-icon",children:(0,u.jsx)(me,{size:De})}),(0,u.jsx)(ce.Z,{text:p._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!i&&(0,u.jsx)(se.Z,{iconSize:De,marginEnd:!1,children:this.renderEmail()})]}),(0,u.jsxs)(l.xu,{display:"flex",paddingY:4,children:[(a&&c().anyEnabled||s&&d().anyEnabled)&&(0,u.jsxs)(se.Z,{iconSize:De,marginEnd:!0,children:[(0,u.jsx)("button",{"aria-label":p._("Reddit","sharesheet.shareSocialBar.ShareReddit","Button that will share via Reddit"),onClick:function(){return e.handleSocialShareClick("reddit")},style:Ve,children:(0,u.jsx)(ve,{size:De})}),(0,u.jsx)(ce.Z,{text:p._("Reddit","sharesheet.shareSocialBar.ShareRedditLabel","Reddit button label")})]}),(0,u.jsx)(le,{backgroundColor:Je,iconColor:Te,iconSize:De,onCreatePincodeClick:o,sharedObject:n}),(0,u.jsx)(ne.default,{sharedObject:n,backgroundColor:Je,iconColor:Te,iconSize:De,marginEnd:i,isCloseupActionBar:!1},"copylink"),i&&this.renderEmail()]})]})}},{key:"renderEmail",value:function(){var e=this;return(0,u.jsxs)(se.Z,{iconSize:De,marginEnd:!0,children:[(0,u.jsx)(l.xu,{display:"inlineBlock",children:(0,u.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:function(){return e.handleSocialShareClick("email")},style:Ve,children:(0,u.jsx)(re.Z,{backgroundColor:Je,iconColor:Te,size:De})})}),(0,u.jsx)(ce.Z,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}},{key:"render",value:function(){var e=this.props,t=e.sharedObject,n=e.paddingX;return(0,u.jsxs)(l.xu,{paddingX:n,children:[(0,u.jsx)(l.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,u.jsx)(l.xv,{size:"lg",weight:"bold",children:this.getSendDisplayText(t.type)})}),(0,u.jsx)(l.xu,{paddingX:2,children:this.renderShareOptions()})]})}}])&&Se(t.prototype,n),o&&Se(t,o),a}(r.Component);function Ze(e){var t=(0,W.v)().logContextEvent,n=(0,s.ZP)(),r=(0,a.Z)(),o=(0,de.TH)(),i=r.isAuth&&Me.has(r.country),c=r.isAuth&&Fe.has(r.country),l=c&&(0,we.uM)(o),d=(0,xe.tc)("web_auth_pin_reddit_share"),p=c&&(0,we.am)(o),f=(0,xe.tc)("web_auth_board_reddit_share");return(0,u.jsx)(Ue,Oe(Oe({},e),{},{toastManagerContext:(0,Ie.F9)(),viewer:(0,a.Z)(),showLineShare:i,i18n:n,showRedditPinShare:l,showRedditBoardShare:p,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:f,logContextEvent:t}))}var Le=n(731164),Qe=n(311866),We=n(881220);function qe(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var He=n(818270);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=function(e,t){var n={};return e.forEach((function(e){n[e]=t})),n};function nt(e){var t=(0,W.v)().logContextEvent,n=(0,s.ZP)(),o=$e((0,r.useState)(!1),2),i=o[0],d=o[1],p=$e((0,r.useState)(null),2),f=p[0],h=p[1],b=$e((0,r.useState)({}),2),m=b[0],g=b[1],y=$e((0,r.useState)(""),2),v=y[0],x=y[1],I=$e((0,r.useState)(function(e,t){return"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):""}(e.sendType,n)),1)[0],w=(0,Ie.F9)().showOneToast,j=(0,He.$)().surface,O=(0,a.Z)(),A=(0,Y.Z5)().conversationCreate,S=(0,Y.NG)(),P=function(n,r){d(!1),e.onMessageSent(),function(n,r){var o=e.sharedObject.id;Le.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:o,aux_data:{conversation_id:n,pin_id:r}})}(n,r)},E=function(e){Le.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});var t=e.message_detail||e.message;t&&w((function(e){var n=e.onHide;return(0,u.jsx)(We.Z,{variant:"error",duration:5e3,onHide:n,text:t})}))},k=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o){var i,a,c,s,l,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.sharedObject,a=e.sendType,c=i.id,(s={emails:r,user_ids:n,text:o,source:qe(j)})[a]=c,l=Qe.ZP.create("ConversationsResource",s),t.prev=5,t.next=8,l.callCreate();case 8:u=t.sent,d=u&&u.resource_response.data,A(d),P(d.id,"pin"===a?c:null),n.length>0?g(Ke(Ke({},m),tt(n,d.id))):g(Ke(Ke({},m),tt(r,d.id))),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),E(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Xe(i,r,o,a,c,"next",e)}function c(e){Xe(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),C=function(n,r){"conversation_share_suggestion"===n.type?function(t,n,r){var o,i,a=e.sharedObject,c=e.sendType;switch(c){case"pin":i="pinId";break;case"board":i="boardId";break;case"did_it":i="didItId";break;case"user":case"pinner":i="userId"}var s=i?S(t,(ze(o={text:n},i,a.id),ze(o,"source",qe(j)),o),void 0,O):void 0;s&&s.then((function(){P(t,"pin"===c?a.id:null),g(Ke(Ke({},m),{},ze({},t,t)))})).catch((function(e){E(e)}))}(n.id,r):"contact_share_suggestion"!==n.type&&"user_share_suggestion"!==n.type&&"user"!==n.type||!n.username?k([],[n.email],r):k([n.id],[],r),t({event_type:101,component:56,element:276})},R=function(t,n){e.sendType!==c.d.SEARCH||n?C(t,n):Qe.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)})).then((function(e){var n=e.message;C(t,n)}))},B=function(){d(!1),h(null)},D=e.onCreatePincodeClick,T=e.onShowImport,J=e.sendType,M=e.sharedObject,F=e.isFlyout,N=e.onHide,U=e.onExternalSend,Z="email"===f?(0,u.jsx)(V,{initialTextValue:I,isFlyout:F,objectId:M.id,objectType:J,onCancelDraft:B,onHide:N,onSendMessage:R}):(0,u.jsx)(_,{initialTextValue:I,isFlyout:F,objectId:M.id,objectType:J,onCancelDraft:B,onHide:N,onSendMessage:R,recipient:"object"===Ge(f)?f:void 0});return i?Z:(0,u.jsxs)(l.xu,{color:"white",children:[(0,u.jsx)(Ze,{onCreatePincodeClick:D,onEmailIconClick:function(){d(!0),h("email")},onExternalSend:U,onHide:N,paddingX:4,sharedObject:M}),(0,u.jsx)(l.xu,{children:(0,u.jsx)(ee,{isFlyout:F,onChange:function(e){var n=e.value;x(n),t({event_type:4113,component:13029,element:1043})},onHide:N,onSendMessage:R,onShowImportContacts:T,onShowSendDraft:function(e){d(!0),h(e),x("")},paddingX:4,sentHistory:m,value:v})})]})}var rt=n(227457),ot=n.n(rt),it=n(525974),at=["facebook","google"];function ct(e,t){return"facebook"===e?t._("Facebook"," - "," -- "):"twitter"===e?t._("Twitter"," - "," -- "):"google"===e?t._("Google"," - "," -- "):t._("Other"," - "," -- ")}function st(e){var t=(0,s.ZP)(),n=ot()("sendShare",e.network),r=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"," - "," -- "):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return(0,u.jsx)("a",{onClick:e.onClick,role:"button",children:(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("em",{className:"icon"}),(0,u.jsxs)("div",{className:"networkInfo",children:[(0,u.jsx)("h4",{className:"title",children:ct(e.network,t)}),r?(0,u.jsx)("div",{className:"subtitle",children:r}):null]})]})})}function lt(e){var t=e.onBack,n=(0,s.ZP)(),r=(0,a.Z)(),o=r.isAuth?r.email:null,i=at.filter((function(e){return!r.isAuth||!1===r.socialNetwork[e].connected}));return(0,u.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)("div",{className:"backNav",children:(0,u.jsxs)("a",{onClick:t,role:"button",children:[(0,u.jsx)("span",{className:"icon"}),(0,u.jsx)("span",{className:"label",children:n._("Back"," - "," -- ")})]})}),(0,u.jsx)("div",{className:"prompt",children:n._("Upload contacts from..."," - "," -- ")})]}),(0,u.jsx)("ul",{className:"socialConnectOptions",children:i.map((function(e){return(0,u.jsx)("li",{style:{borderLeft:"none"},children:(0,u.jsx)(st,{email:o,network:e,onClick:function(){return function(e,t){it.Z.instance().handleConnect(e,!0,{},t)}(e,n)}})},e)}))})]})}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e){e.classNames;var t=e.isFlyout,n=void 0!==t&&t,o=e.onCreatePincodeClick,i=e.onExternalSend,a=e.onHide,c=e.sendType,s=e.sharedObject,d=e.viewType,p=e.viewParameter,f=(0,W.v)().logContextEvent,h=ut((0,r.useState)(!1),2),b=h[0],m=h[1],g=ut((0,r.useState)(!1),2),y=g[0],v=g[1];(0,r.useEffect)((function(){return f({event_type:7120,object_id_str:s.id,view_type:d,view_parameter:p}),function(){f({event_type:7121,object_id_str:s.id,view_type:d,view_parameter:p}),f({event_type:y?7493:7492,view_type:d,view_parameter:p})}}),[]);var x,I=function(){m(!0)},w=function(){m(!1)},_=function(){v(!0)};return b?(x=n?"SendObjectBase sendShare":"",(0,u.jsx)("div",{className:x,children:(0,u.jsx)(lt,{onBack:w})})):(0,u.jsx)(l.xu,{overflow:"hidden",children:(0,u.jsx)(nt,{isFlyout:n,onCreatePincodeClick:o,onHide:a,onShowImport:I,onMessageSent:_,onExternalSend:i,sendType:c,sharedObject:s})})}},845555:function(e,t,n){"use strict";var r=n(988089),o=n(218265),i=n(80209);t.Z=function(e){var t=e.text;return(0,i.jsx)(o.xv,{align:"center",size:"sm",children:(0,i.jsx)(r.Z,{maxWidthPx:128,maxHeightPx:50,children:t})})}},504534:function(e,t,n){"use strict";var r=n(218265),o=n(80209);t.Z=function(e){var t=e.iconSize,n=e.marginEnd,i=e.children;return(0,o.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:n?2:0,width:t+24,children:i})}},792575:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(451190),o=n(174523),i=n(218265),a=n(80209);function c(e){var t=e.error,n=e.onHide,c=(0,o.ZP)(),s=c._("Oops!"," - "," -- ");return(0,a.jsx)(r.Z,{accessibilityModalLabel:s,role:"alertdialog",heading:s,onDismiss:n,size:"sm",footer:(0,a.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(i.zx,{color:"red",onClick:n,size:"lg",text:c._("Okay"," - "," -- ")})}),children:(0,a.jsx)(i.xu,{paddingX:8,children:(0,a.jsx)(i.xv,{align:"center",children:t.message})})})}},808308:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(218265),o=n(80209);function i(e){var t=e.colorOverride,n=e.productDetails,i=e.showSalesPrice,a=e.type,c=e.weight,s=void 0===c?"bold":c,l=n.max_price,u=n.min_price,d=n.price,p=n.standard_price,f=!!d&&!!p&&d!==p,h=function(e){var t=e.children,n=e.color;return"text"===a?(0,o.jsx)(r.xv,{color:n||"darkGray",size:"sm",weight:s,children:t}):(0,o.jsx)(r.X6,{color:n,size:"md",children:(0,o.jsx)("span",{style:{fontWeight:"bold"===s?"inherit":400},children:t})})};return(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[!!l&&!!u&&(0,o.jsx)(h,{children:"".concat(u," - ").concat(l)}),d&&!l&&!u&&(0,o.jsx)(h,{color:t||(f?"blue":"darkGray"),children:d}),f&&!i&&(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,o.jsx)(h,{color:"gray",children:p})})]})}},278646:function(e,t,n){"use strict";n.d(t,{L:function(){return b},t:function(){return m}});var r=n(904192),o=n(73697),i=n(549156),a=n(174523),c=n(302199),s=n(946753),l=n(585967),u=n(218265),d=n(80209);function p(e){var t=e.count,n=e.ratingValue;return Boolean(n&&"None"!==n&&!!t)}function f(e){var t=e.count,n=e.countFormat,r=e.textSize,o=(0,l.B)().locale,p=(0,a.ZP)(),f=(0,c.Z)();return(0,d.jsx)(u.xv,{size:r,children:(0,d.jsx)(i.Z,{id:"ratings-count-text",display:"inlineBlock",children:"text"===n?(0,s.nk)(p.ngettext("{{ count }} rating","{{ count }} ratings",t,"closeup.ratings.count","total ratings count"),{count:t}).join(""):f(o,t,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function h(e){var t=e.count,n=e.countFormat,i=e.ratingTextSize,a=e.ratingValue,c=e.shippingInfo,s=e.shippingInfoStyles,l=e.showDot,u=e.condition,h=p({count:t,ratingValue:a}),b=c||{},m=b.free_shipping_price,g=b.free_shipping_value,y=h&&!!a&&(0,d.jsx)(r.Z,{rating:a,width:12});return{rating:y&&h&&!!t&&(0,d.jsx)(f,{count:t,countFormat:n,textSize:i}),shipping:(Number.isFinite(g)||Number.isFinite(u))&&(0,d.jsx)(o.ZP,{customStyles:s,freeShippingPrice:m,freeShippingValue:g,showPrevDot:l,condition:u}),stars:y}}function b(e){var t=e.count,n=e.countFormat,r=h({count:t,countFormat:n,ratingTextSize:"md",ratingValue:e.ratingValue,shippingInfo:e.shippingInfo,shippingInfoStyles:{color:e.highlightLabel?"blue":"gray",size:"md"},showDot:!1}),o=r.rating,i=r.shipping,a=r.stars;return(0,d.jsxs)(u.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[a,o&&(0,d.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===n?"5px":""}},display:"inlineBlock",children:o})]}),i&&(0,d.jsx)(u.xu,{marginTop:a?1:0,children:i})]})}function m(e){var t=e.count,n=e.countFormat,r=e.ratingValue,o=e.shippingInfo,i=e.condition,a=e.highlightLabel,c=p({count:t,ratingValue:r}),s=h({count:t,countFormat:n,ratingTextSize:"lg",ratingValue:r,shippingInfo:o,shippingInfoStyles:{color:a?"blue":"darkGray",size:"lg"},showDot:c,condition:i}),l=s.rating,f=s.shipping,b=s.stars;return(0,d.jsxs)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[b,l]}),f&&(0,d.jsx)(u.xu,{marginStart:b&&!c?1:0,children:f})]})}},344886:function(e,t,n){"use strict";n.d(t,{Z0:function(){return r},qA:function(){return o},_z:function(){return i},fM:function(){return a},$O:function(){return c},Xv:function(){return s},GZ:function(){return l},OE:function(){return u},zX:function(){return d}});var r=40,o=4,i=106,a=133,c=.1,s=10,l=246,u=197,d=236},396848:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z},topTaggedObjectsResourceOptions:function(){return U}});var r,o=n(383268),i=n(269935),a=n(712997),c=n(57158),s=n(793550),l=n(546352),u=n(7713),d=n(539484),p=n(980841),f=n(923103),h=n.n(f),b=n(482452),m=n(218265),g=n(80209);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(y(r={},1,"In stock"),y(r,2,"Out of stock"),y(r,3,"Preorder"),y(r,4,"Unavailable"),r);function x(e){var t=e.buyableProduct,n=e.hideAvailability,r=e.merchantName,o=e.pinDescription,i=e.pinTitle,a=e.richSummary,c=e.showProductIcon,s=e.showPrice,l=e.showDescription,u=t||{},d=u.is_available,p=u.display_active_min_price,f=u.display_active_max_price,y=p===f?p:"".concat(null!=p?p:""," - ").concat(null!=f?f:""),x=h()(a,["products","0","offer_summary","price"]),I=y||x,w=d?1:2,_=h()(a,["products","0","offer_summary","availability"]),j=t&&null!=d?w:_,O=!n&&v[j];return(0,g.jsxs)(m.xu,{marginTop:1,children:[c&&(0,g.jsx)(m.xu,{paddingY:1,display:"flex",children:(0,g.jsx)(b.Z,{text:r,icon:"tag"})}),!!I&&s&&(0,g.jsxs)(m.xu,{display:"flex",paddingY:1,children:[(0,g.jsx)(m.xu,{marginEnd:2,children:(0,g.jsx)(m.xv,{size:"md",children:I})}),O&&2===j&&(0,g.jsx)(m.xv,{size:"md",color:"gray",children:O})]}),l&&(0,g.jsx)(m.xu,{paddingY:1,children:(0,g.jsx)(m.xv,{size:"md",weight:"bold",children:i||o})})]})}var I=n(575429),w=n(174523),_=n(268648);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.domain,n=e.maxWidth,r=e.onClick,o=e.pinId,i=e.sourceLinkStyle,a=e.sourceUrl,c=(0,w.ZP)(),l=j((0,s.useState)(!1),2),u=l[0],p=l[1],f=(0,s.useCallback)((function(){return p(!0)}),[p]),h=(0,s.useCallback)((function(){return p(!1)}),[p]),b=(0,I.useSelector)((function(e){var t=e.pins;return o&&t?t[o]:void 0})),y=(0,d.Z)({url:a}),v=(0,_.Z)({href:a,target:y?"blank":null,externalData:{pin:b}}),x=2*n/3;return x<72&&(i="icon-only"),"icon-only"===i?(0,g.jsx)(m.hU,{accessibilityLabel:c._("link","Website url link","Website url link"),bgColor:"white",href:a,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),r(),v({event:t})},size:x>58?"sm":"xs",role:"link",rel:y?"nofollow":"none"}):(0,g.jsx)(m.iP,{href:a,fullWidth:!1,onMouseEnter:f,onMouseLeave:h,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),r(),v({event:t})},rel:y?"nofollow":"none",role:"link",children:(0,g.jsxs)(m.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:{backgroundColor:u?"rgba(255, 255, 255, 1.0)":"rgba(255, 255, 255, 0.9)",borderRadius:"18px"}},display:"flex",height:32,justifyContent:"between",maxWidth:x,position:"relative",children:[(0,g.jsx)(m.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,g.jsx)(m.JO,{accessibilityLabel:c._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,g.jsx)(m.xv,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:t})})]})})}var S=n(537343);var P=n(560133),E=n(457175),k=n(344886);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={visualOverlay:{backgroundColor:"#000",opacity:k.$O}};function D(e){var t,n=(0,E.v)().logContextEvent,r=C((0,s.useState)(!1),2),o=r[0],i=r[1],a=(0,s.useCallback)((function(){return i(!0)}),[i]),c=(0,s.useCallback)((function(){return i(!1)}),[i]),f=e.link,h=e.pin,b=e.onClick,y=k._z,v=k.fM,I=h.description,w=h.domain,_=h.title,j=h.id,O=h.link,R=h.rich_summary,D=h.images,T=(D=void 0===D?{}:D)["474x"],J=null!=T?T:{},V=J.height,M=J.width,F=J.url,N=_||R&&R.display_name,U=(0,P.QY)(h),Z=U&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxLength,r=void 0===n?80:n,o=t.suffix,i=void 0===o?"…":o;return e.length<=r?e:e.substring(0,r-1).replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,"")+i}(U,{maxLength:y/k.Xv}),L=(0,d.Z)({url:f}),Q=f&&L?"nofollow":"none";return(0,g.jsxs)(m.xu,{width:y,position:"relative",onMouseEnter:a,onMouseLeave:c,children:[(0,g.jsxs)(m.xu,{position:"relative",children:[(0,g.jsx)(m.iP,{role:"link",rounding:2,href:f,onTap:function(e){var t=e.event;t.stopPropagation(),null==b||b(t)},children:(0,g.jsxs)(m.zd,{rounding:2,height:v,width:y,wash:!0,children:[(0,g.jsx)(m.Ee,{alt:null!==(t=null!=N?N:I)&&void 0!==t?t:"",naturalHeight:null!=V?V:1,naturalWidth:null!=M?M:1,src:null!=F?F:"",fit:"cover"}),o&&(0,g.jsx)(u.Z,{visibility:"visible",children:(0,g.jsx)(l.Z,{additionalStyles:B.visualOverlay})})]})}),(0,g.jsx)(m.xu,{position:"absolute",margin:2,left:!0,right:!0,top:!0,children:(0,g.jsx)(p.Z,{pin:h,allowShoppingPriceIndicator:!0})}),o&&(0,g.jsx)(m.xu,{display:"flex",position:"absolute",margin:3,left:!0,right:!0,bottom:!0,children:O&&(0,g.jsx)(A,{pinId:j,sourceUrl:O,domain:null!=w?w:"",sourceLinkStyle:"icon-only",maxWidth:y,onClick:function(){var t=e.componentType,r=e.viewData,o=e.viewType,i=e.viewParameter;n({event_type:12,component:t,object_id_str:j,view_type:o,view_parameter:i,view_data:r})}})})]}),(0,g.jsx)(m.iP,{rel:Q,role:"link",href:f,onTap:function(e){var t=e.event;t.stopPropagation(),null==b||b(t)},children:(0,g.jsx)(x,{pinDescription:I&&(0,S.ZP)(I.trim(),k.Z0)||"",pinTitle:N&&(0,S.ZP)(N.trim(),k.Z0)||"",richSummary:R,merchantName:Z})})]})}var T=n(535718),J=n(124324),V=n(946753),M=n(493858),F=n(35764),N=F.Gg-2*F.g9,U=function(e,t){return{pinId:e,isSTL:t}};function Z(e){var t=(0,E.v)().logContextEvent,n=(0,w.ZP)(),r=e.pin,s=e.trafficSource,l=(0,T.Z)({name:"VisualLinkTopTaggedObjectsResource",options:U(r.id,!(!r.aggregated_pin_data||!r.aggregated_pin_data.is_shop_the_look))}),u=l.data,d=l.isLoaded,p=r.aggregated_pin_data,f=void 0===p?{}:p;if(!d)return(0,g.jsx)(m.xu,{paddingY:6,children:(0,g.jsx)(m.$j,{accessibilityLabel:n._("Loading Shop the Look","Loading message for Shop the Look on Closeup","Loading message for Shop the Look on Closeup"),show:!0})});var h=function(){t({event_type:101,view_type:3,component:85,element:10479,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:null==f?void 0:f.is_shop_the_look,pin_is_stela:null==f?void 0:f.is_stela})}}),t({event_type:8948,view_type:3,component:85,element:10479,aux_data:{closeup_navigation_type:s&&(0,M.sV)(s)?"deeplink":"click",commerce_data:JSON.stringify({pin_is_shop_the_look:null==f?void 0:f.is_shop_the_look,pin_is_stela:null==f?void 0:f.is_stela})}})};if(!u||0===u.length)return null;var b=u.map((function(t){var s=t.id,l=t.objects,u=t.title,d=l.filter((function(e){return"pin"===e.type})),p=r&&r.closeup_attribution?r.closeup_attribution:u&&l.find((function(e){return"user"===e.type&&e.id===u.args[0].id})),f=p&&p.username||"",b=p?p.full_name:u&&u.args[0].text,y=d.map((function(t,n){var o,s,l;return(0,g.jsx)(i.Z,{impressionType:"Pin",impressionAuxFields:{richTypes:(0,J.GT)(t),imageURL:null!==(o=null===(s=t.images)||void 0===s||null===(l=s["236x"])||void 0===l?void 0:l.url)&&void 0!==o?o:""},loggingId:t.id,slotIndex:n,viewData:{pin_id:r.id},viewType:3,viewParameter:(0,c.Z)((0,a.Z)(e)),componentType:13160,children:(0,g.jsx)(D,{link:"/pin/".concat(t.id,"/"),onClick:h,pin:t,viewData:{pin_id:r.id},viewType:3,viewParameter:(0,c.Z)((0,a.Z)(e)),componentType:13160})},"carousel-impression-key-".concat(n))}));return(0,g.jsxs)(m.xu,{"data-test-id":"shop-the-look-unit",children:[(0,g.jsxs)(m.xu,{"data-test-id":"shop-the-look",marginBottom:4,marginTop:10,children:[(0,g.jsx)(m.X6,{size:"sm",children:n._("Shop the look","Shop the Look from user text on closeup","Shop the Look from user text on closeup")}),u&&u.args[0]&&(0,g.jsx)(m.xv,{children:(0,V.nk)(n._("from {{ pinnerName }}","Shows who owns the products tagged in this Pin, on closeup","Shows who owns the products tagged in this Pin, on closeup"),{pinnerName:(0,g.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(m.rU,{href:"/".concat(f,"/"),inline:!0,children:b})},"pinner")})})]}),(0,g.jsx)(o.Z,{accessibilityBackLabel:n._("Previous product","Label for previous product in shop the look","Label for previous product in shop the look"),accessibilityForwardLabel:n._("Next product","Label for next product in shop the look","Label for next product in shop the look"),columnWidth:N,gutterWidth:k.qA,items:y})]},s)}));return(0,g.jsx)(m.xu,{children:b})}},598925:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(793550),o=n(432686),i=n(155656),a=n(808308),c=n(457175),s=n(602402),l=n(218265),u=n(80209);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=10,h=function(){};function b(e){var t,n=e.closeupImageSignature,p=e.displayHeight,b=e.displayWidth,m=e.onStlFlyoutHover,g=e.taggedItem,y=e.flyoutAnimationType,v=e.onAnimationComplete,x=e.isPinbuilder,I=e.isHovering,w=(0,c.v)().logContextEvent,_=d((0,r.useState)(),2),j=_[0],O=_[1];(0,r.useEffect)((function(){if(g&&!x){var e=g.pins[0];w({event_type:120,view_type:3,element:11962,aux_data:{image_signature:n,commerce_data:JSON.stringify({pin_is_shop_the_look:!0,x:g.x_percent,y:g.x_percent,product_pin_id:e.id||g.id,product_pin_image_signature:e.image_signature,pin_tag_key:g.pin_tag_key})}})}}),[g,x]);var A,S=(0,s.f)().shopTheLook.selectedStlItemId,P=g.x_percent/100*b,E=g.y_percent/100*p,k=g.pins,C=null!==(t=(void 0===k?[]:k)[0])&&void 0!==t?t:{},R=C||{},B=R.grid_title,D=R.id,T=R.images,J=R.rich_summary,V=(T||{})["236x"]||{},M=(((J||{}).products||[])[0]||{}).offer_summary||{},F=M||{},N=F.price,U=F.max_price,Z=C.id===S;"in"===y||Z?A="stelaSlideIn .3s ease-in-out forwards":"out"===y?A="stelaSlideOut .3s ease-in-out forwards":"inOut"===y?A="stelaSlideInThenOut 3s ease-in-out forwards":"none"===y&&(A="none");var L=!(!M||!N&&!U),Q=L?124:48,W="up",q=P<Q+f,H=P+(Q+f)/2>b,G=E<60;return q&&!G?W="right":H&&!G&&(W="left"),q&&G?(P=Q/2+f,E=70):H&&G?(P=b-Q/2-f,E=70):!G||q&&H||(W="down"),(0,u.jsxs)(l.xu,{"data-test-id":"stl-flyout",onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},position:"relative",ref:function(e){e&&!j&&O(e)},width:1,dangerouslySetInlineStyle:{__style:{top:E,left:P}},children:[(0,u.jsx)(i.Z,{unsafeCSS:(0,o.Z)()}),(x&&I||!x)&&(0,u.jsx)(l.mh,{children:(0,u.jsx)(l.xu,{onAnimationEnd:function(){v&&"inOut"===y&&v()},dangerouslySetInlineStyle:{__style:{animation:A,opacity:"none"===A?0:void 0}},children:(0,u.jsx)(l.iP,{role:"link",href:x?"":"/pin/".concat(D),onTap:x?h:function(){if(!x){var e=g.pins[0];w({event_type:101,view_type:3,element:11962,aux_data:{image_signature:n,commerce_data:JSON.stringify({pin_is_shop_the_look:!0,x:g.x_percent,y:g.x_percent,product_pin_id:e.id||g.id,product_pin_image_signature:e.image_signature,pin_tag_key:g.pin_tag_key})}})}},children:(0,u.jsx)(l.J2,{anchor:j,idealDirection:W,onDismiss:function(){},positionRelativeToAnchor:!1,showCaret:!0,size:"flexible",children:(0,u.jsxs)(l.xu,{color:"white",rounding:3,height:48,width:Q,justifyContent:"center",alignItems:"center",alignContent:"center",display:"flex",children:[(0,u.jsx)(l.xu,{rounding:3,height:40,width:40,minWidth:40,overflow:"hidden",display:"flex",direction:"row",marginStart:L?1:0,children:(0,u.jsx)(l.zd,{wash:!0,height:40,width:40,children:(0,u.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:V.url||""})})}),L&&(0,u.jsxs)(l.xu,{display:"flex",direction:"column",flex:"grow",alignContent:"center",justifyContent:"center",marginStart:1,children:[(0,u.jsx)(a.Z,{showSalesPrice:!0,productDetails:M,type:"text"}),B&&(0,u.jsx)(l.xv,{size:"sm",lineClamp:1,children:B})]})]})})})})})]})}},811719:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},n:function(){return s}});var r=n(612072);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=e.pinTagIds,i=void 0===n?[]:n,a=e.pinTags,c=e.taggedObjects;return i.filter((function(e){var n=(0,r.Z)(a[e])&&"deleted"!==a[e].status;return t?n:!n})).map((function(e){return a[e].taggedObjectIds.map((function(t){var n;return{taggedObjectId:t,pinTagId:e,status:null===(n=c[t])||void 0===n?void 0:n.status}}))})).reduce((function(e,t){return[].concat(o(e),o(t))}),[])}function c(e){return a(e,!0)}function s(e){return a(e,!1).filter((function(e){return["saved","created"].includes(e.status)}))}},94236:function(e,t,n){"use strict";var r=n(793550);t.Z=(0,r.createContext)(!1)},172738:function(e,t,n){"use strict";n.r(t),n.d(t,{SendButton:function(){return g},default:function(){return y}});var r=n(533127),o=n(8742),i=n(218265),a=n(80209);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function d(e){var t=e.accessibilityLabel,n=e.buttonColor,r=e.buttonText,c=e.handleClick,l=e.icon;return(0,a.jsx)(o.q,{children:function(e){var o=e.active,d=e.focused,p=e.hovered,f=e.onBlur,h=e.onFocus,b=e.onMouseDown,m=e.onMouseEnter,g=e.onMouseLeave,y=e.onMouseUp,v={borderRadius:24};if(p){var x="red"===n?"rgb(216,0,33)":"rgb(226, 226, 226)";v=s(s({},v),{},{backgroundColor:x})}if(o){var I="red"===n?"rgb(207,0,31)":"rgb(218, 218, 218)";v=s(s({},v),{},{backgroundColor:I})}return d&&(v=s(s({},v),u)),(0,a.jsx)("button",{"aria-label":t,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:f,onFocus:h,onMouseDown:b,onMouseEnter:m,onMouseLeave:g,onMouseUp:y,onClick:c,children:(0,a.jsx)(i.xu,{color:n,rounding:2,dangerouslySetInlineStyle:{__style:v},children:(0,a.jsxs)(i.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===l&&(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.JO,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),(0,a.jsx)(i.xu,{paddingX:3})]}),(0,a.jsx)(i.xv,{align:"center",color:"red"===n?"white":"darkGray",weight:"bold",children:r})]})})})}})}var p=n(174523),f=n(255539);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t=e.buttonType,n=e.iconColor,o=e.handleSendShareFlyoutButtonClick,i=e.svgPath,c=e.isSVG,s=e.iconOnly,l=(0,p.ZP)(),u="icon"===t,f=c&&i?i:"share",h={accessibilityLabel:l._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:o,icon:f};return u?(0,a.jsx)(r.Z,b(b({},h),{},{isSVG:c,iconOnly:s,iconColor:n})):(0,a.jsx)(d,b(b({},h),{},{buttonColor:"lightGray",buttonText:l._("Send","Text for button to send this pin","Text for button to send this pin")}))},y=f.Z.makeSendShareButton(g)},297583:function(e,t,n){"use strict";n.d(t,{iS:function(){return c},CP:function(){return s},uK:function(){return l},K3:function(){return u},S8:function(){return d},Iz:function(){return p},XD:function(){return f},R4:function(){return h},RO:function(){return b},Z0:function(){return m},wX:function(){return g},Zx:function(){return y},Rj:function(){return v},NF:function(){return x},Lh:function(){return I},Ym:function(){return w},q8:function(){return _},U:function(){return j},md:function(){return O},er:function(){return A},wu:function(){return S},XG:function(){return P},NY:function(){return k},fl:function(){return C},aB:function(){return R},sy:function(){return B},pz:function(){return D},kw:function(){return T},Fj:function(){return J},Lr:function(){return V},j7:function(){return M},RJ:function(){return F},Su:function(){return N},aE:function(){return U}});var r=n(76535),o=n(887018);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=320,s=10,l=100,u=250,d=100,p=5,f=4,h=3,b=2,m=1,g=1,y={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"},v={left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},x="#E60023",I="#FFFFFF",w=9/16,_=375,j=_/w,O="#66CCFF",A=1200,S=7,P=20,E=["image/bmp","image/jpeg","image/png","image/tiff","image/webp"],k=function(){return[].concat(E,i(r.Z.enabled("video")?o.ss:[])).join(",")},C=60.5,R=1,B=104857600,D=1,T=["#FFFFFF","#FCE2CF","#F7F2BB","#D8F0A8","#BEF4EE","#DCD4F7","#F9B8F2","#F65E55","#F69855","#F6E955","#79DD3C","#25E4F4","#AA6AFB","#F655C9","#C20000","#B85C00","#807500","#02882A","#0045CC","#8000BD","#97026D","#5E031A","#573700","#363F03","#01564C","#00205C","#370052","#111111"],J={"#FFFFFF":"#000000","#FCE2CF":"#573700","#F7F2BB":"#363F03","#D8F0A8":"#01564C","#BEF4EE":"#00205C","#DCD4F7":"#370052","#F9B8F2":"#111111","#F65E55":"#000000","#F69855":"#000000","#F6E955":"#000000","#79DD3C":"#000000","#25E4F4":"#000000","#AA6AFB":"#000000","#F655C9":"#000000","#C20000":"#FFFFFF","#B85C00":"#FFFFFF","#807500":"#FFFFFF","#02882A":"#FFFFFF","#0045CC":"#FFFFFF","#8000BD":"#FFFFFF","#97026D":"#FFFFFF","#5E031A":"#FFFFFF","#573700":"#FFFFFF","#363F03":"#FFFFFF","#01564C":"#FFFFFF","#00205C":"#FFFFFF","#370052":"#FFFFFF","#111111":"#FFFFFF"},V=6,M={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},F={upload:228,design:226,details:437,target:432},N=function(){return r.Z.enabled("storyPinMetadataModule")?["upload","design","details"]:["upload","design","details","target"]},U="jiggity+storyboard+feedback@pinterest.com"},956054:function(e,t,n){"use strict";n.d(t,{St:function(){return u},MW:function(){return d},dz:function(){return p},Nc:function(){return f},Nq:function(){return h},Zy:function(){return b},ix:function(){return m}});var r=n(728539),o=n.n(r),i=n(382979),a=n(796082),c=n(297583);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return["#111111","#370052","#00205C","#01564C","#363F03","#573700","#5E031A","#97026D","#8000BD","#0045CC"][e]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.body&&window.document.body?new Promise((function(n){var r=e.height,i=e.src,a=e.width,c=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},s=document.createElement("canvas");s.width=a,s.height=r;var l=document.createElement("img");l.onload=function(){var e=s.getContext("2d");e.drawImage(l,0,0);for(var i=e.getImageData(0,0,a,r).data,u=[],d=a*r,p=0;p<d;p+=10){var f=4*p;u.push([i[f],i[f+1],i[f+2]])}var h=o()(u,t).palette();s.remove(),l.remove(),n(h.map((function(e){return t=e[0],n=e[1],r=e[2],"#"+c(t)+c(n)+c(r);var t,n,r})))},l.src=i})):Promise.reject([])}function p(e,t){if(!t)return{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}};var n,r=t.height,o=void 0===r?100:r,i=t.width,a=void 0===i?100:i,s=t.x_coord,l=void 0===s?0:s,u=t.y_coord,d=void 0===u?0:u;return n=e.width>e.height?c.q8/e.width*(a/100):c.U/e.height*(o/100),{left:l?l/100*c.q8:0,scale:n,top:d?d/100*c.U:0,transform:{rotate:0,scaleX:1,scaleY:1}}}function f(e){if(e.width/e.height<c.Ym){var t=c.q8/e.width,n=e.height*t;return{scale:t,top:(c.U-n)/2,left:0,transform:{rotate:0,scaleX:1,scaleY:1}}}var r=c.U/e.height,o=e.width*r;return{left:(c.q8-o)/2,scale:r,top:0,transform:{rotate:0,scaleX:1,scaleY:1}}}function h(e,t,n){var r,o=e.split(/\r?\n/g),a=[],c="",l=function(e){var t=e.trim();return{text:t,width:n.measureText(t).width}},u=function e(r){var o=!!r.match(/\s/),i=0===c.length;if(n.measureText("".concat(c).concat(r)).width>t)if(o)a.push(l(c)),c="";else if(i){var u,d=s(r);try{for(d.s();!(u=d.n()).done;){e(u.value)}}catch(p){d.e(p)}finally{d.f()}}else a.push(l(c)),c="",e(r);else c+=r},d=s(o);try{for(d.s();!(r=d.n()).done;){var p=r.value;0===p.length&&a.push(l(c)),(0,i.Y)(p).forEach((function(e){return u(e)})),c.length&&(a.push(l(c)),c="")}}catch(f){d.e(f)}finally{d.f()}return a}function b(e,t,n,r,o,i,a){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+o-i),e.quadraticCurveTo(t+r,n+o,t+r-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fillStyle=a,e.fill()}function m(e,t,n,r,o){var i=e.left,s=e.scale,l=e.top,u=3===r?c.U/2:c.U,d=i<0?Math.min(n*s+i,c.q8):Math.min(c.q8-i,n*s),p=l<0?Math.min(t*s+l,u):Math.min(u-l,t*s),f=d/(n*s),h=p/(t*s),b=o?Math.max(c.q8/s,c.q8):f*n,m=o?Math.max(c.U/s,c.U):h*t,g=d/c.q8,y=o?g*b:f*n,v=o?p/u*(3===r?m/2:m):h*t,x=1;return(b<a.eE||m<a.eE)&&(b*x<a.eE&&(x=a.eE/b),m*x<a.eE&&(x=a.eE/m)),{fullCanvasHeight:m*x,fullCanvasWidth:b*x,canvas:{height:v*x,width:y*x,x:i<0||!o?0:i/s*x,y:l<0||!o?0:l/s*x},image:{height:h*t,width:f*n,x:i<0?Math.abs(i)/s:0,y:l<0?Math.abs(l)/s:0}}}},312977:function(e,t,n){"use strict";n.d(t,{FS:function(){return l},FE:function(){return u},RR:function(){return d},yx:function(){return p}});var r=n(836110),o=n(575108),i=n(201300);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){return"".concat(e,"-").concat(t)};function u(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0;return function(p,f){var h=f().pinbuilder.pinDrafts,b=h[e].storyPinUploadManager;if(b){var m=l(t,n),g=h[e].pinItemIds.findIndex((function(e){return t===e}));u&&console.log("[ADD IMAGE UPLOAD] - Adding upload with ID and isDraft",m,a);var y=0;b.addMediaUpload(r,m,"image-story-pin",{onFailure:a?function(){}:function(t){var n=t.uploadId,o=t.errorMsg,a=t.mediaStatusFailureReason,c=t.mediaUploadFailureReason;return(0,i.Mq)({errorMsg:o,pinDraftId:e,mediaUploadFailureReason:c,mediaStatusFailureReason:a,uploadId:n,fileSizeBytes:r.size,storyPageNumber:g,storyPinPublishStopwatch:s})},onFinishUpload:a?void 0:function(e,t){var n=t.uploadTimeSec;return y=n},onFinishProcessing:function(t,l){var d=l.processingTimeSec,f=l.signature;u&&console.log("[ADD IMAGE UPLOAD] - Setting signature with ID and isDraft",m,a);var h=c({uploadId:t},a?{signature:f}:{signatureEdited:f});p((0,o.PF)(e,n,h)),a||(0,i.xC)({pinDraftId:e,uploadId:t,fileSizeBytes:r.size,imageSig:f,storyPageNumber:g,uploadTimeSec:y+d,storyPinPublishStopwatch:s})},onStartUpload:a?void 0:function(t){return(0,i.Xv)({pinDraftId:e,uploadId:t,fileSizeBytes:r.size,storyPageNumber:g,storyPinPublishStopwatch:s})}},d)}}}function d(e,t,n,r,a,c,s){return function(u,d){var p=d().pinbuilder.pinDrafts,f=p[e].storyPinUploadManager;if(f){var h=l(t,n),b=p[e].pinItemIds.findIndex((function(e){return t===e}));c&&console.log("[ADD VIDEO UPLOAD] - Adding upload with ID and isDraft",h),f.addMediaUpload(r,h,"video-story-pin",{onFailure:function(e,t,n){return(0,i.qH)({errorMessage:t,mediaUploadFailureReason:n,uploadId:e,fileSizeBytes:r.size,storyPageNumber:b,videoDuration:r.duration,storyPinPublishStopwatch:a})},onFinishProcessing:function(t,s){var l=s.processingTimeSec,d=s.signature;c&&console.log("[ADD VIDEO UPLOAD] - Setting signature from finish processing",h),u((0,o.PF)(e,n,{uploadId:t,signature:d})),(0,i.MQ)({processingTimeSec:l,signature:d,uploadId:t,fileSizeBytes:r.size,storyPageNumber:b,videoDuration:r.duration,storyPinPublishStopwatch:a})},onFinishUpload:function(e,t){return(0,i.a$)({uploadId:e,amzId2:t.amzId2,amzRequestId:t.amzRequestId,fileSizeBytes:r.size,statusCode:t.statusCode,storyPageNumber:b,uploadTimeSec:t.uploadTimeSec,videoDuration:r.duration,storyPinPublishStopwatch:a})},onStartProcessing:function(t,s){var l=s.signature;c&&console.log("[ADD VIDEO UPLOAD] - Setting signature from start processing",h),u((0,o.PF)(e,n,{uploadId:t,signature:l})),(0,i.Gl)({signature:l,uploadId:t,fileSizeBytes:r.size,storyPageNumber:b,videoDuration:r.duration,storyPinPublishStopwatch:a})},onStartUpload:function(e){return(0,i.f9)({uploadId:e,fileSizeBytes:r.size,storyPageNumber:b,videoDuration:r.duration,storyPinPublishStopwatch:a})},onUploadProgress:function(t){return u((0,o.PF)(e,n,{uploadProgress:t}))}},s)}}}function p(e,t,n,o){return function(i,a){var c=a().pinbuilder.pinDrafts[e],s=c.pinItemIds,l=c.storyPinUploadManager;if(l){var u="".concat(e,"-coverImage");l.addMediaUpload(t,u,"image-story-pin",{onFailure:function(){},onFinishProcessing:function(e,t){var o=t.signature;n&&console.log("[ADD COVER IMAGE UPLOAD] - Setting signature",u),i((0,r.Eb)(s[0],o))}},o)}}}},398843:function(e,t,n){"use strict";function r(e,t,n,r){return{type:"PIN_DRAFT_ADD_STORY_PIN_ITEM",payload:{pinDraftId:e,pinItemId:t,pinItem:n,options:r}}}n.d(t,{Z:function(){return r}})},881531:function(e,t,n){"use strict";n.d(t,{Z:function(){return J}});var r=n(731164),o=n(311866),i=n(946753);function a(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)}))}}var s=[200,201,204];function l(){return(l=c(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.ZP.create("VIPResource",{upload_ids:t}).callGet();case 3:return i=e.sent,a=i.resource_response.data,e.abrupt("return",t.reduce((function(e,t){return a[t]?e[t]={failureCode:a[t].failure_code,signature:a[t].signature,status:a[t].status}:r.Z.increment("storypin.publish.vip_status_check.missing_upload_id",1,{retryCount:n}),e}),{}));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e,t,n,r,o,i,a){return d.apply(this,arguments)}function d(){return(d=c(regeneratorRuntime.mark((function e(t,n,r,o,a,c,l){var u,d,p,f,h,b,m,g,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.upload_id||"",d=a.upload_url||"",p=a.upload_parameters||{},null==c||c.addSubspan({name:"".concat(n,"_page_publish-").concat(u),startTime:performance.now(),bypassIsTimingCheck:!0}),f=o.onFailure,h=o.onFinishUpload,b=o.onStartUpload,m=o.onUploadProgress,b&&b(u),g=new Date,y=new XMLHttpRequest,"image"===n?y.open("POST",d.replace("pinterest-media-upload.s3.amazonaws","u.pinimg"),!0):y.open("POST",d,!0),y.onload=function(){if(s.includes(y.status)){if(h){var e=(new Date-g)/1e3,t=y.getResponseHeader("x-amz-request-id"),r=y.getResponseHeader("x-amz-id-2");h(u,{amzId2:r,amzRequestId:t,uploadTimeSec:e,statusCode:y.status})}}else{var o="image"===n?1:8,a=(0,i.nk)(l._("Failed to upload the media with XHR status code: {{ status }}","uploadMediaVIP.onLoad.errorMessage","Error message sent to notify upload failure."),{status:y.status}).join("");f({uploadId:u,errorMsg:a,mediaUploadFailureReason:o,retry:!0})}},y.onerror=function(){var e="image"===n?1:8,t=l._("Failed to upload the media","uploadMediaVIP.onError.errorMessage","Error message sent to notify upload failure.");f({uploadId:u,errorMsg:t,mediaUploadFailureReason:e,retry:!0})},m&&(y.upload.onprogress=function(e){m(Math.round(e.loaded/e.total*100))}),v=new FormData,Object.keys(p).forEach((function(e){e&&p[e]&&v.append(e,p[e])})),v.append("file",t),y.send(v),e.abrupt("return",{uploadId:u,xhr:y});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(981444),f=n(630269);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=["webImage","webVideo"],j=function e(t){var n=this;I(this,e),w(this,"upload",(function(){})),w(this,"onFailure",(function(e,t){var r=e.errorMsg,o=e.mediaUploadFailureReason,i=e.retry,a=e.uploadId;i&&n.numAttempts<n.maxUploadAttempts?n.upload(t):(n.status="failed",n.callbackHandlers.onFailure({errorMsg:r,mediaUploadFailureReason:o,uploadId:a,storyPinPublishStopwatch:n.storyPinPublishStopwatch}))})),w(this,"onFinishProcessing",(function(e,t){n.signature=t.signature,n.callbackHandlers.onFinishProcessing&&n.callbackHandlers.onFinishProcessing(e,t,n.storyPinPublishStopwatch)})),w(this,"onFinishUpload",(function(e,t){n.status="uploaded",n.callbackHandlers.onFinishUpload&&n.callbackHandlers.onFinishUpload(e,t,n.storyPinPublishStopwatch)})),w(this,"onStartProcessing",(function(e,t){n.signature=t.signature,n.callbackHandlers.onStartProcessing&&n.callbackHandlers.onStartProcessing(e,t,n.storyPinPublishStopwatch)})),w(this,"cancel",(function(){n.xhr&&(n.xhr.abort(),n.callbackHandlers.onCancel&&n.callbackHandlers.onCancel(n.uploadId||"",n.storyPinPublishStopwatch))})),this.media=t.media,this.vipType=t.vipType,this.maxUploadAttempts=t.maxUploadAttempts||1,this.numAttempts=0,this.storyPinPublishStopwatch=t.storyPinPublishStopwatch,this.vipRegistration=t.vipRegistration,this.callbackHandlers=t.callbackHandlers},O=function(e){b(n,e);var t=g(n);function n(e){var r;return I(this,n),w(v(r=t.call(this,e)),"getClassName",(function(){return"ImageUpload"})),w(v(r),"onProcessingFailed",(function(e,t){r.uploadId&&r.onFailure({uploadId:r.uploadId,errorMsg:"Failed to process image with uploadId ".concat(r.uploadId," and failureCode ").concat(e),mediaUploadFailureReason:3,mediaStatusFailureReason:e},t)})),w(v(r),"onProcessingTimeout",(function(e){r.uploadId&&r.onFailure({uploadId:r.uploadId,errorMsg:"Timed out on processing video with uploadId ".concat(r.uploadId),mediaUploadFailureReason:4},e)})),w(v(r),"upload",(function(e){"localImage"===r.media.type&&(r.numAttempts+=1,u((0,f.Mi)(r.media.src),"image",r.vipType,{onFailure:function(t){return r.onFailure(t,e)},onFinishUpload:r.onFinishUpload,onStartUpload:r.callbackHandlers.onStartUpload,onUploadProgress:r.callbackHandlers.onUploadProgress},r.vipRegistration,r.storyPinPublishStopwatch,e).then((function(e){r.uploadId=e.uploadId,r.xhr=e.xhr,r.status="uploading"})))})),r.signature=_.includes(e.media.type)?e.media.signature:null,r.status=_.includes(e.media.type)?"uploaded":"pending",r}return n}(j),A=function(e){b(n,e);var t=g(n);function n(e){var r;return I(this,n),w(v(r=t.call(this,e)),"getClassName",(function(){return"VideoUpload"})),w(v(r),"onProcessingFailed",(function(e,t){r.uploadId&&r.onFailure({uploadId:r.uploadId,errorMsg:"Failed to process video with uploadId ".concat(r.uploadId," and failureCode ").concat(e),mediaUploadFailureReason:10,mediaStatusFailureReason:e,storyPinPublishStopwatch:r.storyPinPublishStopwatch},t)})),w(v(r),"onProcessingTimeout",(function(e){r.uploadId&&r.onFailure({uploadId:r.uploadId,errorMsg:"Timed out on processing video with uploadId ".concat(r.uploadId),mediaUploadFailureReason:11,storyPinPublishStopwatch:r.storyPinPublishStopwatch},e)})),w(v(r),"upload",(function(e){"localVideo"===r.media.type&&(r.numAttempts+=1,u(r.media.fileSrc,"video",r.vipType,{onFailure:function(t){return r.onFailure(t,e)},onFinishUpload:r.onFinishUpload,onStartUpload:r.callbackHandlers.onStartUpload,onUploadProgress:r.callbackHandlers.onUploadProgress},r.vipRegistration,r.storyPinPublishStopwatch,e).then((function(e){r.uploadId=e.uploadId,r.xhr=e.xhr,r.status="uploading"})))})),r.signature=_.includes(e.media.type)?e.media.signature:null,r.status=_.includes(e.media.type)?"uploaded":"pending",r}return n}(j);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,c,"next",e)}function c(e){k(i,r,o,a,c,"throw",e)}a(void 0)}))}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=3e3,D=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"getMediaRegistrationsFromVIP",function(){var e=C(regeneratorRuntime.mark((function e(t){var i,a,c,s,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length>1&&void 0!==l[1]?l[1]:20,n.vipRegistrationPool[t].fetchingData=!0,n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] - Getting media registration urls for ".concat(t,"s")),c=[];a>0;)c.push({id:(0,p.Z)(),media_type:"image"===t?"image-story-pin":"video-story-pin"}),a-=1;return s=n.vipRegistrationPool[t].requestCount,n.vipRegistrationPool[t].requestCount+=1,null===(i=n.storyPinPublishStopwatch)||void 0===i||i.subspanStart({name:"".concat(t,"_registration_").concat(s),bypassIsTimingCheck:!0}),e.abrupt("return",o.ZP.create("ApiResource",{url:"/v3/media/uploads/register/batch/",data:{media_info_list:JSON.stringify(c)}}).callCreate({showError:3===n.vipRegistrationPool[t].retries}).then((function(e){var r,o,i="object"===E(null===(r=e.resource_response)||void 0===r?void 0:r.data)?Object.values(e.resource_response.data):[];n.vipRegistrationPool[t].data=i,n.vipRegistrationPool[t].retries=0,n.vipRegistrationPool[t].fetchedLast=performance.now(),n.vipRegistrationPool[t].fetchingData=!1,null===(o=n.storyPinPublishStopwatch)||void 0===o||o.subspanStop({name:"".concat(t,"_registration_").concat(s),bypassIsTimingCheck:!0})}),(function(e){var o;r.Z.increment("storypin.publish.registration.".concat(t,".failure"),1,{reason:e.message,retryCount:n.vipRegistrationPool[t].retries}),n.vipRegistrationPool[t].retries<3?(n.inDebugMode&&console.log("".concat(t," registration failed. ").concat(3-n.vipRegistrationPool[t].retries," retries remaining"),e),n.vipRegistrationPool[t].retries+=1,n.getMediaRegistrationsFromVIP(t)):(n.inDebugMode&&console.log("".concat(t," registration failed."),e),n.onFailure("Failed to register upload with message: ".concat(e),13)),null===(o=n.storyPinPublishStopwatch)||void 0===o||o.subspanStop({name:"".concat(t,"_registration_").concat(s),bypassIsTimingCheck:!0})})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R(this,"initVIPRegistrationPools",(function(){n.getMediaRegistrationsFromVIP("image"),n.getMediaRegistrationsFromVIP("video")})),R(this,"checkAllUploadsProcessingOrCompleted",(function(){for(var e=0,t=0,r=Object.keys(n.mediaUploadsMap);t<r.length;t++){var o=r[t],i=n.mediaUploadsMap[o];n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] - Status of media upload ID",o,i.mediaUpload.getClassName(),i.status),("completed"===i.status||"processing"===i.status&&"VideoUpload"===i.mediaUpload.getClassName())&&(e+=1)}return n.inDebugMode&&(console.log("[MEDIA UPLOAD MANAGER] - Checking if all upload processes completed"),console.log("Completed ".concat(e," out of ").concat(Object.keys(n.mediaUploadsMap).length))),e===Object.keys(n.mediaUploadsMap).length})),R(this,"checkUploadsFailed",(function(){return!!Object.keys(n.mediaUploadsMap).find((function(e){return"failed"===n.mediaUploadsMap[e].status&&n.mediaUploadsMap[e].processingRetryCount>2}))})),R(this,"updateUploadStatus",(function(e,t){return n.mediaUploadsMap[e].status=t})),R(this,"updateVIPStatusMap",(function(e,t){for(var r=new Date,o=0,i=Object.keys(e);o<i.length;o++){var a=i[o],c=e[a],s=c.failureCode,l=c.signature,u=c.status;if(a in n.vipStatusMap){var d=n.vipStatusMap[a].mediaId,p=n.mediaUploadsMap[d];if(s&&n.mediaUploadsMap[d].processingRetryCount>2){p.mediaUpload.onProcessingFailed(s,t),n.updateUploadStatus(d,"failed");break}if(n.vipStatusMap[a].status!==u||"failed"===u)if(n.vipStatusMap[a]=P(P({},n.vipStatusMap[a]),{},{status:u,timeSet:r}),"processing"===u)p.mediaUpload.onStartProcessing(a,{signature:l}),n.updateUploadStatus(d,"processing");else if("succeeded"===u){var f=(r-n.vipStatusMap[a].timeSet)/1e3;p.mediaUpload.onFinishProcessing(a,{processingTimeSec:f,signature:l}),n.updateUploadStatus(d,"completed")}else"failed"===u&&(n.mediaUploadsMap[d].processingRetryCount+=1,n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] - Media upload ".concat(a," failed, but will keep checking ").concat(3-n.mediaUploadsMap[d].processingRetryCount," times if a retry succeeds.")));else n.statusTimeoutMap[u]&&(r-n.vipStatusMap[a].timeSet)/1e3>=n.statusTimeoutMap[u].timeoutSec&&(p.mediaUpload.onProcessingTimeout(t),n.statusTimeoutMap[u].onTimeout(a,d,n.mediaUploadsMap[d].mediaUpload.getClassName()))}}})),R(this,"refreshImageRegistration",C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.vipRegistrationPool.image={fetchedLast:0,retries:0,data:[],requestCount:0,fetchingData:!1},e.next=3,n.getMediaRegistrationsFromVIP("image");case 3:case"end":return e.stop()}}),e)})))),R(this,"getMediaRegistration",function(){var e=C(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.vipRegistrationPool[t]){e.next=10;break}if(!n.vipRegistrationPool[t].fetchingData){e.next=4;break}return e.next=4,new Promise((function(e){var r=0,o=setInterval((function(){r+=1,n.vipRegistrationPool[t].fetchingData&&100!==r||(clearInterval(o),e())}),100)}));case 4:if(r=performance.now()-n.vipRegistrationPool[t].fetchedLast>=18e5,0!==n.vipRegistrationPool[t].data.length&&!r){e.next=8;break}return e.next=8,n.getMediaRegistrationsFromVIP(t);case 8:e.next=12;break;case 10:return e.next=12,n.getMediaRegistrationsFromVIP(t);case 12:return e.abrupt("return",Promise.resolve(n.vipRegistrationPool[t].data.pop()));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R(this,"handleFailure",(function(e,t){n.failed||(n.onFailure(e,t),n.failed=!0)})),R(this,"handleCheckUploadsCompleted",(function(){var e=n.checkAllUploadsProcessingOrCompleted();return e&&n.onCompleted&&!n.completed&&(n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] - All uploads have completed & we are triggering the onCompleted callback"),n.completed=!0,n.onCompleted()),e})),R(this,"onFinishUpload",(function(e,t,r){n.vipStatusMap[e]={mediaId:t,status:null,timeSet:new Date},n.updateUploadStatus(t,"uploaded"),n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] Finished uploading media ID",t),n.statusCheckInProgress||(n.statusCheckInProgress=!0,setTimeout((function(){return n.checkStatus(r)}),B))})),R(this,"onUploadFailed",(function(e,t,r){n.updateUploadStatus(e,"failed"),n.handleFailure(t,r),n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] Failed uploading media ID",e)})),R(this,"removeMediaUpload",(function(e){n.mediaUploadsMap[e]&&(n.mediaUploadsMap[e].mediaUpload.cancel(),delete n.mediaUploadsMap[e])})),R(this,"addMediaUpload",(function(e,t,r,o,i){var a="localImage"===e.type||"webImage"===e.type?"image":"video";n.getMediaRegistration(a).then((function(r){var a=P(P({},o),{},{onFailure:function(e){var r=e.uploadId,i=e.errorMsg,a=e.mediaUploadFailureReason;n.onUploadFailed(t,i,a),o.onFailure({uploadId:r,errorMsg:i,mediaUploadFailureReason:a})},onFinishUpload:function(e,r){n.onFinishUpload(e,t,i),o.onFinishUpload&&o.onFinishUpload(e,r)}}),c="localImage"===e.type||"webImage"===e.type?new O({callbackHandlers:a,media:e,maxUploadAttempts:n.maxMediaUploadAttempts,vipType:"image-story-pin",storyPinPublishStopwatch:n.storyPinPublishStopwatch,vipRegistration:r}):new A({callbackHandlers:a,media:e,maxUploadAttempts:n.maxMediaUploadAttempts,vipType:"video-story-pin",storyPinPublishStopwatch:n.storyPinPublishStopwatch,vipRegistration:r});if(n.mediaUploadsMap[t]){n.mediaUploadsMap[t].mediaUpload.cancel();var s=n.mediaUploadsMap[t].mediaUpload.uploadId;s&&s in n.vipStatusMap&&delete n.vipStatusMap[s]}n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] Added media ID to upload",t),n.mediaUploadsMap[t]={mediaUpload:c,status:"pending",processingRetryCount:0},c.upload(i),n.updateUploadStatus(t,"uploading")}))})),R(this,"reset",(function(){n.failed=!1,n.statusCheckFailureCount=0,n.completed=!1})),R(this,"cancelAll",(function(){for(var e=0,t=Object.keys(n.mediaUploadsMap);e<t.length;e++){var r=t[e];"uploading"===n.mediaUploadsMap[r].status&&n.mediaUploadsMap[r].mediaUpload.cancel()}})),R(this,"checkStatus",(function(e){if(n.checkUploadsFailed())return n.statusCheckInProgress=!1,void(n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] There is a failure in check status",n.vipStatusMap));n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] Checking status",n.vipStatusMap),n.statusCheckInProgress=!0;var t=Object.keys(n.vipStatusMap);t.length>0?function(e,t){return l.apply(this,arguments)}(t,n.statusCheckFailureCount).then((function(t){n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] Check status response received",n.vipStatusMap),n.updateVIPStatusMap(t,e);for(var o=n.handleCheckUploadsCompleted(),i=0,a=Object.keys(n.vipStatusMap);i<a.length;i++){var c=a[i],s=n.vipStatusMap[c].mediaId;n.mediaUploadsMap[s]?"completed"===n.mediaUploadsMap[s].status&&delete n.vipStatusMap[c]:r.Z.increment("storypin.publish.media_uploads_map.missing_upload_id",1,{retryCount:n.statusCheckFailureCount,mediaId:s,vipId:c,mediaType:n.mediaUploadsMap[s].mediaUpload.getClassName()})}o?n.statusCheckInProgress=!1:setTimeout((function(){return n.checkStatus(e)}),B)})).catch((function(t){n.statusCheckFailureCount+=1,n.statusCheckFailureCount>4?(n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] - Failing upload because status check failed ".concat(n.statusCheckFailureCount," times")),n.handleFailure("Could not check VIP status with error: ".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message),14),n.statusCheckInProgress=!1):(n.inDebugMode&&console.log("[MEDIA UPLOAD MANAGER] - Continuing upload because status check only failed ".concat(n.statusCheckFailureCount," times")),setTimeout((function(){return n.checkStatus(e)}),B))})):n.handleCheckUploadsCompleted()||setTimeout((function(){return n.checkStatus(e)}),B)})),this.onCancel=t.onCancel,this.onCompleted=t.onCompleted||null,this.onFailure=t.onFailure,this.statusTimeoutMap=t.statusTimeoutMap,this.maxMediaUploadAttempts=t.maxMediaUploadAttempts,this.inDebugMode=t.inDebugMode,this.storyPinPublishStopwatch=t.storyPinPublishStopwatch,this.statusCheckInProgress=!1,this.completed=!1,this.failed=!1,this.vipRegistrationPool={image:{fetchedLast:0,retries:0,data:[],requestCount:0,fetchingData:!1},video:{fetchedLast:0,retries:0,data:[],requestCount:0,fetchingData:!1}},this.statusCheckFailureCount=0,this.mediaUploadsMap={},this.vipStatusMap={}},T=n(796082);function J(e,t,n){var o=this;return function(i){var a=new D({inDebugMode:n,maxMediaUploadAttempts:T.dD,onCancel:function(){},onFailure:function(){},statusTimeoutMap:{registered:{onTimeout:function(e,t,n){r.Z.increment("storypin.publish.media_uploads_map.timeout.registered",1,{retryCount:o.statusCheckFailureCount,mediaId:t,uploadId:e,mediaType:n})},timeoutSec:240},processing:{onTimeout:function(e,t,n){r.Z.increment("storypin.publish.media_uploads_map.timeout.processing",1,{retryCount:o.statusCheckFailureCount,mediaId:t,uploadId:e,mediaType:n})},timeoutSec:180}},storyPinPublishStopwatch:t});a.initVIPRegistrationPools(),i(function(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER",payload:{pinDraftId:e,uploadManager:t}}}(e,a))}}},234205:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(398843),o=n(76535),i=n(575108),a=n(297583),c=n(981444),s=n(956054),l=n(836110);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,u){return function(p){var f=o.Z.enabled("storyPinExpressive");if(p((0,r.Z)(e,t,f?d(d({},n),{},{backgroundColor:a.Lh,media:null}):n,u)),f&&null!=n&&n.media){var h=n.media;"localImage"===h.type?p((0,i.Uo)(e,t,(0,c.Z)(),{media:h,edits:(0,s.Nc)(h),type:"story_pin_image_block"},0)):"localVideo"===h.type&&p((0,i.Uo)(e,t,(0,c.Z)(),{media:h,edits:(0,s.Nc)(h),type:"story_pin_video_block"},0)),("localImage"===h.type?(0,s.MW)(h):Promise.resolve([])).then((function(n){p((0,l.iY)(t,n)),n.length>0&&p((0,l.vi)(e,t,n[0]))}))}}}},285815:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(741993),o=n(234205),i=n(731164),a=n(76535),c=n(372802),s=n(575108),l=n(796082),u=n(981444),d=n(129206),p=n(312977),f=n(297583),h=n(68545),b=n(836110);function m(e,t,n,m,g){return function(y,v){var x=v().pinbuilder,I=x.pinDrafts,w=x.storyPinItemBlocks,_=x.storyPinItems,j=I[e],O=j.mode,A=j.pinItemIds,S=j.pinItemIndex,P=j.status,E=A.length,k=A[S],C=0===A.filter((function(e){return!!_[e].blockIds.length})).length,R=C||void 0===_[k].blockIds.find((function(e){return w[e].media}));y((0,h.p3)(e,"processing")),y((0,h._B)(e,null));var B=t.map((function(e){return(0,c.Z)(g,e,{allowVideo:a.Z.enabled("video"),forStoryPin:!0})}));return Promise.all(B).then((function(t){var a=[],c=[];t.forEach((function(e){"localImage"===e.type||"localVideo"===e.type?a.push(e):c.push(e)})),c.length&&function(e){e.forEach((function(e){switch(e.id){case"STORY_PIN_VIDEO_OVER_MAX_DURATION":i.Z.increment("story_pin.upload.video.over_max_duration",1,{app_type:"web"});break;case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":i.Z.increment("story_pin.upload.video.over_max_file_size",1,{app_type:"web"});break;case"VIDEO_UNRECOGNIZED_ENCODING":i.Z.increment("story_pin.upload.video.invalid_format",1,{app_type:"web"})}}))}(c);var x=a.slice(0,R?l.n5-E+1:l.n5-E);if(!x.length)return c.length>1?y((0,h._B)(e,g._("Hmm...there were issues with some of your images or videos. Please make sure the files chosen fit within our requirements","pinbuilder.processFiles.invalidFiles","Error message notifying User all of their selected files could not be uploaded"))):1===c.length?y((0,h._B)(e,c[0].message)):y((0,h._B)(e,(0,d.Z)("STORY_PIN_TOO_MANY_PAGES",g).message)),y((0,h.p3)(e,P)),Promise.resolve();c.length&&y((0,h._B)(e,g._("Hmm... there was an issue with an image or video. Try again.","pinbuilder.processFiles.invalidFiles","Error message notifying User some of their selected files could not be uploaded")));var I=function(t,r,i,a){var c=i&&a?Object.assign(t,i.getCanvasOutput({width:a})):t;"localImage"===c.type&&delete c.fileSrc;var l=k;0===r&&R?(y((0,b.JQ)(e,l,{media:c})),C&&(y((0,s.Uo)(e,l,(0,u.Z)(),f.j7)),y((0,b.d5)(e,l,7)))):(l=(0,u.Z)(),y((0,o.Z)(e,l,{media:c},{saveIndex:C})),y((0,b.d5)(e,l,7)));var d=v().pinbuilder,h=d.storyPinItemBlocks,x=d.storyPinItems;if("localImage"===c.type){var I=x[l].blockIds.find((function(e){var t;return"localImage"===(null===(t=h[e].media)||void 0===t?void 0:t.type)}));I&&"edit"!==O&&y((0,p.FE)(e,l,I,c,!0,void 0,m,g))}else if("localVideo"===c.type){var w=x[l].blockIds.find((function(e){var t;return"localVideo"===(null===(t=h[e].media)||void 0===t?void 0:t.type)}));w&&y((0,p.RR)(e,l,w,c,n,m,g))}};return(0,r.Z)().then((function(t){return function(e){return x.reduce((function(t,n,r){return t.then((function(){return"localImage"===n.type?(e.resize(n.width,n.height),e.setImage(n.src).then((function(){var t=n.width/n.height,o=n.width;return o=t<1?Math.min(f.er,n.width):Math.min(f.er,n.height)*t,I(n,r,e,o)}))):I(n,r)}))}),Promise.resolve())}(new t(document.createElement("div"))).then((function(){return y((0,h.WT)(e,!0)),Promise.resolve()}))}))}))}}},292829:function(e,t,n){"use strict";n.d(t,{XJ:function(){return h},Eu:function(){return p},Wh:function(){return d},Uz:function(){return f}});var r=n(411221),o=n(731164),i=n(311866),a=n(76535);var c=n(349079),s=n(575108),l=n(836110),u=n(787130);function d(e,t){return function(n,r){var o=r(),i=o.pinbuilder,d=i.pinDrafts,p=i.storyPinItemBlocks,f=i.storyPinItems,h=a.Z.enabled("storyPinExpressive");return new Promise((function(r,i){return Promise.all(d[e].pinItemIds.map((function(r,i){return h?function(t,r){var i,a=f[t].layout,l=(0,c.X4)(o,{pinItemId:t},"story_pin_image_block"),d=l?p[l]:null;if(l&&d&&"localImage"===(null===(i=d.media)||void 0===i?void 0:i.type)&&d.media.signatureEdited){var h=d.media;return(0,u.is)(h,d.edits,e,r,a).then((function(t){var r=t.signature,o=t.uploadId;return n((0,s.PF)(e,l,{uploadId:o,signatureEdited:r}))}))}return Promise.resolve()}(r,i):function(e){var r,o=f[e];return"localImage"===(null===(r=o.media)||void 0===r?void 0:r.type)?(0,u.gK)(o.media,t).then((function(t){return n((0,l.Bl)(e,{signature:t}))})):Promise.resolve()}(r)}))).then((function(){return r()})).catch((function(e){return i(e)}))}))}}function p(e){return function(t,n){var r=n().pinbuilder,o=r.fonts,i=r.pinDrafts,c=r.storyPinItemBlocks,s=r.storyPinItems;return a.Z.enabled("storyPinExpressive")?function(){var n=i[e].pinItemIds.length>0?i[e].pinItemIds[0]:null,r=n&&s[n];if(n&&r&&!r.coverImgSignature){var a=r.backgroundColor,d=r.blockIds,p=r.layout,f=d.map((function(e){return c[e]}));return f.find((function(e){var t;return["localImage","localVideo"].includes(null===(t=e.media)||void 0===t?void 0:t.type)}))?(0,u.zA)(f,a,o,e,p).then((function(e){var r=e.signature;return t((0,l.Eb)(n,r))})):Promise.resolve()}return Promise.resolve()}():Promise.resolve()}}function f(e,t){return function(n,r){var o,i=r().pinbuilder,a=i.pinDrafts,c=i.storyPinItemBlocks,l=i.storyPinItems,d=a[e].pinItemIds.findIndex((function(e){return e===t})),p=l[t].blockIds.find((function(e){var t;return"localImage"===(null===(t=c[e].media)||void 0===t?void 0:t.type)}));if(p&&"localImage"===(null===(o=c[p].media)||void 0===o?void 0:o.type)){var f=c[p].media;(0,u.TV)(f.src,e,d).then((function(t){var r=t.signature,o=t.uploadId;return n((0,s.PF)(e,p,{signature:r,uploadId:o}))}))}}}function h(e,t){return function(n){return new Promise((function(a,c){i.ZP.create("ApiResource",{url:"/v3/storypins/drafts/".concat(e,"/")}).callDelete().then((function(){n((0,r.Z)({feedType:"storyPinData",feedId:t,itemIds:[e],itemType:"storypindata"})),n(function(e){return{type:"STORY_PIN_DATA_DELETE",payload:{storyPinDataId:e}}}(e)),a()})).catch((function(e){o.Z.increment("story_pin.drafts.delete.failure",1,{app_type:"web"}),c(new Error("Unable to delete the draft"))}))}))}}},836110:function(e,t,n){"use strict";n.d(t,{kh:function(){return m},j8:function(){return g},Dt:function(){return y},h4:function(){return v},hC:function(){return x},Bl:function(){return I},pq:function(){return w},qG:function(){return _},WZ:function(){return j},dP:function(){return A},eU:function(){return S},vi:function(){return P},Eb:function(){return E},d5:function(){return k},iY:function(){return C},vL:function(){return R},Jf:function(){return B},JQ:function(){return D}});var r=n(406516),o=n(285815),i=n(76535),a=n(312977),c=n(981444),s=n(743174),l=n(575108),u=n(297583),d=n(956054),p=n(68545);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return{type:"STORY_PIN_ITEM_SET_DESCRIPTION",payload:{pinItemId:e,description:t}}}function g(e,t){return{type:"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR",payload:{pinItemId:e,descriptionError:t}}}function y(e,t){return{type:"STORY_PIN_ITEM_SET_TITLE",payload:{pinItemId:e,title:t}}}function v(e,t){return{type:"STORY_PIN_ITEM_SET_TITLE_ERROR",payload:{pinItemId:e,titleError:t}}}function x(e,t){return{type:"STORY_PIN_ITEM_SET_MEDIA",payload:{pinItemId:e,media:t}}}function I(e,t){return{type:"STORY_PIN_ITEM_UPDATE_MEDIA",payload:{pinItemId:e,media:t}}}function w(e,t){return{type:"STORY_PIN_ITEM_UPDATE_LINK_BLOCK",payload:{pinItemId:e,linkBlock:t}}}function _(e,t){return{type:"STORY_PIN_ITEM_SET_LINK_ERROR",payload:{pinItemId:e,linkError:t}}}function j(e,t,n){return{type:"STORY_PIN_ITEM_SET_EDITED_IMAGE",payload:{pinItemId:e,editedMedia:t,canvasJson:n}}}function O(e,t,n){return{type:"STORY_PIN_ITEM_UPDATE_DATA",payload:{pinDraftId:e,pinItemId:t,pinItem:n}}}function A(e,t){return{type:"STORY_PIN_ITEM_SET_BLOCK_IDS",payload:{pinItemId:e,blockIds:t}}}function S(e,t){return{type:"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID",payload:{pinItemId:e,blockId:t}}}function P(e,t,n){return{type:"STORY_PIN_ITEM_SET_BACKGROUND_COLOR",payload:{pinDraftId:e,pinItemId:t,backgroundColor:n}}}function E(e,t){return{type:"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE",payload:{pinItemId:e,coverImgSignature:t}}}function k(e,t,n){return{type:"STORY_PIN_ITEM_SET_LAYOUT",payload:{pinDraftId:e,pinItemId:t,layout:n}}}function C(e,t){return{type:"STORY_PIN_ITEM_SET_DOMINANT_COLORS",payload:{pinItemId:e,dominantColors:t}}}function R(e,t,n,i,c,u,d,f){return function(h,b){var m=b().pinbuilder,g=m.pinDrafts,y=m.storyPinItemBlocks,v=m.storyPinItems[t].blockIds.find((function(e){return!!y[e].media}));if(v){var x=g[e].storyPinUploadManager;if(h((0,l.Ny)(e,t,v)),h((0,p.QZ)(e,new Date)),h((0,p.WT)(e)),x){var I=(0,a.FS)(t,v);x.removeMediaUpload(I),h((0,o.Z)(e,[n],void 0,i,f))}else h((0,s.abortPinDraftItemUpload)(e,t)),h((0,r.Z)(e,[n],c,u,d,f))}}}function B(e,t,n,r){return function(o,i){var a=i().pinbuilder.pinDraftIdUploadStatusMap,c="trimmedStartTime"in r,d=h(h({},r),c?{thumbnail:r.trimmedStartTime+u.pz}:{});o((0,l.PF)(e,n,d)),c&&(a[e]&&a[e].items[t]?o((0,s.setPinBuilderPinItemUploadStatus)(e,t,"queueEdit")):o((0,s.addPinBuilderPinDraftItemUpload)(e,t,{status:"queueEdit",xhr:null})))}}function D(e,t,n){return function(r){if(i.Z.enabled("storyPinExpressive")&&n.media){var o=n.media;"localImage"===o.type?r((0,l.Uo)(e,t,(0,c.Z)(),{media:o,edits:(0,d.Nc)(o),type:"story_pin_image_block"},0)):"localVideo"===o.type&&r((0,l.Uo)(e,t,(0,c.Z)(),{media:o,edits:(0,d.Nc)(o),type:"story_pin_video_block"},0)),("localImage"===o.type?(0,d.MW)(o):Promise.resolve([])).then((function(o){return r(O(e,t,h(h({},n),{},{backgroundColor:o.length>0?o[0]:u.Lh,dominantColors:o,media:null})))}))}else r(O(e,t,n))}}},575108:function(e,t,n){"use strict";function r(e,t,n,r,o){return{type:"STORY_PIN_ITEM_ADD_BLOCK",payload:{pinDraftId:e,pinItemId:t,blockId:n,storyPinItemBlock:r,index:o}}}function o(e,t,n){return{type:"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS",payload:{pinDraftId:e,blockId:t,edits:n}}}function i(e,t,n){return{type:"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA",payload:{pinDraftId:e,blockId:t,media:n}}}function a(e,t){return{type:"STORY_PIN_ITEM_BLOCK_SET_PLAYING",payload:{blockId:e,playing:t}}}function c(e,t,n){return{type:"STORY_PIN_ITEM_REMOVE_BLOCK",payload:{pinDraftId:e,pinItemId:t,blockId:n}}}function s(e,t,n){return{type:"STORY_PIN_ITEM_UPDATE_BLOCK",payload:{pinDraftId:e,blockId:t,storyPinItemBlock:n}}}n.d(t,{Uo:function(){return r},_E:function(){return o},PF:function(){return i},gs:function(){return a},Ny:function(){return c},_Z:function(){return s}})},796082:function(e,t,n){"use strict";n.d(t,{dD:function(){return r},Zy:function(){return o},n5:function(){return i},S8:function(){return a},eE:function(){return c}});var r=3,o=3,i=20,a=100,c=75},201300:function(e,t,n){"use strict";n.d(t,{Kh:function(){return d},Lf:function(){return p},Xv:function(){return f},xC:function(){return h},Mq:function(){return b},f9:function(){return m},a$:function(){return g},Gl:function(){return y},MQ:function(){return v},qH:function(){return x},zl:function(){return I}});var r=n(484898),o=n(731164),i=n(549135),a=n(447443),c=n(133769);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){var e,t,n,o,i,a,s,l;return{browser:r.Z.getBrowser(),speedBucket:(0,c.MM)((0,c.Hv)(window.performance.getEntriesByType("resource"),!1)),resourceSpeedBucket:(0,c.MM)((0,c.Hv)(window.performance.getEntriesByType("resource").filter((function(e){return e.name.includes("/resource/")})),!1)),cdnSpeedBucket:(0,c.MM)((0,c.Hv)(window.performance.getEntriesByType("resource").filter((function(e){return e.name.includes(".pinimg.")})),!1)),effectiveType:(null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType)||"unknown",rtt:(null===(n=window.navigator)||void 0===n||null===(o=n.connection)||void 0===o?void 0:o.rtt)||-1,downlink:(null===(i=window.navigator)||void 0===i||null===(a=i.connection)||void 0===a?void 0:a.downlink)||-1,deviceMemory:(null===(s=window.navigator)||void 0===s?void 0:s.deviceMemory)||-1,hardwareConcurrency:(null===(l=window.navigator)||void 0===l?void 0:l.hardwareConcurrency)||-1}}function p(){var e=d(),t=e.browser,n=e.effectiveType;return 1===t&&("2g"===n||"slow-2g"===n)}function f(e){var t=e.fileSizeBytes,n=e.pinDraftId,r=e.storyPageNumber,c=e.uploadId,s=e.storyPinPublishStopwatch,u=t/1024;null==s||s.subspanStart({name:"image_page_upload-".concat(c),parentName:"image_page_publish-".concat(c),bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"totalImageUploadSizeKB",binaryAnnotationValueAndType:(0,a.cC)(u),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"total.size.raw.kilobytes",binaryAnnotationValueAndType:(0,a.cC)(u),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"total.size.exported.kilobytes",binaryAnnotationValueAndType:(0,a.cC)(u),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),(0,i.j)(8780,l({file_size_mb:t/Math.pow(1024,2),media_upload_id:c,story_pin_page_id:r,story_pin_upload_id:n},d())),o.Z.increment("storypin.publish.media_uploads.image.start",1,{file_size_mb:t/Math.pow(1024,2),media_upload_id:c,story_pin_page_id:r,story_pin_upload_id:n})}function h(e){var t=e.fileSizeBytes,n=e.imageSig,r=e.pinDraftId,c=e.storyPageNumber,s=e.uploadId,u=e.uploadTimeSec,p=e.storyPinPublishStopwatch;null==p||p.subspanStop({name:"image_page_upload-".concat(s),bypassIsTimingCheck:!0}),null==p||p.subspanStop({name:"image_page_publish-".concat(s),binaryAnnotations:{"pwt.result":(0,a.jy)(1),"image.signature":(0,a.sk)(s),"image.size.raw.kilobytes":(0,a.cC)(t),"image.size.exported.kilobytes":(0,a.cC)(t)},parentId:p.getTraceId(),bypassIsTimingCheck:!0}),(0,i.j)(8781,l({file_size_mb:t/Math.pow(1024,2),image_signature:n,media_upload_id:s,story_pin_page_id:c,story_pin_upload_id:r,upload_time:u},d())),o.Z.increment("storypin.publish.media_uploads.image.finish",1,{file_size_mb:t/Math.pow(1024,2),media_upload_id:s,story_pin_page_id:c,story_pin_upload_id:r})}function b(e){var t=e.errorMsg,n=e.pinDraftId,r=e.mediaUploadFailureReason,c=e.mediaStatusFailureReason,s=e.uploadId,u=e.fileSizeBytes,p=e.storyPageNumber,f=e.storyPinPublishStopwatch;null==f||f.subspanStop({name:"image_page_upload-".concat(s||""),bypassIsTimingCheck:!0}),null==f||f.subspanStop({name:"image_page_publish-".concat(s||""),binaryAnnotations:{"pwt.result":(0,a.jy)(3),"image.signature":(0,a.sk)(s),"image.size.raw.kilobytes":(0,a.cC)(u),"image.size.exported.kilobytes":(0,a.cC)(u)},bypassIsTimingCheck:!0}),(0,i.j)(8785,l({file_size_mb:u/Math.pow(1024,2),media_upload_id:s,story_pin_page_id:p,story_pin_upload_id:n,error_message:t,media_upload_failure_reason:r,media_status_failure_reason:c},d())),o.Z.increment("storypin.publish.media_uploads.image.failure",1,{file_size_mb:u/Math.pow(1024,2),media_upload_id:s,story_pin_page_id:p,story_pin_upload_id:n,error_message:t,media_upload_failure_reason:r,media_status_failure_reason:c})}function m(e){var t=e.fileSizeBytes,n=e.storyPageNumber,r=e.uploadId,c=e.videoDuration,s=e.storyPinPublishStopwatch,u=t/1024;null==s||s.subspanStart({name:"video_page_upload-".concat(r),parentName:"video_page_publish-".concat(r),bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"totalVideoUploadSizeKB",binaryAnnotationValueAndType:(0,a.cC)(u),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"total.size.raw.kilobytes",binaryAnnotationValueAndType:(0,a.cC)(u),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"total.size.exported.kilobytes",binaryAnnotationValueAndType:(0,a.cC)(u),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),null==s||s.binaryAnnotationOperation({name:"total.video.duration",binaryAnnotationValueAndType:(0,a.cC)(c),operation:function(e,t){return Number(e)+Number(t)},bypassIsTimingCheck:!0}),(0,i.j)(7518,l({file_size_mb:t/Math.pow(1024,2),media_upload_id:r,story_pin_page_id:n,video_duration:c},d())),o.Z.increment("storypin.publish.media_uploads.video.start",1,{file_size_mb:t/Math.pow(1024,2),media_upload_id:r,story_pin_page_id:n})}function g(e){var t=e.amzId2,n=e.amzRequestId,r=e.fileSizeBytes,c=e.statusCode,s=e.storyPageNumber,u=e.uploadId,p=e.uploadTimeSec,f=e.videoDuration,h=e.storyPinPublishStopwatch;null==h||h.subspanStop({name:"video_page_upload-".concat(u),bypassIsTimingCheck:!0}),null==h||h.subspanStop({name:"video_page_publish-".concat(u),binaryAnnotations:{"pwt.result":(0,a.jy)(1),"video.signature":(0,a.sk)(u),"video.size.raw.kilobytes":(0,a.cC)(r),"video.size.exported.kilobytes":(0,a.cC)(r),"video.duration":(0,a.cC)(f)},bypassIsTimingCheck:!0}),(0,i.j)(7519,l({aws_tracking_ids:JSON.stringify([n,t]),file_size_mb:r/Math.pow(1024,2),media_upload_id:u,status_code:c,story_pin_page_id:s,upload_time:p,video_duration:f},d())),o.Z.increment("video_pin_creation.uploading.success",1,{app_type:"web"}),o.Z.increment("storypin.publish.media_uploads.video.finish",1,{file_size_mb:r/Math.pow(1024,2),media_upload_id:u,story_pin_page_id:s})}function y(e){var t=e.fileSizeBytes,n=e.signature,r=e.storyPageNumber,a=e.uploadId,c=e.videoDuration,s=e.storyPinPublishStopwatch;null==s||s.subspanStart({name:"video_processing-".concat(a),parentName:"video_page_publish-".concat(a),bypassIsTimingCheck:!0}),(0,i.j)(8809,l({file_size_mb:t/Math.pow(1024,2),media_upload_id:a,story_pin_page_id:r,video_duration:c,video_signature:n},d())),o.Z.increment("storypin.publish.media_uploads.video.start_processing",1,{file_size_mb:t/Math.pow(1024,2),media_upload_id:a,story_pin_page_id:r})}function v(e){var t=e.fileSizeBytes,n=e.processingTimeSec,r=e.signature,a=e.storyPageNumber,c=e.uploadId,s=e.videoDuration,u=e.storyPinPublishStopwatch;null==u||u.subspanStop({name:"video_processing-".concat(c),bypassIsTimingCheck:!0}),(0,i.j)(7520,l({file_size_mb:t/Math.pow(1024,2),media_upload_id:c,processing_time:n,story_pin_page_id:a,video_duration:s,video_signature:r},d())),(0,i.j)(7521,l({file_size_mb:t/Math.pow(1024,2),media_upload_id:c,story_pin_page_id:a,video_duration:s,video_signature:r},d())),o.Z.increment("storypin.publish.media_uploads.video.finish_processing",1,{file_size_mb:t/Math.pow(1024,2),media_upload_id:c,story_pin_page_id:a})}function x(e){var t=e.errorMessage,n=e.fileSizeBytes,r=e.mediaUploadFailureReason,c=e.storyPageNumber,s=e.uploadId,u=e.videoDuration,p=e.storyPinPublishStopwatch;null==p||p.subspanStop({name:"video_page_upload-".concat(s),bypassIsTimingCheck:!0}),null==p||p.subspanStop({name:"video_page_publish-".concat(s),binaryAnnotations:{"pwt.result":(0,a.jy)(3),"video.signature":(0,a.sk)(s),"video.size.raw.kilobytes":(0,a.cC)(n),"video.size.exported.kilobytes":(0,a.cC)(n),"video.duration":(0,a.cC)(u),reason:(0,a.sk)(r),error_message:(0,a.sk)(t)},bypassIsTimingCheck:!0}),(0,i.j)(8786,l({error_message:t,file_size_mb:n/Math.pow(1024,2),media_upload_failure_reason:r,media_upload_id:s,story_pin_page_id:c,video_duration:u},d())),o.Z.increment("video_pin_creation.uploading.failure",1,{failure_reason:r}),o.Z.increment("storypin.publish.media_uploads.video.fail",1,{file_size_mb:n/Math.pow(1024,2),media_upload_id:s,story_pin_page_id:c,failure_reason:r})}function I(e){return e.preventDefault(),e.returnValue=" "," "}},757839:function(e,t,n){"use strict";n.d(t,{CH:function(){return o},_i:function(){return i},Fe:function(){return a}});var r=[0,2,1];function o(e){var t=e.list_blocks,n=e.key_value_blocks,r=t&&t.length>0?t.map((function(e){var t=e.heading,n=e.blocks;return{heading:t,blocks:(null!=n?n:[]).map((function(e){return{text:e.text?e.text:"",type:9}})),type:7}})):[];return{key_value_blocks:n&&n.length>0?n.map((function(e){return{category_type:e.category_type,type:8,value:e.value}})):[],list_blocks:r}}function i(e){var t=e.list_blocks,n=e.key_value_blocks,r=t&&t.length>0?t.map((function(e){var t=e.heading,n=e.blocks;return{heading:t,items:(null!=n?n:[]).map((function(e){return e.text?e.text:""}))}})):[];return{keyValueBlocks:n&&n.length>0?n.reduce((function(e,t){var n=t.category_type,r=t.value;return e[null!=n?n:""]=r,e}),{}):{},listBlocks:r}}function a(e){var t=e.keyValueBlocks,n=e.listBlocks;return t||n?{list_blocks:n?n.map((function(e){var t=e.heading,n=e.items,r=[];return n&&(r=n.map((function(e){return{text:e,type:9}}))),{blocks:r,heading:t,type:7}})):[],key_value_blocks:(t?Object.keys(t).map((function(e){var n=t[e],o=Number.parseInt(e,10),i=r.indexOf(o)>-1&&n===Number.parseInt(n,10).toString();return n&&i?{value:n,category_type:o,type:8}:null})):[]).filter(Boolean)}:null}},787130:function(e,t,n){"use strict";n.d(t,{gK:function(){return b},TV:function(){return m},is:function(){return g},zA:function(){return y},Mn:function(){return v}});var r=n(612657),o=n(311866),i=n(76535),a=n(479669),c=n(336849),s=n(919850),l=n(887018),u=n(630269);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=e.image_url,n=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o.ZP.create("StoryPinImageUploadResource",{image_url:t}).callCreate().catch((function(){return n<l.g1?e(n+1):Promise.reject(new Error(i.Z.enabled("rename")?"Error uploading image for Idea Pin":"Error uploading image for Story Pin"))}))};return new Promise((function(e,t){n().then((function(t){return e(t.resource_response.data.image_signature)})).catch((function(e){return t(e)}))}))}function b(e,t){var n="string"==typeof e?e:e.src,r=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,u.Ix)(n,t).catch((function(t){return r<l.g1?e(r+1):Promise.reject(t)}))};return new Promise((function(e,t){r().then((function(t){return h(t).then((function(t){return e(t)}))})).catch((function(e){return t(e)}))}))}function m(e,t,n){return new Promise((function(r,o){if(e.startsWith("data")){var i=(0,u.Mi)(e);(0,u.GV)(i,"image-story-pin",{onFailureUpload:function(e){e.failureReason;var r=e.fileSizeBytes,o=(e.message,e.uploadId);return function(e){var t=e.fileSizeBytes,n=e.pinDraftId,r=e.storyPageNumber,o=e.uploadId;(0,a.Z)(8785,{file_size_mb:t/Math.pow(1024,2),media_upload_id:o,story_pin_page_id:r,story_pin_upload_id:n})}({fileSizeBytes:r,pinDraftId:t,storyPageNumber:n,uploadId:o})},onFinishProcessing:function(e){var r=e.fileSizeBytes,o=e.processingTime,i=e.signature,c=e.uploadId,s=e.uploadTime;return function(e){var t=e.fileSizeBytes,n=e.imageSig,r=e.pinDraftId,o=e.storyPageNumber,i=e.uploadId,c=e.uploadTimeSec;(0,a.Z)(8781,{file_size_mb:t/Math.pow(1024,2),image_signature:n,media_upload_id:i,story_pin_page_id:o,story_pin_upload_id:r,upload_time:c})}({fileSizeBytes:r,imageSig:i,pinDraftId:t,storyPageNumber:n,uploadId:c,uploadTimeSec:s+o})},onStartUpload:function(e){var r=e.fileSizeBytes,o=e.uploadId;return function(e){var t=e.fileSizeBytes,n=e.pinDraftId,r=e.storyPageNumber,o=e.uploadId;(0,a.Z)(8780,{file_size_mb:t/Math.pow(1024,2),media_upload_id:o,story_pin_page_id:r,story_pin_upload_id:n})}({fileSizeBytes:r,pinDraftId:t,storyPageNumber:n,uploadId:o})}}).then((function(e){var t=e.signature,n=e.uploadId;return r({uploadId:n,signature:t||""})})).catch((function(e){o(e)}))}else o(new Error("Image must be of b64 format"))}))}function g(e,t,n,r,o){return(0,c.fu)(e,t,o).then((function(e){return m(e.src,n,r)}))}function y(e,t,n,r,o){var i=e.find((function(e){return!!e.media&&["localImage","localVideo"].includes(e.media.type)})),a=i||{},l=a.edits,d=a.media;if(!i||!d)return Promise.resolve({signature:"",uploadId:""});var f=e.find((function(e){return"story_pin_paragraph_block"===e.type})),h=f?p(p({},f),{},{font:n.find((function(e){var t;return e.id===String(null===(t=f.style)||void 0===t?void 0:t.font_id)}))||n[0]}):void 0;return new Promise((function(e){"localVideo"===d.type?(0,s.v)(d,d.thumbnail||0).then((function(t){e({height:d.height,id:"".concat(d.id,"-").concat(d.thumbnail),name:"".concat(d.name,"-coverImg"),size:(0,u.Mi)(t).size,src:t,type:"localImage",width:d.width})})):"localImage"===d.type&&e(d)})).then((function(e){return(0,c.fu)(e,l,o,h,t,!0)})).then((function(e){return m(e.src,r,0)}))}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n,i){var a=e.linkBlock,c=a.imageUrl;o.ZP.create("StoryPinImageUploadResource",{image_url:c}).callCreate().then((function(e){return e.resource_response.data.image_signature})).catch((function(){return t<l.g1?v(e,t+1):(r.default.logToServer(r.default.SERVER_LOG_TYPE.ERROR,r.default.HTTP_METHOD.POST,{errorObj:{name:"React PinBuilder Resource Error",message:"Error uploading Link Box image for Story Pin"},auxData:{imageUrl:c}}),"")})).then((function(e){n(p(p({},a),{},{imageSignature:e}))}))}))}},336849:function(e,t,n){"use strict";n.d(t,{Zb:function(){return p},uJ:function(){return b},ng:function(){return m},fu:function(){return g}});var r=n(649170),o=n(630269),i=n(956054),a=n(297583),c=n(887018);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=[],o=e.title,i=e.description,a=e.linkBlock,s=0===t;o&&n.push({type:1,level:1,text:o.substring(0,c.Ke),style:{color:1}}),i&&!s&&n.push({type:0,text:i.substring(0,c.JO),style:{color:1}});var l=a.canonicalUrl,u=a.srcUrl;return a&&l&&u&&!s&&n.push({type:4,text:a.text,canonical_url:a.canonicalUrl,src_url:(0,r.Z)({url:a.srcUrl}),image_signature:a.imageSignature}),n}function p(e,t){var n,r,o,i,a;return["localImage","webImage"].includes(null===(n=e.media)||void 0===n?void 0:n.type)&&null!==(r=e.media)&&void 0!==r&&r.signature?a={image_signature:e.media.signature}:["localVideo","webVideo"].includes(null===(o=e.media)||void 0===o?void 0:o.type)&&null!==(i=e.media)&&void 0!==i&&i.signature&&(a={video_signature:e.media.signature}),l({blocks:d(e,t),layout:0===t?0:1},a)}function f(e,t,n,r,o){var i,c,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=e.left<0&&!s?0:e.left,u=e.top<0&&!s?0:e.top;return s?(i=n*e.scale,c=t*e.scale):(i=e.left<0?Math.min(n*e.scale+e.left,o):Math.min(o-e.left,n*e.scale),c=e.top<0?Math.min(t*e.scale+e.top,r):Math.min(r-e.top,t*e.scale)),{height:c/a.U*100,width:i/a.q8*100,x_coord:l/a.q8*100,y_coord:u/a.U*100}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];return e.forEach((function(e){var o,i,c,s,u;switch(e.type){case"story_pin_image_block":var d,p,h,b=n?null===(o=e.media)||void 0===o?void 0:o.signature:(null===(i=e.media)||void 0===i?void 0:i.signatureEdited)||(null===(c=e.media)||void 0===c?void 0:c.signature);if(b)r.push({block_style:f(e.edits,(null===(d=e.media)||void 0===d?void 0:d.height)||0,(null===(p=e.media)||void 0===p?void 0:p.width)||0,3===t?a.U/2:a.U,a.q8,n),image_signature:b,tracking_id:"localImage"===(null===(h=e.media)||void 0===h?void 0:h.type)?e.media.uploadId:void 0,type:2});break;case"story_pin_video_block":var m,g,y,v=(null===(s=e.media)||void 0===s?void 0:s.signatureEdited)||(null===(u=e.media)||void 0===u?void 0:u.signature);if(v)r.push({block_style:f(e.edits,(null===(m=e.media)||void 0===m?void 0:m.height)||0,(null===(g=e.media)||void 0===g?void 0:g.width)||0,3===t?a.U/2:a.U,a.q8,!0),tracking_id:"localVideo"===(null===(y=e.media)||void 0===y?void 0:y.type)?e.media.uploadId:void 0,video_signature:v,type:3});break;case"story_pin_paragraph_block":(n||e.text)&&r.push({block_style:e.blockStyle,style:l(l({},e.style),{},{vertical_alignment:0}),text:e.text,type:0});break;case"story_pin_heading_block":(n||e.text)&&r.push({block_style:e.blockStyle,style:l(l({},e.style),{},{vertical_alignment:0}),text:e.text,type:1})}})),r}function b(e,t){var n=e.layout;return null!=n?{blocks:h(t,n,!0),layout:n,style:{background_color:e.backgroundColor}}:null}function m(e,t,n){var r=e.layout;return t&&t.length&&null!=r?{blocks:h(t,r),layout:0===n?0:r,style:{background_color:e.backgroundColor}}:null}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return new Promise((function(l,u){var d=(0,i.ix)(t,e.height,e.width,n,!!s),p=document.createElement("canvas"),f=p.getContext("2d"),h=-1===t.transform.scaleX,b=-1===t.transform.scaleY;p.height=d.fullCanvasHeight,p.width=d.fullCanvasWidth,r&&c&&(f.beginPath(),f.rect(0,0,d.fullCanvasWidth,d.fullCanvasHeight),f.fillStyle=c,f.fill()),f.save();var m=document.createElement("img");m.onload=function(){if(f.scale(t.transform.scaleX,t.transform.scaleY),f.drawImage(m,d.image.x,d.image.y,d.image.width,d.image.height,h?-1*(d.canvas.x+d.image.width):d.canvas.x,b?-1*(d.canvas.y+d.image.height):d.canvas.y,d.canvas.width,d.canvas.height),f.restore(),r&&r.style&&r.blockStyle&&r.font){var n,c=r.font,s=r.text,u=r.blockStyle,g=u.width,y=void 0===g?100:g,v=u.x_coord,x=void 0===v?0:v,I=u.y_coord,w=void 0===I?0:I,_=r.style,j=_.alignment,O=void 0===j?0:j,A=_.font_size,S=_.hex_color,P=_.highlight_color,E=void 0===P?null:P,k=null!=A?A:24,C=null!=S?S:"#FFFFFF";f.font="".concat(k,"px ").concat(null!==(n=c.fontFamily)&&void 0!==n?n:"");var R=(0,i.Nq)(s,a.q8*(y/100),f);if(R.length){var B,D,T=d.fullCanvasWidth/a.q8;f.font="".concat(k*T,"px ").concat(null!==(B=c.fontFamily)&&void 0!==B?B:""),f.textAlign=0===O?"left":"center",f.textBaseline="top";var J=0===O?x/100*a.q8*T:x/100*a.q8*T+y/100*a.q8*T/2,V=k*T*Math.max((null===(D=c.fontOverrides)||void 0===D?void 0:D.lineHeight)||1.1),M=w/100*d.fullCanvasHeight+(V-k*T);if(E){var F=M;R.forEach((function(e){var t=k*T,n=0===O?J:J-e.width/2*T,r=.05*t,o=.2*t;e.text&&e.text.length>0&&(0,i.Zy)(f,n-o,F-r,e.width*T+2*o,t+2*r,5,E),F+=V}))}f.fillStyle=C,"#ffffff"===C.toLowerCase()&&(f.shadowColor="rgba(0, 0, 0, 0.2)",f.shadowOffsetY=1,f.shadowBlur=4),R.forEach((function(e){f.fillText(e.text,J,M),M+=V}))}}var N=p.toDataURL();l({height:p.height,id:e.id,name:e.name,size:(0,o.Mi)(N).size,src:N,type:"localImage",width:p.width})},m.src=e.src}))}},432921:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(965035),o=n(174523),i=n(218265),a=n(80209);function c(e){var t=e.duration,n=(0,o.ZP)();return(0,a.jsxs)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(i.JO,{accessibilityLabel:n._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xv,{color:"white",size:"sm",lineClamp:1,children:(0,r.Z)(t)})})]})}},852474:function(e,t,n){"use strict";n.d(t,{t:function(){return o},Z:function(){return i}});var r=function(){var e,t,n,r,o="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,i=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return o?"4g"===o?n="40-80":(i="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:i}};function o(e){var t=r(),n=t.downloadSpeedGroup,o=t.screenDimension,i={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:i,"0-1":i,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[n][o]||e.V_720P||void 0}function i(e){var t=e.video_list,n=void 0===t?{}:t,r=o(n),i=n.V_HLSV3_MOBILE||void 0;return r?{hlsv3:i,mp4:r}:{hlsv3:i}}},406397:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(192522),a=n(505343),c=n(585967),s=n(731164);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,i.P1)((function(e){return e.experiences}),(function(e,t){return t}),(function(e,t){return e[t]})),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.Z.increment("".concat(e,".").concat(t),1,n)},m=function(e,t){return"function"==typeof t?t(e):t};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,r.useReducer)(m,t),s=p(i,2),l=s[0],d=s[1],f=(0,c.B)(),g=f.isBot,y=(0,a.M)(),v=y.fetchExperienceForPlacements,x=y.mountPlacement,I=y.triggerExperimentsForPlacement,w=y.unmountPlacement;(0,r.useDebugValue)("Placement Hook ID - ".concat(e)),(0,r.useEffect)((function(){var t=Object.assign({},l),r=n&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return x(e,t,r),function(){w(e)}}),[]),(0,r.useEffect)((function(){v([e],g,l)}),[l]);var _=(0,o.useSelector)((function(t){return h(t,e)})),j=(0,o.useSelector)((function(t){return null==t?void 0:t.experiencesMulti[e]})),O=_?_.triggerable_placed_exps:[];(0,r.useEffect)((function(){var t=u({platform:"web",placement_id:e},O);b("experienceservice","placementHookExperimentTrigger.1",t),I(e,l)}),[JSON.stringify(O)]);var A={experience:_,experiencesMulti:j,setExtraContext:d};return A}},569716:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(454690),o=n(155656),i=n(581966),a=n(174523),c=n(635691),s=n(218265),l=n(80209);function u(e){var t=e.color,n=e.completeButtonText,u=e.completeUrl,d=e.dismissButtonText,p=e.experienceId,f=e.external,h=e.message,b=e.onComplete,m=e.onDismiss,g=e.onRender,y=(0,a.ZP)();g&&g();var v=function(e){var t=e.event;10202===p&&c.Z.instance().subscribe(),b&&b(t)},x=function(e){var t=e.event;r.Z.trackEvent("nag","click_close"),m&&m(t)},I=h&&!n,w=500735===p,_=n&&(!u||w)&&(0,l.jsx)(s.zx,{color:"white",onClick:v,text:n}),j=n&&u&&(0,l.jsx)(i.Z,{accessibilityLabel:n,rounding:6,url:u,onClick:function(e){return v({event:e})},external:f,children:(0,l.jsx)(s.xu,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:(0,l.jsx)(s.xv,{align:"center",color:t,weight:"bold",children:n})})},"naglink"),O=d&&m&&(0,l.jsx)(s.xu,{mdPaddingX:2,children:(0,l.jsx)(s.zx,{color:t&&"darkGray"!==t?"transparent":"gray",onClick:x,text:d})}),A=I&&!w&&m&&(0,l.jsx)(s.hU,{accessibilityLabel:y._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:x,icon:"cancel"});return(0,l.jsxs)(s.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=t?t:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.xu,{column:12,smColumn:I?11:8,children:(0,l.jsxs)(s.xv,{color:"white",weight:w?"normal":"bold",children:[(0,l.jsx)(o.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,l.jsx)("div",{className:"Banner--message",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"end",children:[O,_||j,A]})]})}},52620:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(793550),o=n(218265),i=n(80209);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,r,a=u(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=a.call.apply(a,[this].concat(n))),"state",{hovered:!1}),h(p(e),"handleMouseEnter",(function(){return e.setState({hovered:!0})})),h(p(e),"handleMouseLeave",(function(){return e.setState({hovered:!1})})),e}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=e.bold,n=e.icon,r=e.text,a=e.description,c=e.descriptionColor,s=void 0===c?"darkGray":c,l=e.compact,u=Array.isArray(r)?r.join(""):r;return(0,i.jsx)(o.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,i.jsxs)(o.xu,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:u,children:[!l&&n&&(0,i.jsx)(o.xu,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===n?(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:b,size:16}):(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"darkGray",icon:n,size:16})}),(0,i.jsxs)(o.xu,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[(0,i.jsx)(o.xv,{color:"darkGray",size:l?"sm":"md",weight:t?"bold":"normal",children:r}),(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:!l&&a&&(0,i.jsx)(o.xu,{marginBottom:2,marginTop:1,children:(0,i.jsx)(o.xv,{color:s,overflow:"normal",size:"sm",children:a})})})]})]})})}}])&&s(t.prototype,n),r&&s(t,r),d}(r.PureComponent);h(m,"defaultProps",{bold:!0})},482452:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(904192),o=n(535718),i=n(181307),a=n(174523),c=n(218265),s=n(80209);function l(e){var t=e.pinId,n=(0,a.ZP)(),r=(0,o.Z)({name:"PinResource",options:{id:t,field_set_key:"detailed"}}).data,l=r&&r.story_pin_data?r.story_pin_data.page_count:null,u=(0,i.tc)("web_sp2s")().anyEnabled;return(0,s.jsxs)(c.kC,{alignItems:"center",height:20,justifyContent:"start",children:[(0,s.jsx)(c.JO,{dangerouslySetSvgPath:{__path:"M21,17.6119404 L21,9.15332448 C21,7.0136795 20.7772185,6.23779253 20.3588815,5.45557032 C19.9405445,4.67334809 19.3266519,4.05945552 18.5444297,3.64111848 C17.7622075,3.22278146 16.9863205,3 14.8466755,3 L6.3880595,3 C6.46224202,2.80834445 6.54669936,2.63211874 6.64111848,2.45557032 C7.05945552,1.67334809 7.67334809,1.05945552 8.45557032,0.64111848 C9.23779253,0.222781464 10.0136795,0 12.1533245,0 L17.8466755,0 C19.9863205,0 20.7622075,0.222781464 21.5444297,0.64111848 C22.3266519,1.05945552 22.9405445,1.67334809 23.3588815,2.45557032 C23.7772185,3.23779253 24,4.0136795 24,6.15332448 L24,11.8466755 C24,13.9863205 23.7772185,14.7622075 23.3588815,15.5444297 C22.9405445,16.3266519 22.3266519,16.9405445 21.5444297,17.3588815 C21.3678813,17.4533006 21.1916556,17.5377581 21,17.6119404 Z M6.15332448,6 L11.8466755,6 C13.9863205,6 14.7622075,6.22278146 15.5444297,6.64111848 C16.3266519,7.05945552 16.9405445,7.67334809 17.3588815,8.45557032 C17.7772185,9.23779253 18,10.0136795 18,12.1533245 L18,17.8466755 C18,19.9863204 17.7772185,20.7622075 17.3588815,21.5444297 C16.9405445,22.3266518 16.3266519,22.9405445 15.5444297,23.3588815 C14.7622075,23.7772186 13.9863205,24 11.8466755,24 L6.15332448,24 C4.0136795,24 3.23779253,23.7772186 2.45557032,23.3588815 C1.67334809,22.9405445 1.05945551,22.3266518 0.64111849,21.5444297 C0.222781467,20.7622075 0,19.9863204 0,17.8466755 L0,12.1533245 C0,10.0136795 0.222781467,9.23779253 0.64111849,8.45557032 C1.05945551,7.67334809 1.67334809,7.05945552 2.45557032,6.64111848 C3.23779253,6.22278146 4.0136795,6 6.15332448,6 Z"},accessibilityLabel:u?n._("Idea Pin Icon","legacyPinTypeIdentifier.ideaPinAccessibilityLabel","Icon indicating this Pin is an Idea Pin"):n._("Story Pin Icon","Icon indicating this Pin is a story","Icon indicating this Pin is a story"),size:12,color:"darkGray"}),l&&(0,s.jsx)(c.xu,{marginStart:1,children:(0,s.jsx)(c.xv,{inline:!0,size:"sm",weight:"bold",children:l})})]})}function u(e){var t=e.color,n=void 0===t?"#333":t,r=e.height,o=14*r/10;return(0,s.jsx)("svg",{width:o,height:r,viewBox:"3 3 18 18",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fill:n,d:"M20.571 8.573h-3.428V12h1.714v1.715h-1.714v3.428h-1.714V6.86h5.142v1.714zM12 17.144V6.86h1.714v10.285H12zm-1.714-8.571H5.143v6.857H8.57v-1.714H6.857V12h3.429v5.143H3.429V6.86h6.857v1.714zM5.143 3.43A5.143 5.143 0 0 0 0 8.573v6.857a5.143 5.143 0 0 0 5.143 5.143h13.714A5.143 5.143 0 0 0 24 15.43V8.573a5.143 5.143 0 0 0-5.143-5.143H5.143z"})})}var d={__path:"M6 5h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm8 0h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm0 8h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1z"},p=function(e,t,n){switch(e){case"arrow-up-right":return n._("Promoted Pin","Icon indicating this Pin is promoted","Icon indicating this Pin is promoted");case"play":return n._("Video Pin","Icon indicating this Pin is a video","Icon indicating this Pin is a video");case"gif":return n._("GIF Pin","Icon indicating this Pin is a GIF","Icon indicating this Pin is a GIF");case"tag":return n._("Product Pin","Icon indicating this Pin is a product","Icon indicating this Pin is a product");case"star":return n._("Recipe Pin","Icon indicating this Pin is a recipe","Icon indicating this Pin is a recipe");case"story-pin":return t?n._("Idea Pin","legacyPinTypeIdentifier.getLabel.ideaPinLabel","Icon indicating this Pin is an Idea Pin"):n._("Story Pin","Icon indicating this Pin is a story","Icon indicating this Pin is a story");case"collage":return n._("Collage Pin","Icon indicating this Pin is a collage","Icon indicating this Pin is a collage");default:return""}};function f(e){var t,n=e.max_rating,o=e.icon,f=e.text,h=e.rating,b=e.pinId,m=(0,a.ZP)(),g=(0,i.tc)("web_sp2s")({dangerouslySkipActivation:!0}).anyEnabled;if(o)switch(o){case"star":t=(0,s.jsx)(r.Z,{rating:h||"",max_rating:n,width:10});break;case"gif":t=(0,s.jsx)(u,{height:10,color:"#333"});break;case"story-pin":t=(0,s.jsx)(l,{pinId:b||""});break;default:t=(0,s.jsx)(c.xu,{display:"flex",alignItems:"center",marginEnd:1,children:(0,s.jsx)(c.JO,{dangerouslySetSvgPath:"collage"===o?d:void 0,icon:"collage"===o?void 0:o,accessibilityLabel:p(o,g,m),color:"darkGray",size:10,inline:!0})})}return(0,s.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[t,f&&(0,s.jsx)(c.xu,{marginStart:1,children:(0,s.jsx)(c.xv,{inline:!0,size:"md",children:f.trim().substring(0,25)})})]})}},59737:function(e,t,n){"use strict";n.d(t,{EP:function(){return o},u7:function(){return i},RQ:function(){return a}});var r=(0,n(762803)._D)("legacyServerContext"),o=r.Provider,i=r.useHook,a=r.HOC},383268:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(793550),o=n(218265),i=n(80209);function a(e){var t=e.accessibilityLabel,n=e.arrowOnly,r=void 0!==n&&n,a=e.direction,c=e.isOpaque,s=e.marginEnd,l=e.marginStart,u=e.padding,d=e.onClick,p=e.show,f="back"===a;return(0,i.jsx)(o.xu,{position:"absolute",left:f,right:!f,top:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:c?void 0:"linear-gradient(to ".concat(f?"left":"right",", transparent 0%, #fff 90%)"),left:null!=u?u:void 0}},marginEnd:s,marginStart:l,children:(0,i.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:p&&(0,i.jsx)(o.hU,{accessibilityLabel:t,bgColor:r?"transparent":"white",icon:f?"arrow-back":"arrow-forward",iconColor:"darkGray",onClick:d,size:"lg"})})})}var c=n(753522);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=150,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(f,e);var t,n,r,s=p(f);function f(){var e;l(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=s.call.apply(s,[this].concat(n))),"state",{hasLoggedScroll:!1,showBack:!1,showForward:!1}),m(h(e),"saveScrollBarRef",(function(t){e.scrollbar=t})),m(h(e),"refreshArrows",(function(){var t=e.state,n=t.showBack,r=t.showForward;if(e.scrollbar){var o=e.scrollbar,i=o.offsetWidth,a=o.scrollLeft,c=a>0,s=a+i<o.scrollWidth;c===n&&s===r||e.setState({showBack:c,showForward:s})}})),m(h(e),"scroll",(function(t){var n=e.props.logScroll;e.scrollbar&&0!==t&&(n&&!e.state.hasLoggedScroll&&(n(),e.setState({hasLoggedScroll:!0})),e.scrollAnimationManager&&e.scrollAnimationManager.cancel(),e.scrollAnimationManager=(0,c.F$)(e.scrollbar,t,0,{onAnimationComplete:function(){e.refreshArrows(),e.scrollAnimationManager=null}}),e.scrollAnimationManager.start())})),m(h(e),"handleResizeOrScroll",(function(){return e.refreshArrows()})),m(h(e),"handleBackArrowClick",(function(){e.scrollbar&&e.scroll(-150)})),m(h(e),"handleForwardArrowClick",(function(){e.scrollbar&&e.scroll(g)})),e}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.hideArrows||(window.addEventListener("resize",this.handleResizeOrScroll),this.refreshArrows())}},{key:"componentWillUnmount",value:function(){this.props.hideArrows||window.removeEventListener("resize",this.handleResizeOrScroll)}},{key:"render",value:function(){var e=this.props,t=e.accessibilityBackLabel,n=e.accessibilityForwardLabel,r=e.arrowOnly,c=void 0!==r&&r,s=e.columnWidth,l=e.gutterWidth,u=e.hideScrollbar,d=e.items,p=e.marginEnd,f=e.marginStart,h=e.paddingY,b=this.state,m=b.showBack,g=b.showForward;return(0,i.jsxs)("div",{className:"ShopCarousel-OuterScrollContainer",style:{position:"relative",width:s,background:"white"},children:[(0,i.jsx)("div",{onScroll:this.handleResizeOrScroll,id:"InnerScrollContainer",ref:this.saveScrollBarRef,className:"ShopCarousel-InnerScrollContainer",style:{__style:{overflowX:u?"hidden":"auto",cursor:"default"}},children:(0,i.jsx)(o.xu,{display:"flex",position:"relative",paddingY:h,children:d.map((function(e,t){var n={__style:{marginRight:t===d.length-1?0:l}};return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:n,children:e},t)}))})}),m&&(0,i.jsx)(a,{accessibilityLabel:t,arrowOnly:c,direction:"back",isOpaque:!0,marginStart:f,onClick:this.handleBackArrowClick,show:!0}),g&&(0,i.jsx)(a,{accessibilityLabel:n,arrowOnly:c,direction:"forward",isOpaque:!0,onClick:this.handleForwardArrowClick,marginEnd:p,show:!0})]})}}])&&u(t.prototype,n),r&&u(t,r),f}(r.Component)},163880:function(e,t,n){"use strict";n.d(t,{OA:function(){return s},pS:function(){return l},q1:function(){return u},Jn:function(){return d},Cf:function(){return f},xx:function(){return b}});var r=n(454690),o=n(311866);function i(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}var c="collaborator_approve_invite";function s(e,t){return o.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function l(e,t){return o.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function u(e,t){return function(n){return o.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then((function(){r.Z.trackEvent(c,"success")})).catch((function(){return r.Z.trackEvent(c,"error")}))}}function d(e,t,n){return function(t){var r=e.invited_user,i=e.status,a=e.board.id;return o.ZP.create("accepted"===i?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:r.id}).callDelete({showError:!1})}}function p(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}function f(e,t){return function(){var n=a(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.ZP.create("ApiResource",{url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),data:{collaborator:t}}).callCreate();case 2:r(p(e,t));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function h(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}function b(e,t){return function(){var n=a(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.ZP.create("ApiResource",{url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),data:{collaborator:t}}).callDelete();case 2:r(h(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},108301:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},f:function(){return s}});var r=n(454690),o=n(311866);function i(e){return o.ZP.create("BoardFollowResource",{board_id:e})}function a(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function c(e){var t="board-follow";return function(n){i(e).callCreate().then((function(){r.Z.trackEvent(t,"success")})).catch((function(){r.Z.trackEvent(t,"error"),n(a(e,!1))})),n(a(e,!0))}}function s(e){var t="board-unfollow";return function(n){i(e).callDelete().then((function(){r.Z.trackEvent(t,"success")})).catch((function(){r.Z.trackEvent(t,"error"),n(a(e,!0))})),n(a(e,!1))}}},40197:function(e,t,n){"use strict";n.d(t,{oG:function(){return o},xQ:function(){return i},Br:function(){return a},A8:function(){return c},Cr:function(){return s},ZP:function(){return l}});var r=n(357846),o=function(e,t){return function(n){return n((0,r.U2)("BoardResource",{options:{board_id:e,field_set_key:t}}))}},i=function(e){return o(e,"pin_count")},a=function(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}},c=function(e){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}},s=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},l=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}}},164756:function(e,t,n){"use strict";n.d(t,{Tq:function(){return g},oL:function(){return y},K8:function(){return v},aX:function(){return x},yT:function(){return I},wN:function(){return w},L1:function(){return j},Ss:function(){return O},xk:function(){return A},YV:function(){return S},xH:function(){return P},Fi:function(){return E}});var r=n(454690),o=n(711349),i=n(311866),a=n(153155),c=n(613330),s=n(357846),l=n(273341),u=n(101691);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h="board_create",b="board_delete",m="board_edit";function g(e,t){return(0,s.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function v(e){return function(t){e&&(0,l.Q2)(e).forEach((function(e){t(e)}))}}function x(e,t,n){var o=p({},e);return function(c){return c({type:"BOARD_CREATE",payload:{board:e}}),i.ZP.create("BoardResource",o).callCreate().then((function(e){r.Z.trackEvent(h,"success");var i=e.resource_response.data;return i&&(c(v(n)),null!=t&&t.isFBC||c(y(o,i)),c((0,a.Y)(i.owner.id))),i})).catch((function(e){throw r.Z.trackEvent(h,"error"),e}))}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function w(e,t){return function(n){var o=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},a=p(p({board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations},t?{orbac_subject_id:t}:Object.freeze({})),o);return n({type:"BOARD_UPDATE",payload:{boardUpdateOptions:a}}),i.ZP.create("BoardResource",a).callUpdate().then((function(t){r.Z.trackEvent(m,"success");var o=t&&t.resource_response&&t.resource_response.data||e;n(I(a,o))})).catch((function(e){throw r.Z.trackEvent(m,"error"),e}))}}function _(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function j(e,t){return function(n,o){var a,c=o().boards.content[e],s=c.pin_count,l=(null!==(a=c.owner)&&void 0!==a?a:{}).id,d=void 0===l?"":l;return n({type:"BOARD_DELETE",payload:{boardId:e}}),i.ZP.create("BoardResource",p({board_id:e},t?{orbac_subject_id:t}:Object.freeze({}))).callDelete().then((function(){r.Z.trackEvent(b,"error"),n(_(e)),n((0,u.JS)({userId:d,increment:"number"==typeof s?-s:0}))})).catch((function(e){throw r.Z.trackEvent(b,"error"),e}))}}function O(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function A(e){return function(t){return t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate()}}function S(e){return function(t){return t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.ZP.create("BoardArchiveResource",{boardId:e}).callDelete()}}function P(e,t){return function(n){return i.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((function(){return Promise.all([n(_(e)),n(g(t,"pin_count")),n((0,o.Z)(c.DV.BOARD_SECTIONS,t))])}))}}function E(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},317485:function(e,t,n){"use strict";function r(e,t){var n="SET_PERSONALIZATION_COOKIES";return"analytic"===e?n="SET_ANALYTICS_COOKIES":"marketing"===e&&(n="SET_MARKETING_COOKIES"),{type:n,payload:{value:t}}}function o(){return{type:"ALLOW_ALL_COOKIES"}}function i(){return{type:"REJECT_ALL_COOKIES"}}n.d(t,{c_:function(){return r},YU:function(){return o},XM:function(){return i}})},711349:function(e,t,n){"use strict";function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{Z:function(){return r}})},578429:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,{Z:function(){return r}})},411221:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,{Z:function(){return r}})},742979:function(e,t,n){"use strict";n.d(t,{Z:function(){return b},S:function(){return h}});var r=n(646942),o=n(711349),i=n(578429),a=n(411221),c=n(311866),s=n(164756),l=n(613330),u=n(627578);var d=function(e){return function(t){u.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._("Please wait until the previous board action finishes."," - "," -- ");default:return e.message}}(t,e))}},p=function(e){return(0,o.Z)(e.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,e.sectionId||e.boardId)};function f(e,t){var n=e.source,o=e.target;o.boardId!==n.boardId?(t((0,s.Tq)(n.boardId,"pin_count")),t((0,s.Tq)(o.boardId,"pin_count"))):n.sectionId&&o.sectionId||t((0,s.Tq)(o.boardId,"pin_count")),n.sectionId&&t((0,r.Z)(n.sectionId)),o.sectionId&&t((0,r.Z)(o.sectionId))}function h(e){return function(t){var n=e.selectedPinIds,r=e.source,o=e.target;t((0,a.Z)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:n,itemType:"pin"})),t((0,i.Z)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:n,itemType:"pin"})),f(e,t)}}function b(e,t){return function(n){return function(e,t,n){var r=e.inverseSelection,o=e.selectedPinIds,s=e.source,u=e.target;if(s.boardId===u.boardId&&(s.sectionId||null)===(u.sectionId||null))return Promise.reject();if(r){var f={board_id:s.boardId,new_board_id:u.boardId,old_section_id:s.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:o};return c.ZP.create("BulkEditSelectAllResource",f).callUpdate({showError:!1}).then((function(){return Promise.all([t(p(s)),t(p(u))])})).catch(d(n))}var h=function(e,n){t((0,a.Z)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:o,itemType:"pin"})),t((0,i.Z)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:o,itemType:"pin"}))};h(s,u);var b=function(){return h(u,s)};if(u.boardId===s.boardId){if(u.sectionId){var m={section_id:u.sectionId,pins:o};return c.ZP.create("BoardSectionEditResource",m).callUpdate({showError:!1}).catch((function(e){b(),d(n)(e)}))}var g={section_id:s.sectionId,pins:o};return c.ZP.create("BoardSectionPinsResource",g).callDelete({showError:!1}).catch((function(e){b(),d(n)(e)}))}var y={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:o};return c.ZP.create("BulkEditResource",y).callUpdate({showError:!1}).catch((function(e){b(),d(n)(e)}))}(e,n,t).then((function(){return f(e,n)}))}}},224982:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,{Z:function(){return r}})},698602:function(e,t,n){"use strict";function r(e,t,n,r){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:r}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function i(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function s(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function l(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{NA:function(){return r},I1:function(){return o},ZP:function(){return i},Ib:function(){return a},i0:function(){return c},b9:function(){return s},yj:function(){return l}})},983441:function(e,t,n){"use strict";function r(e,t,n){return{type:"PIN_BUILDER_ADD_PIN_DRAFT",payload:{pinDraftId:e,pinDraft:t,options:n}}}n.d(t,{Z:function(){return r}})},545840:function(e,t,n){"use strict";function r(e,t,n,r){return{type:"PIN_DRAFT_ADD_PIN_ITEM",payload:{pinDraftId:e,pinItemId:t,pinItem:n,options:r}}}n.d(t,{Z:function(){return r}})},83235:function(e,t,n){"use strict";function r(e,t,n){return{type:"PIN_ITEM_ADD_PIN_TAG",payload:{pinItemId:e,pinTagId:t,pinTag:n}}}n.d(t,{Z:function(){return r}})},167646:function(e,t,n){"use strict";function r(e,t,n){return{type:"PIN_TAG_ADD_TAGGED_OBJECT",payload:{pinTagId:e,taggedObjectId:t,taggedObject:n}}}n.d(t,{Z:function(){return r}})},628594:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(983441),o=n(545840),i=n(398843),a=n(881531),c=n(981444);function s(e,t,n,s){return function(l){if(!t||!t.pinItemIds){var u=(0,c.Z)();l((t&&"story"===t.type?i.Z:o.Z)(e,u))}"story"===(null==t?void 0:t.type)&&l((0,a.Z)(e,n,s)),l((0,r.Z)(e,t))}}},945596:function(e,t,n){"use strict";function r(e){return{type:"PIN_BUILDER_REMOVE_PIN_DRAFT_ID",payload:{pinDraftId:e}}}n.d(t,{Z:function(){return r}})},153155:function(e,t,n){"use strict";n.d(t,{W:function(){return o},Y:function(){return i}});var r=n(311866);function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function i(e){return function(t){return r.ZP.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then((function(e){var n,r=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(r.save_behavior))}))}}},194099:function(e,t,n){"use strict";n.d(t,{Tn:function(){return s},TX:function(){return l},hg:function(){return u}});var r=n(311866),o=n(101691);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return{type:"SCHEDULED_PIN_CREATE_COMPLETE",payload:{scheduledPin:e}}}function l(e,t,n){return function(i){return i(function(e){return{type:"SCHEDULED_PIN_DELETE_COMPLETE",payload:{scheduledPinId:e}}}(e)),i((0,o.h6)({userId:t,increment:-1})),r.ZP.create("ScheduledPinResource",a({scheduled_pin_id:e},n?{orbac_subject_id:n}:{})).callDelete()}}function u(e,t,n){return function(i){return i(function(e){return{type:"SCHEDULED_PIN_PUBLISH_COMPLETE",payload:{scheduledPinId:e}}}(e)),i((0,o.h6)({userId:t,increment:-1})),r.ZP.create("ScheduledPinResource",a({method:"publish",scheduled_pin_id:e},n?{orbac_subject_id:n}:{})).callCreate()}}},234316:function(e,t,n){"use strict";n.d(t,{h:function(){return p},Z:function(){return f}});var r=n(711349),o=n(578429),i=n(742979),a=n(311866),c=n(164756),s=n(613330),l=n(301314);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function f(e,t,n){var f=e.boardId,h=e.name,b=e.nameSource,m=e.pinImport,g=e.initialPinIds,y=void 0===g?[]:g,v=0;"RECOMMENDATION"===b?v=1:"EDITED_RECOMMENDATION"===b&&(v=2);var x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({board_id:f,initial_pins:m&&!m.all?m.pinIds:y,name:h,name_source:v},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return a.ZP.create("BoardSectionResource",x).callCreate({showError:!1}).then((function(n){var a=n.resource_response.data;e(p(f,a)),e((0,o.Z)({feedId:f,feedType:s.DV.BOARD_SECTIONS,itemIds:[a.id],itemType:"board_section"})),e((0,c.Tq)(f,"pin_count")),e((0,l.jB)("BoardSectionsRepinResource",{board_id:f}));var u=m||{all:!1,pinIds:[]},d=u.all,h=u.pinIds;return d?new Promise((function(n,r){return e((0,i.Z)({inverseSelection:!0,selectedPinIds:h,source:{boardId:f,sectionId:null},target:{boardId:f,sectionId:a.id}},t)).then((function(){return n(a)})).catch(r)})):(h.length>0&&e((0,r.Z)(s.DV.BOARD_PINS,f)),a)}))}}},646942:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(357846);function o(e,t){return function(n){return n((0,r.U2)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}},101691:function(e,t,n){"use strict";function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function i(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,{JS:function(){return r},hY:function(){return o},h6:function(){return i},V6:function(){return a},fm:function(){return c},GT:function(){return s},hT:function(){return l}});var c=function(e){return{type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}},s=function(e){return{type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}}};function l(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},265585:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var r=n(365812),o=n.n(r);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":var n=t.payload.pinItem||{};return s(s(s({},e),n),{},{signals:s(s({},e.signals),n.signals)});case"PIN_ITEM_ADD_PIN_TAG":var r=t.payload.pinTagId;return s(s({},e),{},{pinTagIds:[].concat(i(e.pinTagIds),[r])});case"PIN_ITEM_REMOVE_PIN_TAG":var a=t.payload.pinTagId;return s(s({},e),{},{pinTagIds:e.pinTagIds.filter((function(e){return e!==a}))});case"PIN_ITEM_SET_DESCRIPTION":var c=t.payload.description;return s(s({},e),{},{description:c});case"PIN_ITEM_SET_DESCRIPTION_ERROR":var l=t.payload,d=l.descriptionError,p=l.signals;return s(s({},e),{},{descriptionError:d,signals:s(s({},e.signals),p)});case"PIN_ITEM_SET_IS_TAGGABLE":var f=t.payload.isTaggable;return s(s({},e),{},{isTaggable:f});case"PIN_ITEM_SET_LINK":var h=t.payload.link;return s(s({},e),{},{link:h});case"PIN_ITEM_SET_LINK_ERROR":var b=t.payload,m=b.linkError,g=b.signals;return s(s({},e),{},{linkError:m,signals:s(s({},e.signals),g)});case"PIN_ITEM_SET_MEDIA":var y=t.payload.media,v=!(!y||e.link)||e.isTaggable;return s(s({},e),{},{media:y,isTaggable:(!y||"localVideo"!==y.type)&&v,pinTagIds:[],selectedPinTagId:null,canvasJson:null});case"PIN_ITEM_UPDATE_MEDIA":var x=t.payload.media;return s(s({},e),{},{media:e.media?o()({},e.media,x):null});case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":var I=t.payload.selectedPinTagId;return s(s({},e),{},{selectedPinTagId:I});case"PIN_ITEM_SET_TAG_ERROR":var w=t.payload.tagError;return s(s({},e),{},{tagError:w});case"PIN_ITEM_SET_TITLE":var _=t.payload.title;return s(s({},e),{},{title:_});case"PIN_ITEM_SET_TITLE_ERROR":var j=t.payload,O=j.titleError,A=j.signals;return s(s({},e),{},{titleError:O,signals:s(s({},e.signals),A)});case"PIN_ITEM_SET_EDITED_IMAGE":var S=t.payload,P=S.editedMedia,E=S.canvasJson;return s(s({},e),{},{media:P,canvasJson:E});default:return e}}},182463:function(e,t,n){"use strict";n.d(t,{vU:function(){return u},E3:function(){return d}});var r=n(365812),o=n.n(r);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={text:"",srcUrl:"",canonicalUrl:"",imageSignature:"",imageUrl:"",isFetching:!1},d={backgroundColor:"#ffffff",blockIds:[],canvasJson:null,coverImgSignature:"",description:"",descriptionError:null,dominantColors:[],isEditable:!0,layout:null,linkBlock:u,linkError:null,media:null,selectedBlockId:null,signals:{},title:"",titleError:null};t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_UPDATE_DATA":var n=t.payload.pinItem;return s(s({},e),n);case"STORY_PIN_ITEM_SET_DESCRIPTION":var r=t.payload.description;return s(s({},e),{},{description:r});case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":var a=t.payload.descriptionError;return s(s({},e),{},{descriptionError:a});case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":var c=t.payload.linkBlock;return s(s({},e),{},{linkBlock:s(s({},e.linkBlock),c)});case"STORY_PIN_ITEM_SET_LINK_ERROR":var l=t.payload.linkError;return s(s({},e),{},{linkError:l});case"STORY_PIN_ITEM_SET_MEDIA":var u=t.payload.media;return s(s({},e),{},{media:u,canvasJson:null});case"STORY_PIN_ITEM_UPDATE_MEDIA":var p=t.payload.media;return s(s({},e),{},{media:e.media?o()({},e.media,p):null});case"STORY_PIN_ITEM_SET_TITLE":var f=t.payload.title;return s(s({},e),{},{title:f});case"STORY_PIN_ITEM_SET_TITLE_ERROR":var h=t.payload.titleError;return s(s({},e),{},{titleError:h});case"STORY_PIN_ITEM_SET_BLOCK_IDS":var b=t.payload.blockIds;return s(s({},e),{},{blockIds:b});case"STORY_PIN_ITEM_SET_EDITED_IMAGE":var m=t.payload,g=m.editedMedia,y=m.canvasJson;return s(s({},e),{},{media:g,canvasJson:y});case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":var v=t.payload.blockId;return s(s({},e),{},{selectedBlockId:v});case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":var x=t.payload.backgroundColor;return s(s({},e),{},{backgroundColor:x});case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":var I=t.payload.coverImgSignature;return s(s({},e),{},{coverImgSignature:I});case"STORY_PIN_ITEM_SET_LAYOUT":var w=t.payload.layout;return s(s({},e),{},{layout:w});case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":var _=t.payload.dominantColors;return s(s({},e),{},{dominantColors:_});case"STORY_PIN_ITEM_ADD_BLOCK":var j=t.payload,O=j.blockId,A=j.index,S=e.blockIds,P=i(S);return P.splice("number"==typeof A?A:S.length,0,O),s(s({},e),{},{blockIds:P});case"STORY_PIN_ITEM_REMOVE_BLOCK":var E=t.payload.blockId,k=e.blockIds;return s(s({},e),{},{blockIds:i(k.filter((function(e){return e!==E})))});default:return e}}},47966:function(e,t,n){"use strict";n.d(t,{xA:function(){return p},nJ:function(){return f},gl:function(){return h},JT:function(){return b},d_:function(){return m},p:function(){return g},Qj:function(){return y},jP:function(){return v}});var r=n(192522),o=n(310054),i=n(314434),a=n(887018),c=n(878243);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return e.values().next().value}var p=function(e){return e.pinbuilder.selectedPinDraftIds},f=function(e){return e.pinbuilder.createdPinIds},h=function(e){var t=e.pinbuilder,n=t.createdPinIds,r=t.pinDrafts;return Object.values(r).reduce((function(e,t){return n.includes(t.pinId)&&"carousel"===t.type?[].concat(s(e),[t.pinId]):e}),[])},b=function(e){var t=e.pinbuilder,n=t.createdPinIds,r=t.pinDrafts,o=t.pinDraftIds;return Object.keys(r).reduce((function(e,t){var i=r[t];return o.includes(t)&&i.pinId&&n.includes(i.pinId)&&!0!==i.isAdIneligible?[].concat(s(e),[i.pinId]):e}),[])},m=(0,r.P1)([function(e){return e.pinbuilder.pinDraftIds},o.OW],(function(e,t){return e.filter((function(e){return"succeeded"!==t[e].status}))})),g=(0,r.P1)([p,o.OW,c.ng],(function(e,t,n){var r=e.reduce((function(e,r){var o=t[r],i=o.pinItemIds,a=o.publishOption,c=o.scheduledDate,s=o.scheduledTime,l=o.selectedItem;return e.publishOptions.add(a),e.scheduledDates.add(c?c.toDateString():null),e.scheduledTimes.add(s?s.toTimeString():null),e.selectedItems.add(l?JSON.stringify(l,Object.keys(l).sort()):null),i.forEach((function(t){var r=n[t],o=r.description,i=r.link,a=r.title;e.descriptions.add(o),e.titles.add(a),e.links.add(i)})),e}),{descriptions:new Set,links:new Set,publishOptions:new Set,scheduledDates:new Set,scheduledTimes:new Set,selectedItems:new Set,titles:new Set}),o=r.descriptions,i=r.links,a=r.publishOptions,c=r.scheduledDates,s=r.scheduledTimes,l=r.selectedItems,u=r.titles,p=d(c),f=d(s),h=d(l),b=p&&new Date(p),m=f&&new Date("".concat((new Date).toDateString()," ").concat(f)),g=h&&JSON.parse(h);return{initialDescription:1===o.size?d(o):void 0,initialLink:1===i.size?d(i):void 0,initialPublishOption:1===a.size?d(a):void 0,initialScheduledDate:1===c.size?b:void 0,initialScheduledTime:1===s.size?m:void 0,initialSelectedItem:1===l.size?g:void 0,initialTitle:1===u.size?d(u):void 0}})),y=function(e,t,n){var r=e.pinbuilder,o=r.pinTags,s=r.pinDrafts,l=r.pinItems,u=s[t].type,d=l[n].media;if("carousel"===u)return a.MH.CAROUSEL;if(o&&Object.keys(o).length>0&&(0,c.jk)()(e,{pinItemId:n}).length>0)return a.MH.COLLECTIONS;return"localVideo"===(null==d?void 0:d.type)?a.MH.VIDEO:(0,i.Sl)(d)?a.MH.STATIC:null},v=function(e,t){var n,r={},o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(o.s();!(n=o.n()).done;){var i,a=t[n.value].publishingStatus;r[a]=(null!==(i=r[a])&&void 0!==i?i:0)+1}}catch(c){o.e(c)}finally{o.f()}return r}},310054:function(e,t,n){"use strict";n.d(t,{OW:function(){return i},Xe:function(){return a},IF:function(){return c},pq:function(){return s},mf:function(){return l},kD:function(){return u},q7:function(){return d},uO:function(){return p},pc:function(){return f},mR:function(){return h},nL:function(){return b},Fh:function(){return m},wN:function(){return g}});var r=n(192522),o=n(349079),i=function(e){return e.pinbuilder.pinDrafts},a=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].view},c=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIndex},s=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIds},l=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].isCommentsAllowed},u=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].isShoppingRecAllowed},d=function(e,t){var n=e.pinbuilder,r=n.pinDrafts,o=n.storyPinItems;return r[t.pinDraftId].pinItemIds.map((function(e){return o[e]}))},p=function(e,t){var n=e.pinbuilder,r=n.pinDrafts,o=n.storyPinItemBlocks,i=n.storyPinItems;return r[t.pinDraftId].pinItemIds.map((function(e){return i[e].blockIds.map((function(e){return o[e]}))})).flat()},f=function(e,t){var n,r,i=e.pinbuilder,a=i.pinDrafts,c=i.storyPinItemBlocks,s=a[t.pinDraftId],l=s.pinItemIds,u=s.storyPinMetadata,d=(0,o.FK)(e,{pinItemId:l[0]});return null!==(n=null==u||null===(r=u.title)||void 0===r?void 0:r.trim())&&void 0!==n?n:d?c[d].text.trim():""},h=function(e,t,n){return p(e,t).filter((function(e){return n.includes(e.type)}))},b=function(){return(0,r.P1)([s,c],(function(e,t){return e[t]}))},m=function(e,t){var n=e.pinDrafts[t.pinDraftId],r=n.pinItemIds,o=!!(n.apiError||n.boardError||n.mediaError),i=r.reduce((function(t,n){var r=e.pinItems[n];return!!(t||r.descriptionError||r.linkError||r.tagError||r.titleError)}),!1);return o||i},g=function(e,t){var n=e.pinDrafts[t.pinDraftId],r=n.pinItemIds,o=n.selectedItem,i=!!(void 0===o?null:o),a=r.reduce((function(t,n){var r=e.pinItems[n];return!!(t||r.description||r.link||r.media||r.title)}),!1);return i||a}},878243:function(e,t,n){"use strict";n.d(t,{ng:function(){return a},wc:function(){return c},M:function(){return s},Bg:function(){return u},vd:function(){return p},CQ:function(){return f},jk:function(){return h}});var r=n(192522),o=n(926142),i=n(236049),a=function(e){return e.pinbuilder.pinItems},c=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].isTaggable},s=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].selectedPinTagId},l=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].pinTagIds},u=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].media},d=(0,r.P1)([l,o.Oo],(function(e,t){return e.reduce((function(e,n){var r=t[n],o=r.status,i=r.taggedObjectIds;return"deleted"!==o&&i.forEach((function(t){return e.push(t)})),e}),[])})),p=function(){return(0,r.P1)([l,o.Oo],(function(e,t){return e.filter((function(e){return"deleted"!==t[e].status}))}))},f=function(){return(0,r.P1)([d,i.n],(function(e,t){return e.map((function(e){return t[e]})).filter((function(e){return"deleted"!==e.status}))}))},h=function(){return(0,r.P1)([d,i.n],(function(e,t){return e.filter((function(e){return"deleted"!==t[e].status}))}))}},926142:function(e,t,n){"use strict";n.d(t,{Oo:function(){return i},A$:function(){return c}});var r=n(192522),o=n(236049),i=function(e){return e.pinbuilder.pinTags},a=function(e,t){return e.pinbuilder.pinTags[t.pinTagId].taggedObjectIds},c=function(){return(0,r.P1)([a,o.n],(function(e,t){return e.filter((function(e){return"deleted"!==t[e].status}))}))}},349079:function(e,t,n){"use strict";n.d(t,{wv:function(){return r},lY:function(){return o},mX:function(){return i},FK:function(){return a},yp:function(){return c},X4:function(){return s}});var r=["story_pin_heading_block","story_pin_paragraph_block"],o=function(e,t){return e.pinbuilder.storyPinItems[t.pinItemId]?e.pinbuilder.storyPinItems[t.pinItemId].media:null},i=function(e,t){var n=e.pinbuilder.storyPinItems[t.pinItemId];return n?n.blockIds.find((function(t){return!!e.pinbuilder.storyPinItemBlocks[t].media})):null},a=function(e,t){var n=e.pinbuilder.storyPinItems[t.pinItemId];return n?n.blockIds.find((function(t){return r.includes(e.pinbuilder.storyPinItemBlocks[t].type)})):null},c=function(e,t){var n=e.pinbuilder.storyPinItems[t.pinItemId];return n?n.blockIds.map((function(t){return e.pinbuilder.storyPinItemBlocks[t]})):[]},s=function(e,t,n){return e.pinbuilder.storyPinItems[t.pinItemId].blockIds.find((function(t){return e.pinbuilder.storyPinItemBlocks[t].type===n}))}},236049:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r=function(e){return e.pinbuilder.taggedObjects}},124324:function(e,t,n){"use strict";n.d(t,{GT:function(){return s},Zs:function(){return l},Sn:function(){return u},Kl:function(){return d}});var r=n(589444),o=n(477342);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){if(e){var t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function l(e){var t,n,i,c,l,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=s(e),f=a({},d.commerce_data);p.includes(2)&&(f.pin_is_shop_the_look=!0),p.includes(1)&&(f.is_available=!0),p.includes(5)&&(f.is_product_pin_v2=!0),p.includes(6)&&(f.is_rich_product_pin=!0),p.includes(10)&&(f.is_organic_product_carousel=!0);var h=!!e.visual_objects&&(0,o.k)(e.visual_objects)||[];if(h.some((function(e){return!0===e.is_stela}))&&(f.pin_is_stela=!0),e.is_eligible_for_pdp){e.is_oos_product?f.pin_show_pdp_oos=!0:e.is_stale_product?f.pin_show_pdp_stale=!0:f.pin_show_pdp=!0;var b,m=(0,r.Z)({pin:e});if(m)f.image_count=null===(b=m.carousel_slots)||void 0===b?void 0:b.length,f.image_index=m.index}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.item_id&&(f.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(c=e.rich_summary)&&void 0!==c&&null!==(l=c.products)&&void 0!==l&&null!==(u=l[0])&&void 0!==u&&u.item_set_id&&(f.item_set_id=e.rich_summary.products[0].item_set_id);var g=e.aggregated_pin_data||{};return null!=g&&g.is_shop_the_look&&(f.pin_is_shop_the_look=!0),e.story_pin_data&&(f.story_pin_id=e.story_pin_data.id),f}function u(e){var t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=l(e,t);return u(n)}return null}},573818:function(e,t,n){"use strict";var r=n(793550),o=n(174523),i=n(218265),a=n(80209);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,o=f(c);function c(){var e;u(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(b(e=o.call.apply(o,[this].concat(n))),"state",{isHovering:!1}),g(b(e),"handleMouseEnter",(function(t){e.setState({isHovering:!0}),e.props.onMouseEnter&&e.props.onMouseEnter(t)})),g(b(e),"handleMouseLeave",(function(t){e.setState({isHovering:!1}),e.props.onMouseLeave&&e.props.onMouseLeave(t)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,n=e.icon,r=e.onClick,o=e.onMouseDown,c=e.onMouseUp,s=e.selected,u=e.style,d=e.text,p=e.x,f=e.y,h=e.zIndex,b=e.backdropDiameter,m=void 0===b?32:b,g=e.dotDiameter,y=void 0===g?16:g,v=this.state.isHovering?m+4:m,x={zIndex:h,position:"absolute",top:f-v/2,left:p-v/2,outline:"none"},I={backgroundColor:"rgba(0, 0, 0, 0.1)",width:v,height:v,border:"none",borderRadius:v,cursor:r?"pointer":"default"};return(0,a.jsx)("div",{"data-test-id":"flashlight-dot",onClick:r,onKeyPress:r,onMouseDown:o,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:c,ref:t,role:"button",style:x,tabIndex:"0",children:(0,a.jsx)("div",{style:l(l({},I),u),children:(0,a.jsxs)(i.xu,{alignItems:"center",borderStyle:"none",color:"white",display:"flex",height:y,justifyContent:"center",position:"absolute",padding:0,width:y,dangerouslySetInlineStyle:{__style:{boxShadow:s?"0 0 0 3px #e60023":"none",borderRadius:y,top:(v-y)/2,left:(v-y)/2}},children:[!!d&&(0,a.jsx)(i.xv,{align:"center",color:"darkGray",inline:!0,size:"sm",weight:"bold",children:d}),n&&(0,a.jsx)(i.JO,{accessibilityLabel:this.props.i18n._("Tag anchor","accessibility label for an anchor for an object in a pin","accessibility label for an anchor for an object in a pin"),color:"red",icon:n,size:y/2,inline:!0})]})})})}}])&&d(t.prototype,n),r&&d(t,r),c}(r.Component);t.Z=(0,r.forwardRef)((function(e,t){var n=(0,o.ZP)();return(0,a.jsx)(y,l(l({},e),{},{forwardedRef:t,i18n:n}))}))},826936:function(e,t,n){"use strict";var r=n(174523),o=n(218265),i=n(80209),a=function(){var e=(0,r.ZP)();return(0,i.jsx)(o.$j,{accessibilityLabel:e._("Loading","Label for loading spinner","Label for loading spinner"),show:!0})};t.Z=function(e){var t=e.rounding;return(0,i.jsxs)(o.xu,{children:[(0,i.jsx)(o.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(101),children:(0,i.jsx)(a,{})}),(0,i.jsx)(o.xu,{bottom:!0,color:"white",left:!0,opacity:.7,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(100),rounding:t})]})}},272529:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(174523),o=n(80209);function i(e){var t=e.size,n=e.noCircle,i=(0,r.ZP)();return(0,o.jsxs)("svg",{height:t,style:{display:"block"},viewBox:n?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,o.jsx)("title",{children:i._("Pinterest logo","Accessibility label for Pinterest icon","Accessibility label for Pinterest icon")}),n?null:(0,o.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,o.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#e60023",fillRule:"evenodd"})]})}},711243:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},N:function(){return a}});var r=n(218265),o=n(80209);function i(e){var t=e.children,n=e.fullWidth;return(0,o.jsx)(r.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:t})}function a(e){var t=e.children;return e.enabled?(0,o.jsx)(i,{children:t}):t}},432686:function(e,t,n){"use strict";var r=n(336105);t.Z=function(e){return"@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 48px;\n    }\n\n    15% {\n      width: ".concat(e+r.Nv,"px;\n    }\n\n    85% {\n      width: ").concat(e+r.Nv,"px;\n    }\n\n    100% {\n      width: 48px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 48px;\n    }\n\n    100% {\n      width: ").concat(e+r.Nv,"px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ").concat(e+r.Nv,"px;\n    }\n\n    100% {\n      width: 48px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  ")}},85806:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(793550),o=n(432686),i=n(155656),a=n(304966),c=n(218265),s=n(336105),l=n(711243),u=n(80209);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.alwaysShow,n=e.contextLogData,d=e.enablePointerEvents,f=void 0===d||d,b=(e.imageSignature,e.isSelected),m=e.onStelaDotAnimationComplete,g=e.stelaDotAnimationType,y=h((0,r.useState)(!1),2),v=y[0],x=y[1],I=(0,a.Z)();(0,r.useEffect)((function(){v||x(!0)}),[]);var w;(0,r.useEffect)((function(){I(p({event_type:120,view_type:3,aux_data:p({},n)},n))}),[]),"in"===g?w="stelaSlideIn .3s ease-in-out forwards":"out"===g?w="stelaSlideOut .3s ease-in-out forwards":"inOut"===g?w="stelaSlideInThenOut 3s ease-in-out forwards":"none"===g&&(w="none");var _=t?"black":"white",j=t?{opacity:1}:{animation:w,opacity:"none"===w?0:void 0};return(0,u.jsx)(r.Fragment,{children:(0,u.jsxs)(l.N,{enabled:f,children:[(0,u.jsx)(i.Z,{unsafeCSS:(0,o.Z)()}),(0,u.jsx)(c.xu,{"data-test-id":"closeup-stela-dot",height:s.b9,width:s.b9,onAnimationEnd:function(){m&&"inOut"===g&&m()},dangerouslySetInlineStyle:{__style:j},children:(0,u.jsxs)("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_d)",children:(0,u.jsx)("circle",{cx:"18",cy:"18",fill:b?_:"white",r:"8"})}),(0,u.jsx)("defs",{children:(0,u.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,u.jsx)("feOffset",{}),(0,u.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,u.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),(0,u.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]})})]})})]})})}},336105:function(e,t,n){"use strict";n.d(t,{b9:function(){return r},Nv:function(){return o},RZ:function(){return i}});var r=36,o=44,i=446},142196:function(e,t,n){"use strict";n.d(t,{Od:function(){return r},ML:function(){return o},yK:function(){return i},N$:function(){return a},CX:function(){return c}});var r="extensionNagCount",o=4,i=3,a=1050,c=880},472125:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(793550),o=n(166555),i=n.n(o);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){var e=a((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){return n({width:window.innerWidth,height:window.innerHeight})};e();var t=i()(e,50);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),t}},616240:function(e,t,n){"use strict";n.d(t,{dl:function(){return s},Fl:function(){return u},IC:function(){return d},GG:function(){return p},tW:function(){return f},Pw:function(){return h},k3:function(){return b},su:function(){return m}});var r=n(300970),o=n(593482),i=n(221469),a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],c=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],s=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],l=["US","CA"],u=function(e,t){return c.includes(e.toUpperCase())?t.experiments.getWithActivation("advertiser_growth_qp_expansion").anyEnabled:a.includes(e.toUpperCase())},d=function(e,t,n){var r={numDays:n},o=e[n]||{},i=e[2*n]||{};return t.forEach((function(e){var t=o[e]||0,n=i[e]?i[e]-t:0;r[e]={total:t,trend:n?(t-n)/n:0}})),r},p=function(e){return!!e&&l.includes(e.toUpperCase())},f=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),h=function(e){e.requestContext;!function(e,t){var n=(0,i.ru)("/business/convert",{next:t});e.push(n)}(e.history,function(e){return e?"/business/ad_create?pinId=".concat(e):"/business/ad_create"}(e.pinId))},b=function(e){var t=e.trim().split(" ").filter((function(e){return!!e}));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},m=function(e){return e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,r.Z)(null,e)}},215484:function(e,t,n){"use strict";function r(e){var t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,{Z:function(){return r}})},44062:function(e,t,n){"use strict";n.d(t,{I:function(){return h},s:function(){return f}});var r=n(793550),o=n(762803),i=n(80209);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,o.ZP)("View"),p=d.Provider,f=d.useHook;function h(e){var t=e.children,n=e.initialState,o=void 0===n?{}:n,a=l((0,r.useState)(o),2),s=a[0],u=a[1],d=(0,r.useCallback)((function(){return u({})}),[]);return(0,i.jsx)(r.Fragment,{children:(0,i.jsx)(p,{value:c(c({},s),{},{clearViewContextData:d,setViewContextData:u}),children:t})})}},921274:function(e,t,n){"use strict";n.d(t,{k:function(){return o.k}});var r=n(585967),o=n(625838),i=n(80209);t.Z=function(e){var t=e.dateFormatType,n=e.useUTC,a=void 0===n||n,c=e.value;return(0,i.jsx)(r.LC,{children:function(e){return(0,o.Z)(e.locale,c,t,a)}})}},72984:function(e,t){"use strict";t.Z=function(e,t){var n=new Date(e);return n.setDate(e.getDate()+t),n}},980767:function(e,t,n){"use strict";n.d(t,{DH:function(){return r},FS:function(){return o},UK:function(){return i},F4:function(){return a},VL:function(){return c},N9:function(){return s},v6:function(){return l},N1:function(){return u}});var r=1e3,o=60*r,i=60*o,a=24*i,c=7*a,s=30*a,l=31*a,u=365*a},625838:function(e,t,n){"use strict";n.d(t,{k:function(){return r},Z:function(){return i}});var r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"},o=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function i(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=o(n);r&&(i.timeZone="UTC");var a=new Intl.DateTimeFormat(e,i);return a.format(t)}},465996:function(e,t){"use strict";t.Z=function(e){return/^\d{2}\/\d{2}\/\d{4}$/.test(e)}},386568:function(e,t){"use strict";t.Z=function(e){return/^\d{4}$/.test(e)}},388466:function(e,t,n){"use strict";n.d(t,{wx:function(){return M},ZP:function(){return N}});var r=n(793550),o=n(828839),i=n(855734),a=n(31882),c=n(451190),s=n(215413),l=n(174523),u=n(218265),d=n(80209);function p(e){var t=(0,l.ZP)()._("Reset password","Request a password reset email","Request a password reset email");return(0,d.jsx)(u.zx,{accessibilityLabel:e.overrideText||t,color:e.color||"red",fullWidth:e.inline,onClick:function(){(0,s.Z)({usernameOrEmail:e.email,callBack:e.callBack})},text:e.overrideText||t})}var f=n(946753);function h(e){var t=e.email,n=e.onClose,r=e.onPasswordResetSent,o=e.socialButtons,i=(0,l.ZP)();return(0,d.jsx)(c.Z,{accessibilityModalLabel:i._("Login with Facebook or Google?","Modal accessibility label for when a user has failed login three times","Modal accessibility label for when a user has failed login three times"),heading:i._("Looks like you’re having trouble logging in","Modal heading for user who have attempted to login three times","Modal heading for user who have attempted to login three times"),onDismiss:n,role:"alertdialog",size:"sm",children:(0,d.jsx)(u.xu,{alignItems:"center",justifyContent:"center",display:"flex",marginBottom:9,children:(0,d.jsxs)(u.kC,{alignItems:"center",direction:"column",width:290,children:[(0,d.jsx)(u.xu,{marginBottom:6,children:(0,d.jsx)(u.xv,{align:"center",children:(0,f.nk)(i._("We sent an email to {{ email }} to help you get back in."," - "," -- "),{email:(0,d.jsx)(u.xv,{inline:!0,weight:"bold",children:t},"emailAddress")})})}),(0,d.jsx)(u.xu,{width:"100%",marginBottom:8,children:(0,d.jsx)(p,{inline:!0,color:"red",email:t,callBack:r,overrideText:i._("Resend email","Button to allow the user to request a password reset email","Button to allow the user to request a password reset email")})}),(0,d.jsx)(u.xv,{children:i._("Or log in with Facebook or Google","Upsell to use Facebook or Google for login","Upsell to use Facebook or Google for login")}),(0,d.jsx)(u.xu,{marginTop:4,marginBottom:12,width:"100%",children:o}),(0,d.jsx)(u.xu,{marginBottom:12,width:"100%",children:(0,d.jsx)(a.Z,{onClick:n})})]})})})}function b(e){var t=e.email,n=e.onClose,r=e.onPasswordResetSent,o=e.socialButtons,i=(0,l.ZP)();return(0,d.jsx)(c.Z,{accessibilityModalLabel:i._("Login limit reached","Modal accessibility label for users who have been login rate limited","Modal accessibility label for users who have been login rate limited"),heading:i._("Oops! Too fast","Modal heading for user who have been login rate limited","Modal heading for user who have been login rate limited"),onDismiss:n,role:"alertdialog",size:"sm",children:(0,d.jsxs)(u.xu,{paddingX:12,marginBottom:6,children:[(0,d.jsx)(u.xu,{marginBottom:4,width:"100%",overflow:"hidden",children:(0,d.jsx)(u.xv,{align:"center",children:i._("It looks like you’re logging in a lot. Log in with Facebook or Google if you’re connected, or reset your password. Or you can wait 30 minutes and try again.","Statement that the users is login limited","Statement that the users is login limited")})}),(0,d.jsx)(u.xu,{marginBottom:8,children:(0,d.jsx)(u.xv,{align:"center",children:i._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login","Upsell to use Facebook or Google for login")})}),(0,d.jsxs)(u.xu,{paddingX:6,children:[(0,d.jsx)(u.xu,{marginBottom:2,children:(0,d.jsx)(p,{email:t,callBack:r})}),o,(0,d.jsx)(u.xu,{marginTop:6,children:(0,d.jsx)(a.Z,{onClick:n,overrideText:i._("I’ll wait","Button text acknowledging login rate limiting","Button text acknowledging login rate limiting")})})]})]})})}function m(e){var t=e.email,n=e.loginWith,r=e.onClose,o=e.onPasswordResetSent,i=(0,l.ZP)();return(0,d.jsx)(c.Z,{accessibilityModalLabel:i._("No matching account","Modal accessibility label for account recovery","Modal accessibility label for account recovery"),heading:i._("Oops! Something went wrong","Modal heading","Modal heading"),onDismiss:r,role:"alertdialog",size:"md",children:(0,d.jsxs)(u.xu,{paddingX:6,marginBottom:4,children:[(0,d.jsx)(u.xu,{marginBottom:6,children:"facebook"===n?(0,d.jsx)(u.xv,{children:i._("We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login","Notice that no Pinterest account exists for the Facebook account used to attempt login")}):(0,d.jsx)(u.xv,{children:i._("We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login","Notice that no Pinterest account exists for the Facebook account used to attempt login")})}),(0,d.jsx)(p,{email:t,callBack:o}),(0,d.jsx)(u.xu,{marginTop:2,children:(0,d.jsx)(a.Z,{onClick:r})})]})})}var g=n(773559);function y(e){var t=e.email,n=e.onClose,r=e.onPasswordResetSent,o=(0,l.ZP)(),i=o._("Password reset email sent","Modal label for confirmation of password reset send","Modal label for confirmation of password reset send");return(0,d.jsx)(c.Z,{accessibilityModalLabel:i,heading:i,onDismiss:n,role:"alertdialog",size:"md",children:(0,d.jsxs)(u.xu,{paddingX:6,marginBottom:4,children:[(0,d.jsx)(u.xv,{overflow:"normal",children:(0,f.nk)(o._("We sent instructions to pick a new password to {{ email }}.","Statement that a password reset email has been sent to the user","Statement that a password reset email has been sent to the user"),{email:(0,d.jsx)(u.xv,{inline:!0,overflow:"normal",weight:"bold",children:t},"emailAddress")})}),(0,d.jsx)(u.xu,{paddingY:4,children:(0,d.jsx)(p,{inline:!0,color:"gray",email:t,callBack:r,overrideText:o._("Resend email","Button to allow the user to request a password reset email","Button to allow the user to request a password reset email")})}),(0,d.jsxs)(u.xu,{children:[(0,d.jsx)(u.xu,{marginBottom:4,children:(0,d.jsx)(u.xv,{children:(0,f.nk)(o._("Didn’t get the email? Try these {{ tips }}","Direction to help center if the password reset email failed","Direction to help center if the password reset email failed"),{tips:(0,d.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(u.rU,{inline:!0,target:"blank",href:g.Z.settings.HELP_PASSWORD_RESET_URL+"?source=account_recovery",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:o._("tips from our Help Center","Link text to go to help center","Link text to go to help center")},"helpCenterLink")},"helpCenter")})})}),(0,d.jsx)(u.xu,{marginBottom:4,children:(0,d.jsx)(u.xv,{children:(0,f.nk)(o._("Not your email address? {{ tryAgain }}","Link to password reset flow for users who make an incorrect password reset request","Link to password reset flow for users who make an incorrect password reset request"),{tryAgain:(0,d.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(u.rU,{inline:!0,href:g.Z.settings.PASSWORD_RESET_URL,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:o._("Try another","Link text to enter the password reset flow for a different email address/username","Link text to enter the password reset flow for a different email address/username")},"passwordResetLink")},"tryAgain")})})})]}),(0,d.jsx)(u.xu,{children:(0,d.jsx)(a.Z,{color:"red",onClick:n})})]})})}function v(e){var t=e.email,n=e.onClose,r=e.onPasswordResetSent,o=e.socialButtons,i=(0,l.ZP)();return(0,d.jsx)(c.Z,{accessibilityModalLabel:i._("Recover your account","Modal accessibility label for account recovery","Modal accessibility label for account recovery"),heading:i._("We protected your account","Modal heading for user who need to recover their accounts","Modal heading for user who need to recover their accounts"),onDismiss:n,role:"alertdialog",size:480,children:(0,d.jsxs)(u.xu,{paddingX:12,marginBottom:8,children:[(0,d.jsx)(u.xu,{paddingX:4,marginBottom:4,children:(0,d.jsx)(u.xv,{align:"center",children:i._("We noticed some strange activity on your Pinterest account so we reset your password and logged everyone out (including you).","Statement that we detected suspicious activity","Statement that we detected suspicious activity")})}),(0,d.jsx)(u.xu,{paddingX:4,marginBottom:4,children:(0,d.jsx)(u.xv,{align:"center",children:i._("Reset your password or log in with Facebook or Google to get back into your account.","Prompt to take action to reset password or upsell login with Facebook/Google","Prompt to take action to reset password or upsell login with Facebook/Google")})}),(0,d.jsxs)(u.xu,{paddingX:12,children:[(0,d.jsx)(u.xu,{paddingY:2,children:(0,d.jsx)(p,{email:t,callBack:r})}),o,(0,d.jsx)(u.xu,{marginTop:4,children:(0,d.jsx)(a.Z,{onClick:n})})]})]})})}var x,I=n(565664),w=n(881220),_=n(912397),j=n(538504),O=n(116955),A=n(746517);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=(V(x={},O.OW,A.Ny.RATE_LIMITED),V(x,O.bd,A.Ny.RATE_LIMITED),V(x,O.$j,A.Ny.SOFT_BANNED),V(x,O.an,A.Ny.SUSPENDED),V(x,O.RL,A.Ny.LOGIN_ASSISTANCE),V(x,O.yV,A.Ny.SOFT_BANNED),V(x,j.Ej,A.Ny.RATE_LIMITED),x),F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(s,e);var t,n,a,c=B(s);function s(){var e;k(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(T(e=c.call.apply(c,[this].concat(n))),"state",{showToast:!1}),V(T(e),"dismissModal",(function(){e.props.updateAccountRecoveryModal(null)})),V(T(e),"showPasswordResetSent",(function(){return e.props.updateAccountRecoveryModal(A.Ny.PASSWORD_RESET_SENT)})),V(T(e),"showLoginWithFailed",(function(t){"facebook"===t?e.props.updateAccountRecoveryModal(A.Ny.PREVENT_FACEBOOK_REGISTER):"google"===t&&e.props.updateAccountRecoveryModal(A.Ny.PREVENT_GOOGLE_REGISTER)})),V(T(e),"toggleToast",(function(){return e.setState((function(e){return{showToast:!e.showToast}}))})),V(T(e),"renderSocialButtons",(function(){var t=e.props.i18n;return(0,d.jsxs)(u.xu,{children:[(0,d.jsx)(o.Z,{buttonText:t._("Continue with Facebook","Facebook login button text","Facebook login button text"),container:_.YC,disablePostSignupNextUrl:!0,onLoginWithMfa:e.props.onLoginWithMfa,onLoginWithSuspended:e.props.onLoginWithSuspended,showFallback:!0,preventRegister:e.showLoginWithFailed}),(0,d.jsx)(u.xu,{marginTop:2,children:(0,d.jsx)(i.Z,{container:_.YC,disablePostSignupNextUrl:!0,onLoginWithMfa:e.props.onLoginWithMfa,onLoginWithSuspended:e.props.onLoginWithSuspended,preventRegister:e.showLoginWithFailed,onLoginWithVoluntarilyDeactivated:function(t){e.dismissModal(),e.props.onLoginWithVoluntarilyDeactivated&&e.props.onLoginWithVoluntarilyDeactivated(t)}})})]})})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.email,n=e.modalType,o=e.i18n,i={email:t,onClose:this.dismissModal,onPasswordResetSent:this.showPasswordResetSent},a=E(E({},i),{},{socialButtons:this.renderSocialButtons()});switch(n){case A.Ny.SUSPENDED:return(0,d.jsx)(I.Z,{onClose:this.dismissModal});case A.Ny.LOGIN_ASSISTANCE:return(0,d.jsx)(h,E({},a));case A.Ny.RATE_LIMITED:return(0,d.jsx)(b,E({},a));case A.Ny.SOFT_BANNED:return(0,d.jsx)(v,E({},a));case A.Ny.PREVENT_FACEBOOK_REGISTER:return(0,d.jsx)(m,E(E({},i),{},{loginWith:"facebook"}));case A.Ny.PREVENT_GOOGLE_REGISTER:return(0,d.jsx)(m,E(E({},i),{},{loginWith:"google"}));case A.Ny.PASSWORD_RESET_SENT:return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(y,E(E({},i),{},{onPasswordResetSent:this.toggleToast})),this.state.showToast&&(0,d.jsx)(u.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,d.jsx)(w.Z,{onHide:this.toggleToast,text:o._("Email sent!"," - "," -- "),duration:3500})})]});default:return null}}}])&&C(t.prototype,n),a&&C(t,a),s}(r.Component),N=function(e){var t=(0,l.ZP)();return(0,d.jsx)(F,E(E({},e),{},{i18n:t}))}},31882:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(174523),o=n(218265),i=n(80209);function a(e){var t=e.color,n=e.onClick,a=e.overrideText,c=(0,r.ZP)(),s=a||c._("Got it","Acknowledge protected account modal message","Acknowledge protected account modal message");return(0,i.jsx)(o.zx,{fullWidth:!0,accessibilityLabel:s,color:t||"gray",onClick:n,text:s})}},565664:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(793550),o=n(31882),i=n(451190),a=n(174523),c=n(946753),s=n(125847),l=n(218265),u=n(80209);function d(e){var t=e.onClose,n=(0,a.ZP)(),d=n._("Common reasons for account deactivation include:"," - "," -- "),p=n._("{{ help_link }} if you have questions or would like to reactivate your account."," - "," -- "),f=[n._("Violating Pinterest Community Guidelines.","One example reason for account deactivation","One example reason for account deactivation"),n._("We noticed unusual activity on your account.","One example reason for account deactivation","One example reason for account deactivation"),n._("You requested an account closure.","One example reason for account deactivation","One example reason for account deactivation")];return(0,u.jsx)(i.Z,{accessibilityModalLabel:n._("Login disabled for deactivated account","Modal accessibility label for when a user tries to login with a deactivated account","Modal accessibility label for when a user tries to login with a deactivated account"),heading:n._("Your account has been deactivated","Modal heading for user who have attempted to login with a deactivated account","Modal heading for user who have attempted to login with a deactivated account"),onDismiss:t,role:"alertdialog",size:"md",children:(0,u.jsxs)(l.xu,{paddingX:6,marginBottom:4,children:[(0,u.jsxs)(l.xu,{marginBottom:4,children:[(0,u.jsxs)(l.xv,{children:[" ",d," "]}),(0,u.jsx)(l.xu,{paddingY:2,children:(0,u.jsx)(r.Fragment,{children:f.map((function(e,t){return(0,u.jsx)(l.xv,{children:"• "+e},"reasons-".concat(t))}))})}),(0,u.jsx)(l.xv,{inline:!0,children:(0,c.nk)(p,{help_link:(0,u.jsx)(s.q,{},"suspended user help_link")})})]}),(0,u.jsx)(l.xu,{marginTop:4,children:(0,u.jsx)(o.Z,{color:"red",onClick:t,overrideText:n._("Got it","Acknowledge suspended account modal message","Acknowledge suspended account modal message")})})]})})}},125847:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(174523),o=n(218265),i=n(80209),a=function(){var e=(0,r.ZP)();return(0,i.jsx)(o.rU,{inline:!0,href:"https://help.pinterest.com/login-request?what_do_you_need_help_with=Getting+into+my+account&tell_more_account_access=Appeal+account+suspension",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:e._("Contact us","link text shown to redirect to help.pinterest.com for appealing a suspension","link text shown to redirect to help.pinterest.com for appealing a suspension")})}},215413:function(e,t,n){"use strict";var r=n(311866);t.Z=function(e){var t=e.usernameOrEmail,n=e.logPasswordResetContextEvent,o=e.callBack,i=e.ErrorCallback;n&&n(6936),r.ZP.create("UserResetPasswordResource",{username_or_email:t}).callCreate({showError:!1}).then((function(e){n&&n(51),o&&o()}),(function(e){i&&i(e)}))}},828839:function(e,t,n){"use strict";n.d(t,{Z:function(){return X}});var r=n(793550),o=n(84314),i=n(632262),a=n(153166),c=function(e){var t,r,o=e.facebookAccessTokenRefreshIsEnabled,i=e.i18n,c=e.onError,s=e.onSuccess,l=e.rerequestFacebookEmail,u=null,d=function(e){if("facebook"===e.network){var t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}clearInterval(u),e.error_message?c(e):s(e)};if(window.addEventListener("message",(function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&d(e.data)})),l)n.e(51798).then(n.bind(n,674245)).then((function(e){(0,e.default)((function(e){e.login((function(e){var t=e.authResponse,n=t&&t.grantedScopes&&t.grantedScopes.split(","),r=t&&t.userId,o=(n||[]).includes("email"),i={id:r};"connected"===e.status&&o?s(i):c(i)}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),o)}));else{var p=(t=screen.width,r=screen.height,"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=580,height=400,left="+Math.round((t-580)/2)+",top="+(r>400?Math.round((r-400)/2):0)),f=window.open("/connect/facebook/","",p);if(!f)return(0,a.x)(i._("You must enable popups!"," - "," -- ")),void c({network:"facebook",alertedUpstream:!0});u=setInterval((function(){f.closed&&(clearInterval(u),d({network:"facebook",error_message:"Window closed."}))}),1e3)}},s=n(384832),l=n(754837),u=n(218265),d=n(80209);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.anchor,n=e.message,o=e.children,i=p((0,r.useState)(!!n),2),a=i[0],c=i[1];return(0,r.useEffect)((function(){c(!!n)}),[n]),a&&n?(0,d.jsx)(u.J2,{anchor:t,color:"darkGray",idealDirection:"right",onDismiss:function(){return c(!0)},shouldFocus:!1,size:"md",children:(0,d.jsx)(u.xu,{column:12,padding:3,children:o?(0,d.jsx)("span",{children:o}):(0,d.jsx)("span",{dangerouslySetInnerHTML:{__html:n},style:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"}})})}):null}var b=n(103382),m=n(465996),g=n(386568),y=function(e,t){if(!(0,g.Z)(e)&&!(0,m.Z)(e))return!1;var n=new Date;if(Number.isNaN(n.getTime()))return!1;if(!(0,g.Z)(e)){var r=new Date(n.getFullYear()-t,n.getMonth(),n.getDate());return new Date(e)<=r}var o=n.getFullYear()-t-1;return new Date(e).getFullYear()<=o},v=n(851252),x=n(746517),I=n(311866),w=n(106852),_=n(933789),j=n(977399),O=n(765197),A=n(499320),S=n(181307),P=n(641483),E=n(174523),k=n(304966),C=n(116955),R=n(519916),B=n(899679),D=n(848101),T=n(585967),J=n(670830);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(f,e);var t,n,r,p=L(f);function f(){var e;N(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(W(e=p.call.apply(p,[this].concat(n))),"state",{showModal:!1}),H(W(e),"getContainerName",(function(){var e;return window.fbConnectButtonContainerStack&&window.fbConnectButtonContainerStack[window.fbConnectButtonContainerStack.length-1]&&(e=window.fbConnectButtonContainerStack[window.fbConnectButtonContainerStack.length-1]),e})),H(W(e),"profilePicButtonConnectSuccess",(function(t){var n=e.props,r=n.handlePostSuccessConnect,o=n.isAccountSwitch,i=n.loadingIndicatorCallback,a=n.pageContext,c=n.isBusiness,s=void 0!==c&&c;i&&i(!0);var l={facebook_id:t.userID,facebook_token:t.accessToken},u={container:e.getContainerName(),hybridTier:null==a?void 0:a.hybridTier,page:null==a?void 0:a.pageType,is_business:s};e.loginWithFacebook(l,u,e.profilePicButtonRegisterWithFacebook,o,r,i),e.contextLogSignupLoginEvent(7534)})),H(W(e),"statusChangeCallback",(function(t){var n,r=e.props.connectErrorMessage;"connected"===t.status?((0,P.ZP)("web.facebook_connect_button.login_status.connected"),e.profilePicButtonConnectSuccess(t.authResponse),n="success"):"not_authorized"===t.status?((0,P.ZP)("web.facebook_connect_button.cancel.not_authorized"),(0,a.x)(r),n="not_authorized"):((0,P.ZP)("web.facebook_connect_button.cancel.unknown"),(0,a.x)(r),n="other_error");var o=e.props.handlePostConnectClick;o&&o(n)})),H(W(e),"handleConnectClick",(function(){var t=e.props,n=t.connectErrorMessage,r=t.desktopCoreLoginContext,o=r.facebookAccessTokenRefreshIsEnabled,i=r.getDeviceAppTypeString,s=t.i18n;t.webFacebookDisabled?e.setState({showModal:!0}):((0,P.ZP)("fallback_facebook_button.click"),(0,P.NC)("press_facebook_login_fallback"),(0,P.ZP)("unauth_web.facebook_connect.manual.attempt"),(0,P.ZP)("unauth_web.social_connect.facebook.".concat(i())),c({facebookAccessTokenRefreshIsEnabled:o,i18n:s,onSuccess:function(t){e.onFacebookConnectSuccess(t)},onError:function(e){(0,P.ZP)("unauth_web.facebook_connect.manual.failure"),e.alertedUpstream||(0,a.x)(n)},rerequestFacebookEmail:e.rerequestFacebookEmail}))})),H(W(e),"profilePicButtonRegisterWithFacebook",(function(t,n,r){var o=e.props,i=o.disablePostSignupNextUrl,c=o.desktopCoreLoginContext,s=c.facebookAccessTokenRefreshIsEnabled,u=c.register,d=o.i18n,p=o.loadingIndicatorCallback,f=o.nextUrlParam,h=o.onFBPhoneOnlyConnectVerified,m=o.onFBEmailDeniedPerm,g=o.onSocialConnectVerified,v=o.requestContext.country,I=o.showSignupWelcomeLoadingFn,w=o.showResponseMessageModal,_=function(){p&&p(!1),t?(e.contextLogSignupLoginEvent(7488),(0,a.x)(d._("Email required for registration."," - "," -- "))):e.navigate("/join/register/facebook/")},j=function(e){if(h&&e.socialConnectData&&!e.socialConnectData.email){var t=Object.assign({},n,r);h(B.sr.FACEBOOK,e.socialConnectData,t)}else e.socialConnectData&&!e.socialConnectData.email?(0,R.uP)("email").then((function(e){!e.hasPerm&&m?m():_()}),_):_()},O=function(t){e.contextLogSignupLoginEvent(7487);var n=e.props.showResponseMessageModal;n?n(!0):x.ZP.handleSignupRedirect(f,i)},A=(0,B.NN)(v)||(0,B.r4)(v),S=function(){(0,b.Z)(s).then(l.Z).then((function(e){return u(F(F(F({},e),n),r))})).then(O,j)};g&&A?(0,b.Z)(s).then((function(t){if(t.email)if(t.birthday&&y(t.birthday,18))!w&&I&&I(!0),S(),e.contextLogSignupLoginEvent(7537);else{p&&p(!1);var o=Object.assign({},n,r);g(B.sr.FACEBOOK,t,o)}else S()}),j):S()})),H(W(e),"registerWithFacebook",(function(t,n,r){var o=e.props,i=o.disablePostSignupNextUrl,c=o.desktopCoreLoginContext,s=c.facebookAccessTokenRefreshIsEnabled,u=c.register,d=o.nextUrlParam,p=o.onSocialConnectVerified,f=o.onFBPhoneOnlyConnectVerified,h=o.requestContext.country,m=o.i18n,g=function(o){if(e.props.loadingIndicatorCallback&&e.props.loadingIndicatorCallback(!1),f&&o.socialConnectData&&!o.socialConnectData.email){var i=Object.assign({},n,r);f(B.sr.FACEBOOK,o.socialConnectData,i)}else t?(e.contextLogSignupLoginEvent(7488),e.rerequestFacebookEmail=!0,(0,a.x)(m._("Email required for registration."," - "," -- "))):e.navigate("/join/register/facebook/")};p&&(0,B.NN)(h)?(0,b.Z)(s).then((function(e){p(B.sr.FACEBOOK,e,r)}),g):((0,b.Z)(s).then(l.Z).then((function(e){return u(F(F({},e),r))})).then((function(){e.contextLogSignupLoginEvent(7487);var t=e.props.showResponseMessageModal;t?t(!0):x.ZP.handleSignupRedirect(d||window.location.pathname,i)}),g),e.contextLogSignupLoginEvent(7537))})),H(W(e),"navigateAfterLogin",(function(){var t=e.props.showResponseMessageModal;t?t(!0):x.ZP.handleRedirect(e.props.nextUrlParam||x.ZP.defaultSocialLoginRedirectUrl())})),e}return t=f,(n=[{key:"handleMessageEvent",value:function(e){(0,R.s0)(e,(function(e){return(0,P.ZP)("unauth_web.".concat(e))}))}},{key:"componentDidMount",value:function(){var e=this;if(!this.props.webFacebookDisabled){"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=this.checkLoginState,window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1,window.addEventListener("message",this.handleMessageEvent,!1));var t=this.props.requestContext.userAgent.platform;if(["ios","ipad"].includes(t))if(1!==window.fb_init&&2!==window.fb_init)this.initializeFB();else if(2===window.fb_init&&window.FB.XFBML)window.FB.XFBML.parse();else var n=setInterval((function(){2===window.fb_init&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(n))}),100);else setTimeout((function(){window.__branchRedirectToStore||!window.__branchPinterestStarted?e.initializeFB():window.onbeforeunload=function(){window.__branchRedirectToStore&&e.initializeFB()}}),50);this.props.isRerequest&&(this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1),this.props.showSignupWelcomeLoadingFn&&this.props.showSignupWelcomeLoadingFn(!1))}}},{key:"componentDidUpdate",value:function(){window.nextUrlParam=this.props.nextUrlParam}},{key:"componentWillUnmount",value:function(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){var e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam),window.removeEventListener("message",this.handleMessageEvent)}}},{key:"loginWithFacebook",value:function(e,t,n,r,i,c){var s=this,l=this.props,u=l.container,d=l.i18n,p=l.onLoginWithMfa,f=l.onLoginWithSuspended,h=l.preventRegister,b=l.desktopCoreLoginContext,m=b.getDeviceAppTypeString,g=b.getLoginContext;(0,v.Z)(e,g(),t,r).then((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=null===(e=n.resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user;r&&a&&(0,o.Z)(a,"facebook",u),(0,P.ZP)("login.facebook."+m()),s.contextLogSignupLoginEvent(7536),s.navigateAfterLogin(),null==i||i();var c=A.K.fromGlobalContext(),l=c.experiments.getWithActivation("m10n_measurement_pinterest_tag_us"),d=l.anyEnabled;d&&I.ZP.create("PartnerResource").callGet().then((function(e){var t,n,r,o,i,a=(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.email)||(null===(r=e.resource_response)||void 0===r||null===(o=r.client_context)||void 0===o||null===(i=o.user)||void 0===i?void 0:i.email);if("undefined"!=typeof window)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:a})}catch(c){}}))}),(function(r){if(s.contextLogSignupLoginEvent(7535),r.api_error_code===C.Zn)null==c||c(!1),(0,P.ZP)("login.facebook."+m()),null==p||p(e,r.data);else if(r.api_error_code===C.xN||r.api_error_code===C.lg){if(h)return void h("facebook");n(r,e,t)}else r&&r.api_error_code&&(0,P.ZP)("facebook_button.failed_login_".concat(r.api_error_code)),r&&r.api_error_code===C.an&&f?f():(0,a.x)(d._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc.","error message when user failed to login caused by suspend/deactivated etc."))}))}},{key:"onFacebookConnectSuccess",value:function(e){var t=this.props,n=t.container,r=t.isBusiness,o=void 0!==r&&r,i=t.pageContext;(0,P.ZP)("unauth_web.facebook_connect.manual.success");var a={facebook_id:e.id,facebook_token:e.access_token},c={container:n,hybridTier:null==i?void 0:i.hybridTier,page:null==i?void 0:i.pageType,is_business:o};this.loginWithFacebook(a,c,this.registerWithFacebook),this.contextLogSignupLoginEvent(7534)}},{key:"initializeFB",value:function(){var e=this.props.requestContext.locale;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=function(){return(0,R.sl)()},function(t,n,r){var o=t.getElementsByTagName(n)[0];if(!t.getElementById(r)){var i=t.createElement(n);i.id=r,i.src=(0,s.Z)(e),o.parentNode&&o.parentNode.insertBefore(i,o)}}(document,"script","facebook-jssdk")))}},{key:"checkLoginState",value:function(){window.FB.getLoginStatus((function(e){this.statusChangeCallback&&this.statusChangeCallback(e)}))}},{key:"contextLogSignupLoginEvent",value:function(e){var t=this.props,n=t.logContextEvent,r=t.desktopCoreLoginContext.viewer;n({event_type:e,aux_data:F(F({},(0,j.Z)(r.type)),{},{signup_login_method:2})}),"UNAUTH"===r.type&&((0,P.NC)("press_facebook_login"),(0,P.ZP)("unauth_web.facebook_connect.manual.attempt"))}},{key:"renderProfilePicButtonWithFallback",value:function(){var e=this,t=this.props,n=t.type,r=t.i18n,o=t.isRerequest,a=t.showFallback,c=t.styleOverrides,s=this.props,l=s.buttonText,p={backgroundClip:"padding-box",backgroundColor:"#1877F2",display:"block",fontWeight:"normal",height:"40px",marginTop:"0px",padding:"0px 0px 0px 8px",position:"absolute",textAlign:"left",transition:"opacity .2s linear",width:"100%",borderRadius:"20px"};return s.inline&&(p=F(F({},p),{},{width:"48%",display:"inline-block"})),a&&(p=F(F({},p),{},{position:"relative"})),c&&c.button&&(p=F(F({},p),c.button)),(0,d.jsxs)(u.xu,{"data-test-id":"facebook-connect-button",ref:function(t){e._fallbackButton=t},children:[(0,d.jsx)(i.Z,{className:"FacebookConnectButton",onClick:this.handleConnectClick,styleOverrides:p,tabIndex:-1,children:(0,d.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(u.xu,{color:"white",rounding:"circle",marginStart:1,dangerouslySetInlineStyle:{__style:{paddingTop:4,paddingBottom:3,paddingRight:3,paddingLeft:3}},height:24,width:24,children:(0,d.jsx)(u.JO,{accessibilityLabel:r._("facebook","accessible label for facebook icon","accessible label for facebook icon"),color:"blue",icon:"facebook",inline:!0,size:19})}),(0,d.jsx)("span",{style:F({color:"#fff",display:"inline-block",fontFamily:O.c,fontSize:"16px",fontWeight:"bold",letterSpacing:"0.1px",lineHeight:"15px",marginRight:"24px",marginLeft:"15px",paddingTop:"4px",textAlign:"center",verticalAlign:"text-bottom",WebkitFontSmoothing:"auto",whiteSpace:"normal",width:"88%"},(null==c?void 0:c.text)||{}),children:l})]})}),!a&&(0,d.jsx)(u.xu,{height:40,dangerouslySetInlineStyle:{__style:{textAlign:"left"}},ref:function(t){e.profilePicButton=t},children:(0,d.jsx)("div",{className:"fb-login-button","data-auth-type":o?"rerequest":void 0,"data-button-type":"login"===n?"login_with":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":R.$.join(","),"data-size":"large","data-use-continue-as":"login"===n?"false":"true","data-width":"268px"})})]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.styleOverrides,r=t.tooltip,o=t.useGestaltTooltip,i=F({position:"relative"},n&&n.container||{});return(0,d.jsxs)("div",{style:i,children:[this.renderProfilePicButtonWithFallback(),!!r&&(o?(0,d.jsx)(h,{anchor:this._fallbackButton,message:r}):(0,d.jsx)(u.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:12,left:"100%"}},children:(0,d.jsx)(_.Z,{message:r})})),this.state.showModal&&(0,d.jsx)(w.Z,{type:"facebook",onDismiss:function(){return e.setState({showModal:!1})}})]})}}])&&U(t.prototype,n),r&&U(t,r),f}(r.Component);function X(e){var t=(0,E.ZP)(),n=(0,k.Z)(),r=(0,T.B)(),o=(0,D.B$)(),i=(0,J.lO)(),a=(0,S.aq)("web_facebook_disabled").anyEnabled;return(0,d.jsx)(G,F(F({},e),{},{connectErrorMessage:t._("Couldn't connect. You must authorize Pinterest."," - "," -- "),desktopCoreLoginContext:o,i18n:t,logContextEvent:n,requestContext:r,pageContext:i,webFacebookDisabled:a}))}},639720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return wt}});var r=n(793550),o=n(575429),i=n(151101),a=n(405622),c=n(632262),s=n(799881),l=n(773559),u=n(641483),d=n(174523),p=n(304966),f=n(977399),h=n(848101),b=n(218265),m=n(80209);var g=function(e){var t=e.component,n=(0,h.B$)().viewer,r=(0,d.ZP)(),o=(0,p.Z)(),i=function(e){return"signup"===e?13096:13867}(t),a="".concat(l.Z.settings.CANONICAL_MAIN_URL).concat(l.Z.settings.PARTNER_SITE_SIGNUP);return(0,m.jsxs)(b.xu,{display:"flex",alignItems:"center",justifyContent:"center",fit:!0,marginTop:3,marginEnd:"auto",marginBottom:1,marginStart:"auto",children:[(0,m.jsx)(b.xv,{size:"sm",weight:"bold",children:r._("Are you a business?","Prompt for business signup","Prompt for business signup")}),(0,m.jsx)(b.xu,{"data-test-id":"business-start",marginStart:1,children:(0,m.jsx)(b.rU,{href:a,hoverStyle:"none",target:"blank",onClick:function(){(0,u.ZP)("unauth.business_link.click"),o({event_type:101,component:i,element:10281,aux_data:(0,f.Z)(n.type)})},children:(0,m.jsx)(b.xv,{size:"sm",weight:"bold",children:r._("Get started here!","Prompt for signing up","Prompt for signing up")})})})]})};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t=e.css,n=void 0===t?{}:t;return(0,m.jsx)("div",{style:v({borderBottom:"#dedede 1px solid",margin:"5px auto",width:"110px"},n)})};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;O(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(k(e=o.call.apply(o,[this].concat(n))),"state",{hover:!1}),R(k(e),"toggleHover",(function(){e.setState((function(e){return{hover:!e.hover}}))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.buttonText,n=e.fullWidth,r=e.link,o=e.onClick,i=e.title,a=e.titleStylesOverride,s=e.useSmallButton,l=j({color:"#5a5a5a",fontWeight:500,fontSize:"12px"},a||{}),u=(0,m.jsx)(c.Z,{className:"lightGray",href:r,onClick:o,styleOverrides:j({width:n?"100%":"160px",fontSize:"14px",padding:"10px 20px"},n?{marginTop:0}:{}),type:"button",children:t});return s&&(l=j(j({},l),{},{float:"left"}),u=(0,m.jsx)(b.xu,{onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover,display:"flex",justifyContent:"center",children:(0,m.jsx)(c.Z,{className:"noButtonStyles",onClick:o,styleOverrides:{color:"#333",marginLeft:"5px",fontWeight:"bold"},type:"button",dataTestId:"login-signup-toggle",children:t})})),(0,m.jsxs)(b.xu,{display:"flex",fit:!0,marginEnd:"auto",marginBottom:1,alignItems:"center",justifyContent:"center",children:[i&&(0,m.jsx)("h5",{style:l,children:i}),u]})}}])&&A(t.prototype,n),r&&A(t,r),i}(r.Component),D=n(181307),T=n(585967),J={margin:"0 auto 18px",width:"270px"},V={display:"block",height:"45px",margin:"5px auto 8px",width:"45px"},M={borderBottom:"#efefef 1px solid",margin:"20px 0px 15px -68px",width:"404px"},F={color:"#333",fontSize:"14px",fontWeight:"normal",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},N={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},U={marginRight:0,marginLeft:"4%",borderRadius:32};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){var t=e.link,n=e.onClick,o=(0,d.ZP)(),i=(0,D.aq)("advertiser_growth_add_biz_create_unauth").anyEnabled;return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(B,{buttonText:o._("Not on Pinterest yet? Sign up","Toggle to switch from the login modal to the sign up modal","Toggle to switch from the login modal to the sign up modal"),link:t,onClick:n,titleStylesOverride:F,useSmallButton:!0}),i&&(0,m.jsx)(g,{component:"login"})]})},q=function(e){var t=e.handleSignupToggleButtonClick,n=e.isAccountSwitch,r=e.toggleType,o=(0,T.B)().isRTL;return"NOT_NOW_BUTTON"===r?(0,m.jsxs)(b.xu,{children:[(0,m.jsx)(I,{css:{margin:"10px auto"}}),(0,m.jsx)(b.xu,{display:"inlineBlock",marginEnd:1,children:(0,m.jsx)(W,{onClick:t})}),(0,m.jsx)(b.xu,{})]}):"NO_TOGGLE"===r||n?null:"SMALL_TOGGLE"===r?(0,m.jsxs)(b.xu,{children:[(0,m.jsx)(I,{css:{margin:"10px auto"}}),(0,m.jsx)(W,{onClick:t}),(0,m.jsx)(b.xu,{})]}):(0,m.jsxs)(b.xu,{children:[(0,m.jsx)(I,{css:L(L({},M),o?{margin:"20px 30px 15px -10px"}:{marginLeft:"-10px"})}),(0,m.jsx)(b.xu,{children:(0,m.jsx)(W,{link:"/signup/",onClick:t})})]})},H=function(e){var t=e.onLoginClick,n=(0,d.ZP)(),o=(0,D.aq)("advertiser_growth_add_biz_create_unauth").anyEnabled;return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(B,{buttonText:n._("Already a member? Log in","Toggle to switch from the sign up modal to the login modal ","Toggle to switch from the sign up modal to the login modal "),link:"/login/",onClick:t,titleStylesOverride:F,useSmallButton:!0}),o&&(0,m.jsx)(g,{component:"signup"})]})};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){var t=e.container,n=e.handleLoginToggleButtonClick,r=e.toggleType,o=(0,T.B)().isRTL;return"NOT_NOW_BUTTON"===r?(0,m.jsx)(b.xu,{children:(0,m.jsx)(b.xu,{marginTop:8,children:(0,m.jsx)(H,{onLoginClick:n})})}):"home_page"===t?(0,m.jsx)(b.xu,{marginTop:3,children:(0,m.jsx)(H,{onLoginClick:n})}):(0,m.jsxs)(b.xu,{children:[(0,m.jsx)(I,{css:X(X({},M),o?{margin:"20px -68px 15px 0px"}:{})}),(0,m.jsx)(b.xu,{children:(0,m.jsx)(H,{onLoginClick:n})})]})},z=n(828839),$=n(521085),ee=function(e){var t=e.email,n=e.emailError,o=e.onNotNowClick,i=e.handleEmailChange,a=e.handleSubmit,c=(0,d.ZP)();(0,r.useEffect)((function(){(0,u.ZP)("unauth.fb_phone_only_signup.email_step")}),[]),c._("We use your email address for account creation and for important security and legal notices.","subtitle to explain the step on email collection form","subtitle to explain the step on email collection form");var s=c._("Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.","subtitle to explain the step on email collection form","subtitle to explain the step on email collection form");return(0,m.jsx)(b.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),a()},children:[(0,m.jsx)(b.xv,{align:"start",overflow:"normal",children:s}),(0,m.jsx)(b.xu,{marginTop:3}),(0,m.jsx)(b.xu,{children:(0,m.jsx)(b.nv,{ref:$.Z,errorMessage:Array.isArray(n)?n.join(""):n,id:"email",onChange:i,placeholder:c._("Email address","email placeholder in the email inputfield on email collection form","email placeholder in the email inputfield on email collection form"),size:"lg",type:"email"})}),(0,m.jsx)(b.xu,{marginTop:5}),(0,m.jsx)(b.zx,{fullWidth:!0,color:"red",disabled:!t,text:c._("Continue","word on the button which to submit user email information","word on the button which to submit user email information"),type:"submit"}),(0,m.jsx)(b.xu,{marginTop:2}),(0,m.jsx)(b.zx,{fullWidth:!0,onClick:function(){(0,u.ZP)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:c._("Not now","word on not now button to dismiss the collection form","word on not now button to dismiss the collection form"),type:"submit"})]})})},te=n(754837),ne=n(103382),re=n(746517),oe=n(311866),ie=n(302360),ae=n(116955),ce=n(997993),se=n(899679);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve="email",xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,o=he(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ye(me(t=o.call(this,e)),"mounted",!1),ye(me(t),"handleEmailChange",(function(e){var n=e.value;t.setState({email:n})})),ye(me(t),"showError",(function(e,n){t.mounted&&n===ve&&t.setState({emailError:e})})),ye(me(t),"handleSubmit",(function(){var e=t.props.i18n;if((0,u.ZP)("unauth.fb_phone_only_signup.submit_email"),t.state.email)(0,u.ZP)("unauth.fb_phone_only_signup.submit_email"),t.attemptEmailSignupOrLogin();else{var n=e._("Email is required","email error message","email error message");t.setState({emailError:n})}})),ye(me(t),"handleSignupSuccess",(function(){re.ZP.handleSignupRedirect(t.props.nextUrlParam||window.location.pathname,!0),(0,u.ZP)("unauth.fb_phone_only_signup.signup_success")})),ye(me(t),"handleSignupFailure",(function(e){return function(n){var r=t.props.i18n,o=n.message||r._("Oops! Something went wrong… Click Continue to try again.","Error during signup during FB email collection step","Error during signup during FB email collection step");t.showError(o,e),(0,u.ZP)("unauth.fb_phone_only_signup.signup_failure")}})),ye(me(t),"attemptEmailSignupOrLogin",(function(){var e=t.props,n=e.desktopCoreLoginContext,r=n.facebookAccessTokenRefreshIsEnabled,o=n.register,i=e.i18n,a=t.props.requestContext.country,c=t.state.email,s=[(0,ce.GT)({message:i._("Hmm... that doesn't look like an email address.","email error message","email error message")})],l=(0,ie.Z)(c,s);if(l)return(0,u.ZP)("unauth.fb_phone_only_signup.email_validation_failure"),void t.setState({emailError:l});var d=t.props,p=d.registrationCredentials,f=p.type,h=p.credentialsAndLoggingData,b=d.showSocialSignupWithAgeStep,m=d.showEmailAlreadyExistModal,g={email:c,facebook_token:h.facebook_token?h.facebook_token:"",facebook_id:h.facebook_id?h.facebook_id:""};oe.ZP.create("EmailExistsResource",{email:c}).callGet().then((function(e){!1===e.resource_response.data?(0,se.NN)(a)?b(f,g,h):(0,ne.Z)(r,!0).then(te.Z).then((function(e){return o(de(de({},e),g))})).then(t.handleSignupSuccess,t.handleSignupFailure(ve)):(m(f,g,h),(0,u.ZP)("unauth.fb_phone_only_signup.email_existed"))}),(function(e){var n=i._("Hmm... that doesn't look like an email address.","email error message","email error message");e.api_error_code===ae.bd&&(n=e.message),t.showError(n,ve),(0,u.ZP)("unauth.fb_phone_only_signup.email_exist_api_call_failure")}))})),t.state={email:"",emailError:""},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return(0,m.jsx)(b.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:(0,m.jsx)(ee,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}])&&pe(t.prototype,n),r&&pe(t,r),i}(r.Component),Ie=function(e){var t=(0,h.B$)(),n=(0,T.B)(),r=(0,d.ZP)();return(0,m.jsx)(xe,de(de({},e),{},{desktopCoreLoginContext:t,i18n:r,requestContext:n}))},we=function(e){var t=e.onClick,n=(0,T.B)(),r=(0,d.ZP)();return(0,m.jsx)(b.xu,{position:"absolute",display:"block",marginTop:4,marginEnd:4,marginStart:4,height:40,width:40,right:!n.isRTL,left:n.isRTL,top:!0,"data-test-id":"full-page-signup-close-button",children:(0,m.jsx)(b.hU,{accessibilityLabel:r._("close","accessible label for close button","accessible label for close button"),onClick:t,icon:"cancel",iconColor:"darkGray"})})};function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(i,e);var t,n,r,o=Ee(i);function i(){var e;Ae(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Be(Ce(e=o.call.apply(o,[this].concat(n))),"componentDidMount",(function(){var t=e.props,n=t.container,r=t.hybridTier,o=t.modalType;(0,u.ZP)("web.unauth.modal_title.view"),(0,u.ZP)("unauth_web_modal.".concat(n||"unknown",".").concat(r||"undefined_tier",".").concat(o,".shown"))})),Be(Ce(e),"getSignupTitleStyles",(function(){var t={color:"#333",fontSize:"36px",fontWeight:"600",letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",paddingLeft:"16px",paddingRight:"16px",WebkitFontSmoothing:"antialiased",wordBreak:"break-word"};return e.props.darkSignupTitle&&(t=Oe(Oe({},t),{},{color:"#000"})),t})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.titleText,t=this.getSignupTitleStyles();return(0,m.jsx)("h3",{style:t,children:e})}}])&&Se(t.prototype,n),r&&Se(t,r),i}(r.Component),Te=n(185062),Je=n(241933),Ve=n(80336),Me=function(e){Je.Z.resume(Ve.LU),(0,u.ZP)("web.dismiss_account_switcher.".concat(e))},Fe=function(e){var t=e.email,n=e.emailError,o=e.onNotNowClick,i=e.handleEmailChange,a=e.handleSubmit,c=(0,d.ZP)();(0,r.useEffect)((function(){(0,u.ZP)("unauth.line_missing_email.email_step")}),[]),c._("We use your email address for account creation and for important security and legal notices.","subtitle to explain the step on email collection form","subtitle to explain the step on email collection form");var s=c._("Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.","subtitle to explain the step on email collection form","subtitle to explain the step on email collection form");return(0,m.jsx)(b.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),a()},children:[(0,m.jsx)(b.xv,{align:"start",overflow:"normal",children:s}),(0,m.jsx)(b.xu,{marginTop:3,marginBottom:5,children:(0,m.jsx)(b.nv,{ref:$.Z,errorMessage:Array.isArray(n)?n.join(""):n,id:"email",onChange:i,placeholder:c._("Email address","email placeholder in the email inputfield on email collection form","email placeholder in the email inputfield on email collection form"),size:"lg",type:"email"})}),(0,m.jsx)(b.zx,{fullWidth:!0,color:"red",disabled:!t,text:c._("Continue","word on the button which to submit user email information","word on the button which to submit user email information"),type:"submit"}),(0,m.jsx)(b.xu,{marginTop:2}),(0,m.jsx)(b.zx,{fullWidth:!0,onClick:function(){(0,u.ZP)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:c._("Not now","word on not now button to dismiss the collection form","word on not now button to dismiss the collection form"),type:"submit"})]})})},Ne=n(500953);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e){var t=e.nextUrlParam,n=e.loadingIndicatorCallback,o=e.showEmailAlreadyExistModal,i=e.onNotNowClick,a=e.registrationCredentials,c=e.desktopCoreLoginContext,s=e.i18n,l=Qe((0,r.useState)(""),2),d=l[0],p=l[1],f=Qe((0,r.useState)(""),2),h=f[0],g=f[1];(0,Ne.Z)((function(){n(!1)}));var y=function(e){g(e)},v=function(){n(!1),re.ZP.handleSignupRedirect(t||re.ZP.defaultSocialLoginRedirectUrl(),!0),(0,u.ZP)("unauth.line_missing_email.signup_success")},x=function(e){n(!1);var t=e.message||s._("Oops! Something went wrong… Click Continue to try again.","unauth.lineEmailCollect.error","Error during signup during Line email collection step");y(t),(0,u.ZP)("unauth.line_missing_email.signup_failure")};return(0,m.jsx)(b.xu,{marginTop:0,marginBottom:0,marginStart:"auto",marginEnd:"auto",width:268,children:(0,m.jsx)(Fe,{email:d,emailError:h,handleEmailChange:function(e){var t=e.value;p(t)},handleSubmit:function(){if((0,u.ZP)("unauth.line_missing_email.submit_email"),d)(0,u.ZP)("unauth.line_missing_email.submit_email"),function(){var e=c.register,t=[(0,ce.GT)({message:s._("Hmm... that doesn't look like an email address.","email error message","email error message")})],r=(0,ie.Z)(d,t);if(r)return(0,u.ZP)("unauth.line_missing_email.email_validation_failure"),void g(r);var i=a.type,l=a.credentialsAndLoggingData,p=l.line_access_token||"",f=l.line_id_token||"",h={email:d,line_access_token:p,line_id_token:f};oe.ZP.create("EmailExistsResource",{email:d}).callGet().then((function(t){!1===t.resource_response.data?(n(!0),e(h).then(v,x)):(o(i,h,l),(0,u.ZP)("unauth.line_missing_email.email_existed"))}),(function(e){var t=s._("Hmm... that doesn't look like an email address.","email error message","email error message");e.api_error_code===ae.bd&&(t=e.message),y(t),(0,u.ZP)("unauth.line_missing_email.email_exist_api_call_failure")}))}();else{var e=s._("Email is required","email error message","email error message");g(e)}},onNotNowClick:i})})},He=function(e){var t=(0,h.B$)(),n=(0,d.ZP)();return(0,m.jsx)(qe,Ze(Ze({},e),{},{desktopCoreLoginContext:t,i18n:n}))},Ge=n(826936),Xe=n(483851),Ye=n(607939),Ke=n(272529),ze=n(481731),$e=n(225865);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){var t=e.children,n=e.noBoxShadow,r=e.scaleModal,o=tt(tt({},N),n?{boxShadow:"none"}:{}),i=(0,h.B$)().viewer,a=(0,h.Cw)();return"LIMITED_LOGIN"===i.type&&a?(0,m.jsxs)("div",{"data-test-id":"login-modal-default",style:tt(tt({},o),{},{display:"flex",width:"auto",padding:""}),children:[(0,m.jsx)(b.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},children:(0,m.jsx)(b.xu,{maxWidth:400,height:"100%",dangerouslySetInlineStyle:{__style:{width:"number"==typeof a.height&&"number"==typeof a.width?600*(a.width/a.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:a.url?"url(".concat(a.url,")"):""}}})}),(0,m.jsx)(b.xu,{width:400,dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},children:t})]}):(0,m.jsx)("div",{className:r?"unauth-homepage-conversion-modal":"","data-test-id":"login-modal-default",style:r?tt(tt({},o),U):tt(tt({},o),{},{padding:"32px 0"}),children:t})},ot=function(e){var t,n=e.children,o=e.email,a=e.footer,c=e.handleNotYouClick,s=e.header,l=e.noBoxShadow,u=e.scaleModal,p=e.title,f=e.viewerInfo,g=(0,h.B$)().viewer,y=(0,d.ZP)();return(0,m.jsx)(rt,{scaleModal:u,noBoxShadow:l,children:(0,m.jsxs)(r.Fragment,{children:[s,(0,m.jsx)("div",{style:tt(tt({},V),{},{margin:"0 auto 16px",width:40,height:40}),children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsx)("div",{style:{__style:tt(tt({},J),{},{width:"auto",overflow:"hidden",maxHeight:"150px",margin:"0 48px 16px"})},children:p}),"LIMITED_LOGIN"===g.type&&(0,m.jsx)(b.xu,{marginBottom:4,paddingX:12,children:(0,m.jsx)($e.Z,{})}),(0,m.jsx)(b.xu,{width:120,dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},children:(0,m.jsx)(i.Z,{name:f.firstName,src:null!==(t=f.imageUrl)&&void 0!==t?t:void 0})}),(0,m.jsx)(b.xu,{marginBottom:3,children:(0,m.jsx)(b.xv,{align:"center",children:o})}),n,(0,m.jsx)(b.xu,{paddingY:5,children:(0,m.jsx)(b.iz,{})}),(0,m.jsx)(b.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(b.iP,{fullWidth:!1,onTap:c,children:(0,m.jsx)(b.xv,{align:"center",size:"md",weight:"bold",children:(0,m.jsx)(b.rU,{href:"#",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:y._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account")})})})}),(0,m.jsx)(b.xu,{marginBottom:0,marginTop:1,children:a})]})})},it=n(634992),at=n(115429),ct=n(61743),st=n(549156),lt=n(865253),ut=n(946753),dt=n(272828);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gt="pinBookmarklet",yt={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},vt={minHeight:"400px",padding:"20px 10px 24px"},xt={backgroundColor:"#f0f0f0",border:"0px",outline:"none"},It=function(e,t,n){switch(t){case"loginMfa":return e._("Two-factor authentication required","desktopLoginModal.2fa.title","Title for the two-factor authentication modal");case"signup":case"signupOrPersonalizedLogin":return function(e,t){switch(t){case"boardInvite":return e._("Sign up to accept your board invite","Sign up copy board invite","Sign up copy board invite");case"userProfilePage":return e._("Sign up to see more of this profile","signup copy profile page","signup copy profile page");case"saveButton":return e._("Sign up to see more","signup copy save button","signup copy save button");case"saveButtonExp":return e._("Join Pinterest to save this idea","FullPageSignup.signupTagline.save","signup copy save exp button");case"homePage":return e._("Welcome to Pinterest","Title on desktop signup modal on home page","Title on desktop signup modal on home page");case"pinBookmarklet":return e._("Sign up to save this Pin!","signup copy save button from third party website","signup copy save button from third party website");case"downloadImageBtnDweb":return e._("Never lose track of your ideas again! Sign up for an account","mweb.unauth.download_modal.download_value_prop","Highlighting the download value prop in download modal");default:return e._("Sign up to see more","sigup copy default includes pin click and scrolling","sigup copy default includes pin click and scrolling")}}(e,n);default:return function(e,t){switch(t){case"boardInvite":return e._("Log in to accept your board invite","Login copy board invite","Login copy board invite");case"invite":return e._("Log in to invite friends"," - "," -- ");case"homePage":return e._("Welcome to Pinterest","Title on desktop signup modal on home page","Title on desktop signup modal on home page");case"pinBookmarklet":return e._("Sign in to save this Pin!","Login copy save button from third party website","Login copy save button from third party website");default:return e._("Log in to see more","Title on desktop login modal","Title on desktop login modal")}}(e,n)}},wt=function(e){var t=e.AMPClientId,n=e.container,l=e.savePinId,g=e.customLoginTagline,y=e.customSignupTagline,v=e.darkSignupTitle,x=e.delayedTitleRender,w=e.email,_=e.emailValidationError,j=e.handleCloseButtonClick,O=e.handleModalTypeSwitch,A=e.handleShowingSignupWelcomeLoading,S=e.hideAccountSwitchValueProp,P=e.hybridTier,E=e.inviter,k=e.isAccountSwitch,C=void 0!==k&&k,R=e.isBusiness,B=e.mfaCreds,D=e.modal,M=e.nextUrlParam,F=e.pageContext,Z=e.passwordValidationError,L=e.postSignupUrlParam,Q=e.renderBusinessCreateButton,W=e.scaleModal,G=e.showCloseIcon,X=e.showResponseMessageModal,Y=e.signupRedirectUrl,$=e.signupSource,ee=void 0===$?"defaultSource":$,te=e.socialRegistrationCredentials,ne=e.suppressFocus,re=e.toggleType,oe=void 0===re?"DEFAULT_TOGGLE":re,ie=e.type,ae=void 0===ie?"signup":ie,ce=(0,T.B)(),se=ce.country,le=(0,d.ZP)(),ue=(0,h.B$)().viewer,de=ue.info,pe=ue.type,fe=(0,p.Z)(),he=bt((0,r.useState)(),2),be=he[0],me=he[1],ge=bt((0,r.useState)(w||""),2),ye=ge[0],ve=ge[1],xe=bt((0,r.useState)(""),2),_e=xe[0],je=xe[1],Oe=bt((0,r.useState)(!1),2),Ae=Oe[0],Se=Oe[1],Pe=bt((0,r.useState)(!1),2),Ee=Pe[0],ke=Pe[1],Ce=bt((0,r.useState)(""),2),Re=Ce[0],Be=Ce[1],Je=bt((0,r.useState)(B||null),2),Ve=Je[0],Fe=Je[1],Ne=bt((0,r.useState)(""),2),Ue=Ne[0],Ze=Ne[1],Le=bt((0,r.useState)(""),2),Qe=Le[0],We=Le[1],qe=bt((0,r.useState)(""),2),$e=qe[0],et=qe[1],tt=bt((0,r.useState)(!1),2),nt=tt[0],rt=tt[1],pt=bt((0,r.useState)(te),2),ht=pt[0],mt=pt[1],wt=bt((0,r.useState)("signup"===(0,Te.Z)().type?"signup":ae),2),_t=wt[0],jt=wt[1],Ot=bt((0,r.useState)(!1),2),At=Ot[0],St=Ot[1],Pt=(0,f.Z)(pe),Et=(0,dt.TH)(),kt=(0,dt.$B)().path,Ct="save"!==n&&"download"!==n||!l?"/pin/:id"===kt&&Et.pathname.split("/")[2]:l,Rt=(0,o.useSelector)((function(e){var t=e.pins;return Ct?t[Ct]:null})),Bt=(null==Rt?void 0:Rt.images)&&Rt.images["236x"]&&Rt.images["236x"].url;(0,r.useEffect)((function(){var e=(F||{}).logging;return(0,u.ZP)("unauth.authentication_modal.shown.".concat(oe,".").concat(_t)),e&&fe({aux_data:Pt,event_type:1771,view_parameter:e.viewParameter,view_type:e.viewType}),t&&(0,u.tj)("signup_page_from_amp",{amp_client_id:t}),function(){C&&((0,lt.Z)("add_account_dismiss",null,n),Me(n))}}),[]);var Dt=(0,r.useRef)(_t);(0,r.useEffect)((function(){Dt.current!==_t&&(Dt.current=_t,(0,u.ZP)("unauth.authentication_modal.shown.".concat(oe,".").concat(_t)))}));var Tt=(0,r.useRef)(ae);(0,r.useEffect)((function(){Tt.current!==ae&&(Tt.current=ae,me(void 0),ve(w||""),je(""),Be(""),Fe(B||null),Ze(""),We(""),et(""),mt(te),jt(ae))}));var Jt,Vt,Mt,Ft=function(){return"home_page"===n?ft(ft({},yt),{},{minHeight:"initial"}):n===gt?ft(ft({},yt),{},{boxShadow:"none"}):yt},Nt=function(){return D?{textAlign:"center"}:Ft()},Ut=function(){return M?decodeURIComponent(M):M},Zt=function(e){return Ut()?(0,a.Z)(e,{next:Ut()}):e},Lt=function(e){return function(t,n,r){jt(e),mt({type:t,userData:n,credentialsAndLoggingData:r})}},Qt=(0,r.useCallback)((function(){return et("")}),[]),Wt=(0,r.useCallback)((function(e,t){Fe(e),Ze(t&&t.phone_number_end||void 0),jt("loginMfa")}),[]),qt=(0,r.useCallback)((function(e){(0,u.ZP)("unauth.personalized_login.prevent_register.".concat(e)),St(!0),ke(!1),jt("signup")}),[]),Ht=function(e){e.event.preventDefault(),St(!0),et(""),"EmailAlreadyExist"===_t&&jt("login"),(0,u.ZP)("unauth.personalized_login.not_you.click"),(0,u.NC)("click_change_signin_account"),fe({aux_data:Pt,element:10879,event_type:101})},Gt=function(e){(0,u.ZP)("unauth.authentication_modal.".concat(e,".").concat(oe,".").concat(_t))},Xt=function(){Gt("login_toggle_click"),(0,u.NC)("click_toggle_login"),O&&O(),jt("login"),Se(!1)},Yt=function(){Gt("signup_toggle_click"),(0,u.NC)("click_toggle_signup"),Y?(0,s.Z)(Y,!1):(O&&O(),jt("signup"))},Kt=(0,r.useCallback)((function(){jt("signup"),ke(!1)}),[]),zt=function(e){e.event.preventDefault(),(0,u.ZP)("unauth.personalized_login.signup_instead.click"),et(""),fe({aux_data:Pt,event_type:101,element:10880}),Yt()},$t=(0,r.useCallback)((function(){(0,u.ZP)("unauth.fb_email_reauth.post_connect.click")}),[]),en=(0,r.useCallback)((function(){(0,u.ZP)("unauth.fb_email_reauth.post_success.connect")}),[]),tn=(0,r.useCallback)((function(e){rt(e),A&&A(e)}),[A]),nn=G&&(0,m.jsx)(we,{onClick:j}),rn=function(){return W?U:Object.seal({})},on=function(){return(0,m.jsxs)(b.xu,{"data-test-id":"login-modal-default",width:484,dangerouslySetInlineStyle:{__style:ft(ft({},Nt()),{},{className:W?"unauth-homepage-conversion-modal":""},rn())},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:vt},children:[nn,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:"homePage"===ee?40:50})}),(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:ft({},J)},width:"login_page"!==n?400:270,children:!x&&(0,m.jsx)(De,{container:n,darkSignupTitle:v,hybridTier:P,modalType:"login",titleText:g||It(le,_t,ee||"login")})}),C&&!S&&(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:J},children:(0,m.jsx)(b.xu,{marginTop:-4,marginBottom:8,children:(0,m.jsx)(b.xv,{align:"center",size:"lg",children:le._("Have another Pinterest account? Log in to easily switch between them","Subtitle on the login modal that explains to a user why they would add an additional account to their profile","Subtitle on the login modal that explains to a user why they would add an additional account to their profile")})})}),(0,m.jsx)(Xe.ZP,{clearPassword:Qt,container:n,disablePostSignupNextUrl:!M,email:ye,emailValidationError:_,inputStyleOverrides:xt,isAccountSwitch:C,loadingIndicatorCallback:ke,nextUrlParam:Ut(),onEmailChange:function(e){return ve(e.target.value)},onFBPhoneOnlyConnectVerified:Lt("FBEmailCollection"),onLineEmailMissingError:Lt("LineEmailCollection"),onLoginWithMfa:Wt,onPasswordChange:function(e){return et(e.target.value)},onSocialConnectVerified:Lt("socialSignupWithAge"),password:$e,passwordValidationError:Z,requestContext:ce,showResponseMessageModal:"respondMessage"===ae?X:void 0}),R?(0,m.jsxs)(b.kC,{direction:"column",alignItems:"center",children:[(0,m.jsx)(I,{css:{margin:"10px auto"}}),(0,m.jsx)(b.xv,{weight:"bold",size:"sm",children:(0,m.jsx)(b.rU,{href:Zt("/business/create"),children:le._("Create new account","Link to the page to create a new business account instead of logging in","Link to the page to create a new business account instead of logging in")})})]}):(0,m.jsx)(q,{handleSignupToggleButtonClick:Yt,isAccountSwitch:C,toggleType:oe})]})]})};if(nt&&["signup","login","socialSignupWithAge"].includes(_t))return(0,m.jsx)(at.Z,{});if("bottom.right.upsell.email"===n)return on();if(!At&&!C&&de&&("signupOrPersonalizedLogin"===_t||"login"===_t&&"AUTH"!==pe)){var an=de.hasPassword||de.connectedToFacebook||de.connectedToGoogle;return function(e,t){return(0,m.jsx)(ot,{email:ye,handleNotYouClick:Ht,noBoxShadow:n===gt,scaleModal:W,header:(0,m.jsxs)(r.Fragment,{children:[Ee&&(0,m.jsx)(Ge.Z,{}),nn]}),viewerInfo:e,title:!x&&(0,m.jsx)(De,{container:n,darkSignupTitle:v,hybridTier:P,modalType:"personalizedLogin",titleText:(0,ut.nk)(le._("Welcome back, {{name}}!","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest"),{name:e?e.firstName:""}).join("")}),footer:(0,m.jsx)(b.iP,{fullWidth:!1,onTap:R?function(){fe({event_type:101,element:10880})}:zt,children:(0,m.jsx)(b.xv,{align:"center",size:"md",weight:"bold",children:(0,m.jsx)(st.Z,{id:"need-account-link",children:(0,m.jsx)(b.rU,{href:R?Zt("/business/create"):"#",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:le._("Need an account? Sign up now","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account")})})})}),children:(0,m.jsx)(Xe.ZP,{container:n,disablePostSignupNextUrl:!M,email:e.email,hideEmailField:!0,hideFacebookButton:t&&!e.connectedToFacebook,hideGoogleButton:t&&!e.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!e.hasPassword,hidePasswordReset:!0,hideTermsOfService:!0,inputStyleOverrides:xt,loadingIndicatorCallback:ke,loginButtonTextOverride:le._("Continue"," - "," -- "),nextUrlParam:Ut(),onEmailChange:function(){},onFBPhoneOnlyConnectVerified:Lt("FBEmailCollection"),onLineEmailMissingError:Lt("LineEmailCollection"),onLoginWithMfa:Wt,onPasswordChange:function(e){return et(e.target.value)},onSocialConnectVerified:Lt("socialSignupWithAge"),password:$e,passwordValidationError:Z,requestContext:ce,shouldPreventRegister:!0,showResponseMessageModal:"respondMessage"===ae?X:void 0,triggerAccountRecoveryMode:qt})})}(de,an)}return"signupOrPersonalizedLogin"===_t||"signup"===_t||"respondMessage"===_t?(Jt=Ae?le._("Welcome back to Pinterest!","welcoming user back to pinterest in signup modal when we recognize their email","welcoming user back to pinterest in signup modal when we recognize their email"):y||It(le,_t,ee||"defaultSource"),Vt=E&&!E.is_default_image?E:null,Mt=(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:ft({},J)},width:"login_page"!==n?400:270,children:!x&&(0,m.jsx)(De,{container:n,darkSignupTitle:v,hybridTier:P,modalType:"signup",titleText:Vt&&("respondMessage"===ae?le._("Sign up and let {{ name }} know what you think","Prompt user to signup to access all Pinterest features","Prompt user to signup to access all Pinterest features").replace("{{ name }}",Vt.first_name||Vt.full_name):le._("Join {{ name }} on Pinterest for more ideas","Prompt user to signup to access all Pinterest features","Prompt user to signup to access all Pinterest features").replace("{{ name }}",Vt.first_name||Vt.full_name))||(["login_page","home_page","save","download"].includes(n)?Jt:le._("Unlimited free access to the world's best ideas","FullPageSignup.signupTitle.save","Save value prop on desktop signup modal"))})}),(0,m.jsxs)(b.xu,{"data-test-id":"signup-default-modal",width:484,dangerouslySetInlineStyle:{__style:ft(ft(ft({},Nt()),{},{className:W?"unauth-homepage-conversion-modal":""},"home_page"===n&&Q?{paddingBottom:55}:Object.freeze({})),rn())},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:Vt?{minHeight:"400px",padding:"30px 10px 20px"}:vt},children:[nn,Vt?(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(b.xu,{width:108,dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},children:(0,m.jsx)(i.Z,{name:Vt.first_name||Vt.full_name,src:Vt.image_medium_url,verified:"respondMessage"===ae})}),Mt]}):(0,m.jsxs)(r.Fragment,{children:[("save"===n||"download"===n)&&Rt&&Bt?(0,m.jsx)(b.xu,{width:56,height:72,margin:"auto",marginBottom:6,marginTop:4,children:(0,m.jsx)(b.zd,{width:56,height:72,rounding:2,children:(0,m.jsx)(b.Ee,{alt:le._("Save pin image","FullPageSignup.signupImage.savePinImage","Unauth save modal pin image alt text"),color:Rt.dominant_color||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:Bt})})}):(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:"homePage"===ee?40:50})}),Mt,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:J},children:!Ae&&(0,m.jsx)(b.xu,{marginTop:-4,marginBottom:8,children:(0,m.jsx)(b.xv,{size:"lg",align:"center",children:"login_page"!==n&&"home_page"!==n&&"save"!==n&&"download"!==n?Jt:"downloadImageBtnDweb"===ee&&le._("Discover a better way to keep your ideas organized","mweb.unauth.signup_modal.download_value_prop_subheader","Highlighting the download value prop in signup modal but as a subheader")||"homePage"===ee&&le._("Find new ideas to try","Value prop on desktop signup modal on home page","Value prop on desktop signup modal on home page")||"saveButtonExp"===ee&&le._("Unlimited free access to the world's best ideas","FullPageSignup.signupSubTitle.saDDve","Value prop on desktop signup modal")||le._("Discovery starts here","Pinterest value proposition on desktop login modal","Pinterest value proposition on desktop login modal")})})})]}),(0,m.jsx)(it.Z,{additionalEmailPasswordChildren:(0,m.jsx)(K,{container:n,handleLoginToggleButtonClick:Xt,toggleType:oe}),age:be,clearPassword:Qt,container:n,disablePostSignupNextUrl:!M,email:ye,emailValidationError:_,gender:_e,loadingIndicatorCallback:ke,name:Qe,nextUrlParam:L||Ut(),onAgeChange:function(e){return me(e.target.value)},onEmailChange:function(e){return ve(e.target.value)},onFBEmailDeniedPerm:function(){return jt("FBEmailRerequest")},onFBPhoneOnlyConnectVerified:Lt("FBEmailCollection"),onGenderChange:function(e){return je(e.target.value)},onLoginWithMfa:Wt,onNameChange:function(e){return We(e.target.value)},onPasswordChange:function(e){return et(e.target.value)},onSocialConnectVerified:Lt("socialSignupWithAge"),password:$e,passwordValidationError:Z,setNameFromEmail:function(){return We((0,ze.Z)(ye,se))},setWelcomeBackMessageForExistingEmail:Se,showResponseMessageModal:"respondMessage"===ae?X:void 0,showSignupWelcomeLoadingFn:tn,signupSource:ee,suppressFocus:ne,onLineEmailMissingError:Lt("LineEmailCollection")})]}),Q&&Q()]})):"login"===_t?on():"loginMfa"===_t?(0,m.jsx)(b.xu,{"data-test-id":"login-modal-mfa",width:489,dangerouslySetInlineStyle:{__style:Nt()},children:(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:vt},children:[nn,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:ft(ft({},J),{},{padding:"0 10px"})},width:"100%",children:!x&&(0,m.jsx)(De,{container:n,darkSignupTitle:v,hybridTier:P,modalType:"loginMfa",titleText:It(le,_t,"loginMfa")})}),(0,m.jsx)(Ye.Z,{code:Re,container:n,creds:Ve,email:ye,inputStyleOverrides:xt,isAccountSwitch:C,nextUrlParam:Ut(),onCodeChange:function(e){return Be(e.target.value)},password:$e,phoneNumberEnd:Ue})]})}):"socialSignupWithAge"===_t?(0,m.jsxs)(b.xu,{"data-test-id":"login-modal-with-age",dangerouslySetInlineStyle:{__style:Ft()},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:vt},children:[nn,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:J},children:(0,m.jsx)(b.X6,{size:"lg",children:le._("Sign up to see more","Age collection signup step for Facebook/G+ authentication","Age collection signup step for Facebook/G+ authentication")})}),(0,m.jsx)(ct.Z,{container:n,loadingIndicatorCallback:ke,nextUrlParam:Ut(),registrationCredentials:ht,showResponseMessageModal:"respondMessage"===ae?X:void 0,showSignupWelcomeLoadingFn:tn})]}),(0,m.jsxs)(b.xu,{margin:4,children:[(0,m.jsx)(b.iz,{}),(0,m.jsx)(b.xu,{padding:3,children:(0,m.jsx)(H,{onLoginClick:Xt})})]})]}):"FBEmailRerequest"===_t?(0,m.jsxs)(b.xu,{"data-test-id":"login-modal-facebook",minHeight:400,dangerouslySetInlineStyle:{__style:ft({},Ft())},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:vt},children:[nn,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsxs)(b.xu,{width:320,dangerouslySetInlineStyle:{__style:ft({},J)},children:[(0,m.jsx)(b.X6,{children:le._("Add your email to finish","Tagline on facebook rerequest form","Tagline on facebook rerequest form")}),(0,m.jsx)(b.xu,{marginTop:6,children:(0,m.jsx)(b.xv,{align:"center",size:"lg",children:le._("We need your email address to complete this signup. Click the button below, and we can use the email associated with your Facebook account.","message to explain reauth step beneath the tagline","message to explain reauth step beneath the tagline")})}),(0,m.jsx)(b.xu,{margin:"auto",width:260,children:(0,m.jsx)(z.Z,{buttonText:le._("Continue with Facebook","Button text on facebook connect button on FB email reauth form","Button text on facebook connect button on FB email reauth form"),container:"FBEmailRerequest",handlePostConnectClick:$t,handlePostSuccessConnect:en,isRerequest:!0,loadingIndicatorCallback:ke,showResponseMessageModal:"respondMessage"===ae?X:void 0,useGestaltTooltip:!0})})]}),(0,m.jsx)(c.Z,{className:"lightGrey",onClick:Kt,styleOverrides:{border:"none",color:"#717171",fontWeight:"bold",textDecoration:"none",backgroundColor:"#eee",height:"36px",borderRadius:"5px",fontSize:"16px",width:"268px",marginTop:"90px"},children:le._("Not now","word on not now button to dismiss the FB email reauth form","word on not now button to dismiss the FB email reauth form")})]})]}):"FBEmailCollection"===_t?!!ht&&(0,m.jsxs)(b.xu,{"data-test-id":"signup-modal-facebook-phone-only",minHeight:400,dangerouslySetInlineStyle:{__style:ft({},yt)},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:vt},children:[nn,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsx)(b.xu,{width:310,dangerouslySetInlineStyle:{__style:ft({},J)},children:(0,m.jsx)(b.X6,{size:"lg",children:le._("What's your email address?","Prompt for email address in after sign in with apple","Prompt for email address in after sign in with apple")})}),(0,m.jsx)(Ie,{loadingIndicatorCallback:ke,nextUrlParam:M,onNotNowClick:Kt,registrationCredentials:ht,showEmailAlreadyExistModal:Lt("EmailAlreadyExist"),showSocialSignupWithAgeStep:Lt("socialSignupWithAge")})]})]}):"LineEmailCollection"===_t?!!ht&&(0,m.jsxs)(b.xu,{minHeight:400,dangerouslySetInlineStyle:{__style:yt},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:vt},children:[nn,(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsx)(b.xu,{width:310,dangerouslySetInlineStyle:{__style:J},children:(0,m.jsx)(b.X6,{size:"lg",children:le._("What's your email address?","Prompt for email address in after sign in with line","Prompt for email address in after sign in with line")})}),(0,m.jsx)(He,{loadingIndicatorCallback:ke,nextUrlParam:M,onNotNowClick:Kt,registrationCredentials:ht,showEmailAlreadyExistModal:Lt("EmailAlreadyExist")})]})]}):"EmailAlreadyExist"===_t?!!ht&&(0,m.jsxs)(b.xu,{"data-test-id":"login-modal-existing-email",dangerouslySetInlineStyle:{__style:N},children:[Ee&&(0,m.jsx)(Ge.Z,{}),(0,m.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:V},children:(0,m.jsx)(Ke.Z,{size:40})}),(0,m.jsx)(b.xu,{overflow:"hidden",maxHeight:120,width:350,dangerouslySetInlineStyle:{__style:ft({},J)},children:!x&&(0,m.jsx)(De,{container:n,darkSignupTitle:v,hybridTier:P,modalType:"personalizedLogin",titleText:(0,ut.nk)(le._("Looks like you're already on Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest"),{name:de?de.firstName:""}).join("")})}),(0,m.jsx)(b.xu,{marginBottom:3,children:(0,m.jsx)(b.xv,{align:"center",children:ht.userData?ht.userData.email:null})}),(0,m.jsx)(Xe.ZP,{container:n,disablePostSignupNextUrl:!M,email:ht.userData?ht.userData.email:null,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hidePasswordReset:!0,hideTermsOfService:!0,inputStyleOverrides:xt,loadingIndicatorCallback:ke,loginButtonTextOverride:le._("Continue"," - "," -- "),nextUrlParam:Ut(),onEmailChange:function(){},onFBPhoneOnlyConnectVerified:Lt("FBEmailCollection"),onLoginWithMfa:Wt,onPasswordChange:function(e){return et(e.target.value)},onSocialConnectVerified:Lt("socialSignupWithAge"),password:$e,passwordValidationError:Z,requestContext:ce,shouldPreventRegister:!0,showResponseMessageModal:"respondMessage"===ae?X:void 0,triggerAccountRecoveryMode:qt,onLineEmailMissingError:Lt("LineEmailCollection")}),(0,m.jsx)(b.xu,{paddingY:5,children:(0,m.jsx)(b.iz,{})}),(0,m.jsx)(b.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(b.iP,{fullWidth:!1,onTap:Ht,children:(0,m.jsx)(b.xv,{align:"center",size:"md",weight:"bold",children:(0,m.jsx)(b.rU,{href:"#",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:le._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account")})})})}),(0,m.jsx)(b.xu,{marginBottom:4,marginTop:1,children:(0,m.jsx)(b.iP,{fullWidth:!1,onTap:R?function(){fe({event_type:101,element:10880})}:zt,children:(0,m.jsx)(b.xv,{align:"center",size:"md",weight:"bold",children:(0,m.jsx)(b.rU,{href:R?Zt("/business/create"):"#",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:le._("Need an account? Sign up now","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account")})})})}),nn]}):null}},855734:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(793550),o=n(84314),i=n(632262),a=n(106852),c=n(933789),s=n(174523),l=n(609747),u=n(218265),d=n(80209);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=(0,s.ZP)(),n=e.tooltip,o=p((0,r.useState)(),2),f=o[0],h=o[1];return(0,d.jsxs)(u.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,d.jsx)(i.Z,{className:"GoogleConnectButton",onClick:function(){return h(!0)},type:"button",styleOverrides:{width:"100%",borderRadius:"20px",border:"0px solid"},children:(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(u.xu,{height:24,width:24,marginTop:1,children:(0,d.jsx)(l.av,{size:20})}),(0,d.jsx)(u.xu,{marginStart:2,children:(0,d.jsx)(u.xv,{weight:"bold",children:t._("Connect with Google","googleConnectButtonWithDisabledSDK.buttonText","Connect with Google button text")})})]})}),!!n&&(0,d.jsx)(u.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},children:(0,d.jsx)(c.Z,{message:n})}),f&&(0,d.jsx)(a.Z,{type:"google",onDismiss:function(){return h(!1)}})]})}var b=n(851252),m=n(746517),g=n(311866),y=n(977399),v=n(336862),x=n(153166),I=n(641483),w=n(181307),_=n(304966),j=n(116955),O=n(899679),A=n(848101),S=n(585967),P=n(670830);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,e);var t,n,i,a=T(s);function s(){var e;R(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return F(V(e=a.call.apply(a,[this].concat(n))),"buttonRef",(0,r.createRef)()),F(V(e),"onSignInCallback",(function(t,n){var r={gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at};if(t.status.signed_in)(0,I.My)("unauth_web.google_connect.manual.success"),e.login(r).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.onLoginSuccess(t)}),(function(n){e.onLoginFailure(r,n,e.registerGplusUser.bind(V(e),t))}));else{var o=t?t.error:"unknown";(0,I.My)("unauth_web.google_connect.failure.".concat(String(o)))}})),F(V(e),"onLoginFailure",(function(t,n,r){var o=e.props.i18n;if(n.api_error_code===j.E6)e.props.onLoginWithVoluntarilyDeactivated&&e.props.onLoginWithVoluntarilyDeactivated(n);else if(n.api_error_code===j.Zn)e.props.onLoginWithMfa&&e.props.onLoginWithMfa(t,n.data);else if(n.api_error_code===j.xN){if(e.props.preventRegister)return void e.props.preventRegister("google");r()}else n&&n.api_error_code&&e.logGSIButton("failed_login.".concat(n.api_error_code)),n.api_error_code===j.an&&e.props.onLoginWithSuspended?e.props.onLoginWithSuspended():(0,x.x)(o._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc.","error message when user failed to login caused by suspend/deactivated etc."))})),F(V(e),"onLoginSuccess",(function(t){var n=e.props,r=n.isAccountSwitch,i=n.requestContext,a=n.showResponseMessageModal;if(r&&t.resource_response&&t.resource_response.data&&t.resource_response.data.user){var c=t.resource_response.data.user;(0,o.Z)(c,"google",e.props.container)}a?a(!1):m.ZP.handleRedirect(e.props.nextUrlParam||m.ZP.defaultSocialLoginRedirectUrl()),i.experiments.getWithActivation("m10n_measurement_pinterest_tag_us").anyEnabled&&g.ZP.create("PartnerResource").callGet().then((function(e){var t,n,r,o,i,a=(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.email)||(null===(r=e.resource_response)||void 0===r||null===(o=r.client_context)||void 0===o||null===(i=o.user)||void 0===i?void 0:i.email);if("undefined"!=typeof window)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:a})}catch(c){}}))})),F(V(e),"shouldRequireAge",(function(){var t=e.props.requestContext.country;return(0,O.NN)(t)||(0,O.r4)(t)})),F(V(e),"handleSignupSuccess",(function(){var t=e.props,n=t.disablePostSignupNextUrl,r=t.nextUrlParam,o=t.showResponseMessageModal;e.contextLogSignupLoginEvent(7487),o?o(!0):m.ZP.handleSignupRedirect(r,n)})),F(V(e),"handleSignupFailure",(function(){e.contextLogSignupLoginEvent(7488)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.desktopCoreLoginContext.viewer,n=e.googleOneTapInitialized,r=e.requestContext.userAgent.browserName;"undefined"!=typeof window&&(window.googleOnSignInCallbacks?window.googleOnSignInCallbacks.push(this.onSignInCallback):window.googleOnSignInCallbacks=[this.onSignInCallback]),this.readyForConnect=!1,this.autoLogin=!1,window.googleConnectButtonContainer=this.props.container?this.props.container:"","UNAUTH"===t.type&&n?(0,l.ru)(this.buttonRef,this.logGSIButton.bind(this)):((0,l.b1)(this.buttonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"Safari"===r),"UNAUTH"!==t.type||n||(0,I.My)("web.gsi_button_fix.load_and_initialize_gsi_script"))}},{key:"componentDidUpdate",value:function(){this.props.googleOneTapInitialized&&(0,l.ru)(this.buttonRef,this.logGSIButton.bind(this))}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.googleOneTapInitialized;return t.tooltip!==e.tooltip||!n&&!!e.googleOneTapInitialized}},{key:"logGSIButton",value:function(e){(0,I.My)("unauth_web.gsi_button."+e)}},{key:"handleCredentialResponse",value:function(e){var t=this;if(e){this.logGSIButton("btn_credential_received"),(0,I.My)("unauth.google_one_tap.success");var n={google_open_id_token:e.credential};this.login(n).then((function(e){t.onLoginSuccess(e)}),(function(r){t.onLoginFailure(n,r,t.registerUserByOpenId.bind(t,e.credential,t.props.isBusiness))}))}else this.logGSIButton("empty_response");this.contextLogSignupLoginEvent(7534)}},{key:"registerUserByOpenId",value:function(e){if(e){var t=(0,v.TD)(e),n={google_open_id_token:e,first_name:t.given_name,last_name:t.family_name,image_url:t.picture};this.registerUser(n)}}},{key:"componentWillUnmount",value:function(){if("undefined"!=typeof window&&window.googleOnSignInCallbacks){var e=window.googleOnSignInCallbacks.indexOf(this.onSignInCallback);e>=0&&window.googleOnSignInCallbacks.splice(e,1)}delete window.googleConnectButtonContainer}},{key:"registerGplusUser",value:function(e){if(e){var t=C({gplus_code:e.code,gplus_id_token:e.id_token,gplus_redirect_uri:l.Ug},void 0!==e.first_name?{gplus_first_name:e.first_name}:{});this.registerUser(t)}}},{key:"registerUser",value:function(e){var t=this.props,n=t.desktopCoreLoginContext.register,r=t.onSocialConnectVerified,o=t.pageContext,i=t.isBusiness,a={container:window.googleConnectButtonContainer,hybridTier:null==o?void 0:o.hybridTier,page:null==o?void 0:o.pageType,is_business:i};r&&this.shouldRequireAge()?r(O.sr.GOOGLE,{},C(C({},e),a)):n(C(C(C({},e),a),{},{recapToken:null})).then(this.handleSignupSuccess,this.handleSignupFailure)}},{key:"contextLogSignupLoginEvent",value:function(e){var t=this.props,n=t.desktopCoreLoginContext.viewer;(0,t.logContextEvent)({event_type:e,aux_data:C(C({},(0,y.Z)(n.type)),{},{signup_login_method:3})})}},{key:"login",value:function(e){var t=this.props,n=t.desktopCoreLoginContext.getLoginContext,r=t.isAccountSwitch,o=t.pageContext,i=t.isBusiness,a={container:window.googleConnectButtonContainer,hybridTier:null==o?void 0:o.hybridTier,page:null==o?void 0:o.pageType,is_business:i};return(0,b.Z)(e,n(),a,r)}},{key:"render",value:function(){var e=this.props.tooltip;return(0,d.jsxs)(u.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,d.jsx)(u.xu,{height:44,children:(0,d.jsx)(u.xu,{ref:this.buttonRef,position:"absolute",width:"100%"})}),!!e&&(0,d.jsx)(u.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},children:(0,d.jsx)(c.Z,{message:e})})]})}}])&&B(t.prototype,n),i&&B(t,i),s}(r.Component),U=function(e){var t=(0,A.B$)(),n=(0,_.Z)(),r=(0,S.B)(),o=(0,P.lO)(),i=(0,s.ZP)();return(0,w.aq)("web_google_disabled").anyEnabled?(0,d.jsx)(h,{tooltip:e.tooltip}):(0,d.jsx)(N,C(C({},e),{},{desktopCoreLoginContext:t,googleOneTapInitialized:!!t.googleOneTapInitialized,i18n:i,logContextEvent:n,pageContext:o,requestContext:r}))}},225865:function(e,t,n){"use strict";var r=n(174523),o=n(853354),i=n(218265),a=n(848101),c=n(80209);t.Z=function(e){var t=e.useDefaultText,n=(0,a.B$)().limitedLoginModalSubheader,s=(0,r.ZP)();return(0,c.jsx)(i.xv,{align:"center",overflow:"normal",children:t||!n?(0,o.lt)(s):n.text})}},483851:function(e,t,n){"use strict";n.d(t,{OL:function(){return K},ZP:function(){return $}});var r=n(793550),o=n(84314),i=n(544004),a=n(551687),c=n(828839),s=n(855734),l=n(241933),u=n(851252),d=n(77169),p=n(311866),f=n(302360),h=n(689859),b=n(773559),m=n(340778),g=n(356975),y=n(977399),v=n(80336),x=n(300884),I=n(676945),w=n(153166),_=n(181307),j=n(457175),O=n(388466),A=n(746517),S=n(641483),P=n(174523),E=n(116955),k=n(538504),C=n(848101),R=n(218265),B=n(997993),D=n(670830),T=n(80209);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){V(i,r,o,a,c,"next",e)}function c(e){V(i,r,o,a,c,"throw",e)}a(void 0)}))}}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=(0,r.lazy)((function(){return n.e(78858).then(n.bind(n,178858))})),X=b.Z.settings.PASSWORD_RESET_URL,Y="loginmodal",K="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1",z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(_,e);var t,n,b,I=L(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),H(W(t=I.call(this,e)),"onLoginWithVoluntarilyDeactivated",(function(e){t.setState({googleValidationError:e.message})})),H(W(t),"onLoginWithSuspended",(function(){var e=t.props.loadingIndicatorCallback;e&&e(!1),t.setState({accountRecoveryModalType:O.wx[E.an],loading:!1})})),H(W(t),"onloadCallback",(function(){try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:K,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:K,callback:"verifyCaptcha"})}catch(e){}})),H(W(t),"handleButtonClick",(function(e,n){(0,S.ZP)("unauth.login.button.clicked");var r=t.props,o=r.logContextEvent,i=r.desktopCoreLoginContext.viewer;o({event_type:101,element:30,aux_data:N(N({},(0,y.Z)(i.type)),{},{signup_login_method:1})}),t.setState({googleValidationError:null,hideFBGoogleToolTip:!1});var a=(0,f.Z)(t.props.email,t.emailValidators);if(a)t.setState({emailValidationError:a}),(0,S.ZP)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(Y));else{t.setState({emailValidationError:null}),a=(0,f.Z)(t.props.password,t.passwordValidators);var c=(0,f.Z)(t.props.password,t.asciiValidators);a?(t.setState({passwordValidationError:a}),(0,S.ZP)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(Y))):c?(t.setState({passwordValidationError:c}),(0,S.ZP)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(Y))):(t.setState({passwordValidationError:null}),t.loginUser("email",void 0,n))}})),H(W(t),"preventRegister",(function(e){"facebook"===e?t.updateAccountRecoveryModal(A.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&t.updateAccountRecoveryModal(A.Ny.PREVENT_GOOGLE_REGISTER),t.props.triggerAccountRecoveryMode&&t.props.triggerAccountRecoveryMode(e)})),H(W(t),"updateAccountRecoveryModal",(function(e){return t.setState({accountRecoveryModalType:e})})),H(W(t),"loadRecaptchaView",(function(){if("undefined"!=typeof document&&document.head)if(document.getElementById("recaptcha-jssdk"))t.onloadCallback();else{var e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}})),H(W(t),"handleLoginFailure",(function(e,n,r){var o=t.props,i=o.clearPassword,a=o.i18n,c=o.loadingIndicatorCallback,s=o.logContextEvent,l=o.desktopCoreLoginContext.viewer,u=t.getAuxDataLoginMethod(e);(0,S.ZP)("unauth.login.error.LOGIN_FAILURE.".concat(e)),s({event_type:7535,aux_data:N(N({},(0,y.Z)(l.type)),{},{signup_login_method:u})}),c(!1),t.props.refreshRecaptchaV3Token&&t.props.refreshRecaptchaV3Token();var d=n.http_status||n.httpStatus,p=n.api_error_code||n.apiErrorCode;if(d===k.Ej&&(p=k.Ej),p!==E.Zn){if(d===k.Ej&&p===E.bd&&n.message&&"!"!==n.message[n.message.length-1]&&!A.ZP.isExceedRecaptchaLocalLimit())return t.loadRecaptchaView(),void t.setState({passwordValidationError:a._("Oops! You logged in too quickly. Please try again with the reCAPTCHA.","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha"),loading:!1});if(p===E._K&&d===k.AB&&!A.ZP.isExceedRecaptchaLocalLimit())return t.loadRecaptchaView(),void t.setState({passwordValidationError:a._("Oops! You logged in too quickly. Please try again with the reCAPTCHA.","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha"),loading:!1});var f=A.ZP.getLoginErrorState(n,"login",t.props.email,g.Z,t.updateAccountRecoveryModal);f?(t.setState(N(N({},f),{},{accountRecoveryModalType:O.wx[p],loading:!1})),i&&f.passwordValidationError&&i()):(a._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),(0,w.x)(a._("Sorry! Something went wrong on our end."," - "," -- ")),t.setState({loading:!1}))}else A.ZP.handleLoginMfa(r,n.data,t.props.onLoginWithMfa)})),H(W(t),"verifyCaptcha",(function(){var e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);A.ZP.updateRecaptchaTimeStamp(),t.handleButtonClick(void 0,e),A.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))})),H(W(t),"handleEmailChange",(function(e){t.props.onEmailChange&&t.props.onEmailChange(e),t.setState({hideFBGoogleToolTip:!0})})),H(W(t),"handlePasswordChange",(function(e){t.state.passwordValidationError&&t.setState({passwordValidationError:null}),t.props.onPasswordChange&&t.props.onPasswordChange(e)})),H(W(t),"handleBlur",(function(){t.setState({googleValidationError:null});var e=(0,f.Z)(t.props.email,t.asciiValidators);e&&(0,S.ZP)("unauth.login.error.CLIENT_ERROR.nonasciiemail.".concat(Y)),(e=(0,f.Z)(t.props.password,t.asciiValidators))&&(0,S.ZP)("unauth.login.error.CLIENT_ERROR.nonasciipwd.".concat(Y))})),H(W(t),"handleExistingEmail",(function(e){t.setState({isExistingEmail:e})})),H(W(t),"handlePasswordlessLoginClick",M(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.email,!(r=(0,f.Z)(n,t.emailValidators))){e.next=7;break}t.setState({emailValidationError:r}),(0,S.ZP)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(Y)),e.next=13;break;case 7:return t.setState({emailValidationError:null}),(0,S.NC)("press_passwordless_login"),(0,S.ZP)("web_unauth.press_passwordless_login"),e.next=12,p.ZP.create("ApiResource",{url:"/v3/users/login_passwordless/",data:{username_or_email:n,is_magic_link:!0}}).callCreate();case 12:t.setState({showPasswordlessConfirmModal:!0});case 13:case"end":return e.stop()}}),e)})))),H(W(t),"hidePasswordlessLoginModal",(function(){t.setState({showPasswordlessConfirmModal:!1})})),H(W(t),"renderSocialButtons",(function(){var e=t.props,n=e.disablePostSignupNextUrl,o=e.hideFacebookButton,i=e.hideLineButton,l=e.hideGoogleButton,u=e.i18n,d=e.isAccountSwitch,p=e.isPersonalizedLoginFlyout,f=e.loadingIndicatorCallback,b=e.nextUrlParam,m=e.onLoginWithMfa,g=e.onSocialConnectVerified,y=e.shouldPreventRegister,v=e.onFBPhoneOnlyConnectVerified,x=e.container,I=void 0===x?"unknown":x,w=e.showResponseMessageModal,_=e.isLineAuthenticationEnabled,j=e.onLineEmailMissingError,O=t.state.hideFBGoogleToolTip,A=!o&&(0,T.jsx)(c.Z,{buttonText:u._("Continue with Facebook"," - "," -- "),container:I,disablePostSignupNextUrl:n,isAccountSwitch:d,loadingIndicatorCallback:f,nextUrlParam:b,onFBPhoneOnlyConnectVerified:v,onLoginWithMfa:m,onLoginWithSuspended:t.onLoginWithSuspended,onSocialConnectVerified:g,preventRegister:y?t.preventRegister:void 0,showResponseMessageModal:w,tooltip:null,useGestaltTooltip:!0}),S=!l&&(0,T.jsx)(s.Z,{container:I,disablePostSignupNextUrl:n,isAccountSwitch:d,nextUrlParam:b,onLoginWithMfa:m,onLoginWithSuspended:t.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:t.onLoginWithVoluntarilyDeactivated,onSocialConnectVerified:g,preventRegister:y?t.preventRegister:void 0,showResponseMessageModal:w,tooltip:!O&&t.state.googleValidationError||null}),P=!i&&_&&(0,T.jsx)(a.Z,{name:"SafeSuspense_LineConnectButton",children:(0,T.jsx)(h.Z,{children:(0,T.jsx)(G,{container:I,disablePostSignupNextUrl:n,loadingIndicatorCallback:f,isAccountSwitch:d,nextUrlParam:b,onLoginWithMfa:m,onLoginWithSuspended:t.onLoginWithSuspended,onLineEmailMissingError:j,preventRegister:y?t.preventRegister:void 0,showResponseMessageModal:w})})}),E=!o&&!l?"8px":"0px";return(0,T.jsxs)(R.xu,{"data-test-id":"login-options",dangerouslySetInlineStyle:{__style:{marginTop:p?"9px":"10px"}},children:[A,(0,T.jsx)(R.xu,{dangerouslySetInlineStyle:{__style:{height:p?E:"10px"}}}),S,!i&&_&&(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(R.xu,{dangerouslySetInlineStyle:{__style:{height:p?E:"10px"}}}),P]})]})})),H(W(t),"renderPasswordResetLink",(function(){var e=t.props,n=e.email,o=e.i18n,i=e.logContextEvent,a=e.requestContext.isRTL,c=e.desktopCoreLoginContext.viewer,s=t.state,l=s.isExistingEmail,u=s.passwordValidationError;return u&&(0,r.isValidElement)(u)?null:(0,T.jsx)(R.xu,{marginBottom:3,marginTop:2,dangerouslySetInlineStyle:{__style:{float:a?"right":"left"}},children:(0,T.jsx)(R.xv,{size:"md",weight:"bold",children:(0,T.jsx)(R.rU,{href:X+(n?"?q=".concat(n):""),onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),l&&(0,S.ZP)("unauth_web.login_modal.forgot_password_with_existing_email"),(0,S.ZP)("login_modal_forget_account"),(0,S.NC)("click_forget_password"),i({event_type:101,element:10881,aux_data:N({},(0,y.Z)(c.type))})},children:o._("Forgot your password?","Desktop login modal link for users to recover their account","Desktop login modal link for users to recover their account")})})})})),H(W(t),"renderRegisterForm",(function(){var e=t.props,n=e.disableEmailLogin,r=e.email,o=e.hideEmailField,i=e.hideFacebookButton,a=e.hideGoogleButton,c=e.hidePasswordField,s=e.i18n,l=e.inputStyleOverrides,u=e.isAccountSwitch,p=e.loginButtonTextOverride,f=e.password,h=e.requestContext,b=e.suppressFocus,m=t.state,g=m.emailValidationError,y=m.loading,v=m.passwordValidationError,x=m.showPasswordlessConfirmModal,I=p||s._("Log in","Copy on the button to log in","Copy on the button to log in");return(0,T.jsx)(d.Z,{buttonText:I,disableEmailLogin:n,email:r,emailText:s._("Email","Placeholder text for email field","Placeholder text for email field"),emailValidationError:g,handleExistingEmail:t.handleExistingEmail,hideEmailField:o,hideFacebookButton:i,hideGoogleButton:a,hidePasswordField:c,hidePasswordlessLoginModal:t.hidePasswordlessLoginModal,inputStyleOverrides:l,isRTL:!!h.isRTL,loading:y&&!u,onButtonClick:t.handleButtonClick,onEmailBlur:t.handleBlur.bind(W(t)),onEmailChange:t.handleEmailChange.bind(W(t)),onPasswordChange:t.handlePasswordChange,onPasswordlessLoginClick:t.handlePasswordlessLoginClick,password:f,passwordText:s._("Password"," - "," -- "),passwordValidationError:v,renderPasswordResetLink:t.renderPasswordResetLink,showPasswordlessConfirmModal:x,suppressFocus:b})})),H(W(t),"renderOriginalForm",(function(){var e=t.props,n=e.hideFacebookButton,o=e.hideGoogleButton,a=!(e.hidePasswordField||o&&n);return(0,T.jsxs)(r.Fragment,{children:[t.renderRegisterForm(),a&&(0,T.jsx)(i.Z,{}),t.renderSocialButtons()]})})),H(W(t),"renderButtons",(function(){return t.renderOriginalForm()})),t.state={accountRecoveryModalType:null,emailValidationError:e.emailValidationError||null,passwordValidationError:e.passwordValidationError||null,googleValidationError:null,loading:!1,isExistingEmail:!1,hideFBGoogleToolTip:!1,showPasswordlessConfirmModal:!1};var n=e.i18n,o=n._("You missed a spot! Don't forget to add your email."," - "," -- "),l=n._("Hmm...that doesn't look like an email address."," - "," -- "),u=n._("Use only a mix of letters, numbers and special characters (for example: ?, !, $).","Login.password.onlyASCII","Only ASCII characters are allowed for password");t.emailValidators=[(0,B.aH)({message:o}),(0,B.GT)({message:l})];var b=n._("The password you entered is incorrect."," - "," -- ");return t.passwordValidators=[(0,x.r)({shortPassStr:b,samePasswordStr:b,blackPassStr:b})],t.asciiValidators=[(0,B.oR)({message:u})],t}return t=_,b=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.emailValidationError,r=e.passwordValidationError;return n&&n!==t.emailValidationError?{emailValidationError:n}:r&&r!==t.passwordValidationError?{passwordValidationError:r}:null}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAccountSwitch,n=e.nextUrlParam,r=e.requestContext,o=e.showResponseMessageModal;A.ZP.isFullyLoggedIn(r.isAuthenticated,r.loginState)&&!t&&(o?o(!1):A.ZP.handleRedirect(n)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}},{key:"componentWillUnmount",value:function(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}},{key:"getAuxDataLoginMethod",value:function(e){return"facebook"===e?2:"google"===e?3:1}},{key:"loginUser",value:function(e,t,n){var r=this,i=this.props,a=i.container,c=void 0===a?"unknown":a,s=i.email,d=i.flushContextEvents,p=i.isAccountSwitch,f=i.loadingIndicatorCallback,h=i.logContextEvent,b=i.pageContext,m=i.showResponseMessageModal,g=i.desktopCoreLoginContext,x=g.viewer,I=g.getLoginContext,w=i.requestContext;this.setState({loading:!0}),f(!0);var _=t||{username_or_email:s||"",password:this.props.password},j={container:c,hybridTier:b?b.hybridTier:void 0,page:b?b.pageType:void 0},O=this.getAuxDataLoginMethod(e);h({event_type:7534,aux_data:N(N({},(0,y.Z)(x.type)),{},{signup_login_method:O})}),l.Z.pause(v.LU),d(),(0,u.Z)(_,I(),j,p,n,this.props.recaptchaV3Token||"default").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h({event_type:7536,aux_data:N(N({},(0,y.Z)(x.type)),{},{signup_login_method:O})}),A.ZP.storeLoginCredentialsToBrowser(_);var t=r.props.nextUrlParam||A.ZP.defaultLoginRedirectUrl(),n=w.experiments.getWithActivation("m10n_measurement_pinterest_tag_us"),i=n.anyEnabled;if(i&&"undefined"!=typeof window)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:s})}catch(l){}if(p&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var a=e.resource_response.data.user;(0,o.Z)(a,"email",c),t="/"+a.username}else A.ZP.storeLoginCredentialsToBrowser(_);m?m(!1):A.ZP.handleRedirect(t)}),(function(t){return r.handleLoginFailure(e,t,_)}))}},{key:"render",value:function(){var e=this.props,t=e.email,n=e.requestContext.country;return(0,T.jsxs)(R.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:[(0,T.jsx)(O.ZP,{email:t||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),!this.props.hideTermsOfService&&(0,T.jsx)(m.Z,{country:n,dark:!0})]})}}])&&U(t.prototype,n),b&&U(t,b),_}(r.Component);function $(e){var t=(0,P.ZP)(),n=(0,j.v)(),r=n.flushContextEvents,o=n.logContextEvent,i=(0,D.lO)(),a=(0,C.B$)(),c=(0,_.tc)("desktop_web_line_oauth_jp")().anyEnabled;return(0,T.jsx)(I.s,{children:function(n){var s=n.recaptchaV3Token,l=n.refreshToken;return(0,T.jsx)(z,N(N({},e),{},{desktopCoreLoginContext:a,flushContextEvents:r,i18n:t,logContextEvent:o,pageContext:i,recaptchaV3Token:s,refreshRecaptchaV3Token:l,isLineAuthenticationEnabled:c}))}})}},607939:function(e,t,n){"use strict";var r=n(793550),o=n(632262),i=n(826936),a=n(851252),c=n(746517),s=n(302360),l=n(773559),u=n(377556),d=n(881220),p=n(641483),f=n(174523),h=n(153166),b=n(848101),m=n(670830),g=n(585967),y=n(946753),v=n(218265),x=n(997993),I=n(80209);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t=e.container,n=void 0===t?"unknown":t,w=e.code,j=e.creds,A=e.isAccountSwitch,S=e.nextUrlParam,P=e.email,E=e.onCodeChange,k=e.inputStyleOverrides,C=e.phoneNumberEnd,R=e.password,B=O((0,r.useState)(null),2),D=B[0],T=B[1],J=O((0,r.useState)(!1),2),V=J[0],M=J[1],F=O((0,r.useState)(!1),2),N=F[0],U=F[1],Z=(0,g.B)(),L=Z.isAuthenticated,Q=Z.loginState,W=Z.isRTL,q=(0,f.ZP)(),H=(0,m.lO)(),G=(0,b.B$)().getLoginContext,X={container:n,hybridTier:null==H?void 0:H.hybridTier,page:null==H?void 0:H.pageType};(0,r.useEffect)((function(){!A&&c.ZP.isFullyLoggedIn(L,Q)&&c.ZP.handleRedirect(S)}),[]);var Y=q._("Continue"," - "," -- ");return(0,I.jsxs)(v.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},children:[V&&(0,I.jsx)(i.Z,{rounding:8}),(0,I.jsx)("p",{style:{fontSize:"14px",margin:"24px 0",textAlign:"center"},children:C?(0,y.nk)(q._("Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in."," - "," -- "),{phoneNumberEnd:(0,I.jsx)("strong",{children:C},"phone")}):q._("Please check your phone for a code and enter it in the field below to log in."," - "," -- ")}),(0,I.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=(0,s.Z)(w,[(0,x.aH)({message:q._("You missed a spot! Don't forget to add your verification code."," - "," -- ")}),(0,x.VC)({message:q._("Hmm...that doesn't look like a verification code."," - "," -- ")})]);t?(T(t),(0,p.ZP)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(T(null),M(!0),(0,a.Z)(_(_({},j||{username_or_email:P,password:R}),{},{mfa_token:w}),G(),X).then((function(){var e=window.location.pathname===l.Z.settings.PASSWORD_RESET_URL||window.location.pathname.startsWith(l.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname;c.ZP.handleRedirect(S||e)}),(function(e){e.message?(T(e.message),M(!1)):((0,h.x)(q._("Sorry! Something went wrong on our end."," - "," -- ")),M(!1))})))},children:[(0,I.jsx)(u.Z,{autoComplete:"off",focused:!0,hasError:!!D,id:"mfaCode",inputStyleOverrides:k,isRTL:!!W,name:"code",onChange:E,placeholder:q._("Verification code"," - "," -- "),tooltip:D,type:"text",value:w,useGestalt:!0}),(0,I.jsx)(o.Z,{accessibilityLabel:Y,className:"red SignupButton",styleOverrides:{width:"100%",borderRadius:"20px"},type:"submit",children:(0,I.jsx)(v.xu,{children:Y})})]}),(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,y.nk)(q._("If you didn't get it, we can {{ resendCode }}."," - "," -- "),{resendCode:(0,I.jsx)(v.rU,{inline:!0,href:"",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.preventDefault(),M(!0),(0,a.Z)(_(_({},j||{username_or_email:P,password:R}),{},{mfa_resend:!0}),G(),X).then((function(){M(!1),U(!0)}),(function(e){M(!1),e.message?T(e.message):(0,h.x)(q._("Sorry! Something went wrong on our end."," - "," -- "))}))},children:(0,I.jsx)(v.xv,{size:"sm",weight:"bold",children:q._("resend the code"," - "," -- ")})},"code")})}),N&&(0,I.jsx)(v.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,I.jsx)(d.Z,{onHide:function(){return U(!1)},text:q._("We sent you a new code!","login2fa.resendCode.success","Code was succesfully sent again to the user's phone number"),duration:5e3})})]})}},77169:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(793550),o=n(632262),i=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"],a=n(588527),c=n(849258),s=n(272529),l=n(451190),u=n(174523),d=n(946753),p=n(218265),f=n(80209),h=function(e){var t=e.email,n=e.onDismiss,r=(0,u.ZP)();return(0,f.jsxs)(l.Z,{accessibilityModalLabel:r._("confirm passwordless login","passwordlessConfirmModal.modalLabel","Label for confirm passwordless login"),onDismiss:n,children:[(0,f.jsxs)(p.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,f.jsx)(p.kC,{flex:"grow",alignItems:"center",justifyContent:"center",children:(0,f.jsx)(p.xu,{marginTop:8,marginStart:12,children:(0,f.jsx)(s.Z,{size:40})})}),(0,f.jsx)(p.xu,{display:"flex",alignItems:"center",padding:2,children:(0,f.jsx)(p.hU,{accessibilityLabel:r._("dismiss","passwordlessConfirmModal.modalDismiss","x icon for dismiss"),bgColor:"white",iconColor:"darkGray",icon:"cancel",onClick:n,padding:4,size:"lg"})})]}),(0,f.jsxs)(p.kC,{alignItems:"center",direction:"column",children:[(0,f.jsx)(p.xu,{marginTop:4,children:(0,f.jsx)(p.kC,{alignItems:"center",children:(0,f.jsx)(p.X6,{size:"md",children:r._("Check your email","passwordlessConfirmModal.heading.label","Label for modal header")})})}),(0,f.jsx)(p.xu,{marginTop:4,marginBottom:8,paddingX:8,children:(0,f.jsx)(p.kC,{alignItems:"center",children:(0,f.jsx)(p.xv,{size:"lg",align:"center",children:(0,d.nk)(r._("We just sent an email to {{ email }}.  It has a magic link that you can use to log in","passwordlessConfirmModal.message","Label for user message for passwordless confirm modal"),{email:(0,f.jsx)(p.xv,{weight:"bold",inline:!0,children:t})})})})}),(0,f.jsx)(p.xu,{marginBottom:8,children:(0,f.jsx)(p.zx,{text:r._("Log in with password instead","passwordlessConfirmModal.dismissButton.label","Label for dismiss button"),onClick:n})})]})]})},b=n(377556),m=n(181307),g=n(641483);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(u,e);var t,n,s,l=j(u);function u(){var e;I(this,u);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return P(A(e=l.call.apply(l,[this].concat(n))),"state",{domainError:"",newEmail:"",showAgeInput:e.props.showAgeInput}),P(A(e),"emailDomainRef",(0,r.createRef)()),P(A(e),"handleEmailChange",(function(t){var n=e.props.onEmailChange;n&&n(t)})),P(A(e),"handleEmailBlur",(function(){var t=e.props,n=t.checkEmailExistsWithCompletion,r=t.email,o=t.handleExistingEmail,a=t.isSignupForm,s=t.onEmailBlur,l=e.state.showAgeInput;s&&s(),r&&r.length>0&&n&&n(r,(function(){a&&(0,g.ZP)("web.unauth.signup.email_entered"),a&&l&&e.setState({showAgeInput:!1}),o&&o(!0)}),(function(){a&&!l&&e.setState({showAgeInput:!0}),o&&o(!1)}));var u=r&&-1!==r.indexOf("@")?r.split("@"):[];if(r&&r!==e.state.newEmail||e.setState({domainError:""}),r&&u&&r.length<60){if(2===u.length){var d=u[1],p=d&&-1!==d.indexOf(".")?d.split("."):[];if(p.length>=2&&"gmail"===p[0])if("com"!==p.slice(1).join(".")){var f=u[0]+"@gmail.com";e.setEmailTypoSuggestion(f)}else e.setState({domainError:""})}var h=u[1]&&i.includes(u[1])?null:u[1]&&i.map((function(e){var t=(0,c.Z)(e,u[1]);return 2===t||1===t?e:null})).filter((function(e){return"string"==typeof e}));if(h&&h.length){var b=h[0]?"".concat(u[0],"@").concat(h[0]):"";e.setEmailTypoSuggestion(b)}}})),P(A(e),"handleSignUp",(function(){e.state.showAgeInput?(0,g.NC)("press_signup_continue"):(0,g.NC)("press_login_continue")})),P(A(e),"renderLoginButtons",(function(){var t=e.props,n=t.disableEmailLogin,r=t.buttonText,i=t.buttonTextLabel;return(0,f.jsx)(p.xu,{"data-test-id":"registerFormSubmitButton",children:(0,f.jsx)(o.Z,{accessibilityLabel:i,className:"red SignupButton",disabled:n||!1,onClick:e.handleSignUp,styleOverrides:{width:"100%",borderRadius:"20px"},type:"submit",children:(0,f.jsx)(p.xu,{children:r})})})})),P(A(e),"handleFocusPassword",(function(){(0,g.NC)("focus_password")})),P(A(e),"handleEmailKeyDown",(function(t){var n=t.event;switch(n.keyCode){case a.Z.UP:n.preventDefault(),e.emailDomainRef.current&&e.emailDomainRef.current.handleUp();break;case a.Z.DOWN:n.preventDefault(),e.emailDomainRef.current&&e.emailDomainRef.current.handleDown();break;case a.Z.ENTER:n.preventDefault(),e.emailDomainRef.current&&e.emailDomainRef.current.handleEnter()}})),e}return t=u,s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.email===t.newEmail?{domainError:"",newEmail:""}:null}}],(n=[{key:"setEmailTypoSuggestion",value:function(e){var t=this.props.i18n,n=(0,d.nk)(t._("Did you mean {{ newEmail }}?"," - "," -- "),{newEmail:(0,f.jsx)(p.xv,{color:"red",inline:!0,size:"md",weight:"bold",children:e},"err_text")});this.setState({domainError:n,newEmail:e}),this.props.email===e?this.setState({domainError:""}):(0,g.ZP)("unauth.email_domain_typo_suggestion.shown")}},{key:"render",value:function(){var e=this.props,t=e.age,n=e.ageValidationError,i=e.disableEmailLogin,a=e.email,c=e.emailFieldHasError,s=e.emailLabel,l=e.emailText,u=e.emailValidationError,d=e.hideEmailField,m=e.hideFacebookButton,g=e.hideGoogleButton,y=e.hidePasswordField,v=e.hidePasswordlessLoginModal,I=e.inputStyleOverrides,w=e.isMagicLinkEnabled,_=e.onAgeBlur,j=e.onAgeChange,O=e.onButtonClick,A=e.onPasswordChange,S=e.onPasswordlessLoginClick,P=e.password,E=e.passwordFieldVisible,k=e.passwordText,C=e.passwordValidationError,R=e.renderPasswordResetLink,B=e.showPasswordlessConfirmModal,D=e.suppressFocus,T=e.i18n,J=e.isRTL,V={WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"flex",opacity:1,alignItems:"center",justifyContent:"space-between",height:"100%"};!1===E&&(V={WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0});var M=u;return M||!y&&!i||(m||g?!m&&g?M=T._("Your account is connected to Facebook - use the Facebook button to log in","Customized desktop login for users with Facebook","Customized desktop login for users with Facebook"):m&&!g&&(M=T._("Your account is connected to Google - use the Google button to log in","Customized desktop login for users with Google","Customized desktop login for users with Google")):M=T._("Your account is connected to Facebook and Google - use the buttons to log in","Customized desktop login for users with FB and Google","Customized desktop login for users with FB and Google")),(0,f.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:function(e){e.preventDefault(),O(e)},children:[!d&&(0,f.jsx)(p.xu,{"data-test-id":"emailInputField",children:(0,f.jsx)(b.Z,{accessibilityLabel:s,autoComplete:"email",domainError:this.state.domainError,fieldsetStyleOverrides:{marginBottom:"7px"},focused:!D,hasError:!!u||!!c,id:"email",inputStyleOverrides:I,name:"id",onBlur:this.handleEmailBlur,onChange:this.handleEmailChange,placeholder:l,tooltip:M,type:"email",useGestalt:!0,value:a,onKeyDown:this.handleEmailKeyDown,isRTL:J})}),!y&&(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(p.xu,{"data-test-id":"passwordInputField",children:(0,f.jsx)(b.Z,{autoComplete:"new-password",disabled:!!i,hasError:!!C,id:"password",inputStyleOverrides:x(x({},I),V),name:"password",onChange:A,onFocus:this.handleFocusPassword,placeholder:k,tooltip:C,type:"password",useGestalt:!0,value:P,isRTL:J,focused:!!d&&!D})}),(0,f.jsx)(p.xu,{"data-test-id":"password-reset-button",children:R?R():null})]}),!y&&this.state.showAgeInput?(0,f.jsx)(p.xu,{"data-test-id":"ageInputField",children:(0,f.jsx)(b.Z,{accessibilityLabel:"age",autoComplete:"off",fieldsetStyleOverrides:{marginTop:"4px"},hasError:!!n,id:"age",inputStyleOverrides:x({},I),name:"age",onBlur:_,onChange:j,placeholder:T._("Age"," - "," -- "),tooltip:n,type:"text",useGestalt:!0,value:t,isRTL:J})}):null,window.recaptchaCount>0?(0,f.jsx)("div",{className:"g-recaptcha",id:"recaptcha_placeholder_".concat(window.recaptchaCount),style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,!y&&this.renderLoginButtons(),w&&(0,f.jsx)(p.xu,{marginTop:2,children:(0,f.jsx)(o.Z,{onClick:function(){null==S||S()},styleOverrides:{width:"100%",borderRadius:"20px",marginTop:0},children:(0,f.jsx)(p.xu,{children:this.props.i18n._("Login without a password","emailLogin.magicLink.buttonLabel","Label for magic link button")})})}),w&&B&&(0,f.jsx)(h,{email:a||"",onDismiss:function(){null==v||v()}})]})}}])&&w(t.prototype,n),s&&w(t,s),u}(r.Component);function k(e){var t=(0,u.ZP)(),n=(0,m.tc)("web_unauth_magic_link_login_v2"),r=!e.isSignupForm&&n().anyEnabled;return(0,f.jsx)(E,x(x({},e),{},{i18n:t,isMagicLinkEnabled:r}))}},634992:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(793550),o=n(85038),i=n(544004),a=n(551687),c=n(828839),s=n(855734),l=n(840852),u=n(77169),d=n(311866),p=n(302360),f=n(689859),h=n(340778),b=n(356975),m=n(977399),g=n(300884),y=n(858875),v=n(538504),x=n(153166),I=n(181307),w=n(388466),_=n(851252),j=n(746517),O=n(641483),A=n(174523),S=n(304966),P=n(997993),E=n(116955),k=n(899679),C=n(848101),R=n(585967),B=n(218265),D=n(670830),T=n(80209);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=(0,r.lazy)((function(){return n.e(78858).then(n.bind(n,178858))})),H="emailpwdstep",G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(S,e);var t,n,I,A=U(S);function S(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),W(L(t=A.call(this,e)),"onLoginWithSuspended",(function(){(0,t.props.loadingIndicatorCallback)(!1),t.setState({accountRecoveryModalType:w.wx[E.an]})})),W(L(t),"onLoginWithVoluntarilyDeactivated",(function(e){t.setState({googleValidationError:e.message})})),W(L(t),"setLoadingState",(function(e){var n=t.props,r=n.loadingIndicatorCallback,o=n.showSignupWelcomeLoadingFn;return o&&!1===e&&o(!1),r(e)})),W(L(t),"handleEmailChange",(function(e){t.props.onEmailChange&&t.props.onEmailChange(e),t.setState({hideFBGoogleToolTip:!0})})),W(L(t),"handlePasswordChange",(function(e){t.state.passwordValidationError&&t.setState({passwordValidationError:null}),t.props.onPasswordChange&&t.props.onPasswordChange(e)})),W(L(t),"handleEmailSignUp",(function(e){(0,O.ZP)("unauth_email_validation_attempt");var n=(0,p.Z)(t.props.email,t.emailValidators);if(n)t.setState({emailValidationError:n}),(0,O.ZP)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(H));else{var r=(0,p.Z)(t.props.password,t.asciiValidators);r&&(t.setState({passwordValidationError:r}),(0,O.ZP)("unauth.login.error.CLIENT_ERROR.nonasciipwd.".concat(H))),(n=(0,p.Z)(t.props.password,t.loginPasswordValidators))?(t.setState({passwordValidationError:n}),(0,O.ZP)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(H))):(t.setState({passwordValidationError:null}),t.validateEmailAvailable(e)),t.setState({emailValidationError:null}),t.props.setNameFromEmail&&t.props.setNameFromEmail()}})),W(L(t),"register",(function(){t.setLoadingState(!0);var e=t.props,n=e.age,r=e.container,i=e.email,a=e.name,c=e.pageContext,s=e.password,l=e.requestContext,u=e.signupSource,d=e.register,p=e.i18n,f={container:r,email:i,password:null!=s?s:"",age:null!=n?n:"",country:l.country,signupSource:u,first_name:null!=a?a:"",last_name:"",hybridTier:null==c?void 0:c.hybridTier,page:null==c?void 0:c.pageType,recaptchaV3Token:t.props.recaptchaV3Token||"default"};(0,O.ZP)("one_step_age_signup_complete"),d(f).then(t.handleSignupSuccess,(function(e){t.contextLogSignupLoginEvent(7488),t.setLoadingState(!1),t.props.refreshRecaptchaV3Token&&t.props.refreshRecaptchaV3Token(),e.api_error_code===E.tz?(o.t8(y.It,"1"),t.showUnderAgeError(e.message)):e.api_error_code===E.tL?t.setState({ageValidationError:e.message||p._("Oops! Please use a valid age to sign up.","userRegistration.overageError","Error message shown when overage (age over 120) user tries to register")}):e.api_error_code===E.iZ?((0,O.ZP)("unauth_show_invalid_email_inline_error"),t.setState({emailValidationError:p._("Your email is invalid."," - "," -- ")})):e.api_error_code===E.Jt?((0,O.ZP)("unauth_show_invalid_email_contains_pinterest"),t.setState({emailValidationError:p._("Please stick to your name, or the name of your brand"," - "," -- ")})):(0,x.x)(p._("Sorry! Something went wrong on our end."," - "," -- "))})),t.contextLogSignupLoginEvent(7537)})),W(L(t),"handleSignupSuccess",(function(){var e=t.props.showResponseMessageModal;t.contextLogSignupLoginEvent(7487),(0,O.ZP)("unauth.signup_one_step.completed"),e?e(!0):j.ZP.handleSignupRedirect(t.props.nextUrlParam,t.props.disablePostSignupNextUrl)})),W(L(t),"shouldRequireAge",(function(){var e=t.props.requestContext.country;return(0,k.NN)(e)||(0,k.r4)(e)})),W(L(t),"validateAgeRequirement",(function(){var e=!1;return t.shouldRequireAge()&&(e=(0,p.Z)(t.props.age||"",t.ageValidators))&&(t.setState({ageValidationError:e}),t.setLoadingState(!1),(0,O.ZP)("unauth.login.error.CLIENT_ERROR.invalidage.".concat(H))),e})),W(L(t),"validatePasswordRequirement",(function(){var e=(0,p.Z)(t.props.password,t.passwordValidators);return e&&(t.setState({passwordValidationError:e}),t.setLoadingState(!1),(0,O.ZP)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(H))),e})),W(L(t),"completeRegistration",(function(e){t.setState({emailValidationError:null}),t.setLoadingState(!1),(0,O.ZP)("unauth.signup_step_1.completed"),t.register()})),W(L(t),"checkEmailExistsWithCompletion",(function(e,n,r){var o=t.props.i18n;d.ZP.create("EmailExistsResource",{email:e}).callGet({emailValidationError:!1}).then((function(e){var o;t.setState({emailValidationError:null}),!1===(null===(o=e.resource_response)||void 0===o?void 0:o.data)?r():n()}),(function(e){var n=o._("Hmm...that doesn't look like an email address"," - "," -- ");e.api_error_code===E.bd?n=e.message:(0,p.Z)(t.props.email,t.asciiValidators)&&(0,O.ZP)("unauth.login.error.CLIENT_ERROR.nonasciiemail.".concat(H));t.setState({emailValidationError:n})}))})),W(L(t),"updateAccountRecoveryModal",(function(e){return t.setState({accountRecoveryModalType:e})})),W(L(t),"renderSignupForm",(function(){var e=t.props,n=e.age,r=e.email,i=e.inputStyleOverrides,a=e.newEmail,c=e.onAgeChange,s=e.password,l=e.suppressFocus,d=e.updateEmail,p=e.requestContext,f=e.i18n,h=p.isRTL;return t.state.showRegisterForm?(0,T.jsx)(u.Z,{age:n,ageValidationError:t.state.ageValidationError,buttonText:f._("Continue","Continue button on web","Continue button on web"),buttonTextLabel:f._("Continue creating your Pinterest account","Accessiblity button text to continue creating an account","Accessiblity button text to continue creating an account"),checkEmailExistsWithCompletion:t.checkEmailExistsWithCompletion,email:r,emailFieldHasError:t.state.emailFieldHasError,emailLabel:f._("Continue with email","Sign up button","Sign up button"),emailText:f._("Email","Text on button asking for email","Text on button asking for email"),emailValidationError:t.state.emailValidationError,inputStyleOverrides:i,isSignupForm:!0,isRTL:!!h,newEmail:a,onAgeChange:c,onButtonClick:function(e){"1"!==o.U2(y.It)?(t.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),t.handleEmailSignUp(e)):t.showUnderAgeError()},onEmailChange:t.handleEmailChange,onPasswordChange:t.handlePasswordChange,password:null!=s?s:"",passwordText:f._("Create a password","Text asking the user to create a password while registering","Text asking the user to create a password while registering"),passwordValidationError:t.state.passwordValidationError,showAgeInput:!0,suppressFocus:l,updateEmail:d}):(0,T.jsx)(B.xu,{"data-test-id":"emailSignUpButton",children:(0,T.jsx)(B.zx,{fullWidth:!0,text:f._("Continue with email","Text on the sign up button for signing up with email","Text on the sign up button for signing up with email"),color:"red",onClick:function(){(0,O.ZP)("unauth_signup_email_btn_click"),(0,O.NC)("signup_email_button"),t.setState({showRegisterForm:!0}),t.props.onShowRegisterForm&&t.props.onShowRegisterForm()}})})})),W(L(t),"showUnderAgeError",(function(e){var n=t.props.i18n;t.setState({ageValidationError:e||n._("Sorry, you’re not eligible to sign up for Pinterest right now.","Error message shown when underage user tries to register","Error message shown when underage user tries to register")})})),t.state={ageValidationError:e.ageValidationError||null,accountRecoveryModalType:null,emailFieldHasError:!1,emailValidationError:e.emailValidationError||null,facebookValidationError:null,googleValidationError:null,passwordValidationError:e.passwordValidationError||null,showRegisterForm:"home_page"===t.props.container,hideFBGoogleToolTip:!1};var n=e.i18n;t.emailValidators=[(0,P.aH)({message:n._("You missed a spot! Don't forget to add your email."," - "," -- ")}),(0,P.GT)({message:n._("Hmm...that doesn't look like an email address."," - "," -- ")})];var r=n._("Your password is too short! You need 6+ characters."," - "," -- "),i=n._("Use only a mix of letters, numbers and special characters (for example: ?, !, $).","EmailPasswordStep.password.onlyASCII","Only ASCII characters are allowed for password"),a=n._("Help us protect you by providing your age","Error message shown when user did not fill the age field in the sign up model","Error message shown when user did not fill the age field in the sign up model");t.passwordValidators=[(0,P.aH)({message:r}),(0,g.r)({shortPassStr:r,samePasswordStr:n._("Please make your username and password different."," - "," -- "),blackPassStr:n._("Please make a stronger password."," - "," -- ")})],t.asciiValidators=[(0,P.oR)({message:i})],t.loginPasswordValidators=[(0,P.aH)({message:r}),(0,P.oR)({message:i}),(0,P.Gy)({min:6,minErrorString:r})];var c=n._("Please enter a valid number.","Signup.EmailPasswordStep.ageError","Error message when value entered for age is invalid"),s=(0,P.ZA)({invalidAgeString:c,ageTooShortString:c});return t.shouldRequireAge()?t.ageValidators=[(0,P.aH)({message:a}),s]:t.ageValidators=[s],t}return t=S,I=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.ageValidationError,r=e.emailValidationError,o=e.passwordValidationError;return r&&r!==t.emailValidationError?{emailValidationError:r}:o&&o!==t.passwordValidationError?{passwordValidationError:o}:n&&n!==t.ageValidationError?{ageValidationError:n}:null}}],(n=[{key:"handleLoginFailure",value:function(e,t){var n=this.props,r=n.clearPassword,o=n.email,i=n.onLoginWithMfa,a=n.i18n;this.contextLogSignupLoginEvent(7535);var c=e.http_status===v.Ej?v.Ej:e.api_error_code;if(c!==E.Zn){var s=j.ZP.getLoginErrorState(e,"emailPasswordStep",o,b.Z,this.updateAccountRecoveryModal);s?(this.setState(M(M({},s),{},{accountRecoveryModalType:w.wx[c]})),r&&s.passwordValidationError&&r(),this.setLoadingState(!1)):(a._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),(0,x.x)(a._("Sorry! Something went wrong on our end."," - "," -- ")),this.setLoadingState(!1))}else j.ZP.handleLoginMfa(t,e.data,i)}},{key:"handleLoginSuccess",value:function(e){this.contextLogSignupLoginEvent(7536),j.ZP.storeLoginCredentialsToBrowser(e);var t=this.props.showResponseMessageModal;t?t(!1):this.props.nextUrlParam?j.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}},{key:"login",value:function(e){var t,n,r=this;this.setLoadingState(!0);var o=e||{username_or_email:this.props.email,password:this.props.password},i={container:this.props.container,hybridTier:null===(t=this.props.pageContext)||void 0===t?void 0:t.hybridTier,page:null===(n=this.props.pageContext)||void 0===n?void 0:n.pageType};(0,_.Z)(o,this.props.getLoginContext(),i).then((function(){r.handleLoginSuccess(o)}),(function(e){e.api_error_code===E.oP?(r.setState({passwordValidationError:e.message}),r.setLoadingState(!1)):e.api_error_code===E.nY?(r.setState({facebookValidationError:e.message}),r.setLoadingState(!1)):e.api_error_code===E.iK?(r.setState({googleValidationError:e.message}),r.setLoadingState(!1)):e.api_error_code===E.Zn?(j.ZP.storeLoginCredentialsToBrowser(o),r.props.onLoginWithMfa(o,e.data)):(r.setState({emailValidationError:e.message}),r.setLoadingState(!1))}))}},{key:"contextLogSignupLoginEvent",value:function(e){var t=this.props,n=t.viewer;(0,t.logContextEvent)({event_type:e,aux_data:M(M({},(0,m.Z)(n.type)),{},{signup_login_method:1})})}},{key:"validateEmailAvailable",value:function(e){var t=this;this.setLoadingState(!0);var n=this.props,r=n.container,o=n.email,i=n.pageContext,a=n.password;this.checkEmailExistsWithCompletion(o,(function(){var e={username_or_email:o,password:null!=a?a:""},n={container:r,hybridTier:null==i?void 0:i.hybridTier,page:null==i?void 0:i.pageType};(0,_.Z)(e,t.props.getLoginContext(),n).then((function(){t.handleLoginSuccess(e)}),(function(n){t.handleLoginFailure(n,e)})),t.contextLogSignupLoginEvent(7534)}),(function(){if(!t.validateAgeRequirement()&&!t.validatePasswordRequirement()){if((0,l.Z)(o))return t.setLoadingState(!1),void t.setState({emailFieldHasError:!0});t.completeRegistration(e)}}))}},{key:"render",value:function(){var e=this.props,t=e.additionalChildren,n=e.container,o=e.disablePostSignupNextUrl,l=e.email,u=e.i18n,d=e.loadingIndicatorCallback,p=e.nextUrlParam,b=e.onFBEmailDeniedPerm,m=e.onFBPhoneOnlyConnectVerified,g=e.onLineEmailMissingError,y=e.onLoginWithMfa,v=e.onSocialConnectVerified,x=e.requestContext,I=e.showLineConnectButton,_=e.showResponseMessageModal,j=e.showSignupWelcomeLoadingFn,O=e.signupSeparatorContinuous,A=this.state,S=A.accountRecoveryModalType,P=A.facebookValidationError,E=A.googleValidationError,k=A.hideFBGoogleToolTip,C=A.showRegisterForm,R=x.country;return(0,T.jsxs)(B.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:[(0,T.jsx)(w.ZP,{email:l,modalType:S,onLoginWithMfa:y,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,T.jsxs)(B.xu,{children:[this.renderSignupForm(),!!C&&(0,T.jsx)(i.Z,{signupSeparatorContinuous:O}),(0,T.jsxs)(B.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[(0,T.jsx)(c.Z,{buttonText:u._("Continue with Facebook"," - "," -- "),container:n,disablePostSignupNextUrl:o,loadingIndicatorCallback:d,onFBEmailDeniedPerm:b,onFBPhoneOnlyConnectVerified:m,onLoginWithMfa:y,onLoginWithSuspended:this.onLoginWithSuspended,onSocialConnectVerified:v,showResponseMessageModal:_,showSignupWelcomeLoadingFn:j,tooltip:!k&&P||null,useGestaltTooltip:!0}),(0,T.jsx)(B.xu,{height:10}),(0,T.jsx)(B.xu,{children:(0,T.jsx)(s.Z,{container:n,disablePostSignupNextUrl:o,nextUrlParam:"/",onLoginWithMfa:y,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,onSocialConnectVerified:v,showResponseMessageModal:_,tooltip:!k&&E||null})}),I&&(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(B.xu,{height:10}),(0,T.jsx)(a.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,T.jsx)(f.Z,{children:(0,T.jsx)(q,{container:n,disablePostSignupNextUrl:o,loadingIndicatorCallback:d,nextUrlParam:p,onLoginWithMfa:y,onLoginWithSuspended:this.onLoginWithSuspended,showResponseMessageModal:_,onLineEmailMissingError:g})})})]})]})]}),(0,T.jsx)(h.Z,{country:R,dark:!0}),t]})}}])&&F(t.prototype,n),I&&F(t,I),S}(r.Component);function X(e){var t=(0,D.lO)(),n=(0,R.B)(),r=(0,C.B$)(),o=r.getLoginContext,i=r.register,a=r.viewer,c=(0,S.Z)(),s=(0,A.ZP)(),l=(0,I.tc)("desktop_web_line_oauth_jp")().anyEnabled;return(0,T.jsx)(G,M(M({},e),{},{pageContext:t,requestContext:n,viewer:a,register:i,getLoginContext:o,logContextEvent:c,i18n:s,showLineConnectButton:l}))}var Y=n(676945),K=function(e){return(0,T.jsx)(B.xu,{"data-test-id":"signup-options",position:"relative",dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},children:(0,T.jsx)(Y.s,{children:function(t){var n,r,o=t.recaptchaV3Token,i=t.refreshToken;return(0,T.jsx)(X,{additionalChildren:e.additionalEmailPasswordChildren,age:null!==(n=e.age)&&void 0!==n?n:"",clearPassword:e.clearPassword,container:e.container,disablePostSignupNextUrl:e.disablePostSignupNextUrl,email:null!==(r=e.email)&&void 0!==r?r:"",emailValidationError:e.emailValidationError,inputStyleOverrides:{backgroundColor:"#f0f0f0",border:"0px",outline:"none"},loadingIndicatorCallback:e.loadingIndicatorCallback,name:e.name,nextUrlParam:e.nextUrlParam,onAgeChange:e.onAgeChange,onFBPhoneOnlyConnectVerified:e.onFBPhoneOnlyConnectVerified,onEmailChange:e.onEmailChange,onFBEmailDeniedPerm:e.onFBEmailDeniedPerm,onLoginWithMfa:e.onLoginWithMfa,onPasswordChange:e.onPasswordChange,onShowRegisterForm:e.onShowRegisterForm,onSocialConnectVerified:e.onSocialConnectVerified,password:e.password,passwordValidationError:e.passwordValidationError,recaptchaV3Token:o,refreshRecaptchaV3Token:i,setNameFromEmail:e.setNameFromEmail,showResponseMessageModal:e.showResponseMessageModal,showSignupWelcomeLoadingFn:e.showSignupWelcomeLoadingFn,signupSeparatorContinuous:e.signupSeparatorContinuous,signupSource:e.signupSource,suppressFocus:e.suppressFocus,onLineEmailMissingError:e.onLineEmailMissingError})}})})}},106852:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(451190),o=n(174523),i=n(218265),a=n(80209);function c(e){var t=e.type,n=e.onDismiss,c=(0,o.ZP)(),s="facebook"===t?c._("Oops! Facebook isn't available","socialAuthDisabled.facebook.title","Title for the modal shown when Facebook services are not working"):c._("Oops! Google isn't available","socialAuthDisabled.google.title","Title for the modal shown when Google services are not working"),l="facebook"===t?c._("Looks like Facebook isn't available right now.\n\nGive another option a try or refresh the page and try again later.","socialAuthDisabled.facebook.description","Description for the modal shown when Facebook services are not working"):c._("Looks like Google isn't available right now.\n\nGive another option a try or refresh the page and try again later.","socialAuthDisabled.google.description","Description for the modal shown when Google services are not working");return(0,a.jsx)(r.Z,{accessibilityModalLabel:s,footer:(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(i.xu,{paddingX:1,children:(0,a.jsx)(i.zx,{color:"red",onClick:n,text:c._("OK","socialAuthDisabled.okButton","Button that closes modal shown when Facebook or Google services are not working"),size:"md"})})}),heading:s,onDismiss:n,children:(0,a.jsx)(i.xu,{paddingX:5,children:(0,a.jsx)(i.xv,{align:"center",children:l})})})}},61743:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(793550),o=n(85038),i=n(754837),a=n(746517),c=n(302360),s=n(174523),l=n(218265),u=n(80209),d=function(e){var t=e.age,n=e.error,r=e.handleAgeChange,o=e.handleSubmit,i=e.inputRef,a=(0,s.ZP)(),c="";return n&&(c=Array.isArray(n)?n.join(""):n),(0,u.jsx)(l.xu,{children:(0,u.jsxs)("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),o()},children:[(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.xv,{align:"start",children:a._("How old are you?","Title for the age collection input field after connecting with Facebook or Google","Title for the age collection input field after connecting with Facebook or Google")})}),(0,u.jsx)(l.xu,{marginTop:2}),(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.Ki,{ref:function(e){i&&i(e)},errorMessage:c,id:"age",onChange:r,placeholder:a._("Age","text field for user to enter their age","text field for user to enter their age"),size:"lg"})}),(0,u.jsx)(l.xu,{marginTop:3}),(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.zx,{fullWidth:!0,color:"red",disabled:!t,text:a._("Continue"," - "," -- "),type:"submit"})})]})})},p=n(641483),f=n(997993),h=n(858875),b=n(304966),m=n(899679),g=n(848101);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(b,e);var t,n,r,s=j(b);function b(){var e;I(this,b);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(A(e=s.call.apply(s,[this].concat(n))),"state",{age:void 0,error:""}),P(A(e),"getViewParameter",(function(e){switch(null==e?void 0:e.type){case m.sr.FACEBOOK:return 3205;case m.sr.GOOGLE:return 3204;case m.sr.GOOGLE_ONE_TAP:return 3201;default:return}})),P(A(e),"handleAgeChange",(function(t){var n=t.value;e.setState({age:n})})),P(A(e),"handleSignupSuccess",(function(){var t=e.props.logContextEvent;e.track("signup_success"),t({event_type:7487,view_parameter:e.getViewParameter(e.props.registrationCredentials)});var n=e.props.showResponseMessageModal;n?n(!0):a.ZP.handleSignupRedirect(e.props.nextUrlParam||window.location.pathname,!0)})),P(A(e),"handleSignupFailure",(function(t){var n=e.props,r=n.i18n,o=n.logContextEvent;e.track("signup_failure"),e.props.loadingIndicatorCallback&&e.props.loadingIndicatorCallback(!1),e.props.showSignupWelcomeLoadingFn&&e.props.showSignupWelcomeLoadingFn(!1),o({event_type:7488,view_parameter:e.getViewParameter(e.props.registrationCredentials)});var i=t.message||r._("Oops! Something went wrong… Click Continue to try again.","Error during signup during age collection step","Error during signup during age collection step");e.setState({error:i})})),P(A(e),"handleSubmit",(function(){var t=e.props,n=t.desktopCoreLoginContext.register,r=t.logContextEvent,a=t.i18n,c=e.state.age;e.track("submit_button_click.".concat(c||"undefined"));var s=e.props,l=s.loadingIndicatorCallback,u=s.registrationCredentials,d=s.showSignupWelcomeLoadingFn,p=s.showResponseMessageModal;if("1"===o.U2(h.It))return e.setState({error:a._("Sorry, you’re not eligible to sign up for Pinterest right now.","Signup.AgeStep.underageError","Error message shown when underage user tries to register")}),void e.track("signup_failure");var f=e.validateAge(c);if(f)e.setState({error:f});else{e.setState({error:""});var b=u&&u.type;if(l&&![m.sr.GOOGLE_ONE_TAP,m.sr.GOOGLE,m.sr.FACEBOOK].includes(b)&&l(!0),r({event_type:7537,view_parameter:e.getViewParameter(u)}),u){if(u.type===m.sr.FACEBOOK)e.track("attempt_signup"),n(x(x(x({},(0,i.Z)(u.userData)),u.credentialsAndLoggingData),{},{recapToken:null,age:null==c?void 0:c.toString()})).then(e.handleSignupSuccess,e.handleSignupFailure);else u.type!==m.sr.GOOGLE&&u.type!==m.sr.GOOGLE_ONE_TAP||(e.track("attempt_signup"),n(x(x({},u.credentialsAndLoggingData),{},{age:null==c?void 0:c.toString()})).then(e.handleSignupSuccess,e.handleSignupFailure));!p&&d&&u.type===m.sr.FACEBOOK&&d(!0)}}})),e}return t=b,(n=[{key:"componentDidMount",value:function(){this.track("shown"),this.focusInputField()}},{key:"track",value:function(e){var t=this.props,n=t.container,r=t.registrationCredentials,o=r?r.type:"undefined";(0,p.ZP)("unauth_web.age_collection_form.".concat(e,".").concat(o,".").concat(n||"undefined"))}},{key:"focusInputField",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"validateAge",value:function(e){var t=this.props.i18n;return(0,c.Z)((null==e?void 0:e.toString())||"",[(0,f.ZA)({invalidAgeString:t._("Please enter a valid number."," - "," -- "),ageTooShortString:t._("Please enter at least two digits.","Error message when age is less than two digits long","Error message when age is less than two digits long"),checkUnderAgeWithString:t._("Sorry, you’re not eligible to sign up for Pinterest right now.","Signup.AgeStep.underageError","Error message shown when underage user tries to register")})])}},{key:"render",value:function(){var e=this,t=this.state,n=t.age,r=t.error;return(0,u.jsx)(l.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:(0,u.jsx)(d,{age:n,error:r,handleAgeChange:this.handleAgeChange,handleSubmit:this.handleSubmit,inputRef:function(t){e.inputRef=t}})})}}])&&w(t.prototype,n),r&&w(t,r),b}(r.Component),k=function(e){var t=(0,s.ZP)(),n=(0,g.B$)(),r=(0,b.Z)();return(0,u.jsx)(E,x(x({},e),{},{desktopCoreLoginContext:n,i18n:t,logContextEvent:r}))}},356975:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(215413),o=n(641483),i=n(174523),a=n(538504),c=n(116955),s=n(946753),l=n(218265),u=n(80209);function d(e){var t=e.api_error_code,n=e.errorMessage,d=e.handleTouch,p=e.userSearch,f=(0,i.ZP)(),h=function(e){return function(e,t,n){return(0,u.jsx)("button",{onClick:function(){(0,o.ZP)("unauth_password_reset_link_tapped"),(0,r.Z)({usernameOrEmail:t,callBack:n})},style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button",children:(0,u.jsx)(l.xv,{color:"red",inline:!0,size:"md",weight:"bold",children:e},"err_text")})}(e,p,d)},b=function(e){switch(e){case c.bd:case c.OW:case a.Ej:return(0,s.nk)(f._("You’ve entered a lot of incorrect passwords. To get back into your account, {{ resetPasswordLink }}. Or you can wait 30 minutes and try again.","Error message when login limited","Error message when login limited"),{resetPasswordLink:h(f._("reset your password","Link text for password reset","Link text for password reset"))});case c.yV:case c.$j:return(0,s.nk)(f._("We noticed some strange activity on your account.  {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.","Error message when user is soft banned","Error message when user is soft banned"),{resetPasswordLink:h(f._("Reset your password","Link text for password reset","Link text for password reset"))});case c.iK:return(0,s.nk)(f._("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}"," - "," -- "),{resetPasswordLink:h(f._("set a password.","Link text to set password for user with account with only google auth","Link text to set password for user with account with only google auth"))});case c.nY:return(0,s.nk)(f._("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}"," - "," -- "),{resetPasswordLink:h(f._("set a password.","Link text to set password for user with account with only facebook auth","Link text to set password for user with account with only facebook auth"))});case c.nf:return(0,s.nk)(f._("Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}","unauth.web.emailLogin","Error message displayed to users who are connected to Apple, but do not have a password"),{resetPasswordLink:h(f._("set a password.","Link text to set password for user with account with only apple auth","Link text to set password for user with account with only apple auth"))});case c.oP:return(0,s.nk)(f._("The password you entered is incorrect. Try again or {{ resetPasswordLink }}"," - "," -- "),{resetPasswordLink:h(f._("Reset your password","Link text for password reset","Link text for password reset"))});default:return[n]}}(t);return(0,u.jsx)(l.xu,{"data-test-id":"touchableErrorMessage",children:b.map((function(e,t){return(0,u.jsx)(l.xv,{color:"red",inline:!0,size:"md",children:e},"err_message_".concat(t))}))})}},754837:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(465996),o=n(386568),i=n(980767),a=function(e){if(!(0,o.Z)(e)&&!(0,r.Z)(e))return-1;var t=new Date(e);if(Number.isNaN(t.getTime()))return-1;var n=t.toISOString().substr(0,10);return new Date(n).getTime()/i.DH},c=function(e){return{first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.image_url,facebook_id:e.id,facebook_token:e.access_token||"",birthday:String(a(e.birthday||""))}}},103382:function(e,t,n){"use strict";t.Z=function(e,t){return n.e(51798).then(n.bind(n,674245)).then((function(t){var n=t.default;return new Promise((function(t,r){n((function(e){e.getLoginStatus((function(n){if(!n.authResponse)return r(new Error("not authed"));var o="/me?fields="+["picture.type(large)","id","first_name","last_name","email","gender","birthday"].join(",");e.api(o,(function(e){return!e||e.error?r(new Error("FB.api errored: "+e.error)):(e.picture&&e.picture.data&&e.picture.data.url&&!e.picture.data.is_silhouette&&(e.image_url=e.picture.data.url),t(e))}))}),!0)}),e)}))})).then((function(e){return e.email||t?Promise.resolve(e):Promise.reject({error:new Error("Email required to sign up."),socialConnectData:e})}))}},851252:function(e,t,n){"use strict";var r=n(85038),o=n(311866),i=n(233088),a=n(773559),c=n(349512),s=n(116955),l=n(746517),u=n(538504),d=n(611277),p=n(804652),f=n(641483),h=n(688239),b=n(304988),m=n(250933),g=n(697974),y=n(858875);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="referrer_unknown";try{var u=document.referrer;s=u?u.indexOf("/t.co/")>-1?"twitter":u.indexOf("google.")>-1?"google":u.indexOf("bing.")>-1?"bing":u.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(I){}var d=(0,l.eD)(e),p=t===Object(t)?t.hybridTier:"tier_unknown",g=t===Object(t)?t.container:"container_unknown";(0,f.ZP)("login.referrer."+s+"."+d),(0,f.ZP)("login.container."+g+"."+d),(0,f.ZP)("login.type."+d);var y=(0,l.eD)(e)||"method_unknown",v=t.page||"page_unknown";e.gplus_autologin?a?((0,f.ZP)("mweb_autologin.google_success"),(0,f.hL)("new_mweb_autologin_google",{page:v,referrer:s,container:g,hybridTier:p})):((0,f.ZP)("web_autologin_google"),(0,f.hL)("new_web_autologin_google",{page:v,referrer:s,container:g,hybridTier:p})):e.facebook_autologin?((0,f.ZP)("web_autologin_facebook"),(0,f.hL)("new_web_autologin_facebook",{page:v,referrer:s,container:g,hybridTier:p})):((0,f.ZP)("web_login.".concat(y,".success.").concat(v,".").concat(g,".").concat(s,".").concat(p)),(0,f.hL)("new_web_login.".concat(y,".success"),{page:v,referrer:s,container:g,hybridTier:p})),(0,m.c_)({country:n,countryFromHostName:r,countryFromIp:o})&&(0,b.yP)({id:c.bJ,eventCategory:"Logins",eventName:"Desktop"}),(0,m.$r)({country:n,countryFromHostName:r,countryFromIp:o,regionFromIp:i})&&(0,b.jw)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),(0,m.NR)(n,i)&&(0,b.EN)({pixelId:h.Rj,eventCategory:"Logins",eventName:"Desktop"}),(0,m.Fc)({country:n,countryFromHostName:r,countryFromIp:o})&&(0,b.Be)({pixelId:h.HO,eventCategory:"Logins",eventName:"Desktop"});var x=e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login";(0,f.De)({action:x,event:"success",type:d})},_=function(e,t){(0,f.ZP)("web_cross_domain_login.".concat(e,".").concat((0,l.eD)(t)))},j=function(e){return!e.mfa_resend&&!!e.username_or_email},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var o=e.http_status===u.Ej?u.Ej:e.api_error_code,i=o;s.qF.has(o)&&(i=s.qF.get(o));var a=t.container;r?(0,f.ZP)("unauth_web_client_cctld_login_api_error.".concat(String(i),".").concat(a||"unknow_container",".").concat(n)):(0,f.ZP)("unauth_web_client_login_api_error.".concat(String(i),".").concat(a||"unknow_container",".").concat(n)),(0,f.De)({action:"login",event:"fail",type:n})}},A=function(e,t,n,r){_("attempt",e);var o=r.referrer,i=r.facebookToken,a=r.unauthId;return(0,g.loginUser)(e,{recaptchaV3Token:t,referrer:o,facebookToken:i,unauthId:a}).then((function(t){if(t&&t.data){_("success_with_token",e);var r=t.data;return(0,g.exchangeTokenAndSetSession)(r).then((function(t){return _("success_token_exchanged",e),w(e,n),Promise.resolve()}),(function(t){throw _("success_token_not_exchanged",e),t}))}throw _("success_without_token",e),new Error}),(function(t){throw _("failure",e),O(t,n,(0,l.eD)(e),!0),t}))},S=function(e,t,n){"autologin"===(e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login")&&(0,f.dy)({event:t,provider:n})};t.Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(j(e)){var h=a.Z.settings.CORS_HANDSHAKE_DOMAINS;if(-1!==h.indexOf(t.origin))return A(e,u,n,t)}var b=e.google_open_id_token?"google":"facebook";S(e,"login_api_call_start",b);var m=c?null:i.ZP.localStorage.getItem("visitedPagesBeforeLogin"),g=x(x({},e),{},{get_user:e.get_user||e.switch_account&&c,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:m?JSON.stringify(m):null,recaptchaV2Token:s,recaptchaV3Token:u}),v=o.ZP.create("UserSessionResource",g),I={showError:!1,async:!0};return v.callCreate(I).then((function(t){var o=(t||{}).client_context||{},i=o.country,a=o.country_from_hostname,c=o.country_from_ip,s=o.region_from_ip;return w(e,n,i,a,c,s,f),S(e,"login_api_call_success",b),(0,d.B)(!1),r.zN(y.e7.name),r.zN(y.x3.name),(0,p.D)("login").then((function(){return t}))}),(function(t){return O(t,n,(0,l.eD)(e)),S(e,"login_api_call_failure",b),Promise.reject(t)}))}},977399:function(e,t){"use strict";t.Z=function(e){return"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?2:1}}},840852:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},z:function(){return i}});var r=n(849258);function o(e){var t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){var n=t[1],o=n&&-1!==n.indexOf(".")?n.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;var i=(0,r.Z)(n,"gmail.com");if("g"===n.charAt(0)&&(1===i||2===i))return!0}return!1}function i(e,t){var n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;var o=n[1],i=o&&-1!==o.indexOf(".")?o.split("."):[],a=i[0];if(a===t&&i.length>3)return!0;if(i.length>=2){var c=(0,r.Z)(a,t);return a.charAt(0)===t.charAt(0)&&(1===c||2===c)}return(2!==i.length||a!==t||2!==i[1].length&&"com"!==i[1])&&(i.length,!1)}},520108:function(e,t,n){"use strict";var r=n(793550),o=n(575429),i=n(910289),a=n(12091);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,o,i=h(a);function a(){var e;d(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=i.call.apply(i,[this].concat(n))),"state",{hasCompleted:[],hasDismissed:[]}),y(m(e),"view",(function(){var t=e.props,n=t.experience,r=t.isBackendExperience,o=t.targeting,i=t.viewExperience,a=t.viewExperienceObject;n&&(r?a(n):o?i(n.placement_id,n.experience_id,o):i(n.placement_id,n.experience_id))})),y(m(e),"complete",(function(t){var n=e.props,r=n.completeExperience,o=n.completeExperienceObject,i=n.experience,a=n.isBackendExperience,c=n.preventRemoval,s=n.targeting,u=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var d=i||{},p=d.placement_id,f=d.experience_id,h=c||2===u;(1===u||h)&&p&&f&&(a?o(i,h):s?r(p,f,h,s):r(p,f,h),e.setState((function(e){return{hasCompleted:[].concat(l(e.hasCompleted),[f])}})))}})),y(m(e),"dismiss",(function(){var t=e.props,n=t.dismissExperience,r=t.dismissExperienceObject,o=t.experience,i=t.isBackendExperience,a=t.preventRemoval,c=t.targeting,s=o||{},u=s.placement_id,d=s.experience_id;o&&!e.state.hasDismissed.includes(d)&&(i?r(o):c?n(u,d,!!a,c):n(u,d,!!a),e.setState((function(e){return{hasDismissed:[].concat(l(e.hasDismissed),[d])}})))})),y(m(e),"shouldRenderExperience",(function(){var t=e.props.experience;if(t){var n=e.props,r=n.eligibleIds,o=n.eligibleTypes,i=n.predicate,a=n.transitionType,c=t.experience_id,s=t.type;if(r&&r.includes(c))return!0;if(null==r||!r.length){if(i&&i(t))return!0;if(o&&o.includes(s))return!0;if(a&&a===s)return!0}}return!1})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.disableAutoView||this.props.experience&&this.shouldRenderExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.experience,o=e.disableAutoView;return n&&this.shouldRenderExperience()?"function"==typeof t?t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({experience:n,complete:this.complete,dismiss:this.dismiss},o?{view:this.view}:Object.freeze({}))):r.Children.only(t):null}}])&&p(t.prototype,n),o&&p(t,o),a}(r.Component);y(v,"defaultProps",{eligibleIds:[],eligibleTypes:[]});t.Z=(0,o.connect)((function(e,t){var n=e.experiences;return{experience:t.experience||(t.placementId?n[t.placementId]:void 0)}}),(function(e){return{completeExperience:function(t,n,r,o){return e((0,i.CK)(t,n,r,!1,{},o))},completeExperienceObject:function(t,n){return e((0,a.Tl)(t,n))},dismissExperience:function(t,n,r,o){return e((0,i.Qu)(t,n,r,void 0,o))},dismissExperienceObject:function(t){return e((0,a.CF)(t))},viewExperience:function(t,n,r){return e((0,i.UT)(t,n,!1,!1,void 0,r))},viewExperienceObject:function(t){return e((0,a.dy)(t))}}}))(v)},264221:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(793550),o=n(855356),i=n(514319),a=n(218265),c=n(80209);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,o=p(s);function s(){return l(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"renderPulsar",value:function(){var e=this.props,t=e.anchor,n=e.handleComplete,r=e.handlePulsarCompleteOnHover,o=e.zIndex;return(0,c.jsx)(i.Z,{anchor:t,onTouch:n,onMouseEnter:r,zIndex:o})}},{key:"renderFlyout",value:function(){var e=this.props,t=e.anchor,n=e.tooltip,r=e.handleDismiss,o=e.handleComplete;if(!n)return null;var i=n.cancelButtonText,s=n.confirmButtonText,l=n.mainText,u=n.idealDirection,d=void 0===u?"down":u,p=i&&r&&s&&o;return(0,c.jsx)(a.J2,{anchor:t,color:"blue",idealDirection:d,onDismiss:r,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,c.jsxs)(a.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,c.jsx)(a.xv,{color:"white",overflow:"breakWord",weight:"bold",children:l}),p?(0,c.jsxs)(a.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,c.jsx)(a.xu,{column:6,marginEnd:1,children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:function(e){return r(e)},size:"md",text:String(i)})}),(0,c.jsx)(a.xu,{column:6,children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"white",size:"md",text:String(s),onClick:o})})]}):null]})})}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.pulserOnly;return t?n?this.renderPulsar():this.renderFlyout():null}}])&&u(t.prototype,n),r&&u(t,r),s}(r.Component),m=n(354783),g=n(85831),y=n(505343);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t,n=e.anchor,i=e.anchorElementRef,s=e.children,l=e.containerBoxConfig,u=e.experience,d=e.isHidden,p=e.onCompleteClick,f=e.zIndex,h=(0,y.M)(),x=h.completeExperience,I=h.dismissExperience,_=h.experiences,j=h.viewExperience,O=function(e){var t=e.anchor,n=e.anchorExperiences;return e.passedExperience||(n?n[t]:null)}({anchor:n,anchorExperiences:Object.values(_).reduce((function(e,t){return 8===t.type&&(e[(0,g.A0)(t)]=t),e}),{}),passedExperience:u}),A=(null==O||null===(t=O.display_data)||void 0===t?void 0:t.delay)||0,S=v((0,r.useState)(!!A),2),P=S[0],E=S[1];if((0,r.useEffect)((function(){if(A>0&&P){var e=setTimeout((function(){E(!1)}));return function(){return clearTimeout(e)}}return function(){}}),[A,P]),(0,r.useEffect)((function(){!P&&O&&j(O.placement_id,O.experience_id)}),[P,O]),!O||P||d)return r.Children.only(s);var k=function(e){var t=e.display_data;return t.tooltip&&(t.tooltip=w(w({},t.tooltip.options),t.tooltip),delete t.tooltip.options),(0,o.Z)(m.Z,!0)(t)}(O),C=function(){var e;null!==(e=O.display_data)&&void 0!==e&&e.complete_on_hover&&x(O.placement_id,O.experience_id)};return(0,c.jsxs)(a.xu,{position:"relative",height:null==l?void 0:l.height,display:null==l?void 0:l.display,children:[(0,c.jsx)(a.iP,{onMouseEnter:C,onTap:function(){p&&p(),k.skipComplete||x(O.placement_id,O.experience_id)},children:r.Children.only(s)}),(0,c.jsx)(b,{anchor:i||null,handlePulsarCompleteOnHover:C,handleComplete:function(){i instanceof HTMLElement&&i.click()},handleDismiss:function(e){null!=e&&e.event&&e.event.stopPropagation(),I(O.placement_id,O.experience_id)},pulserOnly:!!k.pulserOnly,tooltip:k.tooltip,tooltipOnly:!!k.tooltipOnly,zIndex:f})]})}},505343:function(e,t,n){"use strict";n.d(t,{F:function(){return y},M:function(){return g}});var r=n(793550),o=n(575429),i=n(500637),a=n(50351),c=n(762803),s=n(910289),l=n(80209);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=(0,c.ZP)("ExperienceContext"),m=b.Provider,g=b.useHook;function y(e){var t=e.children,n=f((0,r.useReducer)((function(e,t){if("MOUNT_PLACEMENT"===t.type)return d(d({},e),{},p({},t.payload,!0));if("UNMOUNT_PLACEMENT"===t.type){var n=d({},e);return delete n[t.payload],n}return e}),{}),2),c=n[0],u=n[1],h=(0,o.useDispatch)(),b=(0,o.useSelector)((function(e){return e.experiences})),g=(0,r.useMemo)((function(){var e=(0,i.bindActionCreators)({completeExperience:s.CK,dismissExperience:s.Qu,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:a.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:s.UT},h);return d(d({},e),{},{mountPlacement:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.mountPlacement.apply(e,[t].concat(r)),u({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){u({type:"UNMOUNT_PLACEMENT",payload:e})}})}),[h,u]);return(0,l.jsx)(m,{value:d({experiences:b,mountedPlacements:c},g),children:t})}},910289:function(e,t,n){"use strict";n.d(t,{fO:function(){return u},pz:function(){return d},UT:function(){return f},CK:function(){return h},Qu:function(){return b},d9:function(){return m},kd:function(){return g},YX:function(){return y},N:function(){return v}});var r=n(311866),o=n(85831),i=n(731164),a=n(50351);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,u=function(e,t){return function(n){var o=t?{extra_context:e,targeting:t}:{extra_context:e};return r.ZP.create("UserExperiencePlatformResource",o).callGet().then((function(e){return e.resource_response?n((0,a.OD)(e.resource_response.data)):void 0}))}},d=function(e,t,n,i){return function(c,s){if(t)return Promise.resolve();if(i&&(l=i),1===e.length){var u=e[0],d=s().experiences[u],p=(null==d?void 0:d.extraContext)||null;if(JSON.stringify(p)===JSON.stringify(n)||(0,o.E3)(d)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return r.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then((function(e){return e.resource_response?c((0,a.cL)(e.resource_response.data)):void 0}))}},p=function(e,t){return function(n,o,i){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0;return function(p,f){var h,b=f(),m=b.experiences,g=b.experiencesMulti,y=null,v=!0;c||(y=(v=m[n]&&m[n].experience_id===o)?m[n]:null===(h=g[n])||void 0===h?void 0:h.find((function(e){return e.experience_id===o})));if(y&&y.experience_id===o||c&&n&&o){var x=r.ZP.create(e,{placed_experience_id:"".concat(n,"%3A").concat(o),extra_context:null!=s?s:{},targeting:d}),I=v?a.Yb:a.xW;switch(t){case"dismissed":return x.callDelete().then((function(){p(I(n,o,t)),p(u(void 0,l))}));case"completed":return x.callUpdate().then((function(){i||(p(I(n,o,t)),p(u(void 0,l)))}));case"viewed":return p(I(n,o,t)),x.callUpdate().then((function(){1000162===n&&p(u())}));case"completedWithoutHomefeed":return x.callUpdate().then((function(){i||p(I(n,o,t))}));default:return Promise.resolve()}}return Promise.resolve()}}},f=p("UserExperienceViewedResource","viewed"),h=p("UserExperienceCompletedResource","completed"),b=p("UserExperienceResource","dismissed"),m=p("UserExperienceCompletedResource","completedWithoutHomefeed"),g=function(e,t){return function(n,o){var a=o().experiences[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((function(n){var o=c(n.split(":"),2)[1],s=t;a.metadata&&a.metadata[o]&&(s=Object.assign({},t,a.metadata[o])),r.ZP.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:s}).callUpdate().then((function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.Z.increment("".concat(e,".").concat(t),1,n)}("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})}))}))}},y=function(e){return function(t,n){return t(g(e)),n().experiences[e]}},v=function(e,t,n){return function(r){n&&(l=n),r(g(e,t)),t&&Object.keys(t).length>0&&r(d([e],!1,t,n))}}},12091:function(e,t,n){"use strict";n.d(t,{Tl:function(){return a},CF:function(){return c},dy:function(){return s}});var r=n(311866),o=n(910289),i=function(e,t){return function(n,i){return function(a){if(n&&n.id){var c=r.ZP.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then((function(){a((0,o.fO)())}));break;case"completed":c.callUpdate().then((function(){i||a((0,o.fO)())}));break;case"viewed":c.callUpdate()}}}}},a=i("UserExperienceCompletedResource","completed"),c=i("UserExperienceResource","dismissed"),s=i("UserExperienceViewedResource","viewed")},85831:function(e,t,n){"use strict";function r(e){return!!e&&0!==e.type}n.d(t,{E3:function(){return r},MQ:function(){return o},A0:function(){return i}});var o=function(e,t,n){var o=e[n];return t[n]&&r(o)?o:null};function i(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},944163:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},V$:function(){return o},mR:function(){return i},_4:function(){return a},iY:function(){return c}});var r="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",c="UPDATE_EXPERIENCE"},50351:function(e,t,n){"use strict";n.d(t,{xW:function(){return i},NW:function(){return a},Yb:function(){return c},OD:function(){return s},cL:function(){return l}});var r=n(311866),o=n(944163),i=function(e,t,n){return{type:o.V$,payload:{placementId:e,experienceId:t,status:n}}},a=function(e){return function(t){return r.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((function(e){return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n}))}},c=function(e,t,n){return{type:o.iY,payload:{placementId:e,experienceId:t,status:n}}},s=function(e){return{type:o._4,payload:{experiences:e}}},l=function(e){return{type:o.mR,payload:{experiences:e}}}},521085:function(e,t,n){"use strict";function r(e){e&&e.focus()}n.d(t,{Z:function(){return r}})},141178:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(793550),o=n(413764);function i(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}var c={"ar-SA":function(){return n.e(58346).then(n.bind(n,358346))},"bn-IN":function(){return n.e(38598).then(n.bind(n,838598))},"cs-CZ":function(){return n.e(3636).then(n.bind(n,803636))},"da-DK":function(){return n.e(86900).then(n.bind(n,486900))},de:function(){return n.e(89777).then(n.bind(n,589777))},"el-GR":function(){return n.e(18570).then(n.bind(n,118570))},"en-AU":function(){return n.e(20607).then(n.bind(n,320607))},"en-GB":function(){return n.e(20607).then(n.bind(n,320607))},"en-IN":function(){return n.e(20607).then(n.bind(n,320607))},"en-US":function(){return n.e(77980).then(n.bind(n,77980))},"es-419":function(){return n.e(47646).then(n.bind(n,647646))},"es-AR":function(){return n.e(47646).then(n.bind(n,647646))},"es-ES":function(){return n.e(47646).then(n.bind(n,647646))},"es-MX":function(){return n.e(47646).then(n.bind(n,647646))},"fi-FI":function(){return n.e(94194).then(n.bind(n,894194))},fr:function(){return n.e(47660).then(n.bind(n,847660))},"hi-IN":function(){return n.e(47195).then(n.bind(n,447195))},"hu-HU":function(){return n.e(91042).then(n.bind(n,91042))},"id-ID":function(){return n.e(71487).then(n.bind(n,271487))},it:function(){return n.e(3561).then(n.bind(n,403561))},ja:function(){return n.e(29145).then(n.bind(n,429145))},"ko-KR":function(){return n.e(34484).then(n.bind(n,834484))},"ms-MY":function(){return n.e(44246).then(n.bind(n,844246))},"nb-NO":function(){return n.e(86658).then(n.bind(n,386658))},nl:function(){return n.e(58748).then(n.bind(n,358748))},"pl-PL":function(){return n.e(18117).then(n.bind(n,818117))},"pt-BR":function(){return n.e(99533).then(n.bind(n,99533))},"pt-PT":function(){return n.e(99533).then(n.bind(n,99533))},"ro-RO":function(){return n.e(56243).then(n.bind(n,956243))},"ru-RU":function(){return n.e(62306).then(n.bind(n,762306))},"sk-SK":function(){return n.e(75961).then(n.bind(n,775961))},"sv-SE":function(){return n.e(12936).then(n.bind(n,912936))},"te-IN":function(){return n.e(46828).then(n.bind(n,746828))},"th-TH":function(){return n.e(33693).then(n.bind(n,33693))},tr:function(){return n.e(16863).then(n.bind(n,416863))},"uk-UA":function(){return n.e(22946).then(n.bind(n,722946))},"vi-VN":function(){return n.e(72304).then(n.bind(n,972304))},"zh-CN":function(){return n.e(96710).then(n.bind(n,296710))},"zh-TW":function(){return n.e(27534).then(n.bind(n,527534))}};function s(e){return l.apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window&&window.__localeData__&&t in window.__localeData__)){e.next=2;break}return e.abrupt("return",Promise.resolve(window.__localeData__[t]));case 2:if(!(t in c)||window.__localeData__&&t in window.__localeData__){e.next=7;break}return e.next=5,c[t]();case 5:return n=e.sent,e.abrupt("return",n);case 7:return e.abrupt("return",Promise.resolve(null));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=n(585967),d=n(80209);function p(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=(0,r.forwardRef)((function(e,t){var n=e.disabled,i=e.errorMessage,a=e.excludeDates,c=e.helperText,l=e.id,h=e.idealDirection,b=e.includeDates,m=e.label,g=e.maxDate,y=e.minDate,v=e.nextRef,x=e.onChange,I=e.placeholder,w=e.rangeEndDate,_=e.rangeSelector,j=e.rangeStartDate,O=e.value,A=(0,u.B)().locale,S=f((0,r.useState)(),2),P=S[0],E=S[1];return(0,r.useEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(A);case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,c,"next",e)}function c(e){p(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[A,E]),(0,d.jsx)(o.Z,{id:l,onChange:x,disabled:n,errorMessage:i,excludeDates:a,helperText:c,idealDirection:h,includeDates:b,label:m,localeData:P||void 0,maxDate:g,minDate:y,nextRef:v,placeholder:I,rangeEndDate:w,rangeSelector:_,rangeStartDate:j,ref:t,value:O})}));b.displayName="DatePicker";var m=b},451190:function(e,t,n){"use strict";n.d(t,{b:function(){return s},Z:function(){return l}});var r=n(793550),o=n(241933),i=n(51610),a=n(218265),c=n(80209),s=new a.Ry(1e3);function l(e){var t=e._dangerouslyDisableScrollBoundaryContainer,n=e.accessibilityModalLabel,l=e.align,u=e.allowClickAndDrag,d=e.allowMediaPlay,p=e.allowScroll,f=e.children,h=e.closeOnOutsideClick,b=e.footer,m=e.heading,g=e.onDismiss,y=e.role,v=e.size,x=e.subHeading;(0,r.useEffect)((function(){return o.Z.pause(),function(){o.Z.resume()}}),[]);return(0,c.jsx)(a.mh,{zIndex:s,children:(0,c.jsx)(i.Z,{allowClickAndDrag:u,allowEsc:!0,allowMediaPlay:d,allowScroll:p,children:(0,c.jsx)(a.u_,{_dangerouslyDisableScrollBoundaryContainer:t,accessibilityModalLabel:n,align:l,closeOnOutsideClick:h,heading:m,footer:b,onDismiss:function(){o.Z.resume(),g()},role:y,size:v,subHeading:x,children:f})})})}},881220:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(793550),o=n(500953),i=n(16539),a=n(218265),c=n(80209);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.button,n=e.dataTestId,l=e.duration,u=void 0===l?2e3:l,d=e.href,p=e.iconThumbnail,f=e.imageUrl,h=e.onClick,b=e.onHide,m=e.openNewPage,g=e.text,y=e.thumbnailShape,v=void 0===y?"square":y,x=e.variant,I=void 0===x?"default":x,w=s((0,r.useState)(!1),2),_=w[0],j=w[1],O=s((0,r.useState)(!1),2),A=O[0],S=O[1],P=(0,r.useRef)(),E=function(){j(!0),P.current=setTimeout(b,i.V)},k=function(){P.current&&clearTimeout(P.current)},C=function(){P.current=setTimeout(E,u)};(0,o.Z)((function(){return setTimeout((function(){return S(!0)}),100),C(),k}));var R="string"==typeof g?g:"".concat(g[0]," ").concat(g[1]),B=f?(0,c.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,c.jsx)(a.Ee,{alt:R,fit:"cover",naturalHeight:1,naturalWidth:1,src:f})}):void 0,D=(0,c.jsx)(a.FN,{button:t,text:g,thumbnail:null!=p?p:B,thumbnailShape:v,variant:I});return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,i.Z)(A,_)},"data-test-id":null!=n?n:"toast",onMouseEnter:k,onMouseLeave:C,children:d?(0,c.jsx)(a.iP,{role:"link",href:d,onTap:function(e){var t=e.event;return null==h?void 0:h(t)},target:m?"blank":null,rounding:"pill",children:D}):D})}},16539:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{V:function(){return a}});var a=200;t.Z=function(e,t){return o(o({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden"},e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{}),e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform ".concat(.2,"s")}:{})}},336862:function(e,t,n){"use strict";n.d(t,{tq:function(){return r},tp:function(){return o},TD:function(){return i}});n(773559);var r="https://accounts.google.com/gsi/client",o=function(e){e&&e.cancelLastOperation&&e.cancelLastOperation().then((function(){}))},i=function(e){return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")));var t}},658726:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(174523),o=n(946753),i=n(980767);function a(){var e=(0,r.ZP)();return function(t,n){var r=new Date(t),a=new Date-r,c=Math.floor(a/i.FS),s=Math.floor(a/i.UK),l=Math.floor(a/i.F4),u=Math.floor(a/i.VL),d=Math.floor(a/i.N1),p=e.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",c," - "," -- "),f=e.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",s," - "," -- "),h=e.ngettext("{{ days }} day ago","{{ days }} days ago",l," - "," -- "),b=e.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",u," - "," -- "),m=e.ngettext("{{ years }} year ago","{{ years }} years ago",d," - "," -- "),g=e.ngettext("{{ minutes }}m","{{ minutes }}m",c,"minutes ago abbreviated","minutes ago abbreviated"),y=e.ngettext("{{ hours }}h","{{ hours }}h",s,"hours ago abbreviated","hours ago abbreviated"),v=e.ngettext("{{ days }}d","{{ days }}d",l,"days ago abbreviated","days ago abbreviated"),x=e.ngettext("{{ weeks }}w","{{ weeks }}w",u,"weeks ago abbreviated","weeks ago abbreviated"),I=e.ngettext("{{ years }}y","{{ years }}y",d,"years ago abbreviated","years ago abbreviated");return d>0?(0,o.nk)(n?I:m,{years:d}).join(""):u>0?(0,o.nk)(n?x:b,{weeks:u}).join(""):l>0?(0,o.nk)(n?v:h,{days:l}).join(""):s>0?(0,o.nk)(n?y:f,{hours:s}).join(""):c>0?(0,o.nk)(n?g:p,{minutes:c}).join(""):e._("Just now"," - "," -- ")}}},300970:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;var n="";t&&t.createdAt?n=t.createdAt:e&&e.created_at&&(n=e.created_at);var r=new Date(n);return r.setDate(r.getDate()+28),(new Date).getTime()<r.getTime()}},481731:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){var n=e.split("@")[0],r="";return r=(r=n.includes(".")?n.replace("."," "):n.includes("_")?n.replace("_"," "):n).replace(/[0-9]/g,""),"GB"===t?"User_"+function(e){return e.split("").sort((function(){return.5-Math.random()})).join("")}(r):r=r.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}},593482:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var o=new Date,i=n?new Date(n):o;return i.setDate(i.getDate()+r),(new Date).getTime()<i.getTime()}},849258:function(e,t,n){"use strict";function r(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,r,o=[];for(n=0;n<=t.length;n+=1)o[n]=[n];for(r=0;r<=e.length;r+=1)o[0][r]=r;for(n=1;n<=t.length;n+=1)for(r=1;r<=e.length;r+=1)t.charAt(n-1)===e.charAt(r-1)?o[n][r]=o[n-1][r-1]:o[n][r]=Math.min(o[n-1][r-1]+1,Math.min(o[n][r-1]+1,o[n-1][r]+1));return o[t.length][e.length]}n.d(t,{Z:function(){return r}})},84314:function(e,t,n){"use strict";var r=n(130052),o=n(865253);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t,n){var i=r.Z.getAccountsJSON();i[e.id]=function(e){var t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||(0,o.Z)("utils.incomplete_user_values"),e.partner&&e.partner.is_create?a(a({},t),{},{partner:{is_create:e.partner.is_create}}):t}(e),r.Z.setAccounts(JSON.stringify(i)),t&&n&&(0,o.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},182496:function(e,t,n){"use strict";var r=n(425556);t.Z=function(){return Object.keys((0,r.Z)()).length}},425556:function(e,t,n){"use strict";var r=n(130052);t.Z=function(){return r.Z.getAccountsJSON()}},865253:function(e,t,n){"use strict";var r=n(182496),o=n(130052),i=n(912397),a=n(641483),c=n(981444),s="web_account_switcher";t.Z=function(e,t,n){var l=o.Z.getGroupId();l||(l=function(){var e=(0,c.Z)();return(0,a.tj)("".concat(s,".utils.group_created"),{group_id:e,group_count:(0,r.Z)()}),e}(),o.Z.setGroupId(l));var u={group_count:(0,r.Z)()},d="";n&&(d=n===i.hC?"modal.":"flyout."),(0,a.tj)("".concat(s,".").concat(d).concat(e),Object.assign({},t,u))}},855356:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(582608),o=n.n(r);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){if(!o()(n))return t&&Array.isArray(n)?n.map(i(e,t)):n;var r={};return Object.keys(n).forEach((function(a){var c=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?r[c]=i(e,t)(n[a]):r[c]=n[a]})),r}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t,n){return e(n)};return function(e){return i(n,t)(e)}}},586840:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((function(n,r){return t.includes(r)?n:o(o({},n),{},i({},r,e[r]))}),{})}n.d(t,{Z:function(){return a}})},365217:function(e,t,n){"use strict";n.d(t,{P:function(){return a},t:function(){return c}});var r=n(311866),o=function(){};var i={complaint:function(e,t){r.ZP.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},followBoard:function(e,t){r.ZP.create("BoardFollowResource",e).callCreate().then((function(){return t()}))},followPinner:function(e,t){r.ZP.create("UserFollowResource",e).callCreate().then((function(){return t()}))},followTopic:function(e,t){r.ZP.create("InterestFollowResource",e).callCreate().then((function(){return t()}))},newsHubPinHide:function(e,t){r.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return t()}))},promotedComplaint:function(e,t){r.ZP.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},relatedPinHide:function(e,t){r.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return t()}))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){r.ZP.create("BoardFollowResource",e).callDelete().then((function(){return t()}))},unfollowPinner:function(e,t){r.ZP.create("UserFollowResource",e).callDelete().then((function(){return t()}))},unfollowTopic:function(e,t){r.ZP.create("InterestFollowResource",e).callDelete().then((function(){return t()}))},unrelatedSearchPin:function(e,t){r.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return t()}))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=i[e];return r?r(t,n):n()}},454217:function(e,t,n){"use strict";n.d(t,{yl:function(){return u},XZ:function(){return d},nb:function(){return p},EF:function(){return f}});var r=n(773559),o=n(365217),i=n(266750);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function u(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function p(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}t.ZP=function(e){var t=e.i18n,n=e.interpolateNamedTemplate;return{getLearnMoreUrl:function(e){switch(e){case 1:return r.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return r.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return r.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:function(e){var r=e.ad_match_reason,o=e.board,i=e.feedbackType,a=e.makeNavigateLink,c=e.pinner,s=e.promoter,u=e.recommendationReason,d=e.sourceInterest;switch(i){case"pfy":return t._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":var p=u.board,f=p.name,h=a("navigation",p.url,f);return n(t._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:h});case"topic":var b=d.name,m=d.url_name,g=a("topicUrl","/topics/".concat(m),b);return n(t._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":var y="/".concat(c.username),v=a("boardUrl",o.url,l(o.name)),x=a("pinnerUrl",y,l(c.full_name));return c.explicitly_followed_by_me?n(t._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:x}):n(t._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:v});case"promoted":switch(r){case 1:case 2:case 3:return t._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:var I=s.full_name,w=s.username,_=a("promotedLink",w?"/"+w+"/":"/",I);return n(t._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:_})}default:return null}},getFeedbackType:function(e){var t=e.board,n=e.feedback,r=e.viewParameter,o=e.pin,i=o.promoter,a=o.is_downstream_promotion,c=o.recommendation_reason,s=e.pinner,l=n&&n.type;return i&&!a?"promoted":l||(function(e){return!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0}(c)?c.board?"pfyBoard":"pfy":c&&"FOLLOWED_INTEREST"===c.reason?"topic":t&&t.followed_by_me||s&&s.explicitly_followed_by_me?"followed":140===r||144===r||141===r||145===r||139===r||3173===r?"related":92===r?"default":3082===r?"newsHub":null)},getHidePinAction:function(e){var t,n,r=e.feedbackData,o=e.feedbackType,i=e.pinId,a=e.recommendationReasonId,s=e.pinFeedbackType,l=e.complaintReason,u=e.throughId,d=e.throughProperties,p=e.clientTrackingParams,f="promoted"===o;switch(o){case"promoted":t="promotedComplaint";break;case"search":t="unrelatedSearchPin";break;case"related":t="relatedPinHide";break;case"newsHub":t="newsHubPinHide";break;default:t="complaint"}switch(o){case"search":n={query:r.query,pin_id:i};break;case"related":n={pin:i};break;case"newsHub":n={pinId:i,newsId:r.newsId};break;default:n=c(c(c(c({complaint_reason:l||0,pin_id:i},a?{recommendation_reason_id:a}:{}),{},{feedback_type:s||1,promoted:f},u?{through_id:u}:{}),d?{through_properties:d}:{}),p?{client_tracking_params:p}:{})}return{action:t,actionOptions:n}},getUnfollowAction:function(e){var r=e.board,o=e.feedbackType,a=e.makeNavigateLink,c=e.pinner,s=e.sourceInterest;if("topic"===o){if(s){var l=s.id,u=s.name,d=s.url_name,p=a("topicUrl","/topics/".concat(d),u,!0),f=n(t._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:p});return{action:"unfollowTopic",actionOptions:{interest_id:l,interest_list:i.X},title:"",subTitle:f}}}else if("followed"===o&&r&&c){var h=r||{},b=h.id,m=h.name,g=h.url,y=c.explicitly_followed_by_me,v=c.full_name,x=c.username,I="/".concat(x),w=a("boardUrl",g,m,!0),_=a("pinnerUrl",I,v,!0);y?n(t._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:_,formattedBoard:w}):n(t._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:w});return{action:"unfollowBoard",actionOptions:{board_id:b},title:"",subTitle:y?n(t._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:_}):n(t._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:w})}}return null}}};var f=function(e,t,n,r,i,a,s){return function(){var l=c(c({},e),{},{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),(0,o.t)(u,l),a(n),s({event_type:101,component:0,element:11181,view_type:r,view_parameter:i})}}},953781:function(e,t,n){"use strict";function r(e,t){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";var n=e.images;if(!n)return"";if(t){var r="474x"===t&&n["474x"]||"236x"===t&&n["236x"]||n["736x"];if(r&&r.url)return r.url}var o=Object.keys(n).map((function(e){try{var t=e.split("x")[0];return Number.isNaN(Number(t))?(n[t]=n[e],t):e}catch(r){return""}}));o.sort();var i=o.pop();return n[i]&&n[i].url||""}n.d(t,{Z:function(){return r}})},726434:function(e,t,n){"use strict";function r(e){var t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:function(){return r}})},445443:function(e,t){"use strict";t.Z=function(e){return function(t){return null!=t?e(t):null}}},712997:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(445443).Z)((function(e){return e.pin&&e.pin.id?o(o({},e),{},{id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}):null}));t.Z=a},57158:function(e,t,n){"use strict";function r(e){if(e&&e.pin){var t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}n.d(t,{Z:function(){return r}})},519916:function(e,t,n){"use strict";n.d(t,{GH:function(){return l},$:function(){return d},sl:function(){return p},we:function(){return f},Jb:function(){return h},a7:function(){return b},s0:function(){return m},JF:function(){return g},uP:function(){return y}});var r=n(384832),o=n(641483),i=n(658551);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="274266067164",u=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],d=["public_profile","email","user_birthday","user_friends"],p=function(e){e&&(0,o.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,o.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,o.dy)({event:"global_object_not_found",provider:"facebook"})},f=function(e,t){return t&&(0,o.dy)({event:"load_script_start",provider:"facebook"}),(0,i.c5)((0,r.Z)(e),i.Jg.FACEBOOK).then((function(){return p(t)}))},h=function(){return new Promise((function(e){"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,o){if("connected"===e.status){n&&n("success");var i=e.authResponse,a={facebook_id:i.userID,facebook_token:i.accessToken,facebook_autologin:t.autologin||!1},s="/me?fields=".concat(u.join(","));window.FB.api(s,(function(e){r({creds:a,data:c(c(c({},e),a),e.picture&&!e.picture.data.is_silhouette?{image_url:e.picture.data.url}:{})})}))}else{var l=e.status||"unknown";n&&n("failure.".concat(l)),o({status:l})}}))},m=function(e,t){var n=e.data;e.isTrusted&&"string"==typeof n&&0===n.indexOf("_FB_")&&-1!==n.indexOf("type=login_button_dialog_open")&&t&&t("facebook_connect.login_button_dialog_open")},g=function(){return new Promise((function(e){window.FB.login(e,{scope:d.join(",")})})).then(b)},y=function(e){return new Promise((function(t,n){window.FB.api("/me/permissions",(function(r){var o=r.data;if(o){var i=o.find((function(t){return t.permission===e&&"granted"===t.status}));return t({hasPerm:!!i})}return n(Error("Failed to call facebook to get permission"))}))}))}},674245:function(e,t,n){"use strict";n.r(t);var r=n(384832),o=n(311866),i=n(773559),a=n(641483),c=n(658551),s=!1;t.default=function e(t,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",u=arguments.length>3?arguments[3]:void 0;u&&(0,a.dy)({event:"load_script_start",provider:"facebook"}),(0,c.c5)((0,r.Z)(l),c.Jg.FACEBOOK).then((function(){u&&(0,a.dy)({event:"load_script_success",provider:"facebook"});var r=window.FB;r?(s||(u&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),r.init({appId:i.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(function(){n()&&e((function(e){if(e.getUserID()){var t=e.getAccessToken();if(t)o.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),n)})),s=!0,window.fb_init=2),t(r)):u&&(0,a.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=1}},384832:function(e,t){"use strict";t.Z=function(e){return"//connect.facebook.net/".concat(function(e){var t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}}(e),"/sdk.js")}},609747:function(e,t,n){"use strict";n.d(t,{Ug:function(){return c},uw:function(){return l},tB:function(){return p},ru:function(){return h},b1:function(){return b},av:function(){return m}});var r=n(773559),o=n(377530),i=n(658551),a=n(80209),c="postmessage",s="profile email",l=function(e){return(0,i.c5)("https://accounts.google.com/gsi/client",i.Jg.GSI).then((function(){var t=window.google,n=t&&t.accounts&&t.accounts.id;return n?new Promise((function(t,o){n.initialize({client_id:r.Z.settings.GPLUS_CLIENT_ID,auto_select:!0,callback:function(n){return e({resolve:t,reject:o,response:n})},cancel_on_tap_outside:!1,context:"use"}),n.prompt()})):Promise.reject(new Error("no_account_found"))}))};function u(e){var t={scope:s,client_id:"694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",app_package_name:"com.pinterest",access_type:"offline",cookie_policy:"single_host_origin"},n=function(t){e&&e(t)};return new Promise((function(e,r){(0,i.c5)("https://apis.google.com/js/client:platform.js",i.Jg.GPLUS_ONE).then((function(){n("google_script_load"),"undefined"!=typeof window&&window.gapi?window&&window.gapi&&window.gapi.auth2?(n("google_script_init_onuse"),window.gapi.auth2.init(t).then((function(t){n("google_init_success"),e(t)}),(function(e){var t=e.error;n("google_init_error"),r("init_onuse_".concat(t))}))):(n("google_script_init_exists"),window.gapi.load("auth2",{callback:function(){n("google_auth2_load_complete"),window.gapi.auth2.init(t).then((function(t){n("google_init_success"),e(t)}),(function(e){var t=e.error;n("google_init_error"),r("init_exists_".concat(t))}))},onerror:function(e){var t=e.error;n("google_auth2_script_load_error"),r(t)},timeout:15e3,ontimeout:function(){n("google_auth2_script_load_timeout"),r("timeout")}})):n("google_init_error")}))}))}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,a){if(r&&(0,o.H)())a();else{var l=function(e){n&&n(e)};l("google_button_init"),u(n).then((function(){l("google_sdk_load"),"undefined"!=typeof window&&window.gapi?t.signin2.render(e,{scope:s,onsuccess:function(e){l("google_button_success");var t=e.getAuthResponse(!0),n={data:{gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at,gplus_autologin:r||!1},signupOptions:{gplus_code:"",gplus_id_token:t.id_token,gplus_redirect_uri:c}};i(n)},onfailure:function(){l("google_button_failure"),a("gapi_signin2_render_error")}}):l("google_init_error")}),(function(e){l("google_auth2_sdk_init_error"),a(e)}))}}))}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d(e,t,n,r)}function f(){if("undefined"==typeof window)return null;var e=window.google;return e&&e.accounts&&e.accounts.id}function h(e,t){if("undefined"!=typeof window){var n=f();if(n&&e.current){var r=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:r+"px"})}else t("not_initialized")}}function b(e,t,n,o){(0,i.ZP)("https://accounts.google.com/gsi/client").then((function(){if("undefined"!=typeof window){var i=f();i&&(i.initialize({client_id:r.Z.settings.GPLUS_CLIENT_ID,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:o}),h(e,t))}}))}function m(e){var t=e.size;return(0,a.jsx)("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,a.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,a.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,a.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,a.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},130052:function(e,t,n){"use strict";var r=n(903945),o=n(912397),i=function(e){return"undefined"!=typeof window?(0,r.qn)(e):null},a=function(e,t){"undefined"!=typeof window&&(0,r.Nh)(e,t)},c={getAccounts:function(){return i(o.h5)},getAccountsJSON:function(){return c.getAccounts()?JSON.parse(c.getAccounts()):{}},getGroupId:function(){var e=i(o.n$);return e?JSON.parse(e):null},setAccounts:function(e){return a(o.h5,e)},setGroupId:function(e){return a(o.n$,JSON.stringify(e))}};t.Z=c},377530:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(85038),o=n(858875),i=function(){return!!r.U2(o.x3)||!!r.U2(o.e7)}},266750:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r="favorited"},21755:function(e,t,n){"use strict";var r=n(793550),o=n(551687),i=n(181307),a=n(80209),c=(0,r.memo)((function(e){var t=e.activate,n=void 0===t||t,c=e.isEligible,s=void 0===c||c,l=e.name,u=e.group,d=e.children,p=(0,i.tc)(l);(0,r.useEffect)((function(){n&&s&&p&&p()}),[]);var f=u,h="Experiment(".concat(l,":").concat(f,")"),b=s&&f&&(f.startsWith("enabled")||f.startsWith("employee"))||!1,m={group:s?f:"",anyEnabled:b,customActivate:s&&!n?p:null};return(0,a.jsx)(o.Z,{name:h,children:d(m)})}));t.Z=c},73697:function(e,t,n){"use strict";n.d(t,{gP:function(){return l},Uv:function(){return u},KX:function(){return d},ZP:function(){return p}});var r=n(415401),o=n(174523),i=n(225643),a=n(946753),c=n(218265),s=n(80209);function l(e){var t=e.condition,n=(0,o.ZP)();switch(t){case i.ConditionType.USED:return n._("Used","closeup.product.condition_used","product condition that is used");case i.ConditionType.REFURBISHED:return n._("Refurbished","closeup.product.condition_refurbished","product condition that is refurbished");case i.ConditionType.NEW:default:return""}}function u(){return(0,o.ZP)()._("Free shipping","closeup.product.shipping","product shipping info")}function d(e){var t=e.freeShippingPrice,n=(0,o.ZP)();return(0,a.nk)(n._("Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{shippingPrice:t}).join("")}function p(e){var t=e.customStyles,n=e.freeShippingPrice,o=e.freeShippingValue,i=e.showPrevDot,a=e.condition,p=i?[""]:[],f=t||{},h=f.color,b=void 0===h?"gray":h,m=f.size,g=void 0===m?"md":m,y=l({condition:a});return y&&p.push(y),0===o?p.push((0,s.jsx)(u,{})):n&&p.push((0,s.jsx)(d,{freeShippingPrice:n})),0===p.length?null:(0,s.jsx)(c.xv,{color:b,size:g,children:(0,s.jsx)(r.Z,{color:b,items:p})})}},670473:function(e,t,n){"use strict";n.d(t,{ad:function(){return c},MH:function(){return s},iN:function(){return l}});var r=n(840059),o=(0,n(169039).Z)({name:"board_picker",v2LoggerMetricName:16,sampleRate:r.DQ?1:.1}),i=o.Provider,a=o.useHook,c=function(e,t){var n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},s=i,l=a},169039:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(793550),o=n(762803),i=n(778170),a=n(46509),c=n(954321),s=n(403369),l=n(590606),u=n(299962),d=n(842310),p=n(974780),f=n(182513),h=n(940094),b=n(26382),m=n(576618),g=n(939606);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=(0,f.X)("PwtStopwatch"),A=function(e,t){if(p.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,o=t.navigationType;return(0,g.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:p.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if(!e.isTiming){if(!t.bypassIsTimingCheck){var i=t.name||e.name;return O("ignoring action - stopwatch is not actively timing",t),(0,g.A9)("WARN.".concat(i,".noTiming.").concat(t.type)),e}O("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){var s=p.Z.now();return O("adding annotation {".concat(t.label,": ").concat(s,"}")),_(_({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:s}])})}if("binaryAnnotate"===t.type)return O("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),_(_({},e),{},{binaryAnnotations:_(_({},e.binaryAnnotations),j({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var f=t.binaryAnnotationValueAndType,y=f.value,x=f.type;if(e.binaryAnnotations[t.name]){var I=e.binaryAnnotations[t.name].value||0;return O("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(I),"\n          operand: ").concat(String(y),"\n        }")),_(_({},e),{},{binaryAnnotations:_(_({},e.binaryAnnotations),j({},t.name,{value:y?t.operation(I,y):I,type:x}))})}return _(_({},e),{},{binaryAnnotations:_(_({},e.binaryAnnotations),j({},t.name,{value:y,type:x}))})}if("addSubspan"===t.type){O("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex((function(e){return e.name===t.name}))&&O("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var w=t.id||(0,l.Z)();-1!==e.spans.findIndex((function(e){return e.id===w}))&&O("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(w,"}"));var A=0;return t.startTime?A=t.startTime:e.startTime?A=e.startTime:O("WARNING: adding subspan {".concat(t.name,"} without start time")),_(_({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:w,startTime:A,endTime:t.endTime||1/0,annotationMap:_({},t.annotations),binaryAnnotationMap:_({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){var S;O("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex((function(e){return e.name===t.name}))&&O("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var P=t.id||(0,l.Z)();-1!==e.spans.findIndex((function(e){return e.id===P}))&&O("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(P,"}"));var E=t.parentName?null===(S=e.spans.find((function(e){return e.name===t.parentName})))||void 0===S?void 0:S.id:null;return _(_({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:P,parentId:t.parentId||E,startTime:p.Z.now(),endTime:1/0,annotationMap:_({},t.annotations),binaryAnnotationMap:_({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){if(O("stopping subspan {".concat(t.name,"}")),!t.id)e.spans.reduce((function(e,n){return n.name===t.name&&e.push(n),e}),[]).length>1&&(0,g.H)("duplicate_subspan_stop_name",{name:t.name});var k=t.id?e.spans.findIndex((function(e){return e.id===t.id})):e.spans.findIndex((function(e){return e.name===t.name}));return k>-1?(e.spans[k].endTime=p.Z.now(),t.annotations&&(e.spans[k].annotationMap=_(_({},e.spans[k].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[k].binaryAnnotationMap=_(_({},e.spans[k].binaryAnnotationMap),t.binaryAnnotations))):(0,g.H)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){var C=e.startTime,R=e.metricId,B=e.pwtStaticContext,D=e.annotations,T=e.binaryAnnotations,J=e.isSampled,V=e.spans,M=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),J){var F=t.stopTime||p.Z.now(),N=v(V.map((function(e){return e.endTime===1/0&&(e.endTime=F),e})));if(t.manualAndResourceSpans||0===V.length){var U=(0,l.Z)();N.push.apply(N,[{name:"network_resources",id:U,startTime:C,endTime:F,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(v((t.customStopwatchBuffer||[]).map((function(e){return(0,d.Z)((0,h.p)(e,[]),U)})).filter(Boolean))))}var Z="initial_app_load"===R.navigationType&&(0,c.Z)(),L={type:"COMPLETE",traceId:M,startTime:C,endTime:F,spans:N,annotationMap:_(_({},(0,a.Z)(D)),(0,m.jh)("browser_",Z?(0,m.D3)(Z):{})),binaryAnnotationMap:(0,b.n)({metricId:R,pwtStaticContext:B,binaryAnnotations:T,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,u.Z)({metricId:R,pwtStaticContext:B,result:L})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,l.Z)()}}if("error"===t.type){var Q=t.error,W=t.stopwatchPerformanceObserver;return Q&&(0,g.H)(Q),W&&W.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,l.Z)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var q=e.metricId,H=e.pwtStaticContext,G=t.reason||"";return(0,u.Z)({metricId:q,pwtStaticContext:H,result:{type:"ABORT",reason:G}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,l.Z)()}}}return e},S=function(e){var t=e.name,n=e.sampleRate,o=e.navigationType,a=e.manualAndResourceSpans,c=void 0!==a&&a,u=(0,i.N5)(),d=(0,r.useRef)([]),p=(0,r.useRef)(null),f=y((0,r.useReducer)(A,{isTiming:!1,name:t,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,l.Z)()}),2),h=f[0],b=f[1];return u?{isTiming:h.isTiming,start:function(e){if(window.PerformanceObserver){d.current=[],p.current=(0,s.Z)({entryTypes:["resource"]},(function(e){d.current=d.current.concat(e.getEntries()),d.current.length>1e3&&(d.current=d.current.slice(-1e3))}))}var r={type:"start",startTime:e,name:t,navigationType:o,pwtStaticContext:u,isSampled:!n||Math.random()<n};return b(r)},stop:function(e){return b({type:"stop",stopTime:e,stopwatchPerformanceObserver:p.current,customStopwatchBuffer:d.current,manualAndResourceSpans:c})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){b({type:"error",stopwatchPerformanceObserver:p.current,error:e})})),abort:function(e){return b({type:"abort",stopwatchPerformanceObserver:p.current,customStopwatchBuffer:d.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return b({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:o})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;return b({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=void 0===o?{}:o,a=e.binaryAnnotations,c=void 0===a?{}:a,s=e.parentId,l=void 0===s?null:s,u=e.id,d=void 0===u?null:u,p=e.bypassIsTimingCheck;return b({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:i,binaryAnnotations:c,parentId:l,id:d,bypassIsTimingCheck:void 0!==p&&p})},subspanStart:function(e){var t=e.name,n=e.annotations,r=void 0===n?{}:n,o=e.binaryAnnotations,i=void 0===o?{}:o,a=e.parentId,c=void 0===a?null:a,s=e.parentName,l=void 0===s?null:s,u=e.id,d=void 0===u?null:u,p=e.bypassIsTimingCheck;return b({type:"subspanStart",name:t,annotations:r,binaryAnnotations:i,parentId:c,parentName:l,id:d,bypassIsTimingCheck:void 0!==p&&p})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,a=e.bypassIsTimingCheck;return b({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:void 0!==a&&a})},getSpans:function(e,t){return h.spans.filter((function(n){return n[e]===t}))},getTraceId:function(){return h.traceId}}:null},P=n(80209),E=function(e){var t=e.name,n=(e.v2LoggerMetricName,e.sampleRate),a=e.abortOnUnloadOrClientNavigation,c=void 0===a||a,s=e.navigationType,l=e.manualAndResourceSpans,u=void 0!==l&&l,d=(0,o.js)("Stopwatch_".concat(t)),p=d.Provider;return{Provider:function(e){var o=e.children,a=S({name:t,sampleRate:n,navigationType:s,manualAndResourceSpans:u}),l=(0,i.fM)(),d=l?l.time:0,f=(0,r.useRef)(!1),h=null==a?void 0:a.isTiming,b=function(e){f.current?(f.current=!1,null==a||a.abort(e)):(0,g.A9)("WARN.".concat(t,".noTiming.abort"))};return(0,r.useEffect)((function(){return function(){c&&b("unloadOrClientNavigation")}}),[d]),(0,P.jsx)(p,{value:{isTiming:h,abort:b,addAnnotation:function(e,t){null==a||a.annotate(e,t)},addBinaryAnnotation:function(e,t,n,r){null==a||a.binaryAnnotate(e,t,n,r)},binaryAnnotationOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;null==a||a.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:i})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,c=e.parentId,s=e.id,l=e.bypassIsTimingCheck;null==a||a.addSubspan({name:t,startTime:n,endTime:r,annotations:o,binaryAnnotations:i,parentId:c,id:s,bypassIsTimingCheck:l})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,c=e.id,s=e.bypassIsTimingCheck;null==a||a.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:o,parentName:i,id:c,bypassIsTimingCheck:s})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,c=e.bypassIsTimingCheck;null==a||a.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:c})},getSpans:function(e,t){return a?a.getSpans(e,t):[]},getTraceId:function(){return a?a.getTraceId():0},error:function(e){f.current?(f.current=!1,null==a||a.error(e)):(0,g.A9)("WARN.".concat(t,".noTiming.error"))},start:function(e){f.current&&(null==a||a.abort("duplicated_init_stopwatch_action")),f.current=!0,null==a||a.start(e)},stop:function(e){f.current?(f.current=!1,null==a||a.stop(e)):(0,g.A9)("WARN.".concat(t,".noTiming.stop"))}},children:o})},useHook:d.useHook}}},46509:function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t={};e.forEach((function(e){var n=e.label,i=e.timestamp;t=r(r({},t),{},o({},n,(t[n]||[]).concat([i])))}));var n=Object.freeze({});return Object.keys(t).forEach((function(e){(t[e]||[]).forEach((function(t,i){var a=i?"".concat(e,"_").concat(i+1):e;n=r(r({},n),{},o({},a,t))}))})),n}},265355:function(e,t){"use strict";t.Z=function(e){switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},374897:function(e,t,n){"use strict";function r(e){var t=Object.keys(e);return t.length>0?t.sort((function(t,n){return e[n]-e[t]})).slice(0,3):null}function o(e){var t=Object.values(e);return t.length>0?t.reduce((function(e,t){return e+t}),0):0}function i(e,t){var n=e.videos,r=e.is_downstream_promotion,o=e.is_promoted,i=e.story_pin_data_id,a=e.board;return!(o||r||(!n||!n.id)&&!i||t||null!=a&&a.is_collaborative&&a.collaborated_by_me)}n.d(t,{At:function(){return r},Ud:function(){return o},J6:function(){return i}})},676945:function(e,t,n){"use strict";n.d(t,{T:function(){return m},s:function(){return g}});var r=n(793550),o=n(181823),i=n(80209);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,r.createContext)({recaptchaV3Token:"",refreshToken:function(){}});b.displayName="RecaptchaV3Token";var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,r,a=u(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=a.call.apply(a,[this].concat(n))),"state",{recaptchaV3Token:"",refreshToken:e.refreshToken}),h(p(e),"refreshToken",(function(){(0,o.rY)((function(t){e.setState({recaptchaV3Token:t,refreshToken:e.refreshToken})}),(function(e){}),o.sk,e.props.shouldUseRecaptchaNet)})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.refreshToken(),setInterval(this.refreshToken,o.yc)}},{key:"render",value:function(){return(0,i.jsx)(b.Provider,{value:this.state,children:this.props.children})}}])&&s(t.prototype,n),r&&s(t,r),d}(r.Component),g=b.Consumer},181823:function(e,t,n){"use strict";n.d(t,{rY:function(){return u},yc:function(){return d},OA:function(){return p},wQ:function(){return f},xW:function(){return h},ys:function(){return b},f$:function(){return m},sk:function(){return g}});var r=n(731164),o="onloadRecaptchaJsCallback",i="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="https://www.google.com/recaptcha/enterprise.js",c="https://www.recaptcha.net/recaptcha/enterprise.js",s="recaptcha-enterprise-src",l=function(e,t,n){r.Z.increment("recaptcha_v3.request_token.attempt",.1,{action:n}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(new Error("Error loading reCAPTCHA Enterprise")),r.Z.increment("recaptcha_v3.request_token.js_loading_error",.1,{action:n})):window.grecaptcha.enterprise.ready((function(){try{window.grecaptcha.enterprise.execute(i,{action:n}).then(e).catch(t)}catch(o){r.Z.increment("recaptcha_v3.request_token.exec_error",.1,{action:n}),t(o)}}))},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(window[o]=function(){return l(e,t,n)},document.getElementById(s))l(e,t,n);else{var u=document.createElement("script");u.id=s,u.src="".concat(r?c:a,"?onload=").concat(o,"&render=").concat(i);var d=document.getElementsByTagName("script")[0];d.parentNode&&d.parentNode.insertBefore(u,d)}},d=105e3,p=8e3,f="mweb_auth",h="mweb_login",b="mweb_signup",m="web_auth",g="web_unauth"},904192:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(793550),o=n(750249),i=n.n(o),a=n(218265),c=n(80209),s=function(e){var t=e.fill,n=(e.width,e.color,"half"===t?(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(a.xu,{position:"absolute",children:(0,c.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,c.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,c.jsx)(a.JO,{accessibilityLabel:"",color:"full"===t?"darkGray":"gray",icon:"star",size:12}));return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:n})};function l(e){var t=e.max_rating,n=e.rating,o=e.width,a=e.color,l=[],u=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(t)||5,parseFloat(n)||0);if(Number.isNaN(u))return null;var d=Math.floor(u),p=u-d;return i()(d,(function(e){return l.push((0,c.jsx)(s,{color:a,fill:"full",width:o},e))})),p>=.75?l.push((0,c.jsx)(s,{color:a,fill:"full",width:o},l.length)):p>=.25&&l.push((0,c.jsx)(s,{color:a,fill:"half",width:o},l.length)),i()(5-l.length,(function(){return l.push((0,c.jsx)(s,{color:a,fill:"empty",width:o},l.length))})),(0,c.jsx)(r.Fragment,{children:l})}},886550:function(e,t,n){"use strict";n.d(t,{UZ:function(){return g},Z8:function(){return y}});var r=n(793550),o=(n(575429),n(311866)),i=n(762803),a=n(80209);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,i.ZP)("ResourceContext"),b=h.Provider,m=h.useHook;function g(e){var t=e.children,n=d((0,r.useReducer)((function(e,t){var n;switch(t.type){case"addListener":var r=[].concat(u(null!==(n=e[t.payload.name])&&void 0!==n?n:[]),[t.payload.handler]);return s(s({},e),{},l({},t.payload.name,r));case"removeListener":if(!e[t.payload.name])return e;var o=e[t.payload.name].filter((function(e){return e!==t.payload.handler}));return s(s({},e),{},l({},t.payload.name,o));default:return e}}),{}),2),i=n[0],c=n[1];o.ZP.fetchCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,o=e.normalizedResponse,a=e.refresh,c=e.resourceSchema;i[t]&&i[t].forEach((function(e){return e({isRefresh:a,normalizedResponse:o,options:n,schema:c,resource:t,response:r})}))};var p=(0,r.useMemo)((function(){return{listenerDispatch:c}}),[]);return(0,a.jsx)(b,{value:p,children:t})}function y(e,t){var n=m().listenerDispatch;(0,r.useEffect)((function(){return n({type:"addListener",payload:{name:e,handler:t}}),function(){n({type:"removeListener",payload:{name:e,handler:t}})}}))}},979593:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=function(e){var t=e||{},n=t.thumbnail,r=t.url,o=t.width,i=t.height,a=t.duration;return n&&r&&o&&i&&{thumbnail:n,url:r,width:o,height:i,duration:a}||void 0}},658551:function(e,t,n){"use strict";n.d(t,{Jg:function(){return c},ZP:function(){return s},c5:function(){return l}});var r=n(731164),o=20,i=100,a=.01,c=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function s(e){return new Promise((function(t,n){if(document.querySelector('script[src="'.concat(e,'"]')))t();else{var r=document.createElement("script");r.src=e,r.async=!0,r.addEventListener("load",t),r.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(r)}}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.OTHER,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=n?"web":"mweb";return new Promise((function(n,l){if(document.querySelector('script[src="'.concat(e,'"]'))){var u=0;if(t===c.GPLUS_ONE)if(window.gapi)n();else var d=setInterval((function(){window.gapi||u===o?(clearInterval(d),n()):(u+=1,r.Z.increment("".concat(s,".loadScript.gplus_one.tries_").concat(u),a))}),i);else if(t===c.FACEBOOK)if(window.FB)n();else var p=setInterval((function(){window.FB||u===o?(clearInterval(p),n()):(u+=1,r.Z.increment("".concat(s,".loadScript.facebook.tries_").concat(u),a))}),i);else if(t===c.GSI)if(window.google)n();else var f=setInterval((function(){window.google||u===o?(clearInterval(f),n()):(u+=1,r.Z.increment("".concat(s,".loadScript.gsi.tries_").concat(u),a))}),i);else n()}else{var h=document.createElement("script");h.src=e,h.async=!0,h.addEventListener("load",n),h.addEventListener("error",l),document.getElementsByTagName("head")[0].appendChild(h)}}))}},753522:function(e,t,n){"use strict";n.d(t,{F$:function(){return u},Uy:function(){return d},S$:function(){return p},aZ:function(){return f},MX:function(){return h},vM:function(){return b}});var r=n(279890);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},s={linear:function(e){return e},"ease-in":function(e){return e*e},"ease-out":function(e){return e*(2-e)},"ease-in-out":function(e){return e<.5?2*e*e:(4-2*e)*e-1}},l=function(e){var t=e.scrollPosition,n=e.containerSize,r=e.contentSize,o=e.intendedDistance,i=e.extendToEdgeDistance,a=void 0===i?0:i,c=r-n,s=c-t,l=-t,u=o;return u=Math.min(u,s),u=Math.max(u,l),o>0&&c-(t+u)<=a?u=c-t:o<0&&t+u<=a&&(u=-t),u},u=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i(i({},c),o),u=e.scrollLeft,d=e.scrollTop,p=e.scrollWidth,f=e.scrollHeight,h=e.clientWidth,b=e.clientHeight,m=l({scrollPosition:u,containerSize:h,contentSize:p,intendedDistance:t,extendToEdgeDistance:a.extendToEdgeDistanceX}),g=l({scrollPosition:d,containerSize:b,contentSize:f,intendedDistance:n,extendToEdgeDistance:a.extendToEdgeDistanceY}),y=Math.abs(Math.floor(m/a.scrollSpeedPxPerMs)),v=Math.abs(Math.floor(g/a.scrollSpeedPxPerMs)),x=Math.max(y,v);a.minScrollDuration&&(x=Math.max(x,a.minScrollDuration));var I=s[a.easingFunction]||s["ease-in-out"],w=(0,r.Z)({window:window,duration:x,run:function(t){e.scrollLeft=u+m*I(t),e.scrollTop=d+g*I(t),1===t&&a.onAnimationComplete&&setTimeout(a.onAnimationComplete,0)}});return w};function d(e){return e===window?window.innerHeight:e.clientHeight}function p(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function f(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function h(e){return e===window?p():e.scrollTop}function b(){window&&window.scroll(0,0)}},203620:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(793550),o=n(68006);function i(e){var t=e.allowSearchOnMount,n=e.children,i=e.onTypeaheadSuggestionsChange,a=e.resourceName,c=e.resourceOptions,s=e.value,l=(0,o.Z)({allowSearchOnMount:t,resourceName:a,resourceOptions:c,value:s});return(0,r.useEffect)((function(){null!=l&&l.length&&i(l)}),[l]),n||null}},68006:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(793550),o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},i=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};i.prototype.set=function(e,t){var n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},i.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},i.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},i.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},i.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=i,c=n(311866),s=["bookmarks"];function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,c,"next",e)}function c(e){p(i,r,o,a,c,"throw",e)}a(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=e.resourceName,n=e.resourceOptions,o=(0,r.useRef)();return o.current||(o.current=function(e){var t=e.resourceName,n=e.resourceOptions,r=b(b({},n),{},{count:"count"in n?n.count:5}),o=c.ZP.create(t,r),i=new a,l=function(){o.abort()},u=function(){var e=f(regeneratorRuntime.mark((function e(t,n){var r,a,c,u,p,f,h,m,g,y,v,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.isCalling()){e.next=8;break}if(u=null===(a=o.options)||void 0===a?void 0:a.term,p=null===(c=o.options)||void 0===c?void 0:c.pin_scope,t!==u||n!==p){e.next=7;break}return e.abrupt("return",void 0);case 7:l();case 8:return(f=o.options||{}).bookmarks,h=d(f,s),o.options=b(b({},h),{},{term:t,pin_scope:n}),e.next=12,o.callGet({showError:!1});case 12:return m=e.sent,g=null===(r=m.resource_response)||void 0===r?void 0:r.data,y=null==g?void 0:g.items,v=(null==g?void 0:g.hint)||{},x={hint:v,items:y},i.set("".concat(n,"-").concat(t),x),e.abrupt("return",{term:t,items:y,hint:v});case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return function(){var e=f(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=i.get("".concat(n,"-").concat(t)))){e.next=7;break}if(!(o=r.items)||!o.length){e.next=7;break}return l(),a=r.hint,e.abrupt("return",{hint:a,items:o,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",u(t,n));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}({resourceName:t,resourceOptions:n})),o.current}function y(e){var t=e.allowSearchOnMount,n=void 0!==t&&t,o=e.resourceName,i=e.resourceOptions,a=void 0===i?{}:i,c=e.value,s=(0,r.useRef)(!1),u=(0,r.useRef)({}),d=l((0,r.useState)([]),2),p=d[0],h=d[1],b=g({resourceName:o,resourceOptions:a}),m=a.pin_scope||"pins",y="".concat(m,"-").concat(c);return(0,r.useEffect)((function(){f(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==c||!n&&!s.current){e.next=17;break}if(!(y in u.current)){e.next=5;break}h(u.current[y]),e.next=17;break;case 5:return e.prev=5,e.next=8,b(c,m);case 8:(t=e.sent)&&(r=t.items,u.current[y]=r,h(r)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:s.current||(s.current=!0);case 18:case"end":return e.stop()}}),e,null,[[5,12]])})))()}),[c,m,y]),p}},281996:function(e,t,n){"use strict";n.d(t,{lw:function(){return r},_R:function(){return o},wF:function(){return i}});var r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=function(e){switch(e){case r.PINS:return 43;case r.PINS_MINE:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.BOARDS:return 44;case r.USERS:return 45;default:return null}},i=function(e){switch(e){case r.PINS:return 60;case r.PINS_MINE:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}}},469600:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(174523),o=n(218265),i=n(80209);function a(e){var t=e.height,n=e.rounding,a=e.width,c=(0,r.ZP)();return(0,i.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:a,height:t,children:(0,i.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,i.jsx)(o.xu,{paddingY:4,children:(0,i.jsx)(o.JO,{accessibilityLabel:c._("Pin not available","story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel","Accessibility label on icon"),color:"darkGray",icon:"alert",size:20})}),(0,i.jsx)(o.xv,{weight:"bold",children:c._("Unavailable","story-pin.Closeup.UnavailableIdeaPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),(0,i.jsx)(o.xu,{paddingY:1,children:(0,i.jsx)(o.xv,{children:c._("Removed by the creator","story-pin.Closeup.UnavailableIdeaPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})}},81260:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{RR:function(){return a},YB:function(){return c},yR:function(){return s},YL:function(){return l},pE:function(){return u},h8:function(){return d},Cc:function(){return p}});var a="0.8.0",c=9/16,s=8,l=10;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}var d={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},p=o(o({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28})},760620:function(e,t){"use strict";var n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return n.test(e)}},204478:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"…":e}},537343:function(e,t,n){"use strict";n.d(t,{ZP:function(){return r}});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||o)t=e.substring(0,n);else{var i=e.lastIndexOf(" ",n);t=e.substring(0,i)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},354783:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))}n.d(t,{Z:function(){return r}})},988089:function(e,t,n){"use strict";var r=n(793550),o=n(218265),i=n(80209);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,a,c,p=d(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),b(f(t=p.call(this,e)),"state",{manualTruncate:!1}),t.ref=(0,r.createRef)(),t}return t=h,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.maxHeightPx,r=e.shaveOptions,o=void 0===r?{}:r,i=this.ref&&this.ref.current;if(i){var a=void 0===i.textContent?"innerText":"textContent",c=i[a];("boolean"!=typeof o.spaces||o.spaces?c.split(" "):c).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,961525)).then((function(e){(0,e.default)(i,t,o)}))}}},{key:"render",value:function(){var e=this.props,t=e.maxWidthPx,n=e.maxHeightPx,r=e.inline,a=void 0!==r&&r,c=this.state.manualTruncate,l={maxWidth:t,maxHeight:n},u=s(a?{display:"inline"}:{},l);return c?(0,i.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:u},ref:this.ref,children:this.props.children}):(0,i.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:u},children:this.props.children})}}])&&l(t.prototype,a),c&&l(t,c),h}(r.Component);t.Z=m},702922:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(218265),o=n(80209);function i(e){var t=e.ariaHidden,n=void 0!==t&&t,i=e.color,a=void 0===i?"darkGray":i,c=e.size;return(0,o.jsx)("span",{"aria-hidden":n,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:a,inline:!0,size:null!=c?c:"md",children:"·"})})}},415401:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(793550),o=n(702922),i=n(218265),a=n(80209);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return null!=e}function u(e){var t=e.additionalPadding,n=e.color,s=void 0===n?"darkGray":n,u=e.inline,d=e.items,p=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(o.Z,{color:s})}):(0,a.jsx)(o.Z,{color:s}),f=d.filter(l).reduce((function(e,t,n){return[].concat(c(e),[0!==n?p:null,t])}),[]).filter(l).map((function(e,t){return(0,a.jsx)(r.Fragment,{children:e},t)}));return 0===f.length?null:u?(0,a.jsx)(i.xu,{children:f}):(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:f})}},880841:function(e,t,n){"use strict";n.d(t,{Zo:function(){return o},F9:function(){return i},Cl:function(){return a}});var r=(0,n(762803)._D)("toastManagerContext"),o=r.Provider,i=r.useHook,a=r.HOC},581966:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(793550),o=n(264221),i=n(573350),a=n(268648),c=n(215828),s=n(218265),l=n(80209);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t=e.anchorElementRef,n=e.children;return e.experienceAnchor?(0,l.jsx)(o.Z,{anchor:".HomeButton2",anchorElementRef:t.current,containerBoxConfig:{display:"flex",height:"100%"},children:n}):n},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,o,a=m(c);function c(){var e;f(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return x(y(e=a.call.apply(a,[this].concat(n))),"state",{active:!1,focused:!1,hovered:e.props.isInitiallyHovered||!1}),x(y(e),"anchorElementRef",(0,r.createRef)()),x(y(e),"handleBlur",(function(){return e.setState({focused:!1})})),x(y(e),"handleFocus",(function(){return e.setState({focused:!0})})),x(y(e),"handleMouseDown",(function(){return e.setState({active:!0})})),x(y(e),"handleMouseEnter",(function(){var t=e.props.handleMouseEnter;t&&t(),e.setState({hovered:!0})})),x(y(e),"handleMouseLeave",(function(){var t=e.props.handleMouseLeave;t&&t(),e.setState({active:!1,hovered:!1})})),x(y(e),"handleMouseUp",(function(){return e.setState({active:!1})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.experienceAnchor,r=e.external,o=e.children,a=e.onClick,c=e.onNavigationHandler,u=e.rounding,d=void 0===u?"pill":u,p=e.tabIndex,f=void 0===p?0:p,h=e.url,b=this.state,m=b.active,g=b.focused,y=b.hovered,v="pill"===d?2:1,x="circle"===d?48:"";return(0,l.jsx)(I,{anchorElementRef:this.anchorElementRef,experienceAnchor:n,children:(0,l.jsx)(s.iP,{accessibilityLabel:t,href:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),null==a||a(t),c({event:t})},rel:r?"nofollow":"none",ref:this.anchorElementRef,role:"link",rounding:d,tabIndex:f,children:(0,l.jsx)(i.Z,{active:m,focused:g,justBgFocused:!0,hovered:y,rounding:d,children:(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",direction:"pill"===d?void 0:"column",height:x,justifyContent:"center",padding:v,position:"relative",rounding:d,width:x,children:o})})})})}}])&&h(t.prototype,n),o&&h(t,o),c}(r.Component);function _(e){var t=(0,a.Z)({href:e.url,onHistoryChange:c.Jd});return(0,l.jsx)(w,p(p({},e),{},{onNavigationHandler:t}))}},405622:function(e,t,n){"use strict";var r=n(238402);t.Z=function(e,t){return e+"?"+(0,r.Z)(t)}},415149:function(e,t){"use strict";t.Z=function(){return window.location.pathname}},60849:function(e,t){"use strict";t.Z=function(){return window.location.pathname+("?"===window.location.search?"":window.location.search)}},277602:function(e,t,n){"use strict";var r=n(185062);t.Z=function(e){var t=e.url;if(t){var n=t.split("?");if(n[1])return(0,r.Z)(n[1])}return(0,r.Z)()}},649170:function(e,t){"use strict";t.Z=function(e){var t=e.url;return new RegExp(/http(s?):/).test(t)?t:"http://"+t}},180317:function(e,t){"use strict";t.Z=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},34411:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=(0,n(762803).ZP)("viewer"),o=r.Provider,i=r.useHook;t.Z=i},300884:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t={},n=0,r=0;r<e.length;r+=1)e.charAt(r)in t||(t[e.charAt(r)]=!0,n+=1);return n}n.d(t,{q:function(){return j},r:function(){return O}});var c={has3numbers:function(e){return e.match(/(.*[0-9].*[0-9].*[0-9])/)},has2symbols:function(e){return e.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)},hasUpperAndLowerCase:function(e){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)},hasNumsAndChars:function(e){return e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)},hasNumsAndSymbols:function(e){return e.match(/([!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/([0-9])/)},hasCharsAndSymbols:function(e){return e.match(/([!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)},justNumsOrSingleCase:function(e){return e.match(/^[a-z]+$/)||e.match(/^[A-Z]+$/)||e.match(/^\d+$/)}};function s(e,t,n){var r=function(e){var t={justNumsOrSingleCase:-10,hasUpperAndLowerCase:10,hasNumsAndChars:15,hasCharsAndSymbols:15,hasNumsAndSymbols:15,has3numbers:15,has2symbols:15};return{score:Object.keys(t).reduce((function(n,r){return n+(c[r](e)?t[r]:0)}),0)+2*e.length+3*a(e)}}(e||""),i=r.score,s={fieldInfo:["",0]};return e?e.length<6?s={fieldInfo:[t.shortPassStr,1],score:0}:t.userid.length>0&&e.toLowerCase()===t.userid.toLowerCase()?s={fieldInfo:[t.samePasswordStr,1],score:0}:n.indexOf(e.toLowerCase())>-1?s={fieldInfo:[t.blackPassStr,1],score:0}:i<34&&(s={fieldInfo:[t.badPassStr,0]}):s={fieldInfo:[],score:0},o(o({},r),s)}var l=93173,u="B4PRcHsmi4Nc9kVTNUlxZBr3NeyCopkiZ6FqSwrhv_Hc81reeX7YA9MHw-FseSXLY1DzRBL1MWpiWmcR4X9hyOpZnalaztG78OyzSto4PogHkwfD0Wx5JctTSPBDkpUZY1-ZxuHWfOD4rkeZKBpyuLVvDDco0bY9_AsvB0OhVHMjiqMY4j-RxOlWXNj2tct6IFiGP5cnilqztC7sKyjRNh34DskHQ6FYdCRKsyjnQVI1BV9fWbbl13zhGL5Nmqh6ksC3r4xTL9M2nhwSaQfDwWR3JMsTOOxBkcTpV12ZJrnMeiBYgj6XJ6pitrUvLD8t0zaOGBYLB4PBYHYkyvMs6EBR9O1XXFimncJ3H6heNJQm2ialr-2r0w3KtG2EGYcGw4FQcCLKUvjXO9DUrUVYF6ZZsXKeWAofjqU5on6lqtsW3r0wzJQcyAYDARxhHolizM87EKSZQleXtl2zdB6oIiWQpfnulqxsa3b3xLKdHCAtBwNxTHAiynMQ3z5RZMFLWVfmYbFy3kfiEInkCVpuoqqLEuG_sbzkI4IGgyEsYx7JEqjHORAEeTpVlwYRm21c964JiWQZdnaiqjr217ywnIAmuQdDkVByI8rDKOc_0bTdU1tYVm2vcp54DiCPZbnGg6crm1byxDLtMCokBsMxIGMfiYLIyziPtFExUNWF2ZJr3KeeBIfjqVJwoqoK1s26MDx0LVkGgyEgZB9JouTVPNEEnT9WF0ZBqnCdl8IHiKO5YnSiqerOzrswnJgwnQdDoVx0I0oy8NQ7EBR9PVaXZlGwc56oChSLZImWgadrq17xwvIM0DPnBkMxLGIfCZLQ0jvQtI05VVcGLaRuHPeiAoZi6QpXmmgKVqivLQucNukGAwEcYB4IspC7NI6j9RJKU_VldWQaNunSeh_oZjOS5kn6karsa4A55AXC0RRgHQiSiL82DqQFHU0UlZF6Y9pG9dh8oNiaQZYmqg6cq2xLeDzeB4NxMGIfSXKowzePtEkmT1U1tYlpW9c9439hiK5Dlmc6OqOu7RuYP9kFQpEIWx3JIrTIOA9UKR5NlLV9c2NadxXgfuD4jjiUJtoOmKrsa2RCxwXC0ShhH0lCoLwzznQRGUtUdYl_Zxt3Kdt9IRiuQpXnGjaqsO1ruEXJBcLBHGEdiOKEtzMN8-ESS5SlmX5kGscd4n8hGK5FmKfKRqauLQusSM0EglEAWRxIcny9Nk9kUTJUFsYpoW5dF6IAh6OZUm-gaWrSz7swnJRMDQTCUOhSGggyXK8yjnQRHU0UdW1vYNmGxc15X5hKKY-lWcKMqevLUE75BYLxJGYfCSK0yTlP9E0mUFW1zYtp3BdN6YDhmLZDlib6BpOqa_tUUeQFApEAVRoH4kisMc5EARxMVJWBeWVbFxHefmEIskiZKAparLEtu8xU8QdDkTxpIQnixMY3z6RVJ06UtZl_ZltHQeyBodi-R5loCm62tC477FgFBsNBGFocyOKkxDfPJBkbTNS1eXRj2rcl54Eh2MpKmSeaVq-y7mv4WxYHg4FMbCHKMvDQOlBEeTdTlnX1lGxcp5H8hOKI_lac6NqiwrcvfExeQgZC8RxgHsmC0M44j2Q5KVDVZcGLaJunVfCBYYi2RZin-ma1tC68CGFYBkNBMGMeCOKcwDVOk_0USxSlnYNnW2c95H4gqHI1lGY56pSrrIuMZFAEwrDwTRmIEni3Mk4D6RVMVHWFeWUbBxHZe2A4fjSS5enCgqWqquxnIgVCgPBOGEeiTKQvTVOg-0QSpQVUWpe2Ta5xnXe-BobjOR5cnaiKdGnTAwFwmDURxYGMcyFJUpy4ME1DlPM_0PR9OVJVtbF8YpnmublyXVeYa8kEAcC8PhLFgbB9JEoCsLUwjROE7kDRpLlBVdcmFZ1snHd99oPh-LxuBwUCUOBPGQbR-JEoyuMUzzdO1BUaS5RVbXFiGdbJwnee5_YWieOpEHBYAgGAlDUSRdHEgCOKItjJN870FRpKU3UhWlpYBl2oblxHYex-oKhwcoQEAbC4PRNGQdCEJUoyxLwyzXOY90JRhMFJWZfmWatu3LeF-YSimPh03AUC0RRdHUjSiLQxzYOU7z8QtE0cSZQFcXVi2ba9w3VeaAISiyQpXHdJBkLhFFsahyIAkiiLAwDPORAEZTFO1PWFdWHZtrW6cZ23wgCEokj0eZ4CwaCgMRFFobB_JAny1Mw4z7RZL1GVta2BZZqG6c15HzgyJY7lOah8HwYDMQhaGwgyZKotjCNM5T_Q9Jk3UNWluYRmWwch23wgWFIgi-P5RH5-BEIg6FEaCAJcsDGNw9kSSxRleXdjmocF1nofuBYThuJYujOPJDlEgN4FgnDsSRUGkgieLw1jjP1Gk1UtYl8Zls3AdB6YBhCIo8kqWJnnShyDdQRCELA3EcWxwIQlynLIvDEMs1TfPNDEjTVSlkXxlmscN230gyIY6IXJBUKQ_FMZhvHgjyhLUxzaO9A0WSdMk_UpV1sX5i2ea1vXRel-IEhUh_EDgcDAPROF4cyLKEuDPOlAUXSlRVdXNhGYa1wXXeZ9H9gSDoViePiKQgUCcPRUGUeSOKgwDWOxA0XS9RldXJiGcaltnGdJ5X4gqHIvjuTphIy6BYKA8E4XxuHshyUKMry5MIzTYOc-EOSJMlFVtdGMaRunUeh-IOhkjuMFAlDoShaG0fCNJsqi8Mo2zsPxCETSZNFAU9XFqXdhGVaVtnKdp6iQ4QRCALw_EwXBxIEjyhLAvjROI8UCRJJU2UhWlrXdhGUadvHNdV4nwJLmBUJw7EsXBtHciCcLQxjWOhAUTSVNlEVFZF1X9j2gbRxXZet-YGhclRAFAmDMRBXGceSJJwqS7NA4z1QxH05UtXVuYRm2vcB0XgfKBIWiOMyXVASCkPxTGgfSPKMsC6M03TzQZG0oTVQFUWBcF9YZi2ea9w3Yex_oTJl4AQEQfC4QRSGEch-IwmypK4tC_M00zdOw-kFRNH0wT1SFTWJcV6Ycmw8EAfCwOBFFoah8JQqC8NA4juQNE0gStPFOV5cWEZVo2xcNz3bel9ydEQNB0NhHFMaR5IUkigLAvzQOY-kNR1LE_VNZF0YxoW4c533xf6C4fJ9ABIJg2EUVBjHciCZKkvzPOM9EDRJH0qTZSFYWdd2FZZpWzb5zXde4oUEEwkDYShiHEgyVKouDGNg5z4QhGktUBUVgXJgmWalv3QeN8oBg6HyjcwOCUOxMGUeCDJcqS5Ms2zoPdB0dTNSFaW9g2Xa5xXafGDIhjyWZxKX6BMKQ9E4XxwHkiSZKoszCNU5j2QhHUtUJU1kXNgGTZ9qHAdh5H9hAqBkFwlC8PhMFoYhsHUfiOJ4sDDNk8EFRxLlFVRXlvXtiWWaRrnAdJ5SqDQMB0LQ-FAWhpHwjyfLQxTNNI2jlPdBkWSlPFTWdcWAZZpWzcJ0XfKv0AkCwNCAMRBFMZB1H8iSSKErC6Mw2znPhBkTSVM1CVRYl1YRlWlbcrboDwhDEQxXGcfCSKUuzUOc_kTShOVCUpW1rX1k2jbt0HhfB_YOhqLiv9ANBoLxEFQZhzIQmCoLAtTGNs6z_RNJ07URVVrYBk2qbpynYed9IFLIMBMIgwD0TRbGseyOKIsTGNc7D-RBIUwT1SFcW5hmbatv3ReZ-IKh0tDgDgeDcSRYGceCFJEoi1Ms3DpP1DkkTZRlUWFcmFZZqG6cl23vgGEy2XATCkPxWGwgiWKYuDLNk7D_RJJ01UVWlrXxjmhbBxHVeZ9YHiKOZQLjEBYKg9FAYByIMlyoLgxzYOs-0LRxLk8UlW1qXtkGgbVx3be1_YOiMuvwEwnDcRhYGMdySKgvzUOY-kSSRNlHVVZF3YxoW1cZ13ofiC4aiyOy9SQXCgORMGAcyDJIoSyMA0zlPlDUdS9RldXBhWWadt3Kd98IEhOHovL-JA4IQ0EoXBrHwkCkLYzDcO1AENRpKk7UxWVpXliGOZNmWfaZs29c0wWcFgkDwShYGUdh-IomCkLEvTQOI80CQ1IU0URU1gXFgWTaFrW-cx2TDTgSCcQBUGkfCOJwrC_NI4z2Q1HE0UNVVpXhiWfbl0HmfeC4ZiaMZEMWnBcKhBFAYRuHwiiZKMsS9Mk0TeOY9EERlKk3URU1iXBfWKZhqW-cwx4ACgaCoPROF8bB8IsnyxMA0DiOo-UIRZJEyUBTlkXFf2LZhp2xb5zTJWwOBwKQ8EwWRnHkhiSKAsTBNA4DsPlB0VSRMlCVBYFwYBjWbadsnCMsuBIIgyEMVRnH0jyfLMwjSOQ90MSBMlCVZY12YRkmibJxXYe1-4MhszVgDQfC8PhNGAcyFJMqS_M83j4QpGksT1TFdW1gmRaJtHGdZ5n1gKFjPgQQCELxCFMYxxIMkSjLQxTROA8T_Q1G0qTpTFhXNg2OZxrXAdF33uNF8A0GwsDsShdGwfSMJcoywL8zDcOk-kIRlL1JWNd2HZlqm8cx3Xtfw04gDwkDUSRcG4gCTKItTGNg7EBRJIk4UlWVoXhiWYaRtG_dF33wgKEjVqQSCIMxDFIYBvIMnCuLwyzeO4_ENSBMVAVNYVzYBjmea5unLdd7oHNfEBMJw9FEZR1IcnSqLkyTZOw-0JSNOVMV5cGEZdqm8dJ5X1gCDYejc2gwDQbCkORLFkaR6IonyxME0zlPVCEYSZNlFVVZl1YRk2ibRyXffOAzcIQTCYPhTGkfiQKQuDPOE8kFRlKk8VJZFzX9k2hbBwnVeZ9oHhWKY3N5mBEIgzEUVhlHUhyWKQsjFNU5j2QZFUrT9V1qX5kWlbZyHefKBIWiY4J0FAnDgShfHcjymLszDhPRCUdTJRVYWpemLZtqW3cRznbet_ILhyKzi1gOCAMhIF4eCNKEvDSOc-0KSFOVNV5bWCZZrm-dR4n5hCJY3kyXpwOVXA4IgxEUWxyIMlynLYxDSOE7z8Q1GEtURWFqX1jGfbFvnMdl6X5go53AEQhDIRBbHEgyTKYuzPOA8kHRtLlHVdZF2YlnmycV2npfuC4gjGQTpvQaCwPxYGkeiLJ0rS_NA4jwPxCUYSVNFFVNYVyYFk2obdxnWeR9IHOvUA0HQwD8TRfHIgSRKQtTKN09UFRZJk6UtX1wYBkGebpy3bet-IFhI7fUEgjDQRBTGEcSBJAoCvMI0zlPdCEZS1QFSWFcWFZpqW8c13nvgOGTwIQPBwKA4E0WhqHoiSYKkuTGNY5z0QdF0lTZRFSVxZ11YNk2jbVxnUPIHBEJAzEwXhvH0jCbKwvjNN47T8RBIU0URU1kXRhGTaJrG5cd13mfI9AkDgaCkNhDFAXxsHwiiYKQtTCNE3jrPlA0NRxKU6UhWFlXVg2VaVsz1ygQBsKg5EcVhiHEgSSKMtjCNI4DwQBDEbShOVIVpal7Ytm2pbdx3VPeuA4GgqDsShZGgdSBI4nisL0yzZOc9UDRFIUtT5TleW5fWMZ1rW8cw-YgEgoDgThdG0fCHJQoivLsyTXOM8kCRJJk2UpWlqXtimaalvHLd57z7hQOBsKg1EATRcG4fyQJwrC8M42znPRAEMRlKE2UZUVeW1eWKZdo2wP1AA0HwsDgRBSF8bB8JAnSqLozjcOc90LRlKU1UJUViXFgmTads29cs_xsCgWCQMxAE0XxvH0iiUKAry-Ms2jqPdA0SSBME8U5XlsXtj2da9vkA4wPB8LxBFEYh0IEjidK0vzNN06j5QtGUmTFP1NVxaF0YRkmfadsXBQK0A4HQsDoSBYGseyMJ0qS5Mc1DjPRA0VSJLU8UtXVtYBkGcatunJdZBJgDwgC8PxOGAdSFJIoSzL8zDaOg-EHRZJ03UdVFlXVgmUaZt3CdR5kGjAQCAMBFFcZx3IwnyvL80DhPE_0MRhJ02UFT1dWteGGZhqW3cp23nQiEA8HgrDkSxZGcciAJAoivLkxjPNs7T6QxHUuUFUViXJhGTaRsW8cZClgDQdCwOhKFkZx3IclCkLAvTMNs6z6QZE0gS1OVJVtaV6Yll2nbRwkMJwOBkJgxD4ThcGgdiEJMoiuL8zTbOo-0KRlKE3URVVjW9fmNZtp23Q3qBEIAwDwSRZGseCMJsqy4Mc0zoPVA0RSBL0_U9XVsXliGYaRs3BcxD8QDgcCsPRNFwZh1IUlSkLUxDUOQ8kCRRJUzURVVgWteGHZVpWycBzERoAQBsKw7EkWRnHYhiTKMsjBM03TtP9EEhTBQVOVtal5YhlmkbJwXLRN5A4HArDYRRUGUdSEJQoSxMI0zjO490ERFIEtTlRFTWJcF-Yxnmvb9FU0EQgC4QxTGEch_I0nSvL80ziPBAEQR1KU4UVVVlXZgWQaFt3Mdx7kXTQTCMMRBFMYRvH0iiaKouDINU5DxQJD0bSpQFPV1bmDZJn2tb5ynZRk2BQIwzD0TxeG0dSDJUqC9M03zwQJE0jThSFYWhd2FZVo2xcN13rftG0IDAeC8PxNFsaB2IYkigKwuDGNQ3jtPpCEaStPFLVRY11YdlmjbNw0dEgPB4LA7EsWBgGodyIJQoixMAzzfPNBEUSVNFEVVZVzX9jGaahuHJR7pAkGAZBwIAoC0MxBE8XBsHoiiYKUszENU4zwPxDEYSVNE_UpW1qXlIGsEAhDERhVF4bR8IonCsLsyjcO4_0PShOVHVRZV5YpnGtbtyXaeR7kiaQKB4LA9EsWBmHYgiPJwqS2MQ0TdOs9UFRRIUsThR1bWldWEZNomvSQoA4HAnDMShWGMbh9IolylLIuC_Mw1zjO8-0GQ1F0jS9NU7UlUlbWRJZMBwKBQHwqDIOQ_EoVReGodSEJAnSmKoszAMk1DhO49UAQ1FkkTBOkm1QLBMHQoC8OhHFQXxsIAjiXKovC_MUzDYOQ6z3QJEUcSVLk3UNTlWSg2AgEwaCELA2EETxXGEaRxIMjSUJ8qSxLwxzQNs6T4QJD0XR1IkqTVKXgCQfDAQBTGEbx9IckyfKktC-Mg1TeOk-EDQ1FUgSxOVEU5WVlXBfkq_wLBAGQlDQQxQFkZRtHggCJJMoCrLUwDKNM3jsPpCkVRxIUmS9N1ESxSA4GglDEQBJFEXxlG8fCIJMnSwLcwjNNk5j0P5D0fS9OlFU9WFfWdLb4CASBwJgvDsSBRFwaBzIIjCVJ0qCxL0yTXOY8j_Q1GUoTJPVHVRXUvJwPBsJQ0EMShSFcXxoHQgiKJQoCpLYxTTNo4ztPZAEMRtJEwT1R1LTCAAgGAgCwOhIFIXhpHQfiHJUoSxL4yzTOE8j-QhFUjS5N1DVBW1oW9MfoDgVBkIwqDUPhIFQXRpHMgCNJwqi3MQ1TfOo9z_QZF0hStNVHU9W0zYQNBgKAxDkQxNFIXBkG0fSJJMmyjKssy9Mg0TcOY8z_QdEkcSZL04TSoAoFwfC0NhFFQYBoHQgCNJgqS3MM0jhO4-UFQxF0mTFPlGVNXVoXVNiQDQaCcLw4EQTBXGUbh3IAiCSJ4qi3MAyjUN05DvPhAEGRBG0jS9Ok3cAJA8GAeCsOhHE8WBkG4dR_IcjSXKEqi2L8xjRN05jzP5CUPR1JkwTiqAgDQXCQMxCE0VReGgcB6IIjyXKErS3MIzjaOU8T3QBCUTR9Kk2UJOfYEAcCQLQ3D8TRWGEcR8IIlCcKUtDBMo1jkO8_EGQ5GUnTJP1LVdYU7XwHBQIArDcPxJFIXxqHohSVJ8rC3MMzTYOM7T5QlGEmTBPVEVFX1sTzaAgFggC0OBDEsVxjG4fCEI4minLYvjJNA2TjO4_UHRZIkwTtR1QV5PkQCwZCMLw7EQTxaGUcB9IklChKwtjBMs1jgO4-EEQxEUaSZNE-UpWU_qQJBUIQuDkQxOFYYhsHkhyWKEqixL0yTTN45DuPlAELRVIUuTdPlJUD2AcEAZCQLw6EMTBXF8ax1HogSKJAmilLAujBMk0DcOk8j6QRD0aSdQicCwUCAKAvDsQxKFQXxqHQfyIJMnioLMwDKNY4DsPdA0ORpJkxT5TlDfgHBIHwmC8PBGFAXBpHMfiKJUoCrLcwTJNQ4DrPpA0NRpKU1UFSFWUTkA4GAjC0NhBE8WRjGwcx9IYkidKcsy9Mc1TeOg8j_QhEEZSVK05UVRjkDASBoJQtDgQRKFEXhoHUgSMJUnioLYwTKNQ4TsPlB0SR5KExTZP1HhQKBMHwpDMPhHFUYBqHYgyOJUoyuLwxjTN05z1QNDkYSRLU5UVTlcUjtA0GQhC0NxCE0WhiG4diAI4mSkK4uDFM42TlPVAEPR5J0wTlRVQVlSlMCgVB0KAxD0SRVGAax5IMjyfKktC8Mg1TgOs9j_QlFUlS9PFHVFX1LvAKBQHwnDQQBLFUYBtHYhSRJspCqLQwjNNg5TwPlBERRpJUuThQ1NU0SAkFAdCYMQ-EsVxgGgdB-IUjyZKYri5MIyzSOA7D4QNC0WSFKU4UVTmEBgQCALQ4EUURaGcdCBJAnSnK8vzNNo5z2QREUgSxNU_UhUlaWFblP2QNBUHwqDUQROFsaR1IUkCbKUrS1L8yTWOE6z2QFDUXSZMU_UxWliVFDA0FwgCsMg5EUURbGQbh3IMkCbKQrC3MM0DdO0-0KRZJEwTtRlUV1Uq8DQZCUNA9EoVxoHIfiOJgoytLoyTVOQ8T5QNC0TRhJEwTxRlSV1a1UJAKBMHwnC8OQ_EUUBVF0ZhuHkgCEIkkiWJooCmKsrSyLkvzHMo0DcVUHAgEATBYHQmC8OxDEcTxUFsYxpGocR0HkgiLJImihKcsC2L4xTLNFVdwBgPBQGgiCkLwzDsQhJFAVRdGUahwHgfiIIkjySJgnCmLAtjDMs01WswIBQGQhCcLAyDsQBFEkURWFgYRkGwch4IAiCRJYnykK4si8MAxzJVeEAcDQVB4JAsDUOw_EQTxVF4ZBtHUeyBIYjCVJspCuLMuS-MUzjTNpWGQCwSBwJgrDAORAEgTRUFsYxnG4eSGI0lycKIpCqLAuC9MU0DXNs4VZTgHA0DwXB0IgmC0Ng8EQThTFoZRtHEeCAIMiCOJgnyjKosC5MMzjSVolAYEgVBsIwpC4Mw7EESxTFsZRtHcgCHJAmyjK4ty9MkzjZOM7j1QBWy4CgQBgIAmC4OBCEoVBdGkbx4IEjSaKEqCuLYwjHNI3TnO8-UERNGVcUQJBMGwpDEPBGFAWBfGUax2IAiCUJwoyqLQvjKNM3DmO8-EBQlDkUV1wAgDwWBoHwpDMORDE4XBlG4dh-IcjyUJwoyuLcvjIM82jhOk8z_QVXnoDAVB8JwxDoRBPFwahvHkgSHI8mihKksi9MYzDZN85TuPc_kEQtE1fmAIBIHQnC4Ng9EcTxbGMbR2H0hyQJ0qCyLoxTJM01TdOQ7T1P1B0OWCyAcEAZB4KgvDgQBJE8VxgGcbx6IMiyWJsoSmK4tS-MY0TZOI7T3QNYcACwVCAKgzDoRhRFkYxtHUgSHJImigKYsS7MYyzUNw5DuPlAUJRNG1i5QJA8FwjC0NA9EMShRFcXxpG0dyDJAmimK4ty-MczzXOI7T1P1BEMWP4AcDQUBwIgkCoMg4DoPxGEwUhVFwYRmGsch3H4hCGI8libJ4oyrK9ZK0BgMBEFwdCIKguDMOQ-EYTBOFYXxkGobhzHYfiAIUiiPJQmCeKEq1lYgHBIGwlC4OBDE4WBhGoch8IckiaKIri1MAyDUN06TzP5B0MRRHEjWaKAsFggCgMw8EcURZGIaBxHohCLJQmyiK4uDCM41zfOg7j2QBB0SRxZ7EBwQBcIAoDENhAEcThZF8ZhuHghSMJMoCnLIvDEMs0jeOc8D4QFCloxwLBgIwsDgQBLFQXRlG4dh9IkkSYKIrS1L8yzRNo4jpPM_UEQtFEeWnvAkEwcCcLw4EASRSFsYxsHYfiJJAmChKcsS4MEyjRNk4TtPhAkLRVaw0CgUB0IgoDENg-EUTRUFsYRpG8eCAIgkCYJ4pyuLgwTGMs1TcOI5Q",d="v___9____v___9____v___9____v___7___9____v___7___9____f___3___-____f___3___9__f___7____f___v___9___7___-___9___9___7___v__-___7___v__v__3__v_7___7__7__3___9___7___-__-__99____f___v__3__v_7_7-___f__7___-___3__7_-____3_3_3_3___-_3_v__f_7__v___9-v__9__9__f___e_6_9f___3__3__-__-____f9_7___9___7__v_f_9___3__7____f_9v___f__v_7___3_f7f_b____f_9__-__9____v_f_f9____v__3_f-___f_9____f_r___v_f-___9-_r9v_f3_7__v-_f-7_7u___9_-__73-v__f_v_f9_f39b___7779__-_ev___V_9v-__9v_vf7__-3ftf__9-9-__u9-___t7_vv7___9v_9_v3__v-v1___937_f__u39___273_v9___7-v9-_f__u7f13_3_9__d_fv3_vf3_-__7___9_f9f_f_-_--_vt9____f_3_v_f__v_ff-__7-_ff_vv___7-_3_7_3__-3ve___-_-_-_f__32_9___799_7_v_v___vr_f9-__-3_f-3___9_97f__-3vv___vu_7_vf___f73_d__9v1_7f___v_f__v_v__9_fv-____v_3_-__f_-___3___9_-3__f__f__f__9-_d___79___-_f_f_7___7-99___---3_f_7___vb3_f__u3_17_v-_1--_v1_7_9_v__d__f_-__9-_d3rv___7_v_vv__9_t__7___7v9_79_-___v_X_-__39___t97fdtqvdv_3f___v9_9_3___-_e_v__9-99_--____fr-_-_f__ffb_1___9_9__9_7___9-_-__7___v7__f_7__v_7___v__7f_f__f__3___e_6_--___-_7_vv__--_3___f__v737_3f__-v_-_9_3__t-3__t__3_327u_17_f7___X__X_f-_93bbf_9793_1r__-2_u-_7397vd9___9_v39___tv_v__9t_3_7-__773_v_f7_f3v9vd-_f3r_9e97_vd_f2u9f__7733_-3v_u-99__t733__u1vf___b97__9vv__2773__bfb_2-vv-37a1dvv73f76tf_7_f__3_v_99e__b97v9fvv-uv_u_-7_-v_v669v3r9399f__ff3__u9__3b_3-9_7fde-rruqqte6v3dfr91rb11f-2369e7d-7fvrtq3b1t997ar79_f7X__77uqv_9a1v9rvfXq__a_13_1r-tvt__9_f7_f__9_e7__-9-___7_3v__f19_v997v_1__9_7_-9__697__v3v_b_-_7-_3uv__3v___r-__3_7f_b__9-_7d__f9b_v__f-2v-2qrW9rVX-1_b3991_v_f3vqtvf__97_v-___1_t__-_e-_7_3_9r37__v93fb__d_v_7-2___7_vv777fv27__v--7r_7X-_3_9t7v-33v29X3v9f-tfr331f_r_-q__XVr_trqta69a__W79duu3316v9XVf67fb136v33__v-___u9__v37v9__-_7__6_v__9__v__v27v__3977d63vd-t6-9d9263v9r_7rbWvWrf21a__9_f9_9___vvv77v3__99___--r__9_f_6_3fe7V22tbbarX_1_1X_6-vr--_v_37-7___99_t9_9-__7-_r-__f_b1r3rVtVbaq__-1f_1_e1v__X__q--1drq_9-rd6v6rfV77__9_f_fd_vfd_f_ff__v__7r__7__3_v_73_-_9__vurut___1e___V__9dv3__667_9_-r9269t1Xtqta17VX_7_f__e9__fv_e_f_f_v_-r___3_9__1dV69VVV1trra_v_3_7_7_fv33_--7___f__7__77_-___-__7___ffe3_3fdtr_WtvV1_vv97r-_3v7v73e9977vX3f9frfXvXq979-9tVf_d_rv_7_vVVa3Vqqqu3___37_b___7tv___t7f-_9___76_u9___32--_v-_vu6_t3-__9_r-_3-7q9q7b232tVX1qv_66_-v-r__r3_u3999vVv2t_17_7u7tfv7uv9X1qrr-_9_f27vu39__9__3___f_v_X___v_3-_7v_2-93au_-rWt1f_-t7__1f_7vb__6vd_9q_1_bdu-27W3vq_V1te93rf--99X_rv-_9_t_9f_v-_9W7dqvtqtVVdV3t7a_v_3_-__9_7_3_v-__u_f_9__3___3v9f__9_7_9_f9_7f__33tavdV1r9vvb37tv2676v27d71a6u3__v_-___v3__7_77f977__-_-__979f_9__9_vv_3_vff61V2q2qqr-36_euv_9-__f-__d_3v3vv_f_f__fv_1_v_9_d_b6_f93rW1etu26rbWuu1Xvb_93erf_3Xb72vr23X_1btWr_f_f79v__7317_7_9__9__vf_9_v-_X9X7rdq2qv__7d9__6-v_6u9__7t3v-t7qtq11V1Xf_f3_bV3b-__br--6qr9X1Wra7dVVXe3W1XrVVVVvt6_q9Xb1VVVbq3q1_VVbbWutVVX3W_9v_2_fvr-t621f3b731vdXX-3fe3e367VVV223b_X9u_e16rXq9f1e_Xb31XXVVW3r71qrVX7dv26vtq736779_r__ff_97t1Vq161Wrv7vq9-3-v_aqrXqtVvf3779-31_b_1fffutV_9fr9X-77_1WrVW3b2_737__ttf_Vf_vv_1f-r_7qqu_V-qv3e1-r93__XdttVVVVX-2311_vv_u__3372vu9VXVVVbf6t33_e_9__qrVda192t9f3f96927XVVf616_a9VVVX7_e__7fe7tvt_f7v9_f7ura__9X_t_1f_1eqrVVqr9u36--_t72u1VVVW1rt_a7vtv7_f__uv__7_37u9_3r6t3qqtV93ba-__ff7_-6u-qqqtr337d3vu3_f_f_373v9a1tV1W1f7rVfr1rfbW_a3_77-_7379__77f3e3e29VVVVaqqvbu37b3_3-v--21Vatdr2v7vb6_tVv_W1_v-_79ttva7qv_7auqu9t-qtWvau7evV1qrbV2vVdeuq_frrf31v_1123_7__3f-93_2_13_3dff3_fXrVqq79bqveuq1Xbau6971u969Wr1VVb2121Vda72_3e33v7fd__f__7V_7_797e_--q6rdtXrbtVeutW13d7q73f__X_3--rarWq12vVq3q6ur_-_1Vq1261q13V79erfbXqtX3_fb__1trv7f_-977-r1f2q112rW-tVrqrVdVW9v219d__ff_7bta1tVVVv3v3a7_X7_3_v_-vv_9_f_--3v--1qtbXqq6qqq9b_V93_ff__q__fd_b-1VX-q1a77b_vu1-_7__-__29-_f6rVVVrb779V-u321qqqv9r69e3Wqt-9_33f9_t3VVtf1139-1drqqtXXVde-t-7qrqq6qq9a6v-_79vu99fv3_3__b6__f9_33v9ffaqrVVVf_9rv_9v77_d_f--2_v7e9_vVVVV337v99q__7_f__66v9-_31fqqt2tXWvVWqtWvVfrvfd-_2_7vv-63VqqqtVVV1vf77719773e3f_72qrVauv9qr33__7__397_-_v_fv7_9_3__9-____v_9__372___f__39Xfttfru-929_a7d113rq_3qr-7_9_3_99-3f_v3_tf_-_f-rVVVVt6qq3u__v__vd9-_3f7__v_v___r9f9_-_9t-361Vqreq1a6q1r1a7X9dur9vfdbVvf13_61a63ar9996-_dd_9_3__f97_-_3-92u7b9_VVVXe1Wtbqq9rW2rW71rVVdWtV-9vtf9X37_6v_3-_VbVeq2q--9293Xd3W37-7VVV7u9X193e_f_X3_v9_7f9faqrfr-_9dtr2qv_1b1u29v6t9327e_97_73v___dVVVV9Xbvf_ve-739_39_v_-v1_e_3dr1qrqrWrrq39_fd_33r9fu9d3bat97-_X_-v_vf_2t1WtVVbrb6tf6v3-9u_qvVW1qqr_rbvWtV3bVX_67utVXqqrWqq1Vbquqtf-97tdq9arrd_6rar2qqr29Wrte9t6_dtX2rXtqtbtVWrq1f-raqqrfd_3-r7-3v-_3__d_r_9_9___b36_7Vqqqr_39tVV-v9ffe9v97_-7_6__2_-qqqqr_d-77f_6v91_Vu3_-_v7v-9-7_f3__2_9fff_u26qtdV_7Wvb7XX17297b_W7br23v3v_339__f-_33u6q_1t2vX_9__X_67__6teraq1VvVqvrvv3Xb_W_f9_37-7-qvVWqqtX1VVVVVWr_1r_f__67tb6u-_3_d9--_ft7__v_6_7f3_69v_eqq1VrVW11qr_77_7___f_fv2-3vf7__X9r_3933rqq3Vrvd1b3v79t-u7393_X7-_XVVVq2r7VdrVVa_v_79_3vbbf3-__v7d_731-_f3aqq1atu1XVa1re31va77_9b91W1W1atXbVd_v37vv3v_t9__3__7__3_9__f3-_7_dvtq2q2_bqv9_V_d-u_WrVV3_--_vv_Xv6v99_93_9f_t-3b_vVVqq12t___9__7_-qv__r7b-u67-_t-v3_v_u7-_f1f1qqt1fr_3b6t7_f_67f_Xb_Vuv_evur3673rf69ev6rV3f1e2_-9__d3vd-3ev_q_V_123-r-16u6r9Wrd-7e2q7bbb__2__7_919t_7f_13_Vft_3ff-3d7d_v_f__17_v1ftvr_r637dVrrd3_q3a3-793e_3v-_-__19f__vv7vt9-61ratVVWqv_Xu_avfv33_q_-_fbqqurV1_-q___21_1V-va_rfv3bu-7u__v_673f7qqtrVVbrqtVVv9vu3a77__v_f-_3_379-vfr__1v_-v__V9_9bf_97q2rvXVqqvvdb-9_rv-_ft1e9f3-qtXXVe-qrd-9a_29fXq7-_3Vqtr-2q7tata31X2tVqte_d11f_v_7_9_7f-___d33_3_1_-q_97221f796_baqt1WvXbqqrqrVa2qqqu1b_93_3_f3daq1Wqrrdd_3_-7uq3v_v77f2_ev_9b-_feqqqq1X1a9_63aqqrVVqq2qqqru37313_97_t__3_v_at_u1VVVVarX9_7fv_q__rf3f_r_v3arV-79_t_7Vd333b1f_u___23v9-tdVWq9u21br61aqq7V1_d_f_7_rvVWquu-9dVVWtfqqq1a2qqqq3a2qq91VfbrVVa1aqtdbX-6rvXVuqqt2tVar9a11bWqqtVW21et3ff_a_37Xqqqqq-r2_X7b-93V1VavWtqtdqqrW-1v2--93v_9aqquqqrdbu-61Vqqtqr77V3v392_7737a17VVVVX163ft_63WrVq31rdtd9_Xtdaqu9Veq_q32-_v1VVVXqtq3u23q9Va26gKCAKhKqUkpLelqNBG9qVuVnXT_RsEBSMMrCvy6yDVFtbVvUxGS2rRV3rzKapVVQsKAHtMupdFPSrd1RFMpoklWoIuoV1qqpKpO___u3IRN9Uuj-1Fsmiyq7qvVEmZBziOqpa9cy99QCt1MRAyqqXupRKQMaVUqlVVbVVSU1eUo1ytCkDqaqle3bStUlUlCpUFq0kwqaq13q3UkapqvV9XWrVcbVUooCV4SUlkkECqISpZVUraUqktZrRUpKiqS7qnf_ndb1t4zzqfnlqnedb7tWe7l___deVpdqn3ft9prftb_q9bUVfut_6r_Vt-ts7_vx98wVJRfKlTdDSZK53XXpVLZVrqnfTqnM7-v1pdzdXzIAEiqxzv1AsJq3W_e7ZrBgsiC1J9f-rLogXCiIqraQa9RhStF393f2-Pd6aTW1n76u_y1_-mTtd11t9u9e16r5Xt7q79-qlWtSqBP_-v_v6nGlZlUNLS5vfv6nuXiqqb5a2mtmAlSpAqKpkNVCoAQiS0pbdQnkoVEl7JXtlM7fla1bdb3yUt60nSpziZJMuUfa_JLX6q2ta0X3Vp3ur7zLr0SSrFXd_eVV31d9SoqjMvlYqIrHNpWSwu_qkVIaa993aftvta38uvVpVDa5GpcwVBakl8nbvobW203ZUyUqxVVVHqrrdGS1oqltrSroitCFwVZNyKq314Ul1kiLq7Gr7u_WVS19JFZrzimDqqmuVFVaDplci1QhIVdAWpNTSqioqUSpGVZVqpZXVVbqqrVqXXQlEP_f2f-1_6e7n___83Pr_9m--3vX2tuqsoorerTLXSS_15svapv71_fV2__XrXV78Zl23_23_rf75vVskn_v773bXvr-9fb_S1fe-9l_31fbdu1a36lS2lSu9Va9V2lSq6pIBjLCglJJZCpKN11PQEKKUAIUDURKBKghQW_K3v_3_3f_7_Zdf7sV1v-ypK1V7T2m3W_dqyqa1rVK1Upx-q-6_13_WnYS3X79-fb3zr3DvVf1VVutv7fu7-e3-VNW_9U_9q3vzaq1FUsa0qRAKgkitKqqquJbcKls6uDFUqurSTu0RzCTpWSLX7-9--_f99d33fXu_v1cCASOpdVX_UdC158vrWK11ill_q0rc212lZJ_ooJV1RBXCqUqbdb3X63V7iqrzUit8tqVJsprq1r-vp___9VWt0kbIApFo2aamtVUCFgJUIIr6e_W7XXXV3Stod1a6q1SbfaLRLXCVLte9r3L1Xq_v9e2ru1Pft--_a_-977fX7_ztWvVr7L9roWFXa_76lWrXWrXuvropaq3VVVaq1durXav961ahCtW9_9u3q7_-Pf26veKP-3b-67fW7u90fd33v2df1_9_tSpWhW-m7ffvXa9Arnq26_73artda6ValFFClpVakqCJVKhfzaWFrz_9Xvf1ratKFdf47t9LVytRBlkiqazb_9VvWtWfC78-ve7fJW7bX12_r_V7tSdr-qrv2VXa1b_0VX-okoKgoqUq1AF7co3jSOhU93ZU4ahizVLin1lz6hTPXd_Nf_1-1qvV767x-rtd_vSf17_3tfq_fX9rKLfz6u_du9_fb_v_3X_1v99--797-u3P5vf7-q57_T7bfdf7-vttu_9zUrvfSqq1r3K2eqQMQJVYqWqqkKRKQEEoiGkQAskEqBBAAhUAKiqQgApUCosqiyrtqRJKr3v01bKqvSlX9xzrVUqIjQKpUki0p73-t69-_-_3_7f-__-_37fX74hJQee3_Xu_99__9ev_f76_vXvAnb_d9Xd-_v9__9v_1-_v15UjsCCCw2_pa9_d_fvr7XpIW22QC_dbL779961pUBWtVopLKirIrbJqAB5ckX7tejxfKWI9JVWdUurYmUSpIqKSCpUIUUsu3-9brgele7dprb-tStS1ddaBdctWppGCIUCpIkhQCoIYACkgWJUqUAUIEGrLu9VqmvX3_6v9av9h1bTLVO1Hdf9_9X31f2_u19t_133fqqvd3ve1dfa3vr2bb9__-369W123kt77ffrfvW_97vvdamtty_qGl679ru6nW1t1baitUqhACABJRTulV_33Vu8Ee1qlb28S2Vtd_3rJET8q3vV7t9RMMt2_ZdSqrU0hRQpVSmlA1pJRJJKpVSiRbuXXnV8nbKq0QaUVNd2nNapKuKRoxadvO76Sbp1f_9e06IVJEEpKtQ1yra281q1VQJ0tVcipZLO6Vq1tUqyUMaqpWlyVFVt7m-ru07a9X9_r6zl1-X3-q9yl_r99_bz__Xtfat-27qRVard31-__3n3X7frXKz-9mdW1S6lUj_-_nSra-qbtZVfdq9yzHahUKqylVRSQAWgCCoBUoUhqBQgigJIV_4kv_fbZcmW6h-6uOurf1Qutrr3W26_v7XOrWq0jWnVLrt3Sr_Vtf_v7r7e73dr2vfrQ-vl_q9Xf1urrtdVq9fm9-l2-2--_evVr38qq2qm5vf7q9y1ayFKlK6aCiiSUpNX3SJFIq1VTtnu_XqiRHrv4FdaUts63eWi19oAJkKatX-ly90tMXz_n-_N9Ur-dSrR3mWqvb1vinMUtD65l6qkF0VqQKpVKFUpJWFRKaSWKR2yijqKgihRkoCoBVBRVUIpERBKQ3lNKVS0zXSq1W9td9Xdm-1CrpxZlfqozuuqj_t-7ft196_9bXr9vbvbvq7rP2vn-_q928lY0qy5V-nar9VERK0EAn0v6v21LmqRqtXqlrd9sqqrZat2lKFRpq_tVVJVF1X9VWIlVEpVVUqqmqqRd_KiSuoLWrqSuTdVUq1VVrVKkBFWVVRFDSiVU3W-qiqrQqUqRVSCS600lWqkoUhdVolFVUNKSUqqVIqV0qrWaqq1Sa7Rap7urK1VWqqqqerhqiqp6nP_bFWqiRLS2qqllVUi2utFIklRFrpqQKv_5b-0RSrrZUlC2qlNqpKq-lRqqWylKSlVVy_TX5JWlVKqqqpV1VtEu02UqqL8hV3_qNRqyUV6u61VXq0rlTWqVKVSqgSqGMK1q2hVVftVVLWqvdu-VqqqoBCINkUK1BmqSBNW2NW17frP-qq_9NRKyG167XXSqlNUrXVZqrVVVWgESsoqqqs9TVU_VX--7brdVDetVVTVKt66rUyv7_XV7Ir2perV6lqq1VVVVUpUlT8klTAdU9UbdVWtLVJUkUUNKdViqFWlXrO5W_VaqqKrdWp236rU61TVqNVSipKCpVVPqVmi5Xc7Oldq63NVVbq0khXUqleqqltaprdrRcqqqtepVVqrqhcXF9UtdViyShKrXq1Xa3W21q1X6lVVW11qqn_r-1a6q1f__V3Wm9qpqtVbTaqqipvrVd_a7sW2_vy39xVurVUi23rIuSqqqKTWm7UWta1VqbV1tTVbMpEVSqqVWOVlVbVVbSq1709et9qb-vm7O3Kt6Vfzz2buvW1W1lLqvVbqdbVaaqAoCIAXe3tZWqCqqq8_s-tVcV23taeruq7VVVUEoIxnpkiC-gEqXX9LUsoBqckVPxaqq1JCQpSgChgiBAArdVVnWpVI3dX2Xlel7dWr16tdXa-qqlVa7qveaqtVVqoAABBFVKKqLVIkxqCJrlbqlbjfVWuqi6qqNSqtqqqS61RKkCAtKqrVaphWqqh-EMBAEUCJoACICIKIlVqqmqoBBwIAISoEopVVVhVaZWlJKpQUJKwxOiqhGFVOQj_GWaCjpNUiFegFGoFilErValYIM98gk1ShABKgVVaWyqrRWyqtVJRUyVtUKqqqSSoRSlUpWoFRpv_1ovWSqlKtNVb-1W3-8ufbtTlv1epdrrSt1dVdUXLBUWqKNvX3apZ6JqVS0oipCpCokpU_yqTqP-UVxbRpa14yrdbZJa_nVZVVUpVKmqqlVVEq1X0zEq4IUVIlUVUqVRSlapVFKpKUhUSeQpBTaqU21GK___yyrVLNeVVKSgn2zd9tRqStVVQihZUoiqqVVWKpJV6KNcqtJViXXpJyl6l_9V9eq1K_-pKVVS1StVaotSyrkr1q7FXvbVlq3U0vtSlkG2f3r77WrvWm21r_fv1a7WtVVbiqV7tVSqlSlCUlSoK6ytX211VIpee0Rp9lVfq2sKarbTNVZWkqq6FUq5qlFJS2p-r6q6ZeQBDVv_qrgJ6xDvr__FqOqWunZtV2ynplaipVVVSla5FhUpKqUqIVUKFIoq0tFVL6ttSsqqVVFrKl1VKqpUKqrSqL7SbKqqqRaqSlSaUhFTQlVVVUXVKqlVf1VFSq7ylurS2r1VUtVatXyplTfkVVvv-9fdXVVKVVarZWZXUuvbUu871qlVqlUiqqqiiq6Y2tWqpQ6qL1WuKqVq0S2rulbif2VSurXS8q71YdqStQIV81XNvUlVJ5VVd0vl6qvtaRt_vzHsFoeiv9qbtlOoD7qSqdRUqklKqLKtaiW13qVV7BqNsRb_qX6tqrvfXqlVOqtW1f__u9VVVVCpRKiOqtV_evlVVFx2qLKtraS6Klqbakqq1QSQV2eSrRcKtXcu79WtLt--t9qu6ts1JV299XUr6VTX6-dVWr57K_9t376zL6n3Y-7_V6-qvv7796lWv33-3vz__e__v3by79_bp_1stWnasz13a9f6ynquKq07VVRu1ql3TRVVqSAqECqlealVVVrUkV1tLWkIoSAFmR2uXWVr6lVTtVVu2ipSlaqV7tz7dWVVtpVi1X6XzplSnbaq-SqqqqNVVCGGhw_r1VNZMlI0pKkwAA7__raNXrff9aSC8RH3Ov_dn2ruSRB1tSvVdq_fRVVnESEKKRVVVSlVlqkKqqpSVKqAUBKSFKkiSJgDgJGqCCKgpLC9K2Uq5VVSrautRT3pfb23varv8tVv-uqnV73W131Vasu6-ze6u2iVLR4AJJqqVYtVdVVkiEkpVYpNFFUpVU1BuHRUyxAEp1rQva6qLrpVd0td9SqgS0VSoJVqyq1VKqulVauuSpVNar1VUASqSVKlVVVaqrafb1r1Sqtq1KK9W3rZUa6tVpVEIEAcgAAEVIQAJQKpC0qu1VnJaIvTNKzWlVSbtLVdaqtzetu3Wvdeeq6taqSUAKtaElb_674i1TS1iAKevRRVdEZ02IwepSSalTWEICUoKqFEIAAAAFABAABA6qsr1VNS1a1C2rJbTVVXuq6tU1FWuTU6gEUSpSVUURAEpYoIVqVU0kIqSopVSpUqteqqqSqqVdRcQqkJVVVtVSarVKIlVVSoraq2sqaFKqVKtSWTVdVesq5FWiirP6qVEVW5TVVrVNqraSpWq1VarVSllqqVqqykqV1V6qVVVVVVNt6T1VuyvVKralXtrf2JPV3b21ta31TfbXRfn3f-t7vqsUf92qe3elV33l_6upVVq1WqqohIIBAFKkJcrqtJVq1KlVWtS63W16vbVVWOqb77267rqrerudVUqqUptUowi7QjJfvaIUG0kqKqOZe_IWLCpWStVUAFNTaUOa7efXv85XKj1R5SNbqq06QKrVJUUtS_b79KNS31qUIRVBQQAAhBCqqrGqtrlq_t1KpXaK1ers3rFVvbV1Vf9NvVraqRIEUoiVbW2u9vWqu_3ZKz3r6sUu7zXtd23VAqqqqqqdRVKqiqsTuCrn0AiKK00edOvMrerbW1aZrxQlUqpFVWqlSUSlJa71Aqqk1kk_1RUKWqquGVVfdqrq71VU6hpVktv7baSmt1qrauVd_X1VZKqmTe2ZS7qmm1NShVVKSKrFUhKgX08qt1tMuqV9vu7dtXd3usqqrKlbtuqrVJV62rTy-31dOtFq0rLzrV2qq1T3ZSrSJVSVSVq7UkmrZ_7_a2tSpXSlqqMzailawrrVVVVFRKyokUkqqqlKlfVV92qtRVr_-bqqlVhZQh9O9dU5knorS3sH6v_W6mrqVV6yiVUqVUsqqSgVXXRKm5Wfda1LVaqslqtW1VVqm66lUiUL_-UrpUqXdbV1etZtJW1a0tVVXrVKaerbOq-7Xe2O3bu31ptv_1u3uy_zqqn1U_1HutIzOs1VWq6rd1qVVUqqipKWt_qRa7bW7VVVq3b6V67WUqrQpUhq2t9btbqSq2tWraVRW1VqOtrV1btlVu6SCq-qVzequqjqrVJVX0qlBVbUVOvyu77v3_1b_6tfe7L9W_Xr_qlV2_137qq2rVPW1y872orJWtVVTVVVtqVTclbrbO7Vr1ekpJqUpbWpVVViqUm1XTpVrb1VVVlLVVVtKqrVaLaaVrVVdVqqIqplagVJbqpV3qgKtqqq-qqKq9Uf_lVSmVW109eydbquq161XW9VVS1tUo6aqq1Kp19q1btcu2lfd1m2rVr26arWLJXbIha0qdxVqVdyQWIqlKr1dvt_6__u9KvPftrXfdvdqrXqlarV5Va236tf6-1-udMVXqtpLalVKV16UhVKtWqq0UalVd9Zbb9dqq1v3NLu7tK1ay1VUiq1XbXRt6kpttUiqrtVq1VUqqqqrqqLdqqpRqqWrqrd7ep3tkkurdq4TWtda61S6qurrd66q2pVWHSq1VVKqlVSSWzWqWnScdK5oSW9VT2tV1plql8qrf_SrXVVVVRrNKr-VVV7ve226u-71eqqrry3rLvrqq2orqylVVarKKvF10rL1dP1XtV7RqWq7baq6qlKqlKlGiBtVYla1rqleSIlWqqu1Kr3QW7sX66r2z7VtMuquuLRiy1VbUlV3sWru6vKu2yzbpLveld87VUKVt2dKJXdTtq1VSVUkVSFUSbVcqVZVqqrVqqqXqpSpUpJUWq3VKlbVVVJpSsaqVRAAAAAgFBRRAiAgAIFEFCBBAVUVGGqogydBBDHONV1vVyZH_s6E_HJTipf2kvf9VyiKVJHjUhwlS4aypkbceKQFUAQLUUlUqVVVSkpSKklVSqSgQlqpJt11qqrbq1Sa1qqqlaqVRVoCmSopu2rVbba9VlqqqV5Q17ohSqrUAlVTVV2zKsulKnqq2aXlVJUKARSrVp1rVRUqqlSmCoqpVcqpVEsrLi9bv9VvErv__mZpV72vbu6qb1PV1pXZXyVaqrYVQqVVK1VXdVbqrq1dOal1VNa9Sqt1v_Wp9VapTFXVa__5VVRKrf1Kaqtd_RVVWkqrKuVqVqvqpX913_-9d1Or_X56vdV96VU6q76qrqpVUSqVC1VFSqMqAkrrlUq_9Va1utVf_rVfFqvP_bu2qtVRKlVaytWqqUoiVVVUqVFVVSlKqqqlKsqSQIIqqixUpdDBFJVaoMCAVECURVVVSqiIAEqqUqkpSq6NqVt-XdRWzVWsIqqqlSqdVAVcVUqrVUqqFVRVVSlVKiqRUpRZKLSV1JNT9UDVa2vd1SqqKqqlIqqQUqKBUlEqqfaVVVLn1VdVVdK1Wqmq1apVKqhSqS1apVUS1VdTdaV6dJKt-y_oFUmqi5WlyqvLuihSiABVVWqpSpJValWIKqtVS9WSgJSVVaoKqqqpUqoVVUv_-lRUipaVSiqmqpSiULCVbFEUielVVKhRREkVSVSqpStJVUtKlUqqoNSpKkUq1UqokqrpXU9VVOuxioWRJK0VVyoqr7VVSUi1SpCSqqVDYlUKa1VVZWqqapqqpVVVKtKpSq1UiCqpCqpRVSlcUlSJVVZVVL0qRUURKvriqqlNVVUTFVLKTW1VSqtVVV1VRKpVFFUqqqVSKlRFSFEpKDVaZVVaqjzLVSqVbb01Uq1VSVVq1abpK1aqqrblCs1fzr1_uqm5bVVUtVWqqXKr_VSpoqvKlVVNVtbbqVFTtfVVaqr_1Vdsv1dVNbVVWtVTUvrTaq6ktCVK0qp-rFVKapVVSirTrCpVLivRVOlXX1tLb8lNVKf_9VDSqSqW1L6VKqo1SVZxVVlQKbUpKqu1VVdEqqrVNKqVVVFVWqb2qVTe1ttqq1VK1tVVFUXK6V1e__324qralUVWKqpWqqH___0Kr_0reKVVRVVFvtSq1TVfVUpaSTBerXqrSoati7_6qsqlVUlSqrWta1WtNqrlVdUqV1apKlq1VVVVUqpRUkqlaqf-mqv_hJVU6qtKqqV6qqqpSJTfKrulK6mtLVStaqqqQp6LZ-pi0lcUopVa1rjZWp0tlW6qpVUlUhSoq1qVRtKrNVVk1WiKoqTlSUqmqooqqqqqQl6bWfa1ZJVWr-re6VW02q2kxVUKGFRWCqqTVVVay1qq1q6tbepRVKq1QVol1UlVJVRVSgqoqqslUNKqhV6dylJaqpUmqqWqVVbXdVLUqqSqqrVdlSpqqhJKqiFJSJljKkkkqqUlqqpUhVZSlaqpVS0qoSaq1VK1KpS0VK25Ktiqvf7791_m_333291996wpNUarVq2tVWtdJ6oqqtVarWylVVruVVVKyaurCVFT4mlVWqqqymwqqv11rpuVpbTLVW27LUr6uvNc0kXtutbSqtrm2ytRSqqqum3tJrVZWqqtVUt7VUy97u_NeqvJWqjVNwoq3vW6Xe1VVVV1VVUqtqVUqlVVVaqqnbSqqqStL0FKVSJKqpVVVSqJFREqr-qoiqlVTC2-qo1-VVU0Wm3KqUqZWqvFW5SvVVUtU3LVSqU1arSlVSpW0qqUqkqTcVFVrq71VVf-_19XNSrVKq0SVZVGorVt6K23NVVVSGiqrFqraypq1VVa9OxpK21pKpLW21Kq9UpVVUXT-oloVUoqqolSVVVVNVVVVaqi1IKoqqr1pKyVFRVFSqr_d3v-v7VfdetlWqrXfTHLq11tV9e91ararfVVre7qq2VSyqUuz1X_9VVUhVZqKKpVWpUq1VVVVqqqqqq_0jVRVVVVSKVVVP__9eqqr_-l6v1Smyq_pVKVW-iu5-VrVS06q--1LqrUpVVX3uu1tvVu_ZWKVa1RVUkpQSUqqpIqX6qVRfq__1qVVtVUVVUKVVSVSqqqmKipValKraqq1bpVFTaTVlaxKq4qy1WepalL23ctVZVXdpVK71SKtVXVVUrrVa2rpqVSqbrtVKq2qWpKSpNVatKVNVlpKqhbVVVqqrVK6VVVFVVKqVVVKqqqqVVVKqqtG62q37orrt5VX3-rXq1VVJaXVbqUq1_LVbtKta9VVVvb3_Zdav7VWqq___1VV5VVqrtqtq8vWvq1VXWt0__VWVFdfX1RbVKlrTfapWqv-kqvqqq2S81pVVL__XqqrVbVSlVIIlStKiVV_9rKkkqonTVKqVVV1V_9Uq1Sqqq1mVVZVqq6qlSuVRSqVV3q1VyqqlVSipOmRtVSqzX9aokqxtK2qlpao_XqpS3JNVKLVKp1W1NXVVVUqqqpVVbUKiqlSqkqs63VVpq2VVNdUpVqqrKqqqrqqSXIVWqrVT_q7VX1rtr21X9_epqq1tlWvrV1V8-T6trVVVXayspWzq1Xb8lX-vZq2naq1xat22paqqqqqptVqouqvVa4vKsauv1cVdVVUq1V9bVXfPt93d21171X_3La33963VdVpbaherTqr_ret1Spaqvr-rtVV67Vt21cqr67VvJrarVqqq7VVUqqrXlOVVVVUpXqqqqQlVUqKqiVVUSkFKKCVVQUqK1XVUlVVaqtq1NUqilVVfFVWpSqqWmSpURVSqpVPq2mlalbrVVa9fu6q3Wu_q_f7v315vyq9Tk-tvX9_763tRv_uq71atbd6VVSnUS7z35dX67_62qRZX78_KZZW5jTFKWt-m9Vat77U9X2q_1VVVWrY7dfrRuqqkO_cV-3v-W3VO9O87T3uRStetfeVqlN65UzWsL_9JQqtVpRRNtH6q7VZKaVVFaqP___lWl3V-D9_yrlYq7VVd3qrVVJVVVVdCqqQqqqaolKqQ1-qCqW1UiLWoCSVVaryqSpUpQJY6rff7_yFf19OqtvVVuqyqtWjt6lWqhUvbrqqteWlVVVGlShKSqWsRVVBNVXqVVJSqjqtJVd1ZlStEq2qq1tKqqpVU1U1Va1U2ratVL_u-_c2q3v1VVStVq0qqpXLWu7VX3dWqqtXvtWw3UlVVXds1bVvbuvXVVVS91m273r7b1qpqtJQVKmqVVavVuVbrlWv_KXq1ptVfrqytVvfdWV1VVFVZW6qqrV1J1VFVfVV_VsmtVVVqqqpSUoilfq9f_1VtaquYtbVt__6c31V1VZV5pK1VVVaVV2-VqirRdVUrVqXqqtcirWtbV1UrWlJXUSkpJKSpCpVKVSqyqqUVVTCpVVpSpVVq6lVZJahWSyilVWbVpWlKlVq7U6qql_6q1ZVKqlVJVayqpVsqqmlSopVqpKqqy39VVVSqtVVUVTSUVVVVVUqeq_0VKbVVFKU01Lqruoqqqte6lKpVakr6qJWrf0MzVVqtTXenqu5SXWr1__zVttUtVVlLVqldlVJW1Ve1ar6l1VVS7fy1WqVVJXt1UpKq1Kqqq1WREVX___3a_7SqURFVL1VVVaqjVpVQVKFVSpJSVVCpVZUVVVdVVVtVlVqq9aqoq6qypVVVVSqqlRVSVWrSqqqVVVZqipWlWqpVVVVlVJaqqqVP10rUt1VXtValUt3VVVPqUtVW-lVUqn6y3Uqrc19Vu5U1VKqqqqrSTKrX_1Viqlr32tapSqVS96qra1VVaqtSqdVKmlVX9VT6l9__bVU_1UqqipVVqqVVKJSEqNKkiquqpVV9fa1WUqQS61KsqVW1KqqqqkqtFolVVZdeqpKqTPZKpFqyEUtlTVqppW1VVCpqSqq1equqlVVqkoqV1FVbqmqqpVUqKqpSilQGEJVUohSlKpVSkqUrCKrVVV4lWqqKtVa1WzVUqrqrVVJKqlrqnLqsPq0qqqeeq1VSSqrZv__bSqu3aqrVq1KqJVVVK1SqVSmmoVLWtXTVKVPVytVSSq1Uq26ySpakq1VCqrTauqr66tVqqUqS7_0lJVWq8qpVKZVUvUuuqqVUqq2LSqpIq2q9eEKkhCFSSlVQqqSlULaSpVWqmqVKXSlRqioLJUtdC0UVVqqqAlVUqqtJUVakVkilUlCqqFFVVSVpVKVpRUslK1iqqUq6UKyqqVKVCkoqVKsLfUlaqSSipUVWlVaIKpWVUokh1VKqwUBKKSqIApRVUqrVKophVKlfilVVairFRqrVaoqoKVVRVVaq1SqtVUQVVeblVVXVMqpKSpVWlFUtLSrVVJK4SSQqqqqkqpRW1FVEVVaqlUqtFVFSlCqqlSmolslerVai1WpVVW1V6ra1VJUVKKpVV0qqyqlJKruoLKqqqqlRUlKVKSpqqpUKqVUqq1amlNVqpJVUqtfftKVUGm0lrVqqpVVKnVVVQepU0qnVEVkqpK2qopJKtVKrSyVVVJLiiUqSVKlKtqVVk2qtqqpVUk1qWpKkFVUtykKsqpGUVFRRUlVSWyqKqeqolpSqq1qqqpRlSUVSqkrKQu5VFRVKqqhkqqlSVaqiuVVUllQlSlUqqqqtVVVWqq1KqqqqVVVVUqpqqpVqqqKlLK2q03apSqpKq0qqVVVVVVRKqPtaVSrK_9q9SrZS6pS__8xmVKVVrKlS6lVUq1JRCqKRqSRSqqqqqSiVKiKpSqhVVCVVRVRKKyUq1KaoUiqoqVVUq1VVWpNSq1_1VWpVU6qquvVWtVKa1VWqqqrWF0qxbVUpJW1NqqqqqypTFVVf6qqqRV1St-qpVqrqlVlSqKqqlVKipaqiRSqqqUqsQSiSlUqSklBILRVWqUqqVaoq66rVK8q6V9VUmlVKpFCqouoq1Vasqq1WVVPqSqoSlKFKVSFUqo0IVUqoUIqslRRVKpUlVVVKqoqiqqqqVVVVRKFQUqKqYqqL0FVRRUlGUv6jpRVJEotSqVIolMSkVVolAWFRFJVVryrSqtIpVVSlElEytKESpKqKqSyiqqUilURSqVSvKtS6v9dEVIqUpVVVSlIU6agn_l9KtkpUVT0ihJUSVVVVU1VVX_VVSSlVqtVUVVVUpIUqpIqhUtdFKqq6q0qq0KqqpWyls0rWqKv3qpX1VNSClIIEgqrUKlqpVelKqqqCSKQKpUhKqLVVCpVWhVWmDTYxKtEVFL_SqVSrVVLRUqioXVVVKRKEhKKlIqqhFSqUiDfyqpVVKqlIhVVhVqqrqlsSVSsqkKgipRqquUlFVVUlVJVVWpVKKqqCootr-pW1bLBVVaklLVSlFq3L_VKpWqSKqtVVl3tVVJQEkpUSFSqrUlSoPVer86SCWqKr9VmVaqlVbVaqqkv6qlVJKrQoipKqqVUVVqqVKlX1e1KpalCqpVJSrWtFVVSiilkpbarVp6pRVUqlVqRKFUikIlVapKiVSqkqqqiqqqlIkqkqpSFKpSj6pUqqWqSUkoUaqoqQVIARVEogVVVqqUqq1VVZVUqVKSK1VV1StFKFVNS1EqqVVSqVVqNT6lXeqqqmqqpSvbSVdlVVSl0okSSqpqtSqlUqSVSqKVVVJVV9WKqLaVnLUiqVWruqitKFIlIoSNLWUVTSpVaqvylVVqqpqqqqSpr_tVcqKqJFSpRaWlUyVVNdRSrVJKqqqqpBBNQa6kvqiVKqzVVVWqqpVJpKqqu6mKqlFj6qqurVuveq1aUlUqCqqqLSqSXqqvmqlZUEqKqkSKqpSqqoqqqUliurqSiqlalUUVe0lRU2VW1Wo1Wqtaqqkqkp1Iw8qplVVWqpVVVSlI0q1cqrVaq1WtKvK1qlQIqpOWrW6K8q1ZqpmyVEpOqqpWpVmmqL3kSNVP1urdq7SqPWSpXWqqVdVT6uvVVLWmbfSqlT1qtVQlbqqVVXXc1FdKVVUT6qUqqorJVJFSkQFVVXUqpDaqKWlVFVEqBTVWlEqjVVSQor1ClZSiqhXJQsqVvVUq6q6qrVFhKuorfKVbq7TSqS0qJKKUXpVrsiqp1KotVKWorCKRnqSsqKlZW9ylVSSMrgo9qhSlQkGqVSqSlUqq6pq1r1SqkVVFJCkCVVIpVFVKSoqIABKqUWqtNVqsqqUVStetVSsqqlatHrS20kyvfstVRVVq1dqlUqtaKquqyqrpVWlFVaqSt2kyxVSgFClVKqAKqQoqlRVVVUpUGlVapLsqo9RSUq1SktSlVdKpdUqEiVVU1VV1VUrVKqVVVVUSUVqV1JVUUZQpVNSoh8ikqqqtKFVVVFpcrVLVpKqqVRBSqRKhVVGoaRRFpVNIRSVVSqkqq1qVba1VpVZUoVVqrVaqlVUqqlUomqSqquopBa4U9KiVJVKYTSVRVSpWhVUQhEqlVUSiKpKhSomlJWq6VJSKqqqqoEqlKVFVKqiLVKqVEqqqtUSqqtVFIlSVVWqq1KqqqqEqSqlVVVVSqqqqqtqpVmqSqqKqqqpUqqqkqlVVJSS1KqupR1VJVVRVQVCVVVKqlVUqlWqoqqqlUUqSkSqrVVUUqpFEpT1SmrUqqtqLUSqqtRVKQlaUKJ1Qrq1VStWqq1SlVSVS7dVblVqqpKmoupVaaxYpEapTVSqkUqFKX3qrtIJVWVVSpKqpKqqVSqqiqlVKslVVKoq7VSqin8RV1SVSqlVWSEqlSVaSVhbOpVVVVA6qoiqqVVSolVVUqCtQkFVJFVNVCXKqqaqSlUq4qhWpWutVctqrEpVpVKVVQSVKCtVVFSs5dSqKVpKq1VWkrUqpU7VVVQrVaupKqqVVL1SklRVVqytKqqrqqtVbVUVXVN1KpQlaqraqpap0tJUlKQhSiSSnJRKqKmqVIq1RKrUoq1KqrVJVFRVKqSqlFEVVKxi6q1KSTrVwSTShUtVVVJurSSpVVSqSpqpbSVtSKhU1qqXSitSNUy40KqKlVVaqqqqyqks1FVKpSRFUpVVVVVWtVKpVUq7tqpVtZVVqpqurVUtSiaqql1WpKhUqKVU0oWqVUqaVSqlVUqqqVVKFVVVVVFSqKRptRVVVKVSIAyqrqpRShyqUlKqqpUSqqulKkkhVUElSqqVYVPVVUGXrbGl6KqqqqSVZT8Wo1SlFkpSoGtltqppVqustV2oqVdKVVJJQpVBAUCVUVKqaoVEFVVSVVVVVlVSgqolXEUIhIUpVGVaqqpqq1UJVCqqpaEpqqU1KVUrqtkq1bVbkqq0qqlV1a9XvLVUrVVF1bQlVSqCv_9TSqqqqpVSpVKqqq2jWpKyqiRUTayqgKrVatrW10qqJNuqn_OK6VqqpVKkLWqlLVVVVUqqqrhQqqqVQpSqlCqqVZVKFWqSS0qqtUqq0qsqXekqltGhICI03YNVqdU5rVW-3uvXyqu9ldGlLyq1WlVcq1Xsqq77H7ImFalorKUq1KlqqJdm-pWqKqVKU1KKVJVapKSVRhrFZReVVVVVWshVaVKqrVVUqimiVRLJVKuoUKqayqrVVWUpStCWqyIEVJaI5eha-z_0iXtUqF1SYqyS21aneyvWtZtUlUJRVUVVSVqqLVVSq1VElUpKaqSVUqv0qKemqX10kWqrqguY7aaqokAKqtc6YXKrVKVWpSpUAqqQBRSqira8lW1W3rVVVbW9bdlWzVUs5V5K1VU_Uq1X6VOC0u1VVSpRX2m_6qrTBWteqpVTVaVqqqqg9VaUpJStVUlSqryqpJVVRVKpFVV7Vlqq21dWuqqqv-tVFVWtT1KqqpCkqGqopVf_qkrUpUltaqqVVSKlSlVSlVKhKlIVVVVVNqrUUUiVSqsopYqUqqFCqpYlJEspKVFURVWqqQioqQqlVRVZVVEpJUqlKltqtRbSWq1Z29YlDu6LKqKVAUVBTQ6lKpVtuqqqqq7VVVWlKq1VKQktVVKo1arSqlUDVoqqoWqqqfIVUmpJVWKqspVKVVVWktEiqrJSqggCKpFAiRCqqhVU1Sqp-WUqhQKqVVVKZKqqrVVVVQKlVWVVSmXU6u-qWepVtVVaWpVVYrVWW1KjKp6qpqlqleVWlaqlKbypUSqqkklVUoqoUqSpCqsaqqlUDqqrZVSqqqpS_gqqiqEQVFQVVKqpkAAQAABGAAAAKAAQIRApRCqAAEIAoAASqVIpVVUVVKpVSlJKVQqrW5SrKpSqtKpqqSlKUupBbJRSqtUVLKquqWtusVSqpVNCq1QjUolRKRVJVKzqUpJVJKUpBaqqqpWKqUUEUqVRIkktVStVoiq9LKrqpVUIEAqKrVItaqVVqq1SqVVqt3_VVWKqkV6qBSgKKpVUlqqrVUkqlSqqSqtVXVVRqqrWtUkqrRVVUqpay16ttrVipVbqVVaW6oVrV__7VaqqtZEqVdKkUKtKVW1VKbVXv9Knq1Kqlaq1XVWrKKvSVVVVKUVKWqqqqrWpVFCoCoVIUIVVVVVSVFEIqrVWr-lUpQ1VTVa4upUrSSUJVVKVqhVVFVVVVVEqVVSKJVKpSqpJJUpRpKkhKlKqqqkUqlKUlKqqUqoBXDqiklCkipBVWVVNVSqq0qVSqilKkoBSlSULRKqlKVqlVn_laVVUqKKlKUpKpSqqqqpVSqgtUVqyqKqpKq0pVVUqlKqlKqlVElIUqKSVSiUv_8Iv1gKVSVSSSxS0QEqqVVVSqVJVKUpVBNSqVVQlVVUqqJSQioAwAiIUQgYqVVIqiEFVKqCFWohEpVRVlQVMIFKVUiBIKQgSpVQCKWYqCkEVUVDQpQBBAkCIkAKEKv6CqKQgEFVKEgEKoKgpAEhBQFCUSAAACAoIJKiCqVUUESpVUUEAIgkVQhAFEFJAQCoIoKQE_AVSpIiggUohFVhVglqAxKCw_aUrVqgggpU1VBWkQFAUAAAgqRABVRUUqojkKEpFCkEVUKgqS0qqUKirEhIogBqlJFCJVCVSkGAAnygEQn_qCqkoaUDQiYgIaEIQnIoSURFECipKgiiFqkBQUAEoRGqqQkIShoqckKSqlVCKhI8gQqi-Won_-SpQSqtVVEDICKvtOn-PVpkSQAAECCICICQoiAIiEVqpKWKqhQ0EABIkVUoVFEhE0qlVU9BVVIoiIqEFRIIAKUxQCVSkgcogVyqKrBAgEkJREqThJERQShAoipmQIQIoIoAgIkLBQUVVElgxApVEoWQWoR5VSkkggQJCFVUBEJQUSUogQEP_6ghSIFQqqAqBAUFVFJFCqhMIJIoiEgVIFJsEQXJRKQKhCUFQJCXokcAn_yhKqqIhUSkhWqiiUQhUEhCRAAUQQIFAEIkQKFJJTiUEl0SphQioCKvS_u7Cp1lbZyquRjSun25kpVpSqa6CkpUoqalQoEjUlaIkhVKrFQhRJIopIL8kFACkFJUSIhERdJVKmSASFRJohUsRRWJZ1JFqUSKBSSIlEgJIohhMqqgIpEVUaKVkFLLWgBRoaQIqEJsijCtJRKRKEVIlSQmWqpSgpAioSElVIBSABESUCikCpVURQlVVVqqylRWiCeiqlMwEhIkMjSkQpCqASlICpUooAiRBEElJFSSJUBLYcFFVUooSSICiKqhFSsEqCUQyIkIokFRQTVMKqUaopUWkqVqqpVHRRqFIOECGoAIKkAAC4QAACJIyCgsRQAInSFSSXpqIlTVIOqqpFUUolVCqSQVKkUlGqlWKWJGKgEoolQAEqNqVgYgAEkiJMElKiqkoqoUSBeyGIgagJCkHXeq4tN4QEIBCEVGwpNIESlKkVUkmlQzKQS0oexIgqoJVUK9a1VVqylVpVVVSktBFJEqRSSgRKkikyhAWAFKoAgpSgAIkIAUIAAFKgpQDQpYilESCqyEgKRLiSCIIStCiVSg2VhRAUlkFKhQVSVFFJUpVNEIJVAf5FEmogSKkBBSkkAUQkVCVFJpJAqBGqRGSiCqlEVIUC3usaiaVqCkKo1WpRCqqa2QkWskaEkj2haKSFSVIQiqooSJXAJQkXE1SKQCKVESYqqClqtEZXQqokoSQihxFUSXrQRVJm3EqCAhCBKKUCBSgAAIhCkSFChBJIq-AkRUdVKKgSFSQgUoqRIJVQqSoBBVQUJVVGqrVZFGqqJWkUIhAUkCCooVCEUqRIkhKRICShCnCqaFUJj6lVBQUQlQUqLJIqpJRopKhFIJQAgBBKqVoRTQASCVW2qlVQLEgoQqBKpJaqSnSJwK1aULIgIqVVqASWJSEJpVFhhUEUECSuERIioSUqVVaiELFalVVVVVKVKVIlaUFUSRAkoqFQdtJ_sqQbGiVQUUkRCoqVKkhyoo5VUgSUVWEIgqClUVBNKUqUoqiVUkoFSomqoKhVAAKkIiqiqlkWJWUBAAQBAUAhSUlEEEAAJS6KKkFEEiEh0QKmQikFLVEkAqCUaCYqKqTCSWgKlqiKSCUrgnajZUJcVSpVO0FkyJQVhlSuy5sqWxCkoEQSSjaTSWiExJBCoYBaFBACtSH6qAQmlB1CqMAoBCSNqVv6xSoioCBQMiqErIgVVxpOw0lBKqiWAqliVrmFBhAlFQ0AQJRBVKKmQgoEAMgEIEQK0iYJQgEaJCCILYGxle_wBCSkoLgxICBIwjAGgAxVYkACUEKBQVIIkklIWoCpSlEgKCUUVShKtgggUieEKqVJQlKqBARUolEFIqgVFFRIkVUSEJIQKiVKpAgLakqklQUiqIqqqg4QQoqAoKVVVFVCqUICVSqS2hadRWikKXIqUkQCBUVYK0GiuJELUwRKqpISBWtfFqKqpS0qRZCgE-lVVVSmqrRVSqpBQXkUJJTSyiITklBAARpEIVVSSqqXUKFC0klViVSQRJUKARKpVSSHBVQTCFBVUVKSpaCCJQCSlJVTBaqFKpJoFIuokAIWiiIClQSFtFIVhASgkmiKkkKlRMXQkRQKkIoCEqpIQJBUgkFBUVQRDItFVESEikhR6KEtJVVRUAJQpUpAkKioIaAiDJQqBUAREaqCIoSBKKVAAChCtBAEAdJASCvBAYlBtQDBBKhBUkVcCGOFNiIH__IlCKAkUEEIEACRVcBSFCACLKqFKqqqlZEBF1aklRQAKCIQqJQgqk2lKKFKEGBIIGJUQRKQiCkKQRAAoglAqRFKqkBIRIioBpISiqQ0pQEqBVABEEklVVAKKYKqkgQaoKFiplUL0FBCFQCks0oDIRABskp5EcigkEICqAjwISoQzKJICIQAgQkiCikShKoiKuVvVQVKE28pJFUqSJCKRQCgCAEs5ApCStFkJAJCSiKQMgYCEkiqiqhkSBSAqRCVSIgoUq1KQpVAKpEIkpVRKKVQRKOiVClUlCrRUKSKhQAIgEoKkkJIUSgRQQpIlgekuCBCpVCqCkVKpUqqkUFVFIQKt7UFFMJVSUVgSVAAASVJSolRCQSMAiKRag0pqUSiEKFDSokQBSD_-SVIhFoAhRED_6qkBRBEKSIVUiAKwulSpKhKpVSqQQFJVkRURUqqWhRAKqqqqolUhREUkqEgIlCRUKkKotSKUpUCVSSqqqKSUVQKqUiCWqlFCCqUiVIQAVAJQgkKqqgqhKSVKpEqSgpJJRFSpKBJAVCoykUAoIUIqKqpKKRJUFKqUq1VVKlVChK0olLcqIBUVFSiitRSKkVFRVkpEkkVCImFTUBJBRFFVEQpiKRClFVVVpUqtVVSqVRVJVaoSoiQpUtQSlUSSAgSlJCVVaqUSqmlVEVKpUJXVIhBESVUqoqyKSTFAqVVUiJBRVDRJUpFCqAEoJKUiVJKipRQqoAm0kdaJKhUQkkIiiVIlAUVKRE7khVJUKqqVVQhQgokqmEUJJERQAkKqEEhCqiSEqEqUiKqtKVRQVQiiorKqtFVAotJSpVKqtBRAqkUkFVUolCgioTRWqqiKQqWgSpVCpUtUSqmQFgLo1ARRRJQqpRKUiQQlKoVQhCKilQoglVUpEqiiKKSqqqiKpVAYxS0EqpVUEUoSRUpUUiIKKKiokqRFKQiVUIokSUokQUiVRdUqWAKRIiqVKoIqCgJAKQIAkBSUUChKSVUsURVu0oUBFJKRCrRUqqqlUlSixAopRApKIVUVUqKgqlVCqqSpUUkQkFSiQlBJVFFKgAJFWrIKUBKkElSIlVqKClFatVhVTVqQiSqJIQHkIRQCohAKikqpVUEMaoRKQFVKkqBJCAKQKJAiSNEqRUoKkAMKEIVRFSiSgVKQko0kkq0qQKUKSJQFKFCAFKBqoJQAAAJSQKKIAUEgqighEQMqlJqCQYkCRUeCoKVUaSIQkAqBRCpSOgUkCoSQgRQJVqoqSopAAgIEIUkCUQAKkIqgAgFCkASKlCVQtQagkFUFSkpUENCEAUhCIJQiCRUQCJCopIkqimUqpCqEECoRIUgKgqCVFCUJKlSVCohUpSVSqCRJSRFIQpUqSESKChKlIqooQhIkoBAIigpAVXVQJFSAJFEIIFFJSCJJUBSlQUolVKIKoKiSSVKgCqJBERVURJShKkSDlJSJEAUilSq1RUoKkpSUBJFKpJJAIiqqFBVU1JCVVRAqikqRKpFUhJQlKUVVVVIBJSoqgVRVSKoI_8pUoUkERCAEUKEIiVKqSVVUigBCEJWFCISKlUpUUpKpKAIUVRISGiVCqqlVBVFKqASopEFRUqooKUqqqoICKUFIVUVVKEhJRKUllEBSVBJFAgokUpClZUqlCCKLCqilyiVVQkoiEVIhVKA0kUqqq1xEh1EHklQpVKSoZAJAQpopaoUY_olWKUzVRSRSSoSkqNAKipIFElAElEpUpUgohSKtVSEoKqQCKUlFSqgQFAIQUhREREVSKUCoClUKRKUFVRSkkSglCkIlNVSJBVSQiSlEKIiVVTyBSkSEliFBBRKpAlJSqpCpJVJAEUgIBVIhUigJJRRWqAUCRIClUqLSkaSVEqaVZVaVQqFSIERQgCgZVABKJVQigREiEhSpKKhEhIFRINFCgUAiAUqopUVSqEKVQKRSRdKqoCqhJKlUJAQRKKpAVUiCKQkQVVWZSUyikihSgQCRchUqIJFSqqlIUSRFFVSpUqitRSlJBCWsSoKtRIqSEoSSokikgEAAEoJCCCiTDaVVEgFiVIVJVEJAgQVVVVIUBqQphSoCkUiUUSCBQpVVSlOiVakgkCpEQopKiqVQmqmIKpSCKkqhBAQkpFVKqSpogUqUtVEqIqQqRFKVJSqpAikoQqgikrKqqQpVVVUKVIkoklUogoFiHIisgpVEBNJKhCqmiiiopIgRKJUqFVUqUGSqpVVUhCqoJZIICISqpCFKsqIgCqpJKkIpBUVVQikqVKqikUAIqVQQqgKAykKIKqqAq1QqhSkhKioRJUUpFKlFBIiCKVJJUoqqQWhBIoRF0IpEUrUSKqqqtUIjSlFRUtVaqpFVqhUikQFEqEJCIUkkEokqCVURSqpBFCRKkIqlKlFUgBUWKpKAqioJJAFJUVQKgYKFCUVKXKBRVDYUSlJVQpRISFUlKFIqpTSkqoIlKFJClUqFVT6lqESqEgmokiFFEUVQAQ5KUkVKapFRVFKBMlFSFKikpJRCpRAUCiqRDUAlKBWqqE_pVAKgpUqqCotSho1KASCVRFKmwpVKqkBESUBFGpKpQUAqVCkpSEkRAJRUpCtJVREVURSVRCkqQilQgkqIpUrIyUkRRKCiKq0pK1JVKkhRIoVBUgpSQCAKKARJERFRSxKUq0KURKlAUpSlUVKSqlRCVNBFRSAUoFRVIiKlUjVklIgCqVKCQiEikhKIpQlCSgTKsCqVQFAqQQihERAkqVQRVKEEtAlCCEhRUhFUUVRSqqQsipUVSopFRUopEUUQoUVEAKFVIuBIRFJRIKgAlBBKUpKSUFKIqoFVFQKSJEJQlKUhFFAipAQVUhgQSIKCpRJVqlSqqQQqoqUKoElSpAiRIigQWqwSChVFoiKiIGCpWlUlJEWUdkAkYqVICASgSUgKqK1UqTUtUUiaqAioqhlolSlVRRFDBEEUylFSiqUSWiqlFgVVqqpRLWmqlVCoKVICUkRAkSJBVEv-olqVkqqkKqiiqpJUrZaoSiVVNmIotEqqkKqqtVUUqiQhIiiUEIKqiUqQBKFRKoJEkIFEoIgCBFSVVIQX8BQURFEVLVICUQKkSkkURKqpJECYlUCoqSVSRCqVSqKVSqqI2qCqkikUq1CvKopVTEVBRSJMRVEokRSFIUYSECUIkAlCVQkFJNIkKKhSklVVFEKkKkKiKEFNVAlVFQFUtKoKgVUQBSUSpVOrVKKSCpUkqqlREqVVCkqkXwhIiYFUVCCASqZSiqoUBQoSqgUgSiqQFUEKCEgEgClBKJFTlKKJUlJKiYJIqAFSUFioIKRipQgCqohiKRVSoloKhFRlBCSlUEIRSESBRVQV2QlSgvpVAQoKqqSlX6VSUSgStqtVSqrkpVAVVJLV6QRVVCJSFIlUpCSKkiqVVSWoKFAIjVUpVVpKoqsoSqhKKVMqpQSpaqUlJRCQiVVAqsVQiqUtf1X1AIpcQRCqooqIqoSVX0FEqShVCFSJRIEipUqVTwKpLVKpESoqqiqq1iqpAFU3QglUAiRQUiqkhACkVAiiIABEVABUWRSoVIsFFVKB6QqqKqgAoISWlVBVIiqmVSiqqiIkKCCIoVqqUIIgKVKIqkgKiIIiCglIikqiAQFACRRSABAkpKUJKAgCKAQhIKgJKBCSlKQQpIAqQSFqQFCgCUQACCAABQGEqJEEEQBEJAAgoQAAVAACCQkoEAECIGgAAAAAIQIICEggQFEoAE0CAgEEqkEIEABAAgBQKtUhJEkAISoSgBagCgUMBSgBEAAQAAAAoQAQhJqLTACBKAEqqECqlRVCgBBxICIAEAioAqQBJIIAgQBUQkAJIUqBIAFIAAABAFIoAQIAABARBJAEECUEJRRgklCQikAAkiQhQJEiFACiCiEEIEBCikoJAQEkgFUIRIAoiBIIpAIEUQkACEACAApEQCiACFVUQAQAVAFSAIAJKBSUCEBVQBAQURACQAAQCkRAhVAIBBJRQISJCAAgpSQCAKAKCQSIqICCKQpAACUgIBBBEqggVAISIIARiUiJJAAAACAUBBIQCABEAEAQiUAIBAEERC0pBAElVQogAAkqlEqlSqrIAICCklACAgQAEQhJUJCpFFQqEhEAAQCqUBEAEhRCQgKgAIBBAkKUlQASAREASEBEIAQAECQIkAAUlQAUAgkAEAQAIqISgUAgABCCiIEkQhAFAgQAImRCAqiBIAqDFIpCihBAAFUAKIFEFSEgAQRKVCYQBQAgCIqEgiqAAIBIAGoRIAAEIACAkBEVCkAISkBJIQAUQkoQJCSgRQgApEhChEQFCyQlQEAoASQJAABBEACgwFRKyoBQABCSFBSRSIIAQJSCGASqCAoSFSABAVEBREFAEiiAAASBAhSBCqhBAIlIBCYMClACgrVQSCABAkBAKgKhQQAAQRQEQoCgoJUjIAAQBAIUwhQSCIBCopkoIlAQQQQBEd5USkERAChAERJQAECIgKiMIEAhGQqhBBQAJCgEgKAApSIEQKIBEVJCIAUgACoQhBCZKiEhSVJTFSigQRBUhEpgAAERIQBIQgoAAEABIQCgJEACCKKRAgYKFAARIIUVAIgVSkFSqEAAUgCiAAQkEgIIRVRQCBUEQFAAgkSEAIEAACKEJJAELABCEIQkAAgCABgiAClEEJEIlUSgSAAFQKApFBQlSQEkgARAFKQESohUiUAQIsUSAAgChAMEIqSQIwBAAAgIACgIgWiACBDgiBQqIKCREABECCCJAJJAAkFIAohFIiEVCiohKiCqlBIAAFARAABSBEABC2R1RRCAABBAUBCgQJIIiAUgABSiQBQCgAFEIBBCQUQFAoCggqlAoKFARRUCikSQgJVQQKEFShICUCVRQoKiohCBIRCQQioCKSpBKqiVAQEkgKNKklKopAAAJQgiooglWghACiBJQEqqoioEKSlIoqQEIJIUVRRSoAElEqFRUCpCkiSAAIUqAQEpSAJQkAIEBRBSICpJCSkUioipCBEFBGFIqFQJAElKoqqVAqikQQQApQoCoFAikRKKqgsMpVKqRARJCIEpCEJACAAooQKkhQSqtCoQAlEAEKqpSAgVUKIVVVAUJIUFAqCKilAkIUqKpFJqqqpQBAKCAilIqSKqERAIqookAQgVKQqqq1KBAIpikUKhRVRQlAUlIiCqBUFSCAiQlAQQiiBAQICCJISqUSEIJQqpQgRUBVFJIyVAIKqIQggA1ESBAoJSQUgVUIURKqlKqSCSikQQIqQREpoVAKSEKglEoFDQCoUFQIVQQgEqhABQCIBQIBRCSoFVEQiqBFCABURAEIClCQEAECEUQAChUiKCRVKqAARUEAgUKUlBVJVCBVVVEVVUoAFFCQpFCgFRAKUgKVIQFFAVIRKkApAACEkQQigiiBIQkAqpCSUSAQSlJShgUCCikFJCQRRECBVUoRJEIAkiUSQKARFFQFVUCqlFASAIRQQCCiBEnFQqogCSilIKlQgogEFUVRKIQqKFIUCiBWEUpSISVEqKqqiFVFVVKAQCIKKFKEISBgpEFIAIkEAgiRUqQKtIQoBRAkEIEUopQgoUK1CQlFVBCiAiCABKqhSlSgAlApCgQABJKhCiCSUhUJBCVQACpAQAIogKgIQQIqRBVSpSgKoAgFRKSCClWCokFQpSIlIEARQVIoqQAUUJAkBFSoqAKCKERBKqQpUhCVQQQlJSChEVUhCCACFFJSkIooQIpFIVIKtVaKIUikSoqRAIGJEkhJIUqgQCAUAEBAEECShSgCColASoEkBApFBKBAJFQJFAUhKghUiShEQhBQiUIqpKABJCKqIChKSKpQQIQAKASKlVUoBBAEEQIhKSUApQQBUUCKSiIFAQiIIUUgRBKoRCkSAAoVRICSBJKEqkFUUIDAKCJCoS0FRFEAhBIIhACCiAAKBQCARKhRQUFBAEJaEFCUJAqIyhQRULSFABFAUhJVQqClSRQRSJCVVKkRKppIIhIi1KSkiCJQoqkqEqqQSgK4CCYACRRQSpVVRAVpCKoEIRIQlCqIhUlEUkkECUIQqqqqAKiJAQIBRVUCqSEgiIBICgCiRACFBNFAJVqpCKQFUFCqgEAFECgKQFSiAIhSlEUVAQJVFRAoilJVCgIBSFFQgkQkhEmoKCJFJAJChKiRFFRAUpAASQEkAhUlUXEEkFSpJIQigREIVBSoARAiAhBUSiAAqBAoEFFUAAIQUgFVVUAFQEAQQQWCIKlPCVKgFJTUUqqlUQECSiKlVEhJEBAKogo8BQAigJKkCkAqShEEApERJSKoIqBVApVVQAIRUKFIkEAiFEhIAoqgJIgkAkqiAEBCAQCUikiIEAECBKpAiBQEEAABQAEQUQEBALKwBAgRIEJAAAAAAQEKEARKhIgBQqAAAFUBQEIAABIwoIgFQAQAQAgAKkBCBAEhEgooACqAAgFRQEEAKEARQAgAACQgkoRQFFASIkhAAEKAAAAgBFIEBBJCKIFQAAAkECSgCoIIIAUFUAABBAQCEQVEBAJAhAEhCEQgAIIFVBQCCgAECFCACgCEKAikIAACBMoAUUAgEJBAABABQUAqKlAKIkAQCkBBAgEoIEgEAQACJACQAIAiAABVKhQQAAAIwBEACEAQAigCQCAgIFUAAgAFCAJCgAIQEAAgiAFSqFRSFKkEQJSECSpFUBQIUkSkUoRUFUlAQSoKIqJIgtSQqIlAlVQVAkU0lCkgiApVBBEASJFSqqgAqlREoKpIEoVQJCSiREUhQETCkiVQkkUBBKoSiigUCSSKqiiKSAqBUUVRRVQkRKKKEpVIFUikkhEACAkkBJQoQICJEJCUxAIBQSACgIpJIUpIFSUFVIEgVVKgJBEgqhRSoKEokFJSspEAUCpVKEIBRKiIAqRQhQIQFUCUEFVFCgQpKhSgiCBCEoApiQVKoEAEEAghRUkKiopUiqkQigJUUSoKihVRAUkpQJSBCSiIkQGQUgSAKqUQAQIiqIiQBEoiShSolQJFUpCJUpIiiECECKBEoUKhQIUEhAKKIqkoAohEoSgSQgKBBApEiFQlCIEFACBSiColCUqAAhAqiQAhIFSQCJSAShUqiVpQSqUBAkkEgBJCJUqopJAREFFBEpVKFSIVAqUiAKEooEQgJCkCQEFKiqlEiqEKCIilEIkQEqgIUCaAMKISFKBKqlVChUUSkkKqqlKlUKQpEAFUoFKKTqKAlRAiqlCSEJJFFBCFWoEEkkAIlJSQQiFUBBKBBQoiCoKVVQRIJEEkiAigICqUIqlRKESgCKihQiqCVIlKIoqiAQqASFKQkQKQiKAiUIUCAqIUoKQohVEkASoAURCBCFKhCRIqSiCQVKpEEFICkqJBUhVAqCqCCSVSkIKVBSSQCRAClKEpCCKJSiAqAhJUFEFRBFEgoohIglIRSBQEqRSSiEEogqRQpSARAhKlAoQIkBEKJVQCCgkKlKgUAKoCEgEEQlVJCACqkCkBEoICVKAlAgiiKkkUklKqSVQISikJKAIFSqoqChCoEkEkpJIFVQlBIpUKoQioAKgAQQAhFAQSiQgKVBBCABUSVAAglCgkBFEAFUhAFCCkIQQQkQRUAghCpBBKkgAAFRKJCIkkJACVQEESgCSkSgESEoEQECgpASAolUQghUAqRQKCoKApJSigAIgCARBCCUpEpAkqAAEpEgAAkACIAgEp-ACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYaceikmoqsuwyACEGIKMOQSUWYaceikmosuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuyACEGIKMOQSUWYaceikmoqswyACEGIKMOQSUWYacegikmoqswyACEGIKMOQSUWYaceikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYaceikmoqswyACEGIKMOQSUWYaceikmoqsuwyACEGIKMOQSUWYacegikmoqswyACIKQSYcegmosACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYaceikmoqsuwACEGIKMOQSUWYacegikmoqsuwyACEGIKMOQSUWYaceikmoqsACEGIKMOQSUWYacegikmosuwyACEGIKOQWYaceikmoqsuwyACEGIMOQUWYaceikmoqsuwyACEGIKOQSWYaceikmosuwyACEGIKMOQSUWYaeikmqwyACEGIKMOQSWYacgikoswyACEGIMOQSUWYacegikmowAEGIMOQSUWYaceikmoquwACEIKMOQUWYacikqyACEIKMQSUWYacikmosACEGIKMOQWYacikoACIOQSUWYackmAEGIKMOQSUWYaceikmqsuwyACEGIMOQSUWYcikmoACEIMOQUWYcgikosACEGIKMOQSUWYacegikmoqswyACEGIKMOQSWYaceikmoswyACEGIKMOQSUWYaceikmoqsuwyACEGIMQUWYaceikmoAEGIKOQWYaceikmoAQkosACEGIKMOQSUWYacegikmoqswyACEGIKMOQSUWYacegikmoswyAEGIOQSUWYceikmoswACEGKMOUYaeikmuyAGIKMOQaceimqAEIOQSUYcekEIMQSWyACEGIOQUWYacikmoqsACEIKMOQUWYacikmosuyACEGIKMOQSUWYaceikmoqsuwyACEGIKMQSUWYaceikmowACEGIMOQSUYacikmouACEGIKQYcikoyACEGIKMOQSUWYacegikmoqsuwyACEIKQWYcioACGIOQcikmoACEGIOQYceoACEGIKMOQSUWYacegikmoqsuwyACEKSUcmCGIQUWacikACEGIOQUWYackoqwACEIOQYacmosuwACEGKMQSUWYakuyACEGIKMOQSUWYacegikmoqsuwyACOQcioACEGIKOQSUYaceikmowyACEGIKOSUYaegmoqsACEMOUYcimoqsACEGIKMOQSUWYaceikmouwyEMQWACEKOQckyaACIKMaceimCACEGIKMOQSUWYaceikmoqsuwyACEIMOQSWYacikmosACEGKMOQSUWYaceikmoqACEGIKQSWYacikoqsACEGIKMOQSUWYaceikmqsuwyCEIKQckmoAEKOQUWcioACEGIKMOQSUWYacegikmoqswACEGIKMOQUWYaegikmoqsyACEGIOQSUWYcekoAEIKQSYcikACEGIOQYacikoqwACEGIKMOQSUWYaceikmowCEGIKOQSYacegikmoqACEGIKMOQSUWYacegikmoqsuwyAEGIKOQSWYceimokoACEGIMOQWYaceikmoqsuwyAEGIKOQSWYceikmoqsACEIMOQWYcikuACEGIKOQSUWYacegikmoqyACEGKMOQiAEIOQciuAiACEGIMYaeikAIACEGIKMOQSUWYacegikmoqsuwyAEGIMOQWYcikmoyACEGKOQSUWYaceikmwACEGIQSUWYaceikoACEGIKMOQSUWYacegikmoqsuwyACEGIMQWaiAGIMQUcikmqAGIKQciosACEGIKMOQSUWYacegikmoqsuwyACEGIMQSUWYaceikmoAEGIQSUaeAGIQUYacekACEGIKMQSUWYaceikuAEGIMQUWYacemoqACEGIKMOQSUWYaceikmoqsuwyAGIOQWYaeikooACEGIKMOQSUWYceikmoswAEGOQYackmAEGKSWceioACEGIKMOQUWYacegikmquwAGMQaiAIOQcmwQAUWYakQoEGIMWYikmoAIQSWcoAOQUWYacikmoAEGIMQSWYackosyEIKSUWaiwGIKcgiACGIKMacmwAGICIMUWYaikmqAImGQmACEGIMQSUWYaceikmoqswyACEIQYaceikmAEGIKMQSacimoqyKMQsAEIOQcekoAEIMQWYacikmoqswAEOUYcegikmyAEIOQYackmEGIMUWYaiAGIQYcwAIKQckoAEIQcemIIiCEGIKMOQSUWYacikmoqsuwyAIQmoAKQUoAGKQkoACGIKMQWYacikmqswyAIKQaoKOimQACEGIKMOQUWYaceikmoquyiQACIOQWaciowAQCEGIQWYawACEKMUWacikmosuySuAGIKMQWackoEOcqACQWYeisACEGIKMQSUWYagikmqyQwAKYEGQackKcgACGIKMOQSWYaeikmoqswyAIMWioAOSiAKMYmwAEIMOQWYacimqIimMOWiAIQSckACGIKMQWYaceikmoquyAoAMQoACIMQUcowACEKcAEGIKQSACEGIKMOQSUWYaceikmoqsuyAWAEGIMQUacimoqwAIKOYcimAIMSciAGIMQSWYaeikmowyAIMSYacmwuCYaeioaCEGIKMOQSUWYaegikmoqswyCQcAOQUYkAEGKQYakACEGIMOQWYaikmqswyOQoAQAIOQYoqCEGIKMOQSUWYaeikmoqwyQUQckAIOeCEGIKQacemCEGKQYamACEGIKMOSUWYaceikmoqswEKOQYaeEAEGQWYqsCOQacsCOYcimACEGIKMOQWYacikmuwAGQAKOGiACGWaeoQYakACIQYacikmsAEGIOQUYacekoACGIKMOQYacioCWkGKQWcksGMOacoAKQYemCEGQUagoqyIQUaAIQUWacACGIKOQUWYckowACGIKMQYaceikmoACEGIKMOQSUWYacegkmoqsuyAQWaemsAEOQacekmoAIKQWYaciqsACEIKMOQUWYceikmAEIMOQWYkmyQUWawAIQacewAMQcmQmAIQwyACEGIKMOQSUWYacegikmqsuwyACEIQSWYcikmoACOSUceikoAGIQSWYcosAEGIKMOSWYacikmqsyAIKQSUWYcsAKSciAIQSWYacowACKMSWYaegikmqyAESYcioAQSWYcISWYcACEIMQSYcekoAIQUaACEGIKMOQSUWYaceikmoqsuwyAOQSWYeCGIQSUYcACEKOSWYckmuAGKQSUWYswACEGIMOQSUWYaeikmoqsQeOQcoAaciAIMOCEGIKMOQSUWYaceikmoqswyCGISUYceikwACEMOSUWYckAUYackACGIMOQUWYaceikmqswQUYckSUAEIKQUWYioACEGIKOQUWYaceikmqsuwyISUYcsAQUciAIQUWYckosAIOUYceioACEIMQUaceoACEGIKMOQSUWYaceikmoqsyAOQYkoAEIMQcowAQSUYmqswSUYciwCEGKOSUWYaceikmosKQACIOQacikACGIOWcikoMcCEGIKMOQSUWYacegikmoqsuwyACQSUWYaekoAOSWAWACEGIKMOQWYaceikmoqsuwQUGWciACEWYACEGIKMSUWYacegikmoquwyAGIWcAISAGIQWckowAIMQSYaksCGikACEGIKMOQUWYaceikmoqswyAEOSYckmQYciAMQUWYmoqAIYACEGMQSUWYacekmquIiEKUWasEAEGKWYacikKQACEGIKMOQSUWYaeikmoqsuwyEGIQSYakowACEGIKMOQSUWYaceikAEIKOQYacoqAEGIMOQSUWYaceikmsuwMOQYikmCMOYciAEIQSYcmoACEGIKMOQSUWYacegikmoquwyACGKSYacikmoACIOQSUYacemqsACIOQSUYcekwACEGIKOQSYacikosACEGKOQSUWYaceikosuyACEGIKMOQSUWYaceikmoqsuwyAIOQSWYackmoouACEGIMUWYackmswACEGIKMOQSUWYackmAEGIKOSUWYaeikmuwACEGIKMOQSUWYaceikmoyACIQSaAOQYckGMQACEGIKMOQSUWYaceikmswyAGKQYiACEGIKMOQSUWYaceikmoquwyCEQSeiAEKOQUYaekoACEGMOQSWYacioACEGIKMOQUWYaceikmoqsuwACIUWioAIWoQaiowACEGIKMOQUWYacegikmoquwyAQSWuGIOQoCWACEIQUaeiCEGKOQYacegoquACEGIKMOQUWYaceikmoqsIOQeawIMYiAIOWYciksACEGIKMQUWYaeikmqyIQWASAEIMWYaceowQUakmAIQSWimoqAEIOUWYcmAGIQacowMAIKSosGMScoAEMQckwEWackoAAIKQWYckmoACGIQWYckoqwACIUWYakEGIMQUWYackmosuwWceAEIOQUWceikmoACEGIMQWYcekmqswACEOQUWYcekmoqsyAIOWcmEGaikmAIQIWaKMWwkAMyACEGIKMQSUWYacegikmoqsuwyAIMSceikoACKMOQUacimAGIQeACEGIMUWYacegikmoswyAIMQWeoucoACEGIOQSYaceoquwACEGIKMOQUWYacegikmoquyAEkAEGMQaoyAIKQYckowyAMQaceAEGKOQSYaemoCEGIMQUWYaceikmosuyGOQWacekmoSAIKQSaceikmowyAEKMSWYacikmswCIWceimCEGIKMOQSUWYaeikmoqyEQEIceiaimuQagkmsyAIcIcKcAMAQUQgsyAgsMQACEGIQWYaciwIceACEGIKMOQSUWYaceikmoqswyAEMWYckoACIOSUWYcgkAGIYacikoACEGIKMOQSUWYacegikmoqsuwyAGQScqKQimAIQceowACEGIKMOUWYaceikmqwyAUWcikAIYkAIYckAEIMOQSYceioEScikACEGIMOQSUWYaceikmoqsuwyAQSWYkmAQUcikmACEIKQSYaciIKOikwACEGIKMQUWYacekmwIQSimEYiswIiAEGIMWacikKACEGIKMOQSUWYaeikmoqsuwAIOSWYcgikoACEGIMOQWYceikmoyAEIKQSYackACEGIKMQSUWYacegikmoqsuwAIOSUkAEKMQSYacikAIQUWYacgikmoqwACEGIKMUWYaceikmoquwyCGOceikACGIKQSWcikmowACIKQSYaceikoqAEGIQSUYcikmoswAGIMQYceikoswACEGIKOSWYaceikmoqsuwAEGIKOQSWYacegikmowWoAEIOQSUcikmACEGIKMOSUWYcikmoAEIQSUWYaceikmoqsuwACEGIKMOQSUWYaceikmwyAEIaACIKOQckokACEGWYaikqyAIQacCEGKMOQUWYacegikmoqsuwyAIKQWcimoAEIOWceimAQckmACEGIKMOSUWYaegikmquwEGQacCKMQYimqACEGIKMOQSUWYceikmoswACEGIKMSUWYaceikmqAGIQUcmISYiAISWimACEGQYcemsMUwACEGIKMQSUWYaceikmoqswYAEGIOQWYacekmowAOSYcegmoqAIOQSWemyACEGIKWYaceikmuwiuAIOQciACCEIKMUWYaceikmoyaiCEGIKOQYacegoquEOQUWYacikoGIQYaEaAKQAWoCKQEGKQacoqYQioqAQWYikmwACQYaekoCEGKMOQSUWYacegimoquKCEGIMOQWaeimoswoACMQWYckoACIOYackmoAIQUcikmoqEaoAQaIcQoImQwEGMOQUWYaikmoqyAOQaEOcmouAQUAEGIMQWaikmiioAACEGIMQSUWYaceikmquAUSoAIOQYckAacGQYacGQWYaiqswMQSkAQSYcmoAImqIOiEQWqAGqEMScqACEGKMOQSUWYaeikmoqsuwyAEGIQcioCEOSqsAKMQkswACEGIKMQSUWYacikmsuwAmesAGIQWckmoswCEGIKMOSWYaceikmqsuyAeakAEGKQWYkmACEIKQWkmoqsGIMQkmwCGIMOSUWYacimosAGOisMaksAGIQUacmsyEGOSUYcksuAKMOQYikEIOWikmyIOQScksOmswAEWYackmAuGWaqcmoIOQkoqQSUciuCGWaceiAIQWoACEGIQYaceimQAIQWIOQeackqGIOQaimowAEGcemsAIOQWimAGIQaquMqcQYuMceyAACEGIMOQSUWYacgikmoyGIWYcAGOaKSaciACGIOWYaeikmqwIqamqsIKOUYaceikmKWmAQWcoEQYkEMUacMOSUWYacikmoswIcIikmKUmsWaikmACEIMQUWYaeikoqwIQcWceYwACIKACEGIKMOQUWYaegikmoqswyQcACKSisAGQiACEIOQUWYaceikmowyIuAIKcoACEGIKMUWYacegimwyCiAMWAQaouOQckGIKMQWYacikmowyOQUcAIQcoOaEIOQUWYaiyQyAEIayoAcmuzBDFHJLVYlDFDFMPbfBHFJHMSqbBTYBsJRWqxACJORYlBMRaTeiGRdfimoxHJOlpnrcpzBDFGINPWZbjlmxBFIOQdlxBDFHJLNPTVZbfhjkmvzBFHJLRTdloADHJMQTXZbilnwBFHJKAAJRlDHIMUXYackmoBDBDJdfxBCJkAIcGNcjlnoqtBIPRYdMRdkmADJMSWikmOMlzxCFHLXZfjlnzDFHBFHIQXYdfmpFJLADHJNWZbilorwjBJQWYdflnptGLUbcjlEIXxFBIRkBEXYcikpBflmpBFJcoxFZfAIRacipAWailbBDEGINORVXZbfjlrxDWdltBGJQcjxBFINTVXYadhjknrwBJTBHJRBCEHIVXbcjlmrwzJYpARBJNRYblnpxBERTadlrAIQcCFHMWZafjsBRAJRcxLXffBDWbAIQWdElFINHCPZHJxGRkcAQAIRbAGRcWdeABBLZampAjtBDFHBJKQXwPKdgjkmAipeAIAAcEbBRcmOAIckREHMQZafilnAwBWALHIWYbkIIQjxVJWjkBRdBPBJQNZaejlAJdZnBJQakxOWeiqIBIjAISYBABwAJdBaWipxBQjRbBIOQjBJRkxAXalBJIamNBBJQZdADJQkxBIPRdlzJNQcfknyisBACEHIKOQWYacekmqtxBPWclAEVBQXBBBBBDFJPQTUXZbjvwBTjSIriBFBDGTYbmzBTFAdnBDTiOWajxSBXjklaENRVYbfjkmtwBkQAIWZbirwQAQnADKVXZbcjknBBZAQXYafknSAcPVAMWYpARBCEGLPRVZbfjkmpwzBJRdjpxBEIORZdxBFJRditxBFHILNRTUXZbdjknqtuxzBEJRcjxAJcjAJVBDFHJLNQTVZadfilmxzAPcpBJQYchACEHIKMPQUWYbcejknotxBFHJRXdfjlAcoxAFILPVXZbdejnorxBEJORdleAJMRcBPVXcfnoBIPQZcpwBEZbuAJRbAQwACEGQVZbkruzBBDFHMRSXbfjlmpvwzBFJQXdjkpxBDHNPVXZdfjkpAJLuACFHJLRXYajmrvxzZGIRZBCJNAEHJMPVXbjknuwzBHVZcpBJRZBJNRXZdflpAJBFJRVXbdjkmpxAIXZejlxzBEHRTZdBFJYdjlnPWYjXikABDFHJLNPTVXYdfjlntAJRwBCFHJLNPRTVXYbfhilnrvxzABJORckpBEJQYbcjknotxzAFHJVWYjlmptIRBJNPQVXcjpwmwFHJNVXZadgjlmpruxzBIPQdpBJPQWcpxzRpAdlAFJQXZbdlmotwEVbfjlmovBRxBJPQUWdotBEHIPQSXZcjlotxyAEIPTXZejlAQAQRBJQUcknotRxBdPmPwMCLQAkBIlxJNZQWAnlaBFRbfjlnFfEBUYblvxAJAJRxJPVblnyBJXepBEfMDERWbcelACIRWcjlpxBIRXdiwBJloEQdlujhXBtBRBJkyBDFHIKNPRVXZbdfjlnorwJRdxBJPRdkmpxBJQYadkrwAFHIQTVXZbdehinprvxzBFJNRdkpxdkBEGJKNRVXachkmoqxyAIOQcpAPRdBJRdxADEJRcflxBHJMPQXcpxDFGPXZacjkptxBQpAJQdAFJOadBIKNPQWZflotvxyBCRXZbilAPRAIRBXZbkdpADFGKMVXZbjkotCIoBFJOQdjlFHJKQTXYhjltyFGJXbfiJWAJBDFHILNQTVXYbdejnoqsxACEXZajkpBJZkpAIRWZdlBJRUmBPRXlBREUZbfjAEIORmpsBQdBCFGIKPQXbdkotxBIPQXacipEUYbkBIhAWjuAQVXZagjlmxOaIBFLVbjkrBIQWcjlxBHJLUXadhjmwyApAQAIMqAZeEIVZbjktzGIAJRbdKRnpAJRZlxWYAIdmHoQjkpxPUcmCHJQWjlxFBJNRUdlnpwlIpJAHNQbmAJRdxAYclnORcjpQzADFORXZbjknqJBEGIRVWZbdjlxEplBFHJUXacjkmrQEXbEQAdBGQUXaeintZlHkRJXaAsBWjtHIILWZLBGdlJIjGBFHOUXZalnxzlBqBIQBOXbjkBJalAoIQsBBIibpBIkmpIORdodCYilARHOXYbiszwAIXiAQBBHJZaeiyAAQwBQCMUWecjAJQpuIQXAFWZilBFAPQWpxBDHZxADFHIMPQXZdlptxzBFGPRVdknACFGILMQSUWYbdjknosDjzBLRnAGJMPQWZcfkmotADIRdjADXbjmARdAJRUXdioACFHJKOQVXYcgjlnozADFJLRZflADFHILNQTUbdlnpxyDBJQfknpBDFHJLMPRUYbcgjlmpwzADFIPRVZchlnozACFINPQWZcjlnotwyCJMPYmBcACXQWnACEHIKNQWZcejknoqtBJQckpzCVXbDERjxFjDFGBFIjKQpFPamBDHTKRUARUdkpYDaWdmxfJQdipCRkmJNQaCKMWfDilFNFRlIBFDEQjBGJRZajlFbnDFHLPRZbekpZflRGcQdFcfHQXEqtxHHRoBOvFHPZbezVbMWBZDFmDFHKNVXZbjknprszADJRdlxADFIPUdkmDJKPQWbcikmACFHILMPSVZadfjlmqtzJKcipBMRcoACJQadiCMSilARdADQVdxACEHILNQTVXZcflnpxzADIRdBDFHJKNPQTUXZbdfhjlmrtxyMacmsepACFHJMRVXYbdjlnotxBPQZclnACFJPQXcjlnotyXADIQZdlwBQWDQWnxACIcVcyMrKBDIrJlPbdxqciRFZHWBMBMdjkicAJoCEGYajmquwyiDNQVZbinrPPOBCFIQVXYahxzlFRZbfQWbepwQDRYaknrDNbknBDQXdpwBFJPRVbdenoxEHRZasDGVXbjkJLRADFHIKNORTVXYbcfjlmpqtxzRZadfFHPRbenzdpBJQVdADHJQSVXdlxBDRbfoADEHJNOQVZbdnpuEHWZbknHPQXacfoFGNUZnoADFPQVYcgkmtACFJOZbdlmpZkJRbpRQXoAYbySYjxSFRFTAGajBVYJamRUcxwkcLADFGNORVZagjlmpxzXjUJACEHJORblortwOKZbfknyCFWYEJCHVDFGJNUYbcgjkmoqsnCFHIKQSUWYbiknqzGnFailwHRZpzFZjkEXaBDQcipPGCFLQXYiovyCIQUWeIlbpPZjHRZnQDFHLPbnyZQECrRZajzLRFRbeDjmrzBDEHIKPQVWZcfjkmptAEIORVdAHIMPQVciowCGKUjALdBINQZdkoIRbcDRWblBRdADJQUbwBHINQWclmpxBCGIZBCFHIKMPQTVbdkmpxzCEHKNOTUXYbcejknuxyCIepADHJMQTUXbcgilnpwAFJPQTUWachlmotxACFJPQdlmoCFGMSWahikmrxAQrwCHIKOQUWZkmswyCEGIKQYkmuCFHIMOQUWbcflyAIWdyajnfQFJbfmsQIQDFHJMPRVWZbfjlnoqtuxzjEMpxyADFHJRUXZadjlmqtxzFlADFHJNTVXZbdlnuxzjIWnEkGIRbnwBDFGJMPUXZbcfkmosvlBjxnOanDEGIMQTZblmzADEGMSWZaclnIpAKWadkOdlGIDJsIJblmApAmARkcIFAIcjINOQIxnPZNdlWBasAILcWijlbGBDFJQXbdlpxzBEJPRVkmACGIMPQWZbcfkqtxzEWYaBLRpACIMPQSWYdlxyADRXZdFHJLOXYlnqBQTpBQadlxACHINRWYbclCEKMPQVZaflpBDEHJNPQVblnpxyoeBCFHILMORVXZbehjkmotwzACFJOQUYcjlnxACFIKOQUWYdjmxzYmIQdyuLFGXaNWapxttEQWdHHxOUbxIiARIipCmoAGaFJzBFTZbjlBDJMRXZadjlxBFHJLMORVZdnBDFHJRZcisxHXZbjkmzBFILRpBJMQaoBEQdlAEHJWYbchjlmovBDFcpBJlADFGJKMPQVXZdflnprwzBDFGJLNRSUXYadfjlnpzADFGJNPQSZadlmoqxAQXlnBFJNQXZdfjlnpBCFHJMPQSVWZbcfjknortxzBDFJPQUYdfjknpxBDEGIKNPQUXYbcejknrsGNYknBJQdwAOWcQtBEHJQWZckmpBwzCUXjnDFRDEBViplFHPQXakmAAdlYcinKQcwMQMWiRBFHXZilmBDGJNFHPRXZfpBGJRFHKRBRZbejpFHLRZenqBFkpDFHPRVZBWcBEJQVZlRadeEWpHPRfCZbjBEJdlBFXrRZbfojlrCpqtBFHPZlFRTEJLVWimqtEBFLadpbFZBHRbfQFNQwEdntXDEikXbBbjmAcoxBFJRYiADIRipFGNlERIXkXAjADFIRXdlmpxBJdAEMaclmzkIPRACGJRbdjlmpqxBFIPQYlnxORdlBBwXBLFLFFQIkruEqxajMRkjNYXAJMAzBDFHJKNPRVWZacfjlnprsxzBENRjpBEPRVXbpRlBDFHJKQVWZbcehjknprtvwzLRpdiBkBDEHJKNOQVXZbdegjlnprvyApDRdlclDFHLORZbfoBDFHLNRbdeACFHILQTVXYbcehjnosvwzPRbfppRXdjlnxDJZBDPjBDFGJNPRVXYbehjlmpvwyJRbxzBIAFJaiEXailDFJRadpAFGJPRVdpAJRZbfoAFXajLRoAGtRFHLbfpzBRAXdBDFRadfpBFHJMQTVZbdehnoyBHPRbejppEHIRcgjBEGbckmpBIMQXcjxZalBRaszFTZwAZTEBSfVkkyBFScFSdkBFTVYaiPAYkHVjpJPVYbPVaaBVBRVZbfjlnortxjBXjlAFIQXZdinqtlEHLZadegrCYBFHJLNacfknorsxHPZlmBCEJSWYakmIRiGbBFNajlvFHRZpFHNXYJRBPfmImBlFGXZanYpYVXFHQVZbjlpRHadjFHLPRZbfptvZbdTZpZlnIajUXRPRZbfpFRZafowIXsJRpQFHLRZfpzpRFRbjonPRpHljDZfaEQVXYlnBDIPQdiotwAFORVcoHILQYlwXbFIKQYbIRadkYakBdBIQUXdxBCFHIKNQXYadlnoqtBCFILQZdeikmpqtBFGILNQTUWYbcgjlmpqtwEGNVXZadfjlnAFJQXfknpwpBCFGIKNRUXZbdfikmpqtxzACINQZdlmotxBIQXclnoFMWYafjlnBIQACEHIMOWYfkmNxACEXcYpwyEinFHeHRjFRbpDFGJLRZfprzflFajHRSCnFamBQDEHILMRZaekmrtxzjfjEJjkAFHIKMPQZadlntvwFlDEHMUXZbdflmrzadlBFanBEBDFGKOUXZadfkmotwRFEJknFbkFHIRYbknuxyInIkEIQYfkmtwCFXZfjkdlFkajnDqAJkKMWarkodlARkKbjlrJKAcixKXajkAJDEPafqJmjmxUcocffAILkDbitXadCFlqkGnBCFILRblosPRVdoBHQWCWailLREHLRZeknqzdBJQADFJRXdmrBDPRZbeglpFGPRanpwYbCFHPQVZbflopBDHJRXeilmrxBCFJOQdlmCHIPQWdlnxZQFzXaiFbEfqLrGRlFHQXaAFCZsCQLWcRflVaQXdwaQaCciEHbmOjAIQoFmViFBDHXYblADEGIQWbcjkpBFJORUbdejkmpxBHJKMPQSXYbdjloxFGMWZajkqtDFJLRYacmxAJNQYacjktBEHJRWdfiAEGMTWZbgjkmzBdpBIQXclACHJRVWZdlnoqwzBEHIQSXYbdejlpxBDFHILNPRTVXYacfjlnorxyGbkpBEHOQXeipBDFGJMRVXZbcfjlnoqtxzBEJNPQdlnxACHINOQVcikoDHMXaflBFHJRXcjxAHJMQVadkxSmACEHIMQSUWYbcilnorzBJRxyCFjxFLCElnlQYamAGdCsdUaeJGkNBXYjmpAdBFHPRFJLbEIBRZlFHRZbrDZlFWAQDFHLXfFaYctEIPfFGIPkBFBGaqtxDNBENHLFIRFPZaBDSoVJZbRNmpeJAZlDECFHJKNOVXZbjkmrtADEHJRSWdjmptxzBDEHJLPQSVXYadjlnvxBJQZciBCFHNTUXZadfjkmrtzAFIMQSWdjnxBJcioAXAGMSZackrAJcpBIUXdACHILMRWYbcejlnoqtxACHJQZdflxzAFJMOQWZbcjkmrxyMZajAIWcjmpACHILRVZdjlmqsxAEGJPRUXYbdejknpxAGJOQcjmCEblmBCHIQWYadjlxACEHJRUZlxBmvxAHdkrBGIQYbxyZDdrKbPPamdxGJKJMdiQjSWJGBGGVYbitwJPAJWZbwIBIXbeiEWacoMamBACHNPXYaejkqtzBDQdlpBDEJORVZbdfpBFGJRZactwDGMPZafjlnpzLRZACGJNQbdlHRZbFHRUbeBVdlBIPRpACEGJQWZckBCGIRZbdflpBDFHJKNPQVZbcknpwMZbjkrBFGJPQXZbflopAHINVcinBEGJPRUZbcfknxAFPckmzRZbAJRbdowAFQckvxBBHRYdyFNSXZaipwBHNFTacSanCDaAdScBFZkQOaBSKdmNkRSAWbxnUWlbnEpaARnajpXIdsKbfYcfkrtCGOnEGFHIMTVbjkpvxAKZBFTEJVYaJjlDFHPQXYbeknprTZjSIQlBHFHPRoEacjRbFAGJZeGYailJjRbXlsHFGJLQXZahlyjXRfIRwEZOPHZjaDJQXcjlwCHIOUYbdkmpBHJNRdlwACGajkKpACEHILMOQWYbcfkmtxzBEGIGajlndQUnxBJLRWZdenpxBCJQSYacjlxyBEGINRTUXbcjmorxyCFHLNVWYafiqszIOfxAFHJKRUXZcjlnoxAHIPdlmpAEGIPRlnwADFMXZJHIQWackQXBIRdwzfkneejRblFbIxHRHRXpYJDEHJKMORVZaelmqtvwycpMdjAIdipACFHIPRUWZbkrtvxEIRacodADEHIKMUXblqzjaRadBFjkACFHKMRWZadekrsyEIORaJmoAOjxILMOQVYakOAHFNYfHPdkAMAQdxaZWapEUcIIAAEctiAlWajBDPQWeikmpyBHJPRVZAHJLQXaloalKoBPFHaBIQEoBCGJRZeDFHJNRUWZaesGbAcipADMOQcqIPUmsEnwACraXXFHPRZbRkGUajmkCWciQJFGZbIARbJdAJycdNONAWQAIdSXamRmQckFHximkoEWalpnENcjcQHnaIncBbwEIjqvARHXbjJILUZalmZQGdkpAoIOcAEARkpcpJLJkIJkdjLiIQccoAJNXboGJNiICOYaejlBaifCIBOdmRiIPcIQIOknIIWJIZTwLZBCRZaxAIcAJcAENWZaceiqQdBEHJKTZadkmzBiIOQWZlAJQdlxAIRckREGORaioQQdAEQwcanBQAclBFGRainxAIiEIVXZikFIXjAJRlwQajWcimBJwXeDTYdAIQXacioQiAIQAJMRXGMUaAcQpwFbkpQcAIOQjlSQdwRdqPaxGdiBEfvmvRlQcAQNakIfGPVZbjkwoBFILVbkRnARdAIRckoEGcmdwmAFPxlQRbpGAPcpAQHIQdSAJQbcjwpADIQwBJPRcinXYpOcAYjmAIRacJKQRasjAFIWdoIAIIEQJdHXapiXbjlnJXamBXbxaQIWbUSbYAJOQWpEmMXmGmAIQXciIiDlwVAJQipwInBIjAAIMAYjxXbjknzBBIOEVWYlBIQcfpAELMbknwXBDGMPQUWZilmqyIMOkmADEHIKMPQUYbkmoWikzIciBacnwmIWjaiMEMlFFRbeRUaHQnFbAljknBDIKYjpIcpHWblnIQAKimEJQWdmAUEGJMRbmsaGIKMQYbjmwFmmIkIyWIZLFRbvHbNRTJjalnCJRpJPRVanpHINRbcDWiknBJRcnoAMOZcpDRFLRbeJBIPQXcnRbADFHINQXbkbfIYckoELPVmEObdpzQYmJHRzpaCELNUZalmoqBAIkmpvmENUbeiRAAMceikpsHamCKUkmACEGIKMOQUjbtPRbnFaBBEFGmipQUpBcMOQYUpAGIMRUWknJNnzGLXlmyACFHINUXYilmoswPVRdbiWCIKQWgimtuwyAZEHMQZaelmoxyATYdwAFHIKQZbkpsxjmBEGIWZaelmwEEHMORYakmsyFVmQiAkEoAWcACEKOmBGADEmorAdGBFPRVoxGNQNWalLoBDFHLRbQQEPVWYnRfpDEGKNQTVaeknoswoYjwPkmipQlRzFaSXtkctbNfmvogjBDIXdjlwMkInLtAIMQaJAWaBAHJNRXmsACIQZBHJMSWaelnoIMeBFHJKQXbeinrwyDUYknAIQcikNWimIQABHIWaIayDWYljCocjajkYplxXGaObZiUiCNUbjmqzIIWlAQXBIQZlAFIRUbdkmLMZjADGNRZcjlmACKMOQWYcikmtyBiJkNTPIIYainASVknmEZaejCWkINWLnAIMQcNACGJWYiWZfAJNQVbckmQimqTARWcJMOAIMWkIQuBYyYqjVjWFHNYalrwBakSHYampCEHirtIkbERbnOmJFbkJmMOAOWjmsyACIMQWcoAIcoADGKMOQWYdkotwyImAQWciARciAIcajmAIBpGJKQXAIAHJMcpyCFGIKNbkAPQBHJMOQZbOQWfkmwEJOQZcimGWmAQcInBcSipDFGIKNORZbelnqxzkAADFJNUZbnxJiJKXYbfknyRGAFGJNUZdkmprtiJDMYbmfYcIAcsCCAkjrmotkHYeimrAGikqXpDGWYamAHKWekACMZeGIMRbkmemNRXoGNlnQnkAHkZzibDsAccjaIsaIQelcXiKERlJVAFGJQWiWaKAINAZaGMWinQaAJBJLRXnrACIQWZekBCFGJNPQUXYbdlmpxyVexkBCEHIRVXZbdfiknpqtwADIORVYknoEIYjlmWbkBIdBNUXAHIOSWbksBIYzRFHRboibRpFHbCJRYzNrPbpFbbQkHXinqIjkBUmCMXfBJIGMZakACHIMRVXZdelAIQWdHNRUWbikCFHJRVZacikmyVlmmIIQWCOSawJLbbWBYBPfRZexzCJRlPRUdoBDHJRbapLRpANOBDRbFHZaxBVdJQBGLWbcimqBCEJQXZbflpBDFGJNORVbfnpCLPRYfBIRcUamsFIOQWZknYJRBHRaNXZaaxCQpwybpPZRbjFCFHPRYbfHRobPQLRPDFHRZfRHZbzbPRiaoACRckPUANlKkADNkmsbdcRpADHINRXZlnxyADJRcFHJMOUcFHUbeilnrIRUfARaikmBIOflmCHIKMPWYaejlnoswGMajkAIAHIQWwzARnFPRZprRbfFHRbRbFRPRbxPwdxkIBAjFladTcIkJWtHebCGIRPVBGlmrxLpJMYbdlRoPbAPVXBDEGPRZadfoAFHNRUbmaCEGWcilmqBFPkmEmWsIbFZaiIJsWUamjIisAQpIOadUbaAEKMOYnHkxGQYnGbHRbpwjFHRbloyERQXAIsBEGKMQSaemNajPRQACEGOWYnBDFHORZbpFHRZbfprzDHRZbfRfFRZbPQGZRZfpGPHHRaAblpJRDFHLPRZadfnpzblFRWRRYbzHnkJRbCFHaJwciQWYacmIBxmAIWAmrpFHbfRajTDRZRbpFRFRbrVHRbdpZQVbHWdTWcjBjVbIRccRXaCbKJQioIcAAUdBBJRweQarJrAAGNbkmBHRadoBGWboadFHRYalzBHRbpQMWBDFHRZadejprIAGQQFRpGjRpBFHOQXZadeprBDFGJLORZbdejpuwZnzFGJRZacnpxBIilRZpDFLPRVZbnprFpBDHPQTbwABRbBDFGJRZadpqKprPRfoIQcfmIORWZcjDFHORZbfoBEJRadRbfkxSbcBAIRAAbFRadFHRbfrRHfHRasVRPZblEKXaAIbkBADFboQQBDQAIdlIWodBQcAHkdBIcpBIRwCXZaJAJApwBQiqFWglPHZikiAAGQCEYctwJaRRRnbinFHZbFQajOCXkaiEnaiFaAACQBVbBJRxafjsCJBRVXdhlwBIcHWZaIKBINkoHbikBGPWYfiAlBJQcpAIRADEHJLQSYcjloBCEHILMQTVXZbdjknorwEHApBGIPRUdilrJPQXZbdflnxQSYdnxAJRcHlaclvBDEHIWYafkrQWZxypDCBbijDAASAbwAcJkijFYjnQioBEJRbCWAJoDDNkqcJXaBGpiAFMaiTDbnDUdHQtHemrBJLkcBFIAJXxAQZBDFHILMPQTUXbdflwaDJRVZcilnpwBGJQflnoOXlnwIIJyCaiIlKoZIwAWVAoSBMoWYQAWotaaBOkBacNbejasSXaAKAMlRXBDFHJLQSVZblxHNRTVbvxEoIJWnJyFayESVBMPawILaaGjVYASJHIQBWoBkMaerEXafiwRFMchkSGWBKRYoBwEbYJZfkYmXNaDQFXbchBDHITcjlxBJUXcJRDEILNOTVXZejlntxRANBbJbdBIjBJQUXdxBRBDJNQSUWZbcehktwSVXfBOXcGMZadJPRkmpxAjAJQdkJAEGJKScWkXRbepBEWdFDkyBaIGBiIRnCFHYkeACcIJkoEAMQEIJtawIilmpyRUAQXajBJQzBQAMRclwWiMPpFGWYkpJQdAHIPQTXZdlnxzBDadfADFHIKMPQTVbclQmRwQXmAnbJaAXaAIRWaaDiQmGSnCAMADQWcoJQdxAHIUbwGXsKUAXcpAGUWbmuzABJQUelBJRXYcforxAHJQUZeinxBGILNQSbcelnpxzlAQWfoBIKRXZbceilmpxBJPQflnAFIPQSUWZcilmpxyAKaekIRBRUXAEHIOVXlnBQYczCcIWmBCAExGMdAInZbipEObQpEQiBccIrHJFMIWainIAqCKVXbfkmMcUWjknBINFQUXfkmrxAJRdfBFGJNQSUWZaejlmtxzbkAJKQVZbdjktxPekmsEInCHIQXadWfACIOVkpZnKGoIpMGJRXZacmbYIJZOkJQxakxOVaitDQUkFGQZajktyLWajqJLpRbbBJQVdpAGINQWYaiBDFHJPRTVXZbdfkprtxFGJNPRUXZbdekyYlOXeiBDQUlpOUYcflAFIUZdmtRRuBcyWTTEiEFQmUEmAIbiknpBIRYqCFYbcpXjaHJfkmqVCWnSXFaeikHYWfYAIFlCjDDVIXFLNPZbmrRbQCFntveELRmWQcjxOlBRxaAKoWFcIdCIQUknBJcfBJNQaiknyDUXbeXdeACEJQYcnxAOUYcknxIeKQUAXoWYfRbMmIoQIKknpwykUntYFlmFGNXalsIMYakmfkkYHkplwQAIcUREpmADSAPBQpOcjoAZcBRpBBRagHNRUdBBeBGkmozOSoAmwQANbSZawklaMEacUJmIIWdBIQkmQdPWakNcAGIXcjkmpBIOQTUcjxBGIQdwUmBIYadAbcQacmGUXbidJOQclxBJQWdxBDFJNSWZdemAFHILNQWZacelnyRkAHkmooAFINRUbjlmpxBKPUWlmqzAFIORcimrGMbjlAJRcIWZajkmwYIWbkmAIRjxNQAcASAcYcIcjBkABfHFHKNPVXbdeiknqwAWEcoyBDFHPTVWZajlnsVmAJMQbdlAEQYiHKMWaiknBJcBIRYceoEHJNQUadlmBVafkIeQdACEWfkmOQZdlnwaqAIQcJRVlAJQYptvwEWkmlNNNVQlFDOBZbcCEIejAIRUcpBRcCGKNbkntJKkmpIORJADHINRTVWZceilxADIRTdfxBEHJKNPSUXbdhlmotvxzaBRkofADJPQZknBIORcmEHPTXhtwJQWrwbAACIZxyYnlSOkXiLOWZaBHjCWfswmEqbFMcjiWiAArcIJRalGJHbdAUcpQimAEMRdlBFVlBRdjBQXZcDJWHIMQbkFUXZbeknIdBGINRainwBIkQTinoBGNQUWilmBIRJAcAQyGCAQoAcRfdEWADmcpBkRymAxHUlbEaCIWiAFJPQUjxIQYcsIMWbdINlzdBIQUlBQXpACQcfAEGIXYbBIQpPmOdzACHINQUWYfloxzIceoNieiIDtHbOdYPcRJBJwAEHJVbelvboQcJbEbjxBCWlpACEHJLNPRUXZcejlmxAFHIMOQWYbdjkpxyGNWjkrsBIKRAHJNQWYbcfloxBJQWZctBGUXZbdkmzAJRcipBDJRcinAEHJRWZdfnorACFJQZdlpAFHILNPQSUWZbdlnpwzAQWZflADEHJNPRTVXZbdfhjlnprtvxzAFHJORVcfjkmozBDFHIMPQWcjlmpxBHRbjkJQjlSZBCEHILORWZcelortvxBCHIKPRTUYbdjlnptvxAGIQclyJQBbjFHLRboAoBDBEJFPRVaymKWlEaiBCWcpacioWYsIWIQioAJRWZbpFaoBIRBIBEoBGIjFPXjIflGkrxbIbsTpFHPRbpryBHSnAXbFHNXbejnFPUEIKPQWZckoqsENOUZbilmACEIMOXbcjkpyGZimpAISWYaQdAUdACFRVWZcjknxACHJcfBGJMRclnpwasOACFHINRVWZdjlmtxBORhknBIOXcejknyZQIckYkAGaiYRNmCWAcMWallbaBPnGZfFPYnRlpBFHJORVZbcjlpBFHKNORSXZbdenpqsVWjlLRoMOZcpBRZbdfDFHLPRZrBdpBJOQUXbcAFHJLQUWbdnotwzBDFGJRZbdfoBDEHJLNPRUXYadfknpqtuxyZFPRbfppAFJQSbcizBEILPQVclmprBEOYcjknozZbRpGJQdfnBpHJQfpzwSbkVzSIcaQAYQwaepxEXRakAkBUcEaeBMfDZeCQqAIKYkBHWYfclyekHAQXbipxDFPVHQGNjrZFHQVamBSBFZbHRadoEapuFlbjspRrPRboBDRZbpxpHRbFHLPRVYbfpryoJwRbPReNPRZanZamAZbRDCIRclwAPVdmBJRcoCYbkKBcosxBGMQWkYikRAIQCHJQTWbcknxACJRZcjknAFGINQUbcfjknwyFGNUZbikyAUdlADGJNQWYcfjmqEKORUXlnBJOQXdnyXakmAIQINxBJcAIRAkAbFGRZbpFHPRZboBABGtZiXQwObuIQkpFOJGiQcIBieEkEcfaZWpREdltElkJmPAIbkAoQBRlGEJAJWAJjwwBPIEmodAQZmDGmcWbcOOfJxRFPRVbpHPReaiBFLQdlzRFHLPRZfpqJRADJWqCGYflpBFHINQZaknpQfAEGJKQWZeimpAFJPQVlnAEQXmpZzXRkjkWodHOaiQXsWiJlJDYFOUaoAGIdiAOciAIcYiBGWoAQcIcpAIcoGMRAIcIdwBCoAPAQWadmIOcehlmOcsQcIRfbpbzLZkpyJQdPRVAJdyUJAIcfxAGTXilAItAIQAMQdADJQjlBEHJQSbcknwZAQUcfAFGJKNQajnAEHOQcknBJPRdlmpxyMnAEJQUWimrvBIMbjAXRVQpnLBjBFHJLpFDFHRZbpDFHLRZflprZRbfFHPQnpGGYrwBRbaBRBDHLPRVZbejoAJRbFHQcWAdEJZHiioFIRciqGWYaeinKjArAGXlnAJdARWlwJdARcCeBEOmBHLQVcmprwFPlnADEQZcelmosSYinBIRcBCEGIKMPQSVWYafhlmotwyfmoWYsuBGZabWBxFHZbfRBZamYaMWZDRbpBDFGJORVXbdpBRboFWkqJLQnoIMOBHLRFHLRbrzBIPRVbcfxBIXdkmpBDRbdejpBFGJNPQTVZbdenpbPReknpoBIZajkrBOZlBIORcilnHZaJRbQdBBDHRaRaINAYFZjRaYEQSRRpemFHaVFRZPBRbFPRZbfpFRZbfprFHLRpHRVFHLRYbfpzDRZbpFRbprFPRbfppDFRZbfFRbFRZfPIWcPUdMcjWYIQMdAkIRBIQWcAQcpBJNQWbcHVbilmBADFHIKNQWYajmtIAFIQYaiknowYbjnBCHINRUbjlnruAwjPRFHbPiBbmwRlWRjIcdeAJAnsiWbDRPQUXpQrFKNFHLPRZbfJBCJQWZbBEJRbdoxJPQoakOjkASYajkmJyZEHRbXXDiOQBmRAcJxbGkBaHOWejkmqtAQwZkCGYGOXisImQIQiGRUXiIOcAWZdkcAbACHVWbdjlpvxwCYcXalJbcBZaYkOUWAQikokAIWpkbybciRckOJoEJVQRxQXwIYkQFAQYdUBcjLeAGIKOWaekmsBMYqZbqtRdwIlWJciktAYPXbicNiAdwBQwBIdAIcAGQWYdkmotIcIRxORBaaAJQdXiARvWclkdXbimIRJacpXINfAAaekQjkDFGaGQWnAOAIMQXcAAGIMadAJQBIayPQIOQXcAQIAMYdAIceIUimBccjkiRcAIkWcABQqiIQkaBJdOIFGDICGJOQUWekoniGJajkIcAIMmioKQGUeioCWlBJORUZcfmGIMQYcipkIAIQWjGKMUXakIpBRcoBJQSXZdlpBDJQYacfAFGJMORUYaclmwyFUXBIRdejlopBHJRUYdilmoqAFHJPRZhlmtBDFHILPQTWZbdfjlnrxWkAJQXGIcfjkmAEGYaeikmAyoACmpxCdNFWdodDFHPRZbfprFHLbfprHRBQWREYQXFHLbepODFUafjlmDBPUdmAGcimDfmtBMWfIQBIOQUWdoADKZACEHJMQYagjkmaejADEINRZdemspBFJLRVXZjkmoqydnBIKPRjkmowyMmnyYKiywFaabeIXYailmzCJRFPRZboBRaCWadjRaBDEHKNORWbelpypRFGRZbfpyIanOFHVZachRQWkEazRpBDFGOQVZbdfkmpFGMRZboEGLUZinLRoGIMWYejkrFRZpFHLRZlBRwBINRXcloCJRZbfpBCEHJKNPRVYbdelnuSbBFHJOQVbdfoAFQZnBEMkmACEIKQbdnpxzRZbRaIQAbyQiZCdEUiFNacZACEMRVYalmwBkIJnaVerwhlYakmvYaJFbunFHKXbQUWcpPRZakpFPRpRZbpRpRpHLRZfprypRbFRpPRAPRZadAQVcIQlmHRcmMWaeloBJQfAGJRVXcfiorwBIYceFHJMQUmCEGNPUXYafintAFJQWdfkmoFUZachkmBOQlnAOmqWaiAHJwbZRFGJLPRZzJHoQtPQfFQjbejooCEGMOQUahkmrwAEGINZfkmruxyjEJXZaclmorvyoFNpDFHJKMYadflmpqsuzjBFnbHIakcIGWAOmiomAQALUsARHIciEpikoskARXaomBQWFPQVpGNPRZaCajLANlRpFHLVYlpqdBRANRWekBDFQVZbfpFHNQTVbnoGNRfloAEHJQekFPlAbcilnzZRzlFGXaACipGWIAORyBBGYJkIhtuyWiBakmpaduajHfdZAhJsleFGRVXbiknxDPVGCGJaeilmBDFGJKNPRUXZbehnprvyRFRpFHQimcIaAWfhjfdSbkACWcmFJORUWclACIPQWbcmAUXALQnxBJORkmAGJWZAFHXakAJQblpAIJKWeACGILQSUZdeilpxACFHJNQTVaelopAGIOQcfknBJBFPYfknAEHIKOQZcfkmHBIQaXjBCHJYbdfkrAcryoVwAFCJkjlEkAQAXxIAOojsbjHBjqSAfvHvDCFGNVXafikqBIQcoBGJORceinowACFGIKOQUWYbceikmotyCEHLXZailmqIXcimpAINRaiAnGMVblAdAEPkAIRWCHJRVdepBHILNQVXbdmpxyiAIXclmoepJEJOQWdelmoAIOQjmoCanAIRdkARScKIalAvHGpMsCEmnaBMIMWjAFGmAWaAHaeDknOVazACIbAFJPUckGIMQWrkmWjACIMPcAJRVIUXALRZAFINRUiSblCEHMUWegnRBFORVlAFIknozAFJQUdBcsyZTGbSieBSikLJwBENTEafmpUbioAWimAoAEdsGNyAmFamEGZbiknDJQSUWZcjlntxAFORVcHJMRZadjwCGYbJRdwARclBddxBJLRXdxBILQSYbdBCHJNPRZanrwzLVZejlmJdRdxACFINPRVlxAIMmAbkmrIAGIQXlADRkvwACEUXilIPyWomoDSmjKGqIkGjkjYoVlFPZWikasGQmdvkFimCHmGnoQiDJRxOVHJQdwDKoCJMibyABJyDJQYdAGLMQZacjmswsAIHPVclmNOWXwUAopqJTsRsSbXjOlbYAJiIAIRceVbwQODGbACEJQWciEHPUinHINQZwFITBIKQjAINRknAQZbADGKMWYbimrIpBJQlpAEHINRVWYclnpqxBCGJNOQSYadejlnptxACFGILMRSVbdlnowFHIKORdfhlnpzACFHJNQTUZknxBPQVZkoBCFQakowEGNWaikqxAJQYcirwMYxcnAIPcsCWAWodRWAOdsdCIjvHWZaipdwJPiIaGAJRYadosIKacikmAACYacjmpaceAEIQcpEIXmDGWYfiJXlEYJMkoBGFHVoCEGMPWZaejlmqtACFQjIbciknpAGcinGNUWZbikmxBAWioEGKSUauBdAJKRXYqtAQWYfBGJMOQYaclmVWpBHJPRUWdflmuwpACGJLMQYcjlqAkILPdmoikBIQIRFRcekmovwHQYmujUoLLpLiImiAoAYdvGcIJNCFHILNORVXZbcfhikmortxyBDGIKQUXZaeikqtwADIKWZadfjnryoARACEHIKMVXacfilnortfJQcoxPoYoDIXZalmWAMaCZaCRVcHJOQYakCMYaiknKmIMPQZbABCITVrACEJRZdejkACEHIMTUbcpDapAfkAJRVcjqDFQbknBJORcimDAIMYeknvBIyipAEDkLSamokQINbinsIADGIQXaekmAQoAkAGdesRUJiWYaiCGIOWatwCHMQXYaekmoqtxOEHIJqEHKMUYbeiqyoGYmAQAEIacentwXXlMjmJFGRUXbimpxFHXgJAHIXiKXmoTAJYkELVcimVZfpHPeiEGikEimEKMQVemuYBIPlOEKeqIceilnrtwYPMiYHGejIRcAEIRVdjALBQjmBcBdBHJQSWZcikpADIZBCGINQSbcjlowVanAOjAQinAJPcbdmWbfilmQcIOcQStuIFGRZafimotyAiBEIXbmIQEGJKUXajmoBIQGmUdEGQUadjmjiAJQacmpfkoHbjmGIAIRYbrLJFFUYaikpiMwRiGnDWoAKWilnOdlGnSXenFXZkcpFUdlEQEaHkIlEiKXCEHLMQXZafilnrvwWwBDJLMQTXZbeinrsEIKOSWYaimruAcoIEIcotBEQUEUWZaceiosAJAEILMQbdmotuxnIORCFGKUZaejaBEAWYipuiqAORWYjloyEJUDGOdlBDFSUWajksKxAMcASWEUkmBRBQTBJRWYnwzAIKNQYbdinBCFGILNPQUWZacjknpwZBIfiBIKNQeiqxAPQlpwmAAIPQpxMpJkERaimdMWZbejmpxsAGIajERsKXZalmciIfsltYAQAQWbqCdFJnAEQAEIKWYdejmcwCkEMeWkCMWBDJQXdloRUcBGJOQeKVnBNXBQacEMVWafmtBJRpACJQVXcpxAJRZcfknotxAGILNQSUZblnpxkBJQceRACHIMOQUYbceilmowzORVknBIRcnpwaejAIRcqAaJQZlvBWZcmqYayMAWIWiobwAcCiYjumIASQpErwnMRGCENXYfikmzBAObeGJwRXbjkmXwAjBEInJRYbcjAFIWcuCUZdeEGJMQVadmzOpAFIORZbfjlwEQWclmBIOWdIQAJmAgIsGaOawMJDKmAHMmnGJQWZbcfmquwcOIBCEHIMOUXZacjkmoqswyIWiqcEINbehjkypkKAYailosWAIQoJnPMTYadjwAZjMYaiowCEIQcpVcnJdbjpBLRBJMPiNcpARdJXnBCFHJQSXZdjknAFJNRUWZcekmxbfkmBIciFOkBQUWdknpIRcYGiBSaDSawpAkBrIopfWdFbnjEGmMUACbBYliIrGkADINQWdxUXBHITcTlwLpAJcWmFIQwIQUWnBDFJPRSVXZdfjlxAHJNQVbcnwEGIKVWZbjmAHIMOXdlBJQZbcgiknxAFORlmBPQcnwCEXikmAIRafAFIZdkADEHJLMQSXZbekprwYIcACFJUZbjlnrtvxyBACEHJMUXbdfkmoruRJHMYnwWZadelmotvwlfmJiDFHIKTUWYaejlmqBQcnQVeAoAQFWdARjkCIMbiDZxicYipJfnfbACIYcAVckAdxlKnBIQWekoACYeAEHJMQSaOAQfCFGQVacgnAFHOUkPQcnpwAJAJcTgRajnDIWaRMXaiknuCUXackmsQMAIPckAJOdJIdiAJjIORdAIQcodxQAGJxHRpHPRbprRbfpjFpRFHLRVZbpRbFHRobFPRbfpGZbpRnHRpDGJRZbpDFHLYbprRblBRFQbBDZpRbJDFHPZbpRbFQPVbFRpFZaGbxBinpbfpPRRFbHRZbpfRaQUYapbkAWllknBJAQmQikRbilFHRajpFGbRbjRPRpXnDFHLPRVZbeprDFHLOQXYbegpqBDFGJLPRZeprDFHLPRZapqRoAFKRVZbfprCEHLPRUXZbdehnprvzQdpHRbGIQdrDFHJPRVYbfpDFHLORZborwHFHLPRTVYaeproIBDFHLPRYbfpGRbpFHRfRZRpPaAcijDFHRZbprFHLPRqAQadHGJRaloEIQdaeAdQaAIcAIoAQDAoNBLYiBGKbAJBEJAfkBbPeEWcqeJAAQYdeJRoXvFbREtbRajagAAJQRcdWBIBGIPQVWckmpqdelEGINQXadknxAGMQYakmoAIOUhowIckMWvAcgWBRYQeIedBRzxFAkJOnAbjAINbAYdBHJRUckmxACHINQWZbciknwaemGJmCmqdeWWbIMPRBFJPRVbdfnpBGJRbowQbinsAbDFHLRbrBpBJQUinRWYbRADFHJORZbcknowWJRBNQcnpxOQckmpAJRcnAIRaICqAZGjUIIjRbucbRFPRbzadrtAFGMmAEGRUXlmoqQGaWmtBcAAZGoICSAAbGokfeAjlFdlPamEnpSzqccJcqMCPVcGIaILIWacflWdmwVWYktABJdBFGLRUWaeiknxADdoFHNRVZblmRcACEHIOXZbfikmsyBGJOQdekmtAFILOQVlnyMlJAJMEGMXackmCoybfbOaYiJJFEAUREoIKGkRAitUWfjkmqBCFJQafkmoUdGIMRblGJPVXbelmtymIGMPSWYbjkqtuyGKaDEGLVXkCSxEHMUikmqsvxyfBHJUaclmsELXlnuQknIQKYHfolsEXYaimCRSAJMXbiEWaejkmzRbAEGQUWceitIVIKIZasDQcEPVmsGIMdwDalISIMYsIBACEGIQVXYdkmEZfACEHINRUWZacegjkmtuyWkJjBIQmEHJPUYamAFOalmJQocAUkFRGnbYcYLoAIRZBQEesGIQrLuWGdqEUeTBRfmwcDnfltvELanicoGanKaWWFcmQHKQUWkqACIHMQUbmsDHKMOSVXbeilmtFHLUXYilmAMXmIQcsiRHcRSQcBgDbefFalNUakmAQaeUCEaPiIPiILRirfCZlEIgsuyGQccNYkMPkiAJLYEmAyykQaHGltcuRyamIOUIQAHaYpkOjyGXAHMQJRwHojWNDHZbqHfHRfDFykQEESWJRBAdbAcuFiWJYbcBRbdRTzFbJBEHNQTYsWYbOmWLRrbflvbFHaNnRbFZbOQEHvQFRbFHbHQIJdaDxeAIEIAEIgquzXikAAbtAJlZbFxHXbBHRBjQjQIZuocXAqXaACOVBRWbdiqtiQpQcpJRfBQYdlAEGJNPRVakxPypADHJQYdxJOQZdlAJVCYcyaAcGmiRIAIBAcwMZbimcQZblxTVAIOTXdQAGQknwWwCJJPQYkmpBQmoIMjBJcCnYowBPOWAAkIRGPQwjIeAOoDcVwBDiYIQdarTAOWJusJkAPnBJRcpAaRBdBQXcpwAcAJNQVDPSaeBRUzIPnBJVcAEKNVWYafikmswzRcicaIcHNQAIcSmdIQRbABUPbyQVdBQdJRxBJRYxBMafBQolRpblIasjQBTwDPmjiaIQUXxFPUjmQcIQQioARaiHYaimzAJQSYipAIMCdAHIMacmoyAOZdehsuzBGIQUjkmAQNIiIGYazBpakbYYswhGnEBWCIioqFJUZaiWbJQlAGIRWYIRACFIMQTcnwpPfBMdnAdkbIQkUbdbuboBPTvxGCjcBQNVWKRYzdAGXBCRYpBFNRVanaXfkoGmFBciBRpIAnScFbuBFZbRbbvFHLOcOQACGMjwyQPIbAQXdnCJAHIVWIMUXYfzACMajxclXBdQEYEyuUKUWYylnEUjkBaJRIdpxBDRJRBQRoJaimtlAZqyiRvtBgcAcFuAvyACkEJIQGluwIAAJjjYIxIQCqAVadadQckBBQGlBwBVcoARKAcFMQAEnICjlJjwRINkmEGMSZlmzCBJLYRmwXFXboXjBIXBACPRXlAajnnPdCCRwJJAjkARIIQACMWAZAEQpHbUyFjwEZjwjxIBGNbnJGPYqNknoAAINWcsbXIjaAXAAGInkBkQIQomDWfkJcBipMaikNEEAIccwAVdlnkIeJatWjlJVWQJcpdkAdIkJiIWWQBCEJamlBkDaluWEEcnqdbiIAiBBAOGOIyRjBQwBDFHJNORSXZdfjlmptwBUbEnIQkQFZHiEHJblaIkFDXadAIKRWexAcQWlOnAIHXZZmHamBXBAIRAHNlAdAPQwQcykaZiKbNbjxbjnaZaijWPJnNKfAAHQmnBIaGkQBIadBIacmQBQaaiFWkaEIcWQjkoimEAYKaAJkmCLkJeaUQHMARaaiIAAMAcFadbEJjbrmkbEUGZkBDjaIKRbRRiHlBIOUminEIdcEHnDjIjcRWGWlsJdwzIGmEIOIEHkwGiAWiHMRmRWecjAbHaKAlPYjHJAlbmBAWiBaJbXaWIOIaOataGBaamOIYaEHalBaRbJjkQamkVkAXkQdARYAIcoiiAGIbkcIEIkQAIQWWcccIAQcAQQxbAbOIWQbmASIBJQmDZCIsadmocyraQIGTOOcUBIVROkAXiiaXZAJRkIibWBBdAIDBlBIPBctWmBRBdZaARBAVHBAQiAGQQbaAIdBHJNRTbjkmwyERYQUmRMjAakyBanJjJamzYiWamyGakIjAPbikmQYarjamoQROWkPUjkEakIajAGNakAQcdkoBAURdlmARlAOkRBDFGJPRTUXYbfjlmpvxAGaAWYajDIbjIiDbiGYQYEHOWbkAIpBIOQSxAcIPXalJKAApBBcEGJMUmacQARBIOQVckmxBBAIczaIcPbWWAPbOQXaiwWciAAcAIMQZaikmwocQBCFJNbkwQcBIIQKaioqsQIQcmOQAIcBCEHVackyGZbimyGQSimNbjkmblrlIRBAABMakyJApIkEbjAQcbFUAMEWHaQBacQZjFiycYamARaclleAaGjjlaixbbUaiBIQQABAFbBIOdkRBIymYXAJdAxIKRBHJQmpwdBIRcnoYJcjBIQdiknJjIUmJxBIQdwWkYnENAOJbjAGQGinAEQVkwOJaaiiYkoBJjAcoBBdAEIQXdBJcmQipOnBxAoBHbXbaFjJakGZmCdAJQUmjAEGIQYceowPIbiZHNjIAQElmYcoIcAJcIZwYaicBcQIQcwAEIpjIaIWcciIQoBGWikmwBIcAQdAJQckpwAQBHMQwEQUgcmpAIOcjAIQKIcIajBQnWaDJWbjkAVajkcAbirBJRdptwyOSiOBDEHVXYejlswQORlBIUQccEOlAVmGGYciCJHPJWZjlAQAIRIXcmdIRdkWjwJQXkAOJBIRUdWJAJRcIXBJcpMOUWoACnBJOQknAOUiknuInBbWJIbkXYjjnJjjWACIMQSWYacfjlmycFJNSVXYinvwAFIVknqIBHbwARkBAQwIYPURlWmpwIRaJWbiAcWaciAIQbdiCMXYacgoIRbkmAQcAAIQdiOaJAUCAQEOQUzWXiWIdGbWIQaQkOQAOAmPIaocQUdaSOMGbmOfjIAmPWlufkmmkXcmUmABWBJJRwWceEJXbbWjcrkCAGKajkWaikjIQjkIPAQAcazIQfAdAGMOmyAAIOPMSRARbIdWbjkGbIWaoBJQdwQRkMXaAXkmcAJaAaikQxkBQXxAIQpIOAciWbJblnkWHXajlAUABLXknyBBAXafAFJOknBkWBAdbxaAJIOaaGaBaJagnxJalbaNaAJXaHITbbioQmCYackQWprWmIFIVGXamoWVBBbBAEbGmQPbwQckACIMdkqDbtzPaABaSaiAZekmoQAIpFIZakQAnidBXBzAGOURHIXazabYbakWdYBAoJQmAQFMAiiikbRbmlFKiAHMSWgycUUsJujWJdDejiWajwAIcpwAciAcijwdBJQUjkAcAIAJQcwBcRUWAAcAIRaciwQIQcfOXYbPkBIcAmbbXaajtBYbJZaJaJBPiXnnBJAFaAiAkZGXakoWajmAoAIcMXYjkIYaQcXimfiIYMaJbiAQcinAAFHaAoAPiAAQpQOoWRdFZPAEInlmJaJbiaIdWbkoAabBAXADaAAzbaabkAnAQRbjZmWAAQfNaAQqwEiaFknamWcjJJaJRxiWQQARbnJcikmJAJRwolIkJmpOIkckiQIRwQWBEnaiAoYQJRaciIcpIMkCEIKYkIYaQqABWBcAFGbmycAJAbAiAQAMQlmBRwWkanAIWBaIeBBAIdGWjXjjlJWnjHIkYcomHXaBbjwIHWlYQBYdbBBJBMaPbXbawIRklaHMPmJaBaAaaOcnBApQrOCIQQQAAInYWdnijjbWAQABBQoDaabaiAcQioQojyIIIJbWGFVMAIEIRRBIRAdIiACESXYbjknwAIQWdkwQcDIMVWjknxyQoRADEJMRUXakcXclxAQcMWlBCEHILNPRTVXYadfgjlmprvxyWbAPRAJQZdcCIKOQWYceiowWaIQCYakyAQcjwBcAIcpbikmQAIQioWaAAQcoAcoIbQIjycAmWYAWjAJRwGiAIAQoARkIGZiBAAABIQWdlnwJGIajZaaljHjlmbmJBaMiCGSZamyQciodIQZcipwQbjlwcAVakIdACIMQYcfikxycFbdoQAcBBRcMACKMVAJRcpwAcCJIAZaAoPdBCIMRTZdkpwlxKRACIQUWZdkpAIcAIOQcelxAIQdwAOAOdplABUAIkWQACEGOSUXanAJQdktxIWckoNdkwKWmQWBIAZakmAIQXwAAJQdkpwHUbkpBIQdxAmAJOSWZdwnAaiBdDXZlnAIKRBFXZlAIRdAIoBCIQYbcfxBJQciiEWaimqAcBOYjkQicimckIBacccsIQWZlwOQYBiAAIRwiaAIIIYaiAIQcQJiQQobAIQcBocAQcOQcQcBWdAVAIXwJWDbZjMijaiFaaEKrIDHenktwQmAAEaXacAAQooOGIOnOMiAjbMRaVfUeEbXmRNaZUGyeMJOcEIWhlwXxIWAIQdACHIOQbcflxyACFGOUWYflwWdnACEIQUWcjkmpxyCGLMWZnvIQIWbkQDINVXknuEGnemoJBRwiInAJSWZkotwYcQoWIABUwcmQlBJdkJOcEIjwIWQJkAJBIQmCICEYjkmLOcOWQIRwIiJaAJaadYeqIAIbAWJIQcoDabOJAJQHWajnoIOJVYaqyAciQAFIakmqyAQaxBIPQSXdkoArsiBciEMJkaqYajcBJORcpAIQWdwAGKXlmBQbpwQoENknBQZdwIcoAJRdwQWaAIdIXciRwBBFIRdlwiEOEoQRbmAIRQJQAbAJOQUZwamAIWYbkIRwAIpADGJRlxQdtxAJBPQTcipwRWYUmBkRwACGIQYcitwaJPACIQSXZkpwamcqAoAIRxBJQXlwIRXwBaJiJldUikIIJAIJRiamcQAiUJnGJYGjXGPwIMGESOKMKkOBWIPwmMAmQmBQwaQcCOcAXNUmcCRmzHNJMAkWPdQSmyOAAMREEQXwBEbIRwjARcXxOEQXxaIIIRJIiIXEERWaekAIQWcioAQcoAIQcioBGWiwAIQWipAGIQXkpxyBIQcoiAIcAIQAIQcpARcAIQcoaAQcoIQcAOQUYmoAIQcioiQAQdeFoRjkaJWAQcJwmBdACJNQZmpwudAJRaiARAJRpwCIOXdEJQXlwBRxHAcOnAcIEGQQIRaAWJxOCGIPQWekQGAQOwAcoAcsIQARaooAIcIiAROZiBxAIQWadpwQaaJiAIQXwGIaBcJVakXMmaqaAEmIXFUHIooDPbikzIRwIEHJUgmpMaFkmnsUaizIRiEiEXOkFHUyEMHkRDIJeHNRVumOyByIAAViQCJFVYMYlHHZepIIkmCbIISZacfkACIQWcABCEHIKMORSXYadfjknoqsxzKkBIpIcmejOUndyOQmcmHUXijImbUYBRBlQdklQQdiEaQQiimDabIdbWaEHacGGIQZkQCKZbAJQXdwAcwBUmAicEamAIQcADnwAcWmoAIPlTAWfcoaIOQANaJRJaQVYgoUkcGOSIMRbjjwIQXlwIUBkYiEcJNVIFbwcEQdaIQojwIEWarAIRdaqmOdlyGMVbAJdkRiIKQbkcoAJRdkpwEKOVjlxyQIOdkAIWmcJBJQDoqAIdlAJRdAJRcpwBPAIQWdwACIQdAIQXlwIcpACEIQYcjktxAIQcDIQmAGIQUgyIQclwBIOQUamAEJOQSXlxzAIdIQcIJwQCENmcIAGIEUahlAoACIKcksZapIQdAbPcBcJAQcnupAGIPQWYdwIRacxaIadOWiImbucWdwrAcOQOQJBJQcFGYoCGUgiIQYmQaIcIdaWpIIQIRkAIQcIIcAjjkcaAmIcIXIQiIRjlmQcakRBIdImaoAEQWYkmoWYdyEZaIIQSGVVAIEGIaCjJUXdBGJKQWYcflwGXBJMQYAGWbIQACWAEGOQUYbclmsyEQdkCFOblnyXbBJdWmGWcnAQdwIMEGMVWakmoAiPUdAkADGXalyMdmAAQwIbBGJbnbAIOQWAdmAIQEQkyAIcyPbikoAIiIVdBIMQWAWamBIMPQoAIIWwAHJNUWalbACEIORUckmxACQbdlmwQmAzawOdbkwFGjUcJQilxUAdIQWXwAOXcfEQatvzVYayPIQbOcMAJalQHIAIaBIRUIMAMazARcDAFJNQbdlmEIkmBIpAJajIIQcioIIQWAHbaIcmdMWBWcQwcnEXDBbaDjwnqACjeracBOIWZbaRIWIKCXAIRXkpwBiFaJwnwRAOmBJQpGILPRWYbdkmwKdUWaeIQcpAJPQWdwnIRAEaIQAoVxAAJXpAHcWAIQXadlxCWmIQdixAIQXkIoAIAKIQnwsoxaIVHmaIibRactQVaodiAIWYAHIKOQYcejlwIIqAPAQXcOAoAIdaQJxAIQVwpJOXAJQXbxAIOQWIJacmCIRwJRwJcIQdlwRuRUcAIpPoIQBUWBIQcoAJanIRADIQUjxAIOQWYdlmWpAJRdAdmdwaIocpwBPlGJQYitxaIADAIQmAIQcjwCYpPiWIcoKUoIQBwKdBIKOQYcjlwWdiaoBCJQYdxzymWBBMmXGoFkQIBYEakQZJPQNWaiRwXiyaIcsAIQdcmQjJRcgoYoIRcwDbmIXyARIJbAIwAIAAIiHGiiqIAwWUciAxAIQWwABIRAbcQXcjxlAbaEYCEQaIAQoBItBCMQajwAccCEHJKMWZafkmuRAJQcpwAGqIcWJYAIRcecFWbiAIRciAIcxXdjxJRWackAIAQcBQIMWnACIQbdkoIRacnkACHXaikIIOdpBJRSXZcejwEWnwIiACENYamQBAHIRdxIMaeqIAIQciloEmAAcYACQcEWZikmyEUXdmcAIamAIQXlwJQcWmAQoAEWlFPSWZksAJdlwAWAILQYbdlwCELWZacikmwyRcoABCEGIZadkmyAIRAJNRTdlxBJQcwAHIQcoFXbkpIQdAJRcnwIcmwJOQYcjwkBIQARXbkCGWYajlAQWinwEGIKQYcoHIWYbcmIBbAIRBJQcBIQWbcioAWYaisQcBOBcWbjkwAQcRAFJQWcjxAFIaimqQAIQcwAQAQcmAcIQcEGIOUYejkoAIQAcWPIQXayXbjwAIXamoQQIcAeaBIIbwnAIQcAIoQcMaGjARdxwJGaFiiEOFaEErrGiacsAdlsXGKWnICBEHHEjaGRQBRxbaqRikjrmWblfnMRMGGMKMKlzjnMWHYAIBBAiWWEiXWmIiIbkrIWQcWIIiRQIwidCaikEbknBRcepwkFQXbWibuKQQIeoAIjlAGAmIcACSZbkzAakAQcARkmIRljAfIQQZkaAdjaXVIKMMEnWGEaIiZADIXBIPdBGWZcitwWIKAbciBaiknAHQVcjAHIKRVXcioxBCJQZdepBFGINQZbdlnxknAIQWZcfknpACFGJNRXZbcjnorxyFIQVYdkmAIQYdmFbBIRdwBAEQbclBIRxyANdCBVbfnAOVcAGCFUYbjknyLKXanBIcBEHJRXdlnxBJRcpBDEGJNORTWadkntvwbBIRcpADIQXbcipwFIOUWalmAJdkmaBIQcirwJQnwYAIWaEUayCVafBRAFORUXcpBRdKUZalKMRcpFZaBQVdpxAGJQXcnADJQZbdfBFHINPRUXZbdnotxyGZACGINQWZdflwoARdfloEJYceknARcjknZAIRczbXaDIRAJFFJFHkmJQEOQUXcnAQFjRIRdwBIQWcpxIelAEGMQSUFVWbekJcejkoQimoxdoEBGQUQJbnlyGRZaRwlnlaBDRlxzPVcGEUNQnBRdpxAJQXcADQWZeMUWknBQcepEiZIbUQyGaOAbaQcQIbAjRjQWHQcWWXkHjFKIiQQcanAjEbiIRBIRwiJQcaaYJPRdpwJRwXYpFHLadARZwpAPQiwRaJbkRBJWoIWopFdZJzIRwJYHdCIyAiQcCEJFWAWIDSFakEzakSriIHGcnZlNbIZlZjfAEmenAJRVcjnxIQdknHlBIRkClmbimqWGQIYckEfkRUQcpIQQPVJJKBCEHJMQXmafkpJjVUWBwNIYaJIQpPGMlIIbGQCZkUGWmIkyBmOnjbIRaURnaYFbDutOWFaBaYUiNaamcHjQbHaYYWWmMlRRPbJXOcoWGJmIjkEQWIQXwBFAXlAiIERdBRciaIfknxACEGWYacfknwwQDIYdjlvwRIaAmCEGSWYimOXIQZEAAcIiCIiCBkmEaFinImQAGbkIRwcCGIKQceitCEMSXYajkmwAADIZamBJRdwAAENZajkocmAIQcjkwFYaIQIGQafkRcAcACGRWYdnwdEGbAIQcoGlnAIXcnoQEIaIAQXaiJOdIRcTjnwIQipAJciamcWAQcBBIQdxiqoAcRdmpBJQciiIQciAJOcIQJQHJQZlxACEGIMOQSVYacfotxyCIAGIRknWGJlzNIIQFkAWbiImAJBIQcIEJQESWkAIRpwOcAIQdwGJWanxoBRIXackmEIRwIAQCEHIKQYetwKWazdkoAIQpwBIQdIQaaIoQWXlwEmQianIRcQAEIQacoCcSmAsIXdwLAOcAIORjkImCEknIWcQlmQpbjwbaiIdcIcIWAioQIAcQcOYcAcdImncZAeVmuDnaJTioZkmEUcXmNMIDIKRUYakmCScflPlxJILWcmzJRwzFZakmQiIFeWMBAIXaEOfnIQFIRkYDUiGIIWDIMUWQelAEIOQYflnAIQmQIzlwAmPUdlmpmaIIQDJcsARcpUeDIfkEIcEmHIXbkHBeBaIRWkzCZeEUAOQcknIOKBIQnmQjjbJmlmAdBQlemFMrsWBAXwBarEWnmNimaJaXDRuIcjiiAYXaANYQiIjaIAwIjBIiCakAjkmBFHIWEKQKRBRdpwcYnxEOQWIAWncOnwAQdIcIamICimAIYbkmIoIJRwFaRQcWoPPBmQCjwdMBHaAJxQEHwYenIdIRlwAIRIRcAIQbxIFcQYFemcAIcAcACEHIMQUacfiknoRIKQeAIqIRwepSrYOIiWGBSCmJWlGNIQXIQcEJeIoAcaBoIwBIRxOQIIoabFWlcIAROmCbxkABUmcJwAQcXilAIGmIwCWGbiARwEQQUqAccoZboQoMGQAAwIcccccxJQGeGZiIBwDaIdHQaAWQcaOAWAcJwAIWdAImdwIOQpwPxOaoPaoBXjGUaAIGnPWYbkIBIKTVblxACHIWamwJBIRdxBAqIQcQWYaQMXbikmBIQXadAEJadilmBATGJowFaicIdFIPQSWlwpBIPjtwBGJQjIRWbjkmAcIQXdBDEJNRWYgjknuwJBJcwJoABJRdxFaABIcBIcipyYmIRACJAJcAXGAaYAIWQJOIQJRUAIcAJUXadBEJacoCGILQWYbcikmpwAIQxAGIQdEXaiAIRacxOmAJOYdkQQcQBXabcAbAIQcmoxAIXwnuAICQecoZkQoAaQoYcoiCOmmObBDFGTZadfjkmxBHIXbkmbkocwBkKZHmRBIRlwccaIdOZacwAAiWCAcBIQcwAQdBIacPQnwIQccJRHXAIWRwUnBVmMkEEeFUQsZElCJmenMxCYqEAiLjZUCInecWEmRMnGbbaHMAAicAEGIOWYeisWQdAGIMRbdkmyIQUWYQdOcIcmJQwJJmcIjAIQLkHWiknwAIiEIQYaGYkAARwAAIcEGWZilwJBOGEcmBkpAQaAJcJAIXkAIQAAkAcAJAIQNACIQWjlIOQYflwOUJAIQIbwocAaOAaAJIAccoBIkiqIAIjcAdaIPwROZakmPaoAWaWJImERWaeitwIcamRmAAEMSWYaikmoqCFQcflwAIdIARaiqOQAIQcQdxAIdkEbuAQcQwaRbixAcIWaimBIWbknBbllIQWikRCIikmBAJYaiknyIAJRlwqdIQcAIQdkowIEkAIQIAGamAWioFsdilmJOAQXwIFUWcoBFVackAcFackAIQcnwcQIQdAEHQYaiJdIcAZcejAIWcoCGMWYiQSemIAIQcomAQJAJRxAJQbciwiQJiUapuQdIWIGIlWaoAIBXbiAFIVXacmAQwARJaimAdxaWiIiIjxImAJAaIoQiYiIQcoRwQESmslEijXGJWORABBNQboAkxVEiPCaWJmBQbZqPmEaQXcIcIdANWoAadAHJQVaIQYjwQdsWWbUZjxRGJaAIORktwmcJXwianQYAcQjcoBWIkmeUiAIWEGIiIJpFwcokIQXlwZmRFObaIjaiIQRcZfAIOQZctwBIVkmQCWjlFanpaXkpOYcIVilxACGIWdkpxFGJRZanyAIRcowRwGQjkyGIDcAHIMQamxAQYAWQlbFGcIRwIOnwBQAEQaYemCGlwikQZcoQAbAIcimRIAIWAjOJwIpxGIZbkiHakjnAGWamRIacQbaIRwcIIIMpMCcGaIdaUarbVaIoAEQJaQRUWlNWeNGcIHbJJVrJJBjkRbBkXUGcEQmnMaBNEHDPQIXQmjGKJmIiMZeYQManiWbIXWodlmABIaIRlxIJJcciccIAIAIcYQXJxIHWacsccSAmOJlakIQcoAOAdiAQcIQdlwdIIQdAIcEoQcOWYimAccGcjARUZICaoIIdbiQnAJQdlxBjOcRabjvJakAIRwRaIICOTWjknoqIOBIQcioMXkXcFIUkmrAoIRwJAIQjwOZiqBAEIMOUWainmARAIIIQpwPAIWdlwpwAIQWIQIQWBGIkBIIRwGYadkIcIRwCZwQXwGILRXaAOjBIYanBIUWadknAIRkotwQADkmoIRwIOOQYcAdbBQJQacdiAIcJRwWWIANOQXidknwcwXIQIQXknwiVJIIIIeJJbQsIOQUcoJmAIRackoFaDIQVcpAYazImIGIRkmJwikBEdIFHYBUBGMdGJGwAIEHkIQdDEGZkIXAKciLaipaDPUIjmINBWUoFkmIQyIkqYmdUADGAVJeCGQUYcfJkIkRAeQEoIPxBKNlyRGICIMUWYlVldaJNliqGbinqJxNmVFDaxnZaQIXInwJJbREcOIgmJDbqCKOQYpwZwGJoAkIZxlaGHkJIRvkAVcoCQAAAIiIBkAIcdwOcpMaJIZaBAABEAABRwRwBPBWoQBBJJJHLmnWGWjidabYlBbaPIbxlaJxAIOOIWIWYcsbaOXnPpbdARwnWImeIfmAGGGKKlItwBACmdBkWIqaaBWBbuiAjaljJjiiFIUailURnslLFCIIAcWcBbnaWbdimIGAcmiaBWJYYGadAcmbjsjjaalmBwIRRdOEBaibkPAyBAdmAOlBIAGcoaAJCGjkailIbkEDBbiiajmaQQQkGJIGHFwYdIQiRRBajlwdIQlXaoQJiAcZAQAMRxJPJRwBFGJKMUXaojnInERwdwsJxOIWjiEaJjIcikGMbCINWbAQZdMZxlROMEgXaCZjuQEIAjwaBbmbAPwXZbWaemRIZiAsaIbBDLNOTVXZflntNAkDFIUXYlAsaalJmjVBjlZBlXiBCRpbaeCICiJaYCmaMaGibUQQQBvIanJXfjkIaIJMkIHCAbbXiFdkaIWAYOQiaalXIEUEfnkAGPVfkaQwQIMYgmwmXBEoqaWlDXNiQfXWAkAioJJIoQaGaiicjIajAIARjAJcIQWCcckiRbadHRBAKQWqtxPijdAQWCFIKRWYdmwdIXkoiXwBlRxARPdAAGbkAIIOQAJMQZlIAiIRIEIjokcBicAQIKcRAIdwZUZJmQjJzadOJWdGTURnbGYnQIYOoIAJoBjvjeCICQJkWJBOAEEaflvzAcacXJIJjuIQcAQVQaIMQpwAIUBRAGQAIRdwAoIoJjOaQFaBLQUFjHaIWRWIJGFcmkJOitxmIjbifkdeJwZoIPWaBOIYGkIBPakAIACIKRwpAKCEGKUYbksAzmWOAIKPQYacknxJOcOJxIYKlmcnBciGOfkIDIQAUOJkmnAQcFnOFifUPNmLmLmNHilAJQkbJBlBkDLIJIQscARiQQQamWnQaQBdCkJlwBIcJkUJwIALAIdwdQEKJxkcQCIOQfwWWJJBJKMPYnwEQYkrIQcWYQcBIQIOxIQpYAddGmIUmsIAdkRIdCoicWiRaZQMlIRFUbzeIRkoUaIRxjZaUVBGILdlxCGQYkmsyWGMncFAFObGbBjVAMXcGaBGeCFUcmbJPVcMWZkQHnPmJaIWInxmAinbMXXWaUdGdKoemIlYjiQkIQYnpwdJcmlwPWBQnaiACJMYIdacoQmARkopEdwIwomoQcJpABwRmojfwqnbMDEKpAIdxxJjRwIGHAsIjIcjkIaGamuBawEWaAJcBQQWCEGdjkacfAOklAIcAmAxwNJRAIamQZaAJIRwJOIQBCFHNTAAQAIIcFksnjkADIBRlXacQnIccWBBwDlItMHRbIQQDdaAINBAORjoiIRcPQEkIaAJkjcilrIkoARxAqQWjLdNWaiIRBcFUsAbsARwQiYIQIJmcIcCKaQcOwIXHMJbAHQQmVWnQcfBMbmIXwQcdIdktknYXkGXAJdBkmIRwAccJRInINdcQWIxAMmAcKikRlxzbXAbWaQIZaaJtcQZwJCWQGQwEMknXDGJbmOZIGEmABIpUcRAIIRbXkjCeOnaIRkYCIZkAEEYWAkMWiQowEWaimWWaCkisIWIAQcJkqdIaAMOWYcUQQiOklwiQmAiMWICisIMZMQQEmjADIQYikmtwACIQYaemAqQrlyqAdoadsmBcJOCGIKMQTUWYacknotxwIQWcIRlJWmIYwAQdwGYIAWBAIAQIAQAYOAAQMmQAQAJBGraaWkIdVlJQBIdkoYQnABaYfkADGMQdmIPkIQmIRwHlwlmcwRcFHUXbinFGNZdiWAHAEJQkmyOWkjLWAIFGNIJknyGlaIeQZqdlIcEbelJanGeNbmPdDsEfMBjAeZbBBdGIRABQbcjlmARcRWAJaAikICSQIOkBcpwApjkfmAIRkIORxABlyScoRwAJAIaiAbjrGAiAAEkRxBQtRDmIakWdbkIQIQVbiZaQPVkIWJoFJRRaICRwYDIKbBJRcJHjwydGJXkkIQIQdjwkmnaEcCIOQXlwIIYcmyKmIQYIdAJRQrAIcZkIQcIRbwUiRcAEIORosACdkBHJQAcWcIcoQdxOLWZkYIQQcBaiJaIQaIQAQOZiwAAoIQciQAIakLbjFQIRkICmJbkAIIQIAcjaABaBwJCIOkIQnxlmJOcsJwiIcmWQcJJlQOByYbwJbAEcorACELctwIoGIOYoRXbnmcaAIiIJBQjRwOWAIRkAoIRamAIQcAJAIQEJPycIBIQIcRjkmIAIoccUbHOaIiBQIYdlYWwJamQJWmqtnAXkjXBIRIAEIPkmwGcdkIXoSkIIJRkPFHbQdocZFHRbdokZcQAcROEIHmJIJjaLMlaajNPRQpMtbNNaiQXlIUczIVIQIZwnbiAWcQIPIIcAIcQblRHAJQdwBIcEMktaiDjknIPATcolwOUWcIXjPwIRkoIIQXkAQIRALXkaRJdwEmyDIdlwdIcbjQQIccWQQocBIQBIcIQcIOemIQpwAOcQPHlImHwjwWaIRARlbadwbnseFqSljpbNBwJjIWccBwRxJMocAfaIXoQpHQIRjRiPbPQiAWjRwAHIQZNdcWRlbARxmQcQAXadOcIdbOYBHCImIbmQejBcMabZjwcuGKOcuiciJIOCYOAIRBIcCwPbYedAIokCpAIiAXGoMIciccAAICQDFGNaiXFRaQIhdbXknnYkanbRuiMKdYdxUgiWeEnnKbIJLFbzROYYUpbsUrBiUIFajkaJZkbAqXAJIMZbJIRQQFFZYWGlGbQlbaJBEXFaiIclaMCYBOdQjapfQYDHQnvBFINRajoadBFRAEAiaeilRmDiAdfZRRbAGJfZaIatbbjLaqXKxbQiGMYQBNjIYIQApaGWMaikFGJRacbAaoukckIbaQrGoBJaTBPqajVzPlbbUIAFaidBbGdbhnOisdYbkqEIaJJeIAAIbaBAORwoFxYcEIAAsdIrRWbJAlnMbwIJnYpRUQfUAIBlCokAJyIbBCGIPQVXcelwxCeoDFHblaIwRCbbiIAJIQZAIRIQoATcQiGSWZdjlIxDDbbxakBCQVXikxBJdodXlwFIXakAIIRwXacPIXwBFSIRWblmJcFJkwBBJAJaBlAEJnPBkRmALaAIRyRGlmIaBaIQcoQYwIQxaAIAAmAXaJaBacRdIdIQcoZAIQcwAJRBIIQIwQwACQYJiMbGTitnHGctemmiQbaXIjtIQaibbjmEUJAIQZaflwWJWQAFkmYAAJMQSWinwqEaaIRwZBxQWJIKWQEKIRkJBIRwIdMoZFHIdwAIYJwIclXaEIJIQacepwQXkiAVAfiWCRknbDPaAbiIBMpbXbGJZlXNUpaTZxxqAamQRMWjxjAIYlwARwJcbIAQIRwXQQpOeIcABSUaIEjBJHUbiVYNbaYRMJjJPLiEaYdoYGXaXbjmJecQkuPBGRaomcoIxFjIacBcQIAIWAdBPMfGOJbBDFHJLNOTVXZbdflnrtxmCTiBbIbJAQaZjkmdOXkrIcWIJAAoQdQRAJQdwIQARakLfxCQTpwBIIRBIIbbZbiXIQWWocoQIJaijOXbGHaalVJiFGnDBadiYnneQeXEiZajjaJAFQSIXxPlJFJmcByMAWJwWjnDbqBJlndBJckoccSnwbcUIQclGoAAHITUZjlnvwBJdIcempoIRZdackWmIkaWGILRSXbckpxRAbaXWImWnMEkPQtkmbwVjJiAcVXxJiRbiAQJAwJBaIcoaIAAJQxJIXcIFXaGidiAKYatJWbwZbIQBlBcQAkWIilWawBwAwQHCJRXwIUJAJAoBdZXkAIBxCEXZacmIPakpITYalAIRdxAJdXbeQIcwAIOQaZabAZBYJQBQWbiBIUXYbjlwJQWYjxAFIUXbAAQwBUatQccBwbAHJQYAAOIjmMQkAUIJcBAIQwIOcWcVURcIBFXPbxmJCteJMQHaGAjDeReRJdoaQdiIWdIkAIRdwBIIcPAIcJJRBBOKcIIQdxAJRcdkRjdlQBRcjwinBQIIdAIQctxcRIOcodAdXaBaIQIeoRwOmRAQIWiQOWXwdaJaAiQkdGcIIOniBifaQymIQXNPkIPDmXjkOIRAbAiAWACIQZkQOARdlwWAIcYasAIKRAcilicAdwcAKACEIQSZkowyBkcbAJcQJRbwSaiiAdkAISjwVACFGIKMUWYfknzwIQAIAIWQdUQJxAUXbwWtwFnAdAQJaIIQYaiAOQAJRpwAYpOaRxWYGYInVmmSYFAwRkbaIBUdBINUUdRxzIWIzebjmmjEDxjmflxVIOmIDUXULBIXAQURRUBuQyIPCZaikrIzaeAIEmcmiWHbwmIAmoXQAmIJWARBBxQbIZAIURdidAEoAAXQAdcBvfkaZmaEclwcXAVPZknyAnUIIdIaMIWEnQmmUYLWninialZXiRaclllyINdFioQKIcXFkQYtQJZbxAeQtIHJNdnJfnPGtfiEIYTJORSZjlIJdJbNkcmRWAaioAIQcIbwIXIVmoIWkcYIQGiIbCHUWJQwqBGaAdkaWjQIdBBBJHkPjkqtamOUWmQFjkAEIRdliBwaBpRxBIOQVAIQZceilxjknwcGIKWlHImAAAQdlsQIBkmccaAYQHJckRJRwclIkWmAIcQGIQIXOalvAZakmawJRIRPAFHBJRxWbiMWaibaiEIAIccIBQipIdjjcClbaFkdDqBybaROJkoEejwHaTbIsPIQAaAdIoaIbdlAJcBAdAAIQdwaaIdnAWZkAMAIJPAAlAPOiaaIQdacJjJQWIQcVBAQciruZAJMRScmAdiBJwQOJRwAQAIAEknIMJQpxMIaWbiDblnablmFRwbkBlwjBAQdPBiJAFJNaRwAijBIcbdAcIOZkinBImHICoQWksIcbinAZFOoIQcIRBIWamRAJRwAaQIQAGWYeerIjlnajlcjAIXbcjlwAGZjkmAIIRlwRqdlucIVkmmRAADHJUWZaIcDAAdARwJcFkQmIWcFAWcjktBJaRwAjJmoIRwJObGWHMVBmNWJGcIQEaRUZBbjwZfrfCJeIQJllXkmHIetllAdaAIDFalkoQXamIWenRwBcWkACEKXkmqsSQOAIQdkocQJwJxIJyPERaAIMYGIXamoBJblAQOXicdJIRdkaJPJkIcGJIdOCADHIKORSUWYafilmpwFIaXbjkWWabAYFbBXjWaAQickmQGXnAHadiQQblAjdBIKWbcqIQXxQEGOWrIQqRiIQpRBJmHkmEXJwAoCWIJkXxinOBRkmoMmIankIlEoARicAQQpJKQYdZiCiBfWctClaIBbPAdkWnIKRUJkbFXbCGQlnImOWiJAAQcHdwxRdoBIVAIRcjwIAZbERcVkXZwAcAJQcpwQWYjxIBpAMWbkowAIbAQcGceilARBaAOlynIWRAXAJQbjJRhxBFUWaQAJQpcQQAGWimqlIAaBAJcCIKYimBBIlnyQdwARalFYiTkIPQWiQbioIaQpEMORUbikswOcIRIanADUWbkACJQcAajAIIZbltxcjJQkmxApwFoNWYkmOQpAJRXZcpxmjAJcoBBYkmpoRwBAIRdxAUWZbitAILQdAIOQWiAIanAAFIAXwmEGbkmpAIQXdBDJORVpxQdIlnzAJRcjlACFIMSUXbcfkmpAJcpBDHIORZdfjknxACJRdxAQcIRWYacpARwADHOQdIPQUYdwWlAIRBADFJPTVXtwWYAcjAUaJZaRAIRIQWAGTPdJdjxIGIQAWkARkAIQcpCEJPRZkwWBRIPAJRcJjkEQcAQcAdXwXJYaAQBpoBYcIEaBIoBdiQWJkpAAcibitABPiIbBWsXQdxIFlbbxfQIIekcQCQWicpwmaIKXkJDxIWAoQIbJaENbxalxaQiAdxMCieQnbojOQanxBlBkcDIcAOICGRkCXlABIcWQdBAEWaoIAmlIBOBBdkAJBAORaiBPbiqRxAaRImZQJBXiIQoINBjIaVbmxAQdPdIblAJRdwAIHaccmQdAIAYiAUEUIckKnBAcWEZROiJPRUpwJIEGalnIQcARwcRWQAAJQIiWkdicRcBAIRbdIJFjowKxjCBaNIWdLkGBWaJbELQdAJPkAFJRWdxcBJQSARbcUDkAQXJFaAQicAJIIPEWmQJbiGJXDFHJNTXZbdfjltwAHIJQcNbOiajlwcanAGYlxADJQdkqtwIEZcABkBEZalXAJQdxjlxdkoPFLZacjlpryQdwAREJQdxjmRUdlxRamAABaMZaRUWAaBAdAIVcsOiRAIUAIAoQcelpwAJQXwVPQAlJoItQrwHjaUAaocTlqIbMjUPFjMmXMRbljxqPmSIksINQjfIWlaSWITlAAaEonMQZIFajYDrmmkZRNFfxFbPRpRZXbxkNeIIWkxWmnBQbXYikKWBIcYkAGWAcZassEIIdAInxIQIQZwaQJRwAUacIcbAQdxKUYaoIENOWiOnAIdxnxJcFIgnIRlwRwfAdIcnAIPQcikqROdxwQQcCEGIQXknsJIOUJjccGXaQcWYaxAJdkAEmIAcFbOIRcAIMQcIcBQUAqIcAPWIjxKcqIEXiksAJQnBGRnIkpOHGdjJbbiWiiWXIEjlDFbfbiIBbfaYZGAWoanEGQImFJFbjlZVIAWIcjNnlDGiNbamGUnmYubjiWYaaSckoQIcdAcJsWWXpFHaQZwIEmkIQWIRQjaIIRwIAWAJxlOAJdwEJdFampAcIIWbmRAIduJQpOARwAPwMWmojEVgAQcjwJAOaJQAQXXbqzInXKneEUMCCWABdwmAYBGalMBkYeaijGAYaoClCakAGbakYiqXYamYakcAxBaXeBaiBXEAIQoRwQKiANMJXjcWMALFYwpjpBkcPPJAxHAmUIbMkpjkCmBNUblxRxRdpwmNkRAIRwcQoQWIQWJwaxdRakaQQQAAAiorjaAIRwFXakjAIcrpxiOWQTajcJGMAAoIjwiWQBRWdHRbMAZIQkYRaFrAVkmAXjdeWcIIOXBxAIcBBpARdEXBWOlBAJdwcknGMmcJWmJQpDVklBnkBwBAIIWcGeBgAceAFBRwkAcAAciHimXacMjIQcoBAcbiQdkQoAQdaJcREQdxJadIBWdscemwckdJdiIOINkAcQsSeJAEIqSOAjWIOWbQHdbyBEIQSXZdflwAAIQGJWsxbwXlIJjFHwjAInXdaCRBRdwQHXbkpkccLWpakmcdjkRinBFzBQQJwJQWcIpJqAABBRdAkxaBcoBxBaSmsWOBVIHbzOZRfKbFYfmJIGJkGUocAJRTQBuQdJwHBlIYQrHjkaijlxAQbwWQBJAlOYJQAJadIUJAcRJOdwIQdwNOCfkFJAdIcQIcIckIIXYAAJldNnOrUlwcnaSnaMNaqedVAEQAQJAIIIicJpRzBiIIQEBacIoQJwJCRVAniAqmayaAQAAQiQdlkJwQAQQcQOWcmAExdkIpAdBiRjacBAFwaMaqIAcCEeCAAbWkFmkkAQQWEcIOWaaRbJahAWaBUlomQAAjacKcmaOaSUUaCcQdikAQAAAAEYQcciqQQeIQIGnbacOAfAXQlBkniqYFRiWFjbWAHWidcaQAOQteAdbwaYcwaAiAYrejocGoFaIYackorBOXiQbYPOjEQYcBaoUXMSlmQdkARbfiAWWalWbAaQcWaQaBxcEINcNzfbWIWXbJAjbicGEAWcRdikQIAenbiIWkWWBdXiapctiCcYIAAdjaAAIcoQCQQXkmQHlliibwIJViJIURiHNwRmDjAYacAIKQABQWdxEIXAkqAIdAFDaGXjkbAAJIcRJmWmjakDAEGamQjamcIZACGIRknZkiWARpwdrBIXEYkAPAIdpWiIQJEVBwBBJkRwIOQjkAJnBcCflsxXiWmdBpwRQGMRYkwSaknqMbkAEGIQWYfktAGXAQdwIWcAOblxWQGApAdAIQUYacftAcicimBOLWaiBCBIKIXcmABRYBQcxGKkosJRpwBBDFJRTVclwPbWZvAdXiBGcdWkPBIdIAccmditNiWJaskXbRAkfaWHYdJOcocFXkBkXblJkzwaRcAWJkQJwIIaHkAEBIRaEkgiaajkdIQIckWeoFkJIQlwocAIQVAPJwWQkcZioanIRwioIJORkmxyIYckpEGqsRxAIYQRdwOQdOAMYQRldWjXjlwRHIUmJcoIRwXAoIIdMKAIaDIEGBQmFZInIBFHabIAQeRcCaJQBFBHRWZkJQpuOePbFQCbJNcUJMaoWQIcyaikOdRHLZbCIQXYoQpjoJbpIYAAkIjEccQwIAJcUcFbiniiAckmIcaIRkimBJPRQoAOlnBRcfkJFHLaILQajktwBRoQcAJdcIEWZjlbaRAJRcmEQAQAAdQcpUoPiBIaJAJkuJXIiBBRaIccVZFsARIQpaIBIQbcmYmBJdimACIQctlDlRYeJWIiBCZkmMYdcKFaAWQIaaRNbbajuPmIaXISjBlBkaUmcckowkZjwcbjQECFIbekmQdIRcEdvcYbIaAIdJPcIAQcJOIQWcQYJRxJkAGIQdwCIRcxmAcfAIQcQmAcWOEJxRdkoEAIKOQWbcoHInIoAIQYmIJwQQkFGRQJiAUfkaJbfmfaOOJdAocikBQAEoBOWIORmIRIMQYEJQBmaQAeiAEIQXgkmImyARdZIkmAIcoFJNniFYckmPkAJbJlBIWIcmQacoIQiIRceMnKAIOQfmIdGmIRcXwAInIBiYZYYjQRXDinXnGdjiajHOFmFaTadkIXERARkQXxIRwWmnIRxAIWlwWAWlAQAZlBFKQIRUZPRpQFOkBAJRlBccRHKJQpwmlaqIOIoWanWcpOpqwIoBbwGIfxaWQwDGKICYdkHIEIGBlEeBXmmFDibnCIzgIBVXIMRNknRUjmAmIdamBxmbOVGjmXbmBFQXnprzfpAdynOkjAIFbPkWctAhmAMzQJmccELSjkBIQCaJIncZikcdAJQFckoIdaIasRAXwUQBoacicJWAOIdktACHIQZxARPaIkbrRakQRxORaPXcAlwAiJRIlbkAcIMpALtJORAJRdmtxxAIXdlAAQcAdnWclBGkIcoKAXAIQYQoCpAoOcQAUZCacAABIXQXbFaYRbmAcdIJViAWJOETenmjHaBbaIiERkSjlmGIYdwAGQWmIGcQKmEUWiioRkWQeLaiqAocFaIQWcoAcIQcjwJowQciBGAEKQaIQccAbuAIQIcoIUcmAcjEQcdJiIZBAJGIIiIIIMbXanauAQadlMJCAIBbRAIQpAianvwAJuIQiAHaaHkmrlFIimoIdBIMlsjcUknAIRwQAcVMGQAAjkcCiIQoBIimGMeQioJIAIcWYjURjdBeiIQIBWbiIWqWciaWdlAcIlaWMHNxwkNWjJmaJWcGIRxAGMAOQIQcAdaiBRAGJRVZjknxBHJRXltxOXQQWWiIEaIBRIBxWIRkmbjRlxIIMQbIddkJwARAwWAIIIWoQdQaMZxABDOkoIAZWBiJAWBcIITibiVMjiRNjMIksWAPbXjmjeDaAYBOGUikmQdUmAIRVdwBilJboIIAmsIdblBBJcAIOQWZbcejktwRxWaiIYAIXQoIAQXjabmRkbAIRkmHWbjARcidJUaoIJVXbBcBbAIRwjcIRwAdJmCJlxjlUWYajkocACXZafkmtwAAbIamBQinaoJQsXHJBjbwEXbiaAIapwWdIIImmcBMnaBIBaIJrltjjMieINNBjknBjlrXQEBBlBjkjwIQAEJbcGilQIoICHIWIWjlxiIWBlitljzBkIRisQAoRmBIIQooQAcJWikCIQJwIRwIAJwAdjbXiAMacVBDFGISXZbflnybjXbIRxIBdNcDArPXkAlwBXiAbIjBJRcBAIQYRAJcQWQpBIQsQimsQiiRbjiBwaACjXHImAIocCKQdABmBdJanEYPHYiyAAJkApYaIRwcZAACIXxGUnAIIGbjAPcoIcIcAbiAIIRxAJAOaAWiAcBOcnodIiRAbAcAOACIPQUYcjktwIciAJcCxAQdoAIpBIBAIPRcjpxBRciIWmQJAIOcjDBlCCHOXbkmrAQBJWcUamIAQAjBRAQBRwVajOdaBojBwBQoaGAQcAAIaiBHYacmARwJwiQJacaicPBWFWTjiACtfMdAJeGbBIKWejlxNJjFEmCAmtGQWiIQJXcQWYAIbQFackoRjwDYHJCfnIeQXlnznZECZenOAJsCeXDKkBAGWCfGmEJCBbxmIiccAoAdkARIQSaccEWOQcAmQIcNbkQcQAaIIQcbjbBkaRBlkIIcAJAIAPAAAajHdcIRcGLuWGakRZaJdBAQwaEaiJQAIUnwIYENAcBBfqIQcIOixWBKFeXBIQdmuccQACXbJQBGacAnAJIRWYQkiJQXeBkbaiXibQcIcBwACYjpAcBfladCJXbXbjwVrGJfACbUHJdltxmNAIQWaxBIQmpIXoAQYioxAHJNRUXacnoWIGpBJRVYadejloOnGaJUZbkmAGWbACIWjkCOWafnKWOcCGIRWneGJMyeDJQXZcjtwPBibAXnBcfAYBJMScjnwiQflAHVWjmKOmAyjwWCxAPUACWKpdAHIpmflJmONkmICIYnJVwYaixacmdIUPlATOmoPYaRReIbwWCPwXoaBImIIIfAbAinIRfxmAoAdllbBJxBIRXAcOdacdlwJbkWkAcWmBIOQWOABOQWQJkPvxEbaoEcjcZQdAIiIYWcocAjioAAQJOYWcFnGuHUIRNmllmsIjlyFCkpcjiIaIXMbkpeUnbdaiJXBCmOkEBbWBVKWRkBAIIwADIIacZGelPJNIQJAGNezDJVJcJISUUfAJfabHBjlUJbmoMJefOQMfljVXbXEFmnNFOXWLIRBOnajxilmEJRwENmqMlrbUNKeIREbPVpBXIcfktwFpBUzBUKIIrFUezwUUCFGIKORUZkswBaNGAIwJBJWJiAJlYcAETeLBIawIACItYfaEbiQGjGJlAIAYaiAmmXiiCGdiJWmQjbWdlFAcIQnwiRkrAQJxQAcwBaJwJGukASZlGERBOJiWAdbkARAJJaQTUfIPUimJyXaZzWFUiQUmFGWEbnDBIbJwJxlJWAFIacAIQKnzalmbnBlBlxrVmQWBIMNUXbImXknnNxIbMEoAEakXlkIvGikAIikNGBRoAAjWIInBjlBjlMaKAoIlcFXBjlBjlWmZXaqnmQVekJLeWJRVwRLIRkaiAIQUWLeEGKMRUWamyWCEGLNUWYjlmtzOQmIRkoicAiHUXZHXiqAJLQdwANamAQWQNlnOYfkoIRaOkBIRcBQjPVjlXaJWfEINUWEIYOGWiBioqFGajrwEGUIJQfJwMeQmBIRVZxnJmomQUalmorsUBCIakAXIEGUberMUWaOayCUecKCUGPlxLAeamAQNnZIRIQReJIjAmRAiIIkokIQZkpAUapccmOIADjkkRkAARAlInxmoaJQcADbiooGVnAIQZiJLaIGwQoORAIQcjwkQWoAoWmQQdRwEARJOceowAIiAlRiIWdAIRTmwaekIlIiIIRBbQZIIYWIcZamdJVhNfaKRAXqMXRfxNkbkAEPRNinIQGbfmkqnmlJMPkEzelHeQOlWZkQIAIQQdaYiAJOoIaGcaRmBfhIaNQykJmqzaoaikmxinJiCIWCZkYkBVNcdwAWJimJIPBdAAIIAAikkawMIcMblAkmwQYIQdxaWXjkUXilBXRxAAcbEIckpAXAUlBQIBAIRBUaAdmoBwiWYsoRxVBIpJVgoIccAdwoBbaBAQVAJIRdIHkbjkAdkxcIdxYAnddoikjBwbxkEAJAIcAAcAcRwxjXCJHIIGtlaimJijFfQQmaBOoAoAsdRkIQImbkQIRwknBlwJOQdaBWbkGkJcAcELAIZwYcJApIXceAQJitJlAIQxiJOQQWIakoURkAJQdxXcbAiRxBDIQYfhkmpwSQIaXlaFbkQinVFxnnoOPniQkbBlBkMXkQJJNPUYduiFImIwREXaemIQcAcipAIcoGaAQQoIQQYcQiGaiBIQYdIQdAOitkQAIOccdCcBOXVLajPNORUoGkQkmxyWamjlxAYcelNBafIMQAkBIEWkflBDHeGaZkjJcAbAAABcjnBiiIWAsieaAIRxjBJxnBIQIAbCFkIQZwdMJcoAEMYdjuacRAIdxamJwQFOZkApJJoIAcIWQIAIRwJwQcbxGdCJPAIcpaAcJURkaXImQaIZvzXipXbZdBlBkvJiQGIRiLlxmNxxjxcBJaJiHBwDPlwIAImIQFbjdcGKQIIbkmciBUUIAQBRdxEUjCcnxAQpBFJAJdBDFHkmcQWxwQQCUZkAoFkAJORkbycUIoAIcIebAamIAaoBIQIQcpBBRBWiiJQiBOcAIdOXiWaEABimjwBQdJQVwIRJXaAIRekFMkBflOYAIQceaKElmWdIQPmdGnckQjAQdhCHWamADIpIPRUINIJWdBORcmXelPmcYIQafdWCQbbeIORJkClnICEEXUJRwCWaKQcpqBfMUfcknOQMnaOIPbwnmcaiwoAcZIfXnaRwjkAiaGIQdXiHxkalfwJBRYGXwIKJIjkoblQJxFGJcSaIRlwQYoWAAIQRiWmGHnjbNfmWqmmMQWFVkXmEcRKacAsAcMMbIAdAXjGbjjbjkcEaWkhblbcEYHbdCnbCFbbRbaIRxaAGLbbVQSOSQIJAOEUIZAljlAJPRbpbbVHbHVbHRbPpHLRLRbJDfFHRbRpHReZRVjDFHPRZbfprRbDFbRRFHPRZbFRaqfVHbfHfbRBFRVajpHRRaJDHRfFHLPRVbpqbfpJlwJlxacAYBRRFHRbHRRRPFZbQdVHRFHbRbRRbQAPPVLDZHbPRfFHRboJQmsYBRaKbmBjaApEYsoiopaadPXioWcWpAYaoJiWqIkTAQbuQFGbaXmoHwICbnjjYaQaYiIdbjmBBGoxIRiQJIBkQJQAdAJxkpAERAtcGWOAInARAQBaabQApAEXkAPmPapXrbAEGniJkcjBkmRAERcGiyEkBRZAcpAaBJQGaAIKmAddAIQdaIAIRBAIIAjIMMKoIXAEIaxAajRHackJRwQddbFAjBQaIlaIxllbQAcBJARbwdAJRAQMwTaRGcAIBAIRjNQapkAbotdiJABWYikXiJUBGInaITaARMlBrnULIOoiAcIYJkIQjkYRdnAIQcIJaMZbeIHbjnWJjicNOmApoqaWnHIRQJdwBwJiXIJaJcAAQApKcEKWoOIPdwdBGIQdAIRYblvwocoOmIOdyAcOAIRDFGJLPTVXfhlntvxyAJBxGImCWiAIXiBDGOAccAIQnIQIQiBIQAOyOQcCdiCGJRYaAIcoIAIilPiqcUQAIcJlOBGOQjlGdJcAdIoQcBfBpHUSdcsbHBNDRmaHVUIWmdIIOIGelAJwBiaIWiQemIkIYBRkXIbmIsQZkEIXkIQQmJIRwTiWOaAIIIlGCJkyCIICQdxPcIQcAIcBCFIKQaelwPAXikAIQdwJZAmLscIQUsbkIFGJxyIccJwcDEILOQWYeikmqtxeIItaccYIVIYBKmHIWbkmpAanWAWJJPWIWfXUenIWYalmsyYAIkaXefJpPxEXIcOXwjARIXkAIbiJtIIDbxkaIQWpwABkwJcCFIKYcsjlwBCIRACEGJQTUXZdlwzAIQdsQcoISdkJCaoQOAIWZckosCEIYadkIXlwmAJRdwFKacqAIOWcnIOdiQRAaddGWYbOcdGMYACIKQIAIItOMQYIIIajaiQOdbIYBDZuAERfFdjbYWQjPJkoAjktDxakjBjkRBjkkIYQIaQFIMQYaejlwbIARJlaAXbAJJTYXBwQccQACEIORWYikrwIQWdyQBKQXxBOmIcIMYfkGIQacflnosGIRksIRwOnOdaRGJIbIsdVlatquWMeBUFbmPlVnImkbNtAWIXMQkBluOcHGAkkAYGAYIUuoZbiPWaIXmmmWvsibGnBIcFJaPIQaIHQGGAjBiJwaetaGZULSBKFafuImJkMDOSXbyaBSpoAANHRABJVkpAcInQkligcUImHGAKkAjmbbAYhUiBujSIRQkBmWjBdIIZiYKYaykGPXaJamOIiVnBLNTZubJlxBJQoARDciXkdkdaAJBpaIRkRcRFidWPmBbDbswIAIclkAaRakBAJcWckRAIIIqaQoEBQIkxQamIBmKSSObHamlkbJIAMJapacRxvJVDPIIJeQJGmkDIjEZbJbwaYZPknuSIcEYJYMRTkpwEZQaiBccQacBJNmeGYdkQkpOcsQdAYObJSWlHYaGPZsjUEnwcdesVaBwoYARKpbOijwEYGmAAcmAIWlwAIAwhYiIICjHBBIQAGINdIcAiiAbiAAwZbkQQciiAXUdwAcGkQmdJAJBkkAkmcIWbAIIidAcXIJIBmIhGkTkqAcIbBIWKAcBBAJAJAclIJBbaCRkAAvxAFnQDkjUwIQXcGFlujiInmbNvDFPXuxMRNBLNVXlwbwQaaXIdIiAATAJwBaJwzUAJdUQjkcIRdwjBjlBjkdcicAUObSoAqIcQcCEdACmUVcARjAJxWIcJUIdAIJAcVcQUkHJRdBnQkeBAIYoRkQwiYaMFBfSnygkaACvQaobeqqAvzBDlFaIRPBajPjWBlWIAbBbDFHLNPTVXZfjlntaHPbHPDDlbAQblYFnBOBbllJkBlmAcBcAAcDKHyXXAWWiBBAnBJABBNXUmIRWxWamIcnBRdODjJUOiYGQZBkJdJYbXcVampioUcKRHiIRAZAWIJndlkRHbmBJZIDjxNbaQHkcJBWcrWrGbHYJZllxIBCbPllAmBkRnVapBJdtklWimRiEYimbBRPJdJAbzaajkIdkrliIcdjlFAIpOJlVlmBXNckwkddAUQbBBJanzBIPbiWVBdJjNfRAJllBObBBbBAboXnlRJAJJkBJARCJjdPRxJBlIIDHdelbZaaaBabBbBnbEmnnIIdGBbbIFXxBBllAXBXXOQAYcPkYXlniRYFbPbBPvOnndVAAQBbjJiksnHRJAIHAllxBJlvlWnwXBlAddJbqqBBddBdjAjBBARcoBxaRMNPBRlJZBnNDFTZtbDTZdFBixnJBdbQmBJbBIJPNPYTYNMIIJnIRBlfMWAAjHkIQaBbIiBBlPIbbaVMAiLaaWqwEXPBabBbdkbTflJBxjVMXbqXJlJkBkBHIikobBJIBRjWHjldPBlRcalpwXPXjAWZABiRbBBBJiHlPBBJlzAQdBJBcdFBABLBPIORARJxBRdwddnHBBpxAmIiBcGmZAdannjBBIQlBJdlFvbDJIORAARBAPjBIRPBOAPanllBQQxbfjBFbBBQIRJlBPTVbfkBOQdRjlwdBJbdkmpyBdiAIAAAdAQxlBvBlPBBxLBddVkzHGqjIQacAeDVBRAayCBMbBDHJPVZlBBBbjblBlOnPlnFPTjdBBBBBfbxdXARBBbAcAJaXlObJxBJxbJbbaQAcQlpaidBDGanGAAwAnnwbPajaBBDFHJLNRTYMNkFbGadZlOaBCFHbfkBJBclAGrbnsmYpJlBmIIbGNaeABIYwWcGBIcBpBIOclBAIQARBwBAHBBIRAPBAGnnadjPBdBdzliRAXDUcfkvIbBIGPJlSFjaniQRazZBApbGaAjQiBdnBbdBlzBxnBBPnPBDIRbBIQdBBJBJdippAXRBIbPAIXdxJInIOIXWbIXBJRTWdIApRxPHbaldDFHJNTVXZadjlntbARjBykBPFIXBdBBBBcdlBABBFJVlkUxjJWlRVkWDlkRboBJAJRPWnBlBXAADLOYGPkRkQmRdBVwJJIYRJIZlJYQkOkfQZnBJlfIEBBPBkcnXjZVnHltxaBMEbJBpbxmBJBWIaWAQjGBPJRBCHdBIBBPwjaaBJBJlzNoIERalJjAVDlAIBAPAnQoLBkAIWYRHPUXBImqbBBApGdNAlsZBBNdAjnNQWiIHJlxBFJRTXZflntuxyBIbkoRlJlsJIAAAakcoccIAcdpAVBBPBubWdBBBJRwBJiaQXBDFHJLMRTUXZbdfjlnprvxydIjXJFHJPTZfjlxBBjjlAFVbBBWXdlXopBAXBjPnFBdXknvxVljlBAJJFUABPAVBAdFHNflBBARBiJBARXNRBBibAIcoijGjcIRdwBbScCcAcjxBJQBlzPmbBJVDHJNPVXZdlnBBAJIjxAJWnlkYYuAJBYPXJIQixnAItNYdAbbBdbBYXxaBcIcoXIQFaoBibJRxrvZbaQaoiabApBAIHNTnBAVBAVnWmoVBdwHJNBAQZxdatIBRvZaBjBJJBBxJbAQRWCFXdJAWdjXlPBDINScflnyIXcridXDFHMRTXZbknBBBPIQIRBIWAnvAXBEAXJtBmjBBVPIjlnllBdAzAPmXRRcbmabJIRBINcoQRkbXjlJarajEPXIXnaXPcijlVjAbIcDBxkBRlXlImRlAXpKRmbWbAbcnRBRxWbBJRXbllJCnBAaBBBBAJdIbbJxbbBBxAlZBHbBIpJOnINBlaIHRjbIQnBdBJHRjmiciAIdNKRyHHXnZBlBHnmLlnBHAWZkXmMbBWncWBBllARGtXdJmMQoRnBWjljjAWoBmLaARcjaJARaXHpHAblBBxcjlJlbIVgjxBFHnBnklOUUsvfXTJjEJnGJBRanGClJbdMiVbilmXacXasJHkjlBBPwljxxbBJRblnxarJbFalxZajFIlLubxbjbZaAJbbIXacicJBlPZrYIQFRNlfAlBJBPnkWRHjBIRkWcBnkEFmBJXbAIBRnwBemejBlIRjRbjARlzBwHkRWZHuCRbkRdaRlZKpbxBJlBQiclkRBddjjBJknAnbxbNAzPABlPPxlnmlAiFRGbUQFaRpJVHAooJXHURxJbBacXJBlYIQdnxBJwBIbNnnfmlmzTdJIBJiRbBBJblJJjbbARjjiJYoAuAAaQxxZblYbdJACGbbkjIBRAliLddiaiIGQoNJWExnAbcQdlAlvBWHnnaAIJXbJkdIZZJAjdjknalJOZBBRTlJbZBJBaibBMRbHPaJnBJBBBhzXlInxXPzbPPbWBBbADRwjWjHqRlXbXBEBPBaajknaXIjAABQdpATAAtDXJnJcNAEcjdkDkmijIdPNkipJNSpPcBblBdJbZAPTWkqAIRSXcjoBFTciBJTcipJYqAAJMRWiowAiBEJTZdfiARUcwIRScpBIRTdAQFKQaOQdcAJScwARkmoARnxlQcBcpamXiAAdiAdJaAALaAcfkAcdJliaRlNPlyDGnRnwBnGlwylMHnOlXijWjwXNdnGmqFaKSmktJMIQXJBIdHlAiNHinIbcBAHxaellcWpApORZRjIRxIRaplllcMnRZlnpxNbiqBABBRBAEdkbAQIbjIBcRjANBcpZBmnHaFPbjlydjnsBJaBadoAAnEZkjPJNblTZJNZEZBFUcAjdZbJjQaXdwXlbEiBjaJBJQbdaiJRwiQbjkjmIHJmAdabAJNOWiApWjblmdBJJioBRljlRiJJbObWRnxblHjIaFbWJXZBbbRdQnIlWBVAdBBcpnBPjlHJXjJkkRWaAGZflHbncdBwmbwRjYJBMmcHibxaCjjlnxIUanYBBJlIEbkzXajmIadbltDFZlnsAdlVWbjBIIBUXltDnBXlYAQBZjipjdkHIRnabJYclXinxJXakAFILacjjHjnBJadDkdACXNHARnwqIBARdwjWicpanxbXFaBbjIbIACAaBoobikRNNjxidQJxPJRwnbaIijNJalIbbjaRYHacGsIdiVBVNXJjAIRlDxXXPNVJJDxabBiZPwpcFWijrnlxGIXXGilaJPRltwWOdACIKOQZxaPJIpJlbilaARiJIQQcIIcAoAIQdwoBwAAJxaAIQXlwdPjnAJaQRxeIcicRwAdJRxjljXNJIjcpPdABAdlAlFDPjkjiJPZjnwIBYRDUblJWrNWBZjAEcoZxJjdfxIJwYBiJJIrjbjJjIEIdiIABIoTFadJlJJjJJjiblIRGfJOXjHHQblmdNVPidMdAYpWJaZJAkipwBIpWRLirAGIPBBJJjkBlCENPTVZjlvGRbjkrwydISbkmBBantZliJIbaBIPBYJJxBHtwkVliNJMqmQQWXxJKXjIQaFAIFZRVZkRIqEVFvjmFIbDlmBRZbbaJnIbbJbaBBdOXJAInFiFAXJXbGQYjxIABBNBwXwIAIPxbbbATGCGjkAXjxInIdBkiXAQanJiWApkFIncjIicoAkrIWAdKacARnAaJBWilJcIPbBBMIxIDxJjIblJBDFJPTkJbPqWmHJJxvxjxHBPJBJJiaGNkBbnJnpxrDjtbhlzxhQjnRBRbbBbJJPxdPnJJJPRJxXIdpQJcBbbxBBIPdPJnIbJlBcGnbIXJIkXjJbjJJjXnJODHUXYalmBJbMWiBUdoBCHQbclvwAFHMXZlnYmmFzHaqtwBJlVJNajIGUikdbJbmIkQdbWYdbilJXbciJaiRZnmWiojWVwjIPbnbrGkVJeknortrEZanMUnvJYamiFMlnIfnMYfbGFNCFGZbYdlwQApjZxHJbuLYnJZeIjXErNWcjPvnlNXjdXljwjiIRdjmBIadEcfDFHJLMTVYjlnvRbZjZRxNbiRiBILljxIJbIboJWNHBBEXkFEaBiicdJidIAcBmBabHBWERmjfBnmiXlkRoXbjdlmBIRUZpxzJfajJIJbblliiilJJDTlIfkndxMIniVRXBBCFHILMPRTUWYdeiltxyJVbjlJWXPJIJJBDHJNSXZbfjlxIZBJPcdxAJRdlwodIJcIpSbJJJJGRVbjkobmpPIcUJwPPAJIQZpwbwRAJkIRkJQZdlyJIJwiBwBnblIJwWIRkIJBnBIRpwRknxzJlxJiIcoIXnjHidIodaIAjpxmiAJWcoAOcoAIcwQWcRcIFlAIcoARaccaIQAIcIUdkmpmtABIdPxradlyWJwJwBJIRaImJIdntiFAVwBMaLdlxbMXZuNAIQZktwjjIAlwJBjITbdjnJDDFHJMRTVXZjlnrnMWXimEIfJBJBdnJarbdnuIJIQlIWPZBbBJbBjlJbIpZIXIPBJaJbHnjJJlBaQDBRGjdlVBVBJxHNbjbFdbiOXMOAbbjJamFIIdbdBJZxHjbBXicjczbVGNHIalBQJBkBlwjiRblZGoXApjwBjnxJcdRxxbRiSDOXlJjIjdfwLMnmRxPjJJNcFBjJcXjlJjxIjIZjdYABHZjIakmBcQdJJdAdjIQadjlwIRhzjJdxxxAQVJRwIJwBPjJwILIIIRxlAUBpJfeimcBIbiBbjXHIdjlopMpkQaRcWjVmmQRIMjlsBJZxBrbJSdkdIABJvDbjFbaXxmOXdiBGJaIQZdpJbnJnpJwJlwIcdIpJjbnJIJJjtaQtkIbiXNjlbbjJtjjxicjNaJjfipIBbIVmjnNPbbkqdNeidIRIodkRIbUBBxTJGSInjJJbaRBiIQIBxbjwdJbJwBaQPZADNZbkIdwwlZARlaJlwIWJknxJaWJbBJPclBJRbdlnwABBcBAIdwGcWcJpdXqQdOJxlyQGQjlkIIIcIQdadXlmdPZwOGIKQYdkaRnPuDJRIRmJxacaiJwxARJBJRxPaXwbabiJJbBRdxJlAJdxEILMXYdlnAanBIVWQcNbBDJYdlxajnaiaImIbjaQbBDFHJLNPTVXZbdfjnrtwtOaDJRaJlxzWDJJIbAWamHmXlwBnHnxxbJxBcbxAIXwQIXlwJBwdAJQbxkABcRAnxbBAIdGRaiElIRxaBDGJNQXbdlxyCMcaXxajaJIatxdAZlnwXJbipxIQVZDJbjaxxaIIndlUJwxIRIQXlxJlwJxkBBItOjjDEGJRTflnIAbbxlMXjlxJRiNXJkJPlknxPRXjnIWJZkcPiIJXlljDFHJNPSZbflntzxDbjlbJbRxbJJbJaRBIbxbadbXaqFkdnWXOjfHIKbnjmcBbxkXddBDHNPSXlnxzXiJJzDljBkJmbRBbVjnwBJbIAIOdCAtBMIIVxHPJbjBJJNBDFHVZejlnwnjJJNwMnaMBViQILkRldXXjJJdajlccmAndxIDiJaJwAQHjlnbLxIJRPJiIIQYJbJNwkXHXMjiQQiBMcXbjmiRJmAEooJPkjlAiRxYIoEEiAXbijaQjIRwdjlIXxJidJIBXbAJxJbjxJCFGPUZzbbxibbfJnaiTjamFJpIjjlJbkbbHcnxIIRwaQdGXjlnwBJUbmJIpxJIXkmBltbaHMXZxljlkHIBARJjbSXlxIcjHjbnkoIcdmIRxBwAWCpRlibaXbPiWdIBaIIrblNmiJHjJaALjIjJRkxAmWFPNlIAJIXAJJmBXcbAdAJlkkBWibcbApAIjnkmplkiXIlwRARnJaBbaWFaRxbjibiQJBdlXBxlBWRbJRbPJbxadbbbblIAQwQJkAQAjBlaBXcoXliJDHJPTVjlnwNAHdBdAjaoAIcipAAcbBJcQicpBBJRlOlnpAnGPZbdkmtBHITbjxJadltZbjtIiWAFuJbjajamlaPAJAANRdxYXjcHJRxjbbbIRXcnARbdxXBIRXcdbAPNZbbparbIIQXIaIEdjacBdllbJbaJaRAQJlGRwmjXjBjaHbjJXBHJRknIRlACFJNVZtxBAQXdBJWnxYApBJdBJdBdZaDxjkaXbnBHRxAFjCXiXjIbbiIBVBdkZaPaWnYcWBkQcQmmBAcFtaRJBINjJIlFJkEccQBacqiaQIWJBQcOCIQcBiAbwYkpXXbiAAJKNbcBAakyJAoJRXJIajknZAXwjGdpABlRBJMbcFAZBdAEwbDTaIRblxBIbkmBiFblnyCSdIXbXjvXbvJbblaNWqcNXlxFImrnmPBFJPRTWbdkxBJYkHnJccEjXacjwBFJMXadXblnkYcBXbaJbXjyAIJacdcTbXjFalaXAJdxIQHcIHlncXdBEHNTXZblmcIdHXjkWJaBIcplwWRdBnxiHjiBCHbirXAHJbkmpabXbiWbIJjcXXAQcwdARcRmCjvxjnAYcHxMWxBARlIEkciRXbnwABjxBIIWQxBDFNBBNBBdBdaGmLarbbmFfelBscWFadbuAcwQRIApeRjIWZJmtwcQXcidXBbljkJBJjRfxHlfNxabBbDJbxbjbblJbBUcJJjNPlXydPVUIBUVaaXkJAItxjFHXTkjJXBGRnlJFPrDjvJjbjHAXAWRGQQXxAAnBcoXFkBJJdIGbnARZRBIdxnBBJJBIbkPlBlFBBmBBznxkpjBIRcpBlQjlWipAdBdBIOnkQKmizbIRmnIdlbbHlxqQyDJnbGBwWRXBRdpxbIRwJxYQcRBiIQWIRXlyJdlIJcjIjAnAXbdJlnwdAFIZakIpxAJxaQfaFaJRdXIXwajxAJRdlxyFJIOQXdxAJQWajpxJXxBJRTZdAFImwBAJQdJnBIPRxzkQjWbknyRBARoJFXblwIPdJxJXblIFIacknzAJLRdknpxyBIRxzJZbARdwJkWJBdDHTZbfjlnxyHIbABaIRxAIQdkBamBaJwIEnXkXlzajknbabInInJjJARxDdmIJdxAJPlBJRdAIQZdljAJxBPBRdlxzBBdpAIKQYhlpvxzJAcIRxlBdrbkdBJadkmpBJRdlxAJQVdxkXFkXRWPdjxHPnAnBxBBJxNWnJbkJIXAFJbkmxVbIPRwDXBAIRwIIpBIRxBIadxPbjlAJdxNXIWjxzbladwDFUYaknzxIdkRbbBJBAJBxRRMmAJMWbBdQdonBJRbdxITkDaiHlxdQbAcIiAajlIXbknzBRdluOQdjkmblafknBIKRXdlxycRxBdQjlJwJdlxJQZlOHJlAFdxbkmJlJBRpxFUdlBdpIdAcBfipJXbkIAonAIRlwIYnxRMflbAndXZuBRdxBJcxblBRxlzlknbXxdFHJNORVZbjnxJBnZJJnxJRJwACWBkJlInAnBdbkXAIdlpwVlPBBdxknRxORxNJiJxBIzdxlSPbAJJRJbBCFHJLNPRTVWZdfilnrtvxzjJIRdlwZafAWnMVAIRlxzBJRdpxHJPQXdlnxxddAJxdjJkHknbknBxkbBkJxRlxBdxAIRxRBRlJlbxRPdAImWnbxObAlbBlBTVbBBBcbwRxJxBInlBcFBBdlZMAjjZdIcjbJjJDNUXjkXAXIZIdIVkRxAdBBiBIQXFBdJlIEIBkIXQaJacRjCJPlLJlxTIcXPVJkBYRJlBIJRwcIcbkZblnwFILadknzBDERTVdjlxxFLBIRVdlwJJRlxzJXjwIccQdyIoXktwoJJJBbkQdwacAAPFllbkXjllJxkdlwnuJOQdPAJEAdlAJJJlcMJGZjkIdGJxzHjmaiJlOJjlkIQlxaRwJxcJmlxwmIIIHlIJIRFZUJPzYJIBUJjzAJHxbxwmoJlUZAmIdiAIQlkdPbnjJJbbnjbCdaaknaBAViQBkJcdARcBJdpacpAndIWAaJlAlNaIIcAcccIABxBddJxJaBbFlGJBlmiNxUIAjBBdJnAojxJlWIBikcEnaWAAdnAQcXAXBJAWcmBumjBBCHJTZdltBcmGNjmyEINanwGJaJbbiMObBCIRlxACIZlyljadjjbaBaFDaNjbEWjiEHfbklZoBxbJbBdkjdlBNcaajnIlmGbbdJpEHhlnXhiIRxkclnJQFAjxiJXnGaeinBRdlxajjnZaRckmHMjYliJJBIRbbbbPbiEXiFIXjHOIJGRJwMWAiJWZnERWakVYaoBJdxIbjvFxlwWRdjJJBJRjxJbkAIcQkcoAcAcpcilwAQiocHJbdmAcAQBIQcIEaRYBdJlikdjxJydjjJViAPjlcbxjaXiAnkmBIIRkwdbbnJanbBiXxXbjADaqpbXBInBDHLPTZlntbkXBJanalBdnjxIdxFaIAccTWjlnwJIakAcAIRBAIAjJlyHXbdAERdxINafaRqFalvyaIbnlaJAOmidJBdblJdXjldXaJaYcjBBcadbjxJbBAJxpjiWioJAQIGIjknlJaJJDYbdlxzaiAmJnBHmXRxtbMlXXWiHlxbdIUQcsXxwdIJAIbEBGAiRAIQXlxtIJflxxDFGJOQTVZbjlxiJkdcoRwcBwnyAcWIRwJTjbicIQXadxHJJRBDFGLMPTVWYflnpxxIRdJxBIQcpBIbOJlxdlblJBIJBRAIcrBaobNkJxQXjxxdbIWXaQWJdXBlBIRdBxAJRdxjEJwnXxCQIJxfkdlxljxaRiIXFblkJkJwXEIjxOBbOcIXkJIZkdXBkAKXIRIXlwJxPVMGIRlbIPwRLmzbamnjxNdwAJXWXRnkRXbArJXPRJIJJnIRwEAOkJuriJbbkjBdldwRIHBBbkWoBaLbJlcDApxJxkWBdBJAGabbkQIijBddaJbwBBJijjjBIpaFJcAcaABxjVdkViBdJIdWlJJaTgNabJHkqRzbkJlUaBVBajiGYFMVgkAcocAQjJcIaRznxJDHJTUZdelzxJRlikJjIaRyBDFjXIZUJJxQcOHXkaafxJxnlXXIIjbXJjBlRBilldJFXkjQaTxHCkEFxlznWaWPjBBtXlBALNHJdDHNSYdwQjJdBarZYdJeWjJlIXabbbbbcHkQpHJiniAAdBPXbHBRRJPbxbbaJblxaBJlxBIUBDFHNZlnRBbbjaBRHlBRVvBABIjWBjBJjPadABBJNAARlZblJblbbJvbbbAdaJJJRRAFQwFVddZbdbbdbbAPBZbYpGcXHJTlnJbXaIAJORAjXiCQZjlvxRaxJjBJbXXJRAOnajXjnJXadBJVJVXiBBIXcApBBIPdwzBbjRJZwVbjPiFJRVbBDHJNORTVXZfjlnIRnHbjbxJxDlaJkDBziXWcXlXjdxfJRexfjIaJJJJXxBJjbbXbXbbJVXbMpkWAXbjwQdIcAdIaAQUcmoBkSJbwbbIjXnFVHiNPaXaAEJbdkptXaAANbiqdblbbbbXRbVIotxBHAbnadbnwrBjiAYjRwHIijbNGnJbbAIJmdIRamAJaInPaBDFGJLNORTVXZbdjlnrtvxzXbjAXcDFHTYdfjlBmnnkbsAIbJHbJjbRBJMbcGjwJdnOnbaNbbbidbIbbBAaBUZbbjiJRkdjnPVHVJbfniCJleJVFVIdUZJVJJHknGJGJZaRbmAdAawIQAdAdJbbPxAjiJJBIBJAlIbdwBBaSYjlbbjbJjIBCRiRPlwFkilBIWmoDidFFnDnIARaibbxnrnIRYnABJRldaFFaDJdxJPJjJbIjxwPbFbijIJUXiVwIIQmoaABpRJJHJWoXbmFHQbJZfMkakkIlmJijRBJPkbXBHJAIoJbNjaQRDjAjbBHIQnwBAIcAjnBJJaHPlBIQPJBBARBJOlBJkIcdJlbFlliiFknJMnAIRIQJxxdxJaFHNlzFbBBXblbbbbdHRAFRUzcxYWnkjaJNkjBIRlnzkInjRxGRcRdbdInZXaFHXJddBIOdlBJxbjknxJlzlBxInbXilaibjJJXXXJijBBSdnXsPwRIlbXHFbiPBCFHJPTZfltXbXbBVbRbnUlBJaFVXbFVadlXbwEXbakbadVIdQAblFaDmAJmrJapxAJbacIRboqcBIaIidxbnaRancQbJZojIabbxcpxbJXmXxiEcQJkjiFWJMRZknwNlrbdBIMdkbJAHXlnzBDFHJTVZdflntapBdbbbbFBDJPTbknAJbbJnkiJsdnbiRwbGACBJbaanIXJVkJONXbBJjBaPWBJJIdajAIJPQbBJcXYjdbBdebHbDTZjkjNVXltknBBJjcpAJAXJWQAYlbjkIJacBBniJwdJOBwXJBJlmQjjnJJlBXWccJiRXiRNNnjJnIdBknBGRBBjBXlAYjbjwcBIMcBaItaAnYBdBUAjAEGmJzZdbbJOAQcjIRlklNBjjxIbYHIQdbAAcyBjAbiiBlBJBIkYmRbRfOZjbnwQRbYmnRAlwAQdBHMOjYmeAjkrkEldlaAclwnXeAaRjjkqddlIBJcREVRBAsHljlnbJBJXJGDvkXdZxXTBipIJJllXaUilddwXePjNWXjbkJjdIQJHaJkIjRJfxIBlvEJBxJMXJzEQnJjJbjadEXjxbnFjiJJJGRjldNaBRxJBUPBbkinbwnmdxNdkEikdjJbGaHkplMKqBYBmXdeoQJIoAJMscdOnnIQdfbjiISanjlziJeZflJRbxbbQQdAMRchJFXjIERfAApRHHBIRcAIQcXAHJirbIEBXJBBJABwBjwIbJxBDFHNPTVXZbfjlrxXjJkooBIBwIlwOiBlyJcAaRdIjlzanIXBXJjJMRPjJdlXjJJxJxaJbGGZaxjIQAdfjfjIcBJaJBcYBkIpbRdIOnbNbBxAHJbAcnjJkAbbdAOVwMWBJlnAJxypbblbjRZnAFaHbjJBJnXaRwCanJBJkBtlWbjwacdVRljxjjWJzDbIbdbXnbbdbjbladkmWRcdZbflxIAJdaXhlBAJjkRbJiadabknZUJlzACEIORadjkDxJNjbbjOIAJjXaQcpwiAVWIojXXWkIXBjQJiIIIZkokcRjksaQXmlBJRGllBlbbwcJmRIKoIRilxafXUkkdbwXlicoXicQQIQdwIIRlxbIdjOjJXbjxJilaqAkomkocpIAWApxkJiAIcpCnlJkkRZQJjaXlIodideJejwddnIBHNnbZbXobJaHaIjlbkJkFxGIajllEQcnIdlNaAkBnjwbiQBadNqQRIcdkBlqOkdJFrjtLMAQpjaRqXGnGijGnGWJJJmANmTaDkiBbMAWQnxxbPiiIAObkAJBJjijJndkdIQiaaUBOmHBIAJPjmDjBBlCcibkUZAdHwlPUYNcpBnIjdbJZJBvBBcAijdBBfHBAJSkFxFIXJJXJBdFJNkmacYiAIcpllnmZwIlxJIdMkbIJARwmXJlIaJlARPcpWIefkTIGHddbmcdIdmZwjipYcdbAFZilYdoAIZIHJmllHlRIdiBmXdBPFbAcIBdjmikFJAXiQXiJjQARFLTblnkeblJPkjHBIQplJAXBIWIBTiRbaalmjIpacHJInJIJlAXWbIQknjlFGQlnIHjmlGaFkYWIbaWNEcocLiIBJmAIAQBlDEKRRpZbiiAAdaAbXJLaoRaoRxkAoNbIlbXlBBlmicbPiWGBHmIcBikBlDwnNmiBioZHakbAddAIQdaXbGGQnHiQIjDijAiBABiIbwRRkRIRBJIPptxbJjXJbwFdIbFiRIllbIaaBJiWnlXJjlkdUdNLXdbIcRnXlJAIJdQIcbIjlAfjkJjxIKXkFjEpjJAlmjbObxxaojwQBfaoAAocIAIQymdaAAHacJJFixBQIJaAJaIAkjekIQRxeIBAdkdlaMIGIYAVJlBjUktPlYJnkXIJlxWlHceQVwHiIVxjlIBwkrkkiMNJwRGDaJiJnbjJjiNJbtZEdkIjclBiRIjJXkdmAAiAMBnJqmRuKrbnjkAkAmbkajoAiAwRPwRjmiiHaccAdIWUXJXkbBIPQcLRSXdkRxRiJlJJiJlwXRwjujedYcCBImAARJxAOAbPAZdIGBlxIJAJlHxYqJdxblaIRjwIAUAQIQlaRxbXlwZUjXNlYapHkEkInXJHibnIPfdoIItakpYBbjmdjbwamQHxbblxDXlaJaYjnbbAXAJcGdRijinNlJmIAxjXaRkAiNnAQQbsQJBkinxBnIcccBbBlBlNbAXROmxanBFZJAXaJPmJAbjnmFbxaWWXbaRjbOBBdAZkHxrYnbOjbiWnPAJaIIbAdNIJAUNjZBBBlQFVcQQxBQxkHJAXJxjBIRwHGHjXcAQaRjnIoAbnniGckacbcLIEYQkWRNbRoDdXkYBRlmBbbbmijnhJydcinknwBJlajxmnjdJAbGRcbGLHPJlAXBdAfJlNjlJdlAJwBllIcIiAXBZwVBjBOJbXlVAdjjkoWmcBJwdIBwBVBIjoiWHbJkVkWIHkmnNlJGNJwIkmicWMXAqXqcAcBbIkXlJnOQAcbXdKJlGUXlIkAVlmIdbIAomcQKBjbkAoisnJJlxiWdbkMWjwdwAdajdJkcQoBIcIcacQQdxJJdjJlljllbJlakcdYXbakbWjenFBZZEIAWGCNadHlmBIMXZjxBJZjlkBJadYbBBkHwAFJRUZekmqIimXBCJdkQLkBXlkmcJIGIZRnBJwJADHJMOQSXZfjmqtwIQRwViQGJPWFAUAAcnYRwFlPdbXwAXdlZjBmJIpxaPGJlJlPxIdVkwDleWRlYlalAiFbJulJiBPaiJniBkWZYWBjjJiJIdRNlIrjjApaQRUGkdlJlQBiIBHbwBJZIBlBiJJwoAFZQNDkcoBBjmttjAbHPnbjIaOcJUEBWIFIdniBaqIOBBiaBxbPbkCJXaYBiHmaIaJDEGKWYbloRJaoscFaBaQldZPbJZxJbbHbidAAJltDPUfAcIBOdQlwEEcbdDZiHBQWbaaJJlydaFJjJaQabjAJoApRbiwbwpdJbxilJxJkidHmilDipIpjwbOBnPljJaBaDntbJJFiiPiHnmBBbidlYJkcAQMVdfknpscPnmJiJJkbmFEwTWYRXwbxJVEPXZlmAJWjJiXiAMcBbkGaclbkiaPwAJNxZJjbJmmDwHtoRnPPkbZwAiMBaOWbiAQIBZlbIjXiQCdljFaiBRHxXjkBanpJlVRHgiXPjJjjlGnNPlFnJnIJaJxBJlJiAjYXIsXjcijZZjbadBbxIblsBCtaZaciOetIcTdkodldFlqIjnCGYdkcdpbioRZjJfjinJwJjIpMbIQdxnLiXlxaamlxNnkWixmGaMeQZYkbHuccopjJCamJoanlIPZjkddHXNjaFniAliOtDsjrnJbkiJQjiRjJMbZXiaiIidxIWxiaBIaEbVaRBJbbxWAaWbaRGAAnXHIQkQAoQdkdGIiJkcknzAZZARiZxCbDnalsdvxlIiWJMMbbAdaBddIFqoRlldklIdkMcqBJGcRzAenowVRdBbZldZdbJHBHRdZcEAMSWajodJbjkadUAJBJJpbnBnkyrAnBlzsLaHIoJbQXdAJjmdWaQAJYwdZEIFjnHkFBSIjnIOaiamiIMRbJHmGaHIRAmaFmmjGRRlEFfmZIFSlaBHHoJJNnXPlUNXHndpXHIVXJWXXnkDbRAJJBvBHXaQWJrQdJJmXJlBBXXPManjiUnWZwydmJJkAwcATdBbDGJZdelxdJQcpFbaFBjjaADabJjZBvWmcACBkmATQFWEUXJRtRAtBDFHJNYdflBHLPZjAdYlHjJbAEJrAjsjXJDPUnDIBajOHPaiJdAJbkmtbdnmAURHmJHblfaJbaBDFHVZfltjjnbOGRjnajJXalNbCCbJbbabblamZJabbOdIBiOBDbVbMcclMWVHrJJAJsnIaBBJQPElJjSjSBaaWYidIIIJwdBVRBaIDlAJbbAAFAJablWlxKXbblRxAOjwKRbJwWXlxaBBbjDJXZjlFJSUVbLflAEQWZldNRkJWiJJJxbxTbzVPbJFBbZvRdjdxtBICBCJYjxJFHVZJJisjDilTVllJJdZOcjzVJkfMXlpxYqcwRJBIRPDbwbdDmnbalJEZZPDdjbemcIdScBEfBxcfFlBdlopJJbBPxRDMRTXZnwJaJJioQXdbbbJbaaWnFXJARPIBAbWXJmIbWBOjJYXXxkbLdGNIXnlPnbZOGOdLJVjbAndyJlBaaIXIAJmJxFbBHPZbfmlWrepPTlJjaKPNxoBIpMdPbiJdlbjIbbCIJjjndkdYoELaocdBDlacnIXIQIlJQkFIJNBZZRJHXbbIJjbBBbQbJvxbaxbBodRdYoBQBYHBBJJabbanBadPBNRBZbbbBIEjBbjjbjlbiMOwVJlZbdDFLVWnrzzdJBIYlDJInlyFNbJbbbXiRUbBIGQRiaHJJBRiAwcRJJkIAQxHlnBDGNXZjkpAxBnbbbAQFbDlawQBkaRajAOBQBoJJJbwDTlBIRxJabfBaRbPjjljbkIzkpVlQJbbkJdinbjxaNbipBjbjDEJNnbWPalxINBFTWjlBJxJbaXlARWXPbwiiHXilnwnadNcFURaEcibbAkbjnWeBJMMYARaprBWIIEplJMXBDVjlrtjVIOAXxjAdlmTIBHHWQjFBRbBBBOIkdjbJYQaJlRbwFIYcRRiIxbBAZwcjbROjkryQOBGJiBIdIiWbFxQaXjZiJdBAQiXiIJQIBiRAQcIBIQXmpxbbwXwJJabiRwAdORwjlmljkAbJxBdmJRnbajIEUfkEAlIBEBtxxVJoJwVdQIVZjbicrfjklxQJdOOlmJlwCImWJlGIdlVIBjRcpdzAVenbORalQQdzjHBZJIRzjnlbbApjAFlKyPvdBYcXaJdPlJbCJbAJQcwmRJjjlcJidPwcWxmdPPJJrlbYpmdBQADpWLBlAJldnsBTnbJWMBNwWxiXCmHiHnBJJFlaBBJajImQlljJBBkapQcdanIJbNLaEBIiLPwdkOQQcNBYJBAPdJBiGOAjJJZGikjJARbjkBAdwFamidaeInjBbbbbrGaiiRNenwRlJdAlbiDFGTlackWIotxAXjkrIBiaNcKRnZaJcOoxBXFAnOjHXZrbkFJaHAWHIbxARcdjbbbbjblbbGcpkdlYijkiibIQIIIiAIRHkAIbOcbbvNfaobYlwGxIazGnaABjPbjbCbGnARHkobaBGORkjiRkpibaJJbvBJdwjXlHJliQwiWiBjJIoJnjXYQOCMRRaddjIFanXlmdICOcMiQdbaNJBJJWAmQjlkkpiJIQbBiVJQrkQmoBwLNkIKORkxJlMBmxCjbblQPOGHxIZaINHkacoAAIAQIIIXadDFNPTZafkXaSJacAJxiAAnZjjbbackQRBGaiQRdEnBaQOiZJbjOpzjJaRRwAZfknRNrtGnOnWnJllwlLTlHNXzlabBPJJNPxHibjIQdHjmcdnbDZjlmDjmnniBAqQdAIeCjbwnadAIAeQQocBIRniapfdlxjbjjZbnXkdJdaJBJyPcmIbBJIiZlbajJaXjBIRkrboIIXuMWGXYoBiqIRlmIdiRRWdxBIcxePlIpnlBdPNXwnBdMQJnxabdHjONYdBBIFaHdddaJBIRWGoBxJwEGYcmAWdwccWQFNjdmcOcRjkIJiioQWnddnbJBiXMGEbHnGLqbJoDllxlccHbIMeXaAIQWnBImRJxNkABEkJAAWoQnGWacqblVBEXnxjxJaBbCblAIxJlnslbIlNvuCiIwzBjriaAWxBcVbFalIblHuBaJccpBaBUiHAWdwXWnJdAHVcXJBjnZlIjiJcAYRPjnOJOradjQAdjRpjmJJbRImFlSXAXBQQDAazeXNlCOVAQUBQEQRQakcXaarVBIRpBBAHJMjXbwUjxXIQkiQRPAcZmPJioRBOJIamaWiIXjjkXAPUWJXiJlYnFVBPdkkaPbjnIbjBcIAWRaAFXBlJBXWRHbkXleIJAcAGOcGWmXIDXBIdlIVaplNRiojJmJPVXYbkJAdFXmdBBcQpxBIWdMclAzkkibDHjnwBJbrdBrwdJbxJbtbinnxJARbIRlYIZYAAGKZxVeBXlABJXaRBabAVWFbbZaJCWBcBUAJQcxBAojmBAHHDQZlbENwriLbXmdQIbkJjsAJlkGlDllHvvQIPdjtJAbkBEJFnBlQGJbiFjRUEptjdnNRBIRcpIaXveZXWBUCWjwIdYsajiJBBNIIjBAXPlJQJqHJbWWimoiEABKRbHWnsKjXNPOWaykbaJbHDxfXmRHQKjUitaBKoJpIAcbaWIiARXBZxaBBxbtJAbJTjnRnJJbBbcJRnBianQdNBAJRpIpBBlbJtbXRxJRlwKkIbbjxIIRwkRJBXlyyIJpPXHjwAJRHiiVjBAIRclbmRaEXadnbbBOMbiAIbjIMXkIzjHkLwRlERsBdllPkXCozjbkWpAHlpiXBBJWcBJWMUWJxIBFFDblRXfJJmaMnQtwlbBwDxNXcXAIXWAbLQXfjmQBXkjBcJBkjGAoAOnipbjINdlblwQBiARbppBRANjNkBkrkABJQpNdacnZtZalJtbbIdvanIAGUXOHZjXRAVxmbAVUCVIakoQAdkVjFIIFXcJORwWEQDadIBBRPdbrLlNnasJkJRXlHHOjRBVZzfwmOIRApPlZDJJZuPiZVsGJBdBllbnwBIXIaBFmQdlQiIYUIBjbRlddGaBBZJxIHMPliBcJbblnJYAdAIIWJcOQFRcdwXcjZknxjWdApAdJwFJDIdIUcJMaprEMWjkqIWwIdIAaRtJbcIcdjxIQOnGBBYjlxxBjDXcJHiQdBdkFbbPJzxVaEPdlxxJlWaAZbbZptjRpBxkLiRjBaBwiAEOlbpadlAARjlxBIZdaplMdQlnWXPliRSBjXaMFxmInOjlIFtmYWnJJOlxMdAdBRGFAVtfXtsMmpJaBbPJBnJanxIIjbjmNbxRJHiQVdxxjBjOJbajnRxdBBjFXiJwwINxBInYdAZlUBIUBiLaiZxxWFJBIOJAIQQdxjlzkIfeHxUMRkRSRtMHWjIGIkCoUBnlNxXGIcYIPJNkbYbKXIEajEUKWbJHUXiNXblJJZVBjPwDdATAIbRAmiQRAnBFVZlsqmQajIjVGFdZjaJRiSBOBlBBjgBRARpLjIPJQxOIXbbbIGBInIEhcjaABjCWFARQjxamRlJQkBIQlBJtHGBJZJjJTWnkRBAVbARPPAimjlsalJWLjBJiZeXbaQkBIIjiOaWAdAAZkXXJUMjJyjwjilxMNBIipNwYiYfjDHKqdtkAjGwYABlasIjBjpVAjWJbaWZsfiBbdpwjBxwJGBWHXxIdIWmXbFnEIqBJWPBcJkRlziOZkpWFHJkHUJBVFaJkPydGJcnxkJabiJbwEXSbadbPBZvBSbblPHRjJbbTLlxlJIDMaJBjbGXkRJJMJJBJdJJblAIjXaXcBXbjlWIktaXFcAcBJsHCbnpBpljFWDDkZqUcpOBPjcQQjIbaaAmZjcFjTwDkbBnDNmnjbjBwbJlxQUWWaiGqIWcABaJffuARRbdbnfaGpcrnHUcdIRjxrIjmoiXbJJZBQAJabBxIBmdxIdOpdNemBnObkdJlBIRHbdZAIDHNmiJYGqkOcYsjwQlARjlAJjcJYEcmQoJwdWZBJdWjAdVXxBWcqjIZjAZdwjlJIadJeQFIJHcAfnHIceJeQmQdJBGjApaQkpJJJsBflrYiGGflaXIRZBnaFJknGbcpAacmXXbkXBnJWlllJdxaJJbIroHGWXlHvBCiDmlkCEcktmdmGidmcPpcbHNbjkkPaImdkaBcWMjiAbbEbIEmXBARlaAcBMnblaCIRkJJcnlIQRMQVkYAJmBkIBimWieixAXvJrZidJAcVcDwEjBnmBRTaIjIJbxZiJBAERkXckUnIQcckIocbBnPdQGLPqQAjjaAAWQAdbxBkniIatAJlaJWBaMRnGjGdqRIcqAdGdjjxjHBJnIdbnBbaQbRBdVbnFVdbUBDWQfjIFXnlymbkEcAJlqJHtvbBcJwabWXapacolblKnLBwGLWYdpIRlwFnHIARlIcbJdImRCJJjJITNNNdYBPIPAodZMdvWSbIcIRVbxJmQkEkdIQdJAcZbxJdjIdWaWaimjiEcimYcAQbaBnbknlnCQBaaQBbVlGFRZfjlmlJJxXlrljnBadjaJxjatwiaEcxBGVjJaflvIaXYGdfRwcAfRkRxIRvlxNblpnMcQEaZAnGlQXmXinmJJfEjjkcFadjdNbIfnbaQYOIRjtJlaXnbaHAXkeQpmicBwXIIIAFbaQjkJvkQBlbbJbfBdanlOaLXaisWJbdxaDBjkimOZlfZXHiYDlHJbjlnmIRinJlAQbladlJlyAdiaKAAJTxjjRkIQIiIAbNPiImAtnBkdncWJwBTJlRadomUdVGCypJxAJNORcnosmFVmIHAaRxZdkeBkAIRirJdIAjxJjYdJjJcdjIjJjXcXjnJbeEAjeBIPifJOMpicdBkAcKUXNARZXjmAcBjbaDJlZiDEdlbYfnjeXpQJJWQIlZrwJJGaRkBRUJbicbJOekmBRUBIjxIGPcbGIocoBcbwIQJlncrXinllIXlIRkQRbwQqnniJkZacMQeEkXmAImknmJdFXiIaIEMRbxajGJEbnUIRkJnOjHVHVVbmlRElubaJJBJdjbjJwJxbkVniBBbibRaBwVAPCljJbwFMjnJeHkJAQWBxJXABxIkReFxYRdipJaYIEksRaZPHFzvXgIPNRzhIXliBkmipwJdzijFNCQQlkbJcIIRkNJxaAIRdInxHfxlVJRItxzbSznnAscABuJWBXZJnJNicIUlbwUAPPlxiFadaJQbrBNfBNZaIpbjaAcBjkIaAHbrPROMIRxjBRAJdlPaAJdnimNHlwBEAJdHWWXaQRYfjkIbbrjZMEJBiiidXJHGIHRjkJnlkJMabIARNbimFIWblJMAbaDbjaDaJjVYdGbbnlEAIRxjIbNaInxxidbkBJAFAAGnaaXWqnJGJiRiWAiobvxHMXjmHsqbMBZjJkqjudmtXVKaBMacalUGknbNGEkqDARxuAReoaWdVliJJktkIEkFJHcnAFnfJJBJbmnDinaFnJHIlLVYArxGMJJIHBcWXbSAQAJJJBjlJjXbAZjnxnXXckJIirkJalDmiFjiFnJGbIbadjWAMltcAojHHKiXiwJnJDnQRAbwFkJllBAgjYjbnaMrGjiJlIBJGZAUFIRkLlspNwblLiaKbDSjxIjRbtjbakBTbxjIQHbMoAaROVjWBlnAkqjRblllJYJaQJUIbBJljEicQAmiaUJbbJbjmdCOZkbrlFdJbaWkbXZnwJJaAQBIcocIcflnJmRipbwKMFjiERlRaGZjJaQJAERdlxnlrcjApXXxGtMaWFJBjJbcIJiIwBAbRxHIYbocoWBCIimcJbQHdBBZBINxIRnajIXmIjljlRlAxBManBIainwBIcmUVkmRjjjmYRfPPPxRikedkcIHjlicdKfbIRiInABXJkBklajbibnaZxbRRnPWJbWnjaGibiafYPJriOidJGRcUQEMpfQnxkXbImGamrDYVbcaZGtJIiiHlaJbRwAJIdIEYBWBBVCJXacRbimXlZAdRBRwBmbaGdBlkJbIGdiAGRIGMndjRBnAnoEJMbiXZAnBmElXIbCHTZnJRIBnClZaBajWAkHiijARdWJJixBJekIAbiqtBIRcRVjWiBZiJAbxDkBjxlbELlJRYailwVZrdeibiQjGJABDHJLPRSXZfjlnBNOcBBYaJbBBBljkRJCZAjINJAJZYZbYjBkQJDbaMNJBbHwDBMpAOXIkAWilbNkmBOstlarjkJkAIRwAJBlJlBeTzUoDHWRIGnIWJXbnImBRCGRiFImEcAjwARxlwJlxkRAAEJNRTZltwHlwCCflwFZaJpJnXlLmaJwAJxPdjIIcBNcmWsjalJSdBMjPIIGbEWIIXdnJIajHnEdiHIQnAFjibbxNHtBjmGQijYIYRImlBjbaBcdBjRjBIdjJABiRRlibiRwBxnxZEIFvaRBicXIQBdXApEmbjjmFIdmIZjJlnBTknIQaoXNnvbWkQdBIIiobNJTbBwAdxjlxJsIxiJHBpAJHjljRiAdxbibRwdlBbBwXfjlxcjAFGUARkJAJdxbBIPRwQoIBRGJlBIbdlxBbIQmdBRBBipAGJxxaJBBJYdjBwJABBBkAJlAAjRwdZBJRlwQcAFZQQJJWkAEHJKcxEIQcnwQdIbBHAaJwXjQCGdQWIRPQIIoJwSaXnwAjAJlacAZbAKIZkIRlwCJMRxcpBWQdjIRBfUBBZQEnBlQIXfHailBwdRXNvxpXbGajBBAaCabXaFnYbjBdnBIjablBIblIdbacjGjcmBpGfAbBJbHiAHBldZbdJJpiBwQdbFbcjnlbwFuIdIsXIRjkbVIJIROfYadjNlkILmIRxQXJeIIOARlxjlworstjjmsiXxbjJYIRwPiPBURIZxxjjjwRwaJxjiFYQFwaJcIHEflPARpwQJlwWZlpxzIbBCGORTZfjlxbCdHjlxJaDOjIBBJKRlPjFAJlllaXwjPaJxJxWkJxjlUIIRwGJlwXwJQAQWcAAdwAWRIbBIUaOdMXbjlljXnWmAIcbJAkRBUAfJBAQIARdXxbiBkREQQRAcAbkrjRBXAVlabJBBIRIjBIbbAabjxdlABlJlaACIQflnXnGzaDZjlkIlJxoAIQXlwdARxaHdiJllAWjPcjllJBvjlxjxjlwIiFWcJQbWbmQJOnIIblJIRxkJlwRlwQJxbMVmVnbJNnjwJiJJPVbIiOJarYRQjjxVZbuBDnRJJPATnkJJxJPkNcpAQdkbHlNJxacIQcJlIoAQipcJkkQJIdBIodAoQXABlAIRcBlwVkIQoAdBBjbnEdlmcolDwmIQJNlIbUAJRxaXcDIzadBEBdBJQdlwcJfcXJcQdbHZbdjlIjJSJlxlAtxkIjlJkRPkJbJxkiRIRHxUcAIPknjlaJmFGIOXZitwDIRmONHkIRlXJbmPGMDIcmokRCRZmMlbnVmJINIfJIEMyXUSIIIZlxwWoJPlxAQjGIQJklJBzpdmDiJlkDljnIjpaFlJdjaJCXZkPWRVkHIPPXdwqbaBbaJcjimJjiZAiiQnIbjxirasIcQikdajVXAOakKMdJDGldxkznQaxadalaEIzDNDFHMQYbknjJwjkYxBcBOiociQbwwrBblmDBuABjaAanpgpWMAIcTIdALTPQQIkIIJIOQYadejknpwcJKcIINxOJOLzRIdbJwRalBIdXIANvWlaMZZNbbZJxAdHRRacIEOEPlmnIJBkOaXedHRJRbRjaVAOPNBAfmjnOrAYOAbJbjlbAJBARIDYjBZaPXlJXAPjbibkMnbnbAJNAFlnllxtbOvlbjbAJjIcGDkbaAicIadkJzbABbTjiXjbxbbrIiblxbwcjVkXFNfbIQdniZjIRcFjICEoNIZbbdBPSRYcdjIJbjzXiBIjmBnAbiQDalwXklbaIXBWFBIbBamFaeWbFJYpiBXFdJHjlGbmBJeBiakcJxlXdkicJxaCkbqJAbkKNkBkROdjyXJHIIiAlMiYlxmGIirTMUNGYiCXxGWaKdAjlwdJwekcBdblvIoQIWXwlcXpccHIjlaQfIenkoWJxJQENlcaSkdluInIOWFPnJXnmJjMAGnHnBOatjoQdinJEBABRbHaXjkntjllibBAjxIBbjjmddIKpMPbxiaFkPVZcJdbfjlxabWJbJXjvJBfJfAMXJnIRbkRkJrRZbjlAlsWBxxiJdkicdbZIPmbTldIIlEHIdwBnAjnalJDNVejldRiinlJIabacdIJkbIcQAOaEIXjIaNNABbniQEReZbdcaHnIbxJwWWNBdbdaGpbjotllXMAnjAoSaRjlxJkfjkaGCJlAEIRlbJXpIOKQfmaIFAjWidlbHmKWplBJjIcocadjAbJbbbjZlAMPWXkanxAnlwaJwQMGnxIInAIQdaebJIaJkdERljzxEYXIQYjwdGPoIQWCWcpcWWrraJlIJQIMZaIAaQYLPbMAbAZwABmJkbHAdjJblBJRltajJGRlAlMRXjlBNwkwbfIRJbxjaXJpZcRlxlJxJwNQAQQXwJOwHIaVdwiOQGkpbXkdDHTfjlmcBNXIobfPIRoOCkitBFpxYaXijPJjBkJGkXHIGeIfarppRlJHiskRHlVWlFJaAHHnVGXjJafGjlBnHRDAjABxVXnXxbAAnlAPNlpItyFRBinQRlykFnBRwWbYiTFIaFlWjIYobiVAkBIJOJAIABlIJmnbnHkJOdWBbmIAJVBlBlxjBAIQbiRAQpJJnQojdWmWJBlzwBdxNLaXInjBRXuEQXuENjHwBnDjfbRBmIcnycpBwJZxFjlABZjdlBNZiMpAbbEAABJaNijnbTlJXaABXpBbbWQClHWbajFVjJkdHlmjIbYYJiswcdJFlqjJbujJRWBfYkdajrrKnniHjJjjdlamVbaaSQcBfBbiGjjbaDbjnxIIJnkmXlFJSRiBaEEQfjJjFliDHdQIBxxbIMcYsWEibjbOajMcaHadsQAcFybQkpFibIDjbfHjkjoIOIYmCGKWYeknwIiBaYVbWjoAdmWIdbbDPjlmGMCAaJMJIlbPaWJiZeljnTkrnwcmOAAkJjJxbDNlIaBPbxjIapIjJsJmAaiTjincjjBUZEBQbbmsJZibajjYaIidjkWJaIcHYJkWWMFFljIQdJbaIJBjVLjpiZbuRxaAicASbiQRJaAQJQAcJGRuQQcBjIioQeJdbjlxoddqIcoPdfQdkERlaIrwAIXxJwIXCEHILPTXZadfknrwIcAIoRwOJQjwQdxRkIPlcFtxINanHjmdliJniAnibJxZbZBjuQAPjwQAadlHYblJajIXdYbinAFIWYaksBDBtHVlmxjimbmpbJWJbjXHnNMJxbuIRtcmpfkAPHiAoXtjJnNiHIafrnAXmZeQcYdijbbfAoJpNbYoAJsdkobjjjiwIdbJilbbcOaHGdDINYGffEzalLbRbsHmpVUMapUAIBQAAdkkbjnJjLJbbaiAojadIBIAcRSYcinwRjIRdIXIIAJbckQJAAdjbMaoAAcocFktxIcWIQSJwtJjldtjzSWIkJOXmXljkJPNlWBkaQYBXJFzvtgRZWBiRDaEJNXJIIpvttMSKdAbMriBpfARjltJZBZnQApkdlwAoDBNVbCjhoWjdiJlmrjlHJJFzjthBVIpzlvXuIkHJBdPBBLdBAdBBBiaJWdZBIRksEHlbaacJmpjaJbbJHCIbjiaaWSdOAbBBvVjsJiDHjeiBQrABpbiVIGmbPFpZbNJFNIadJblcjJJkbOJmDGHAYYARjdvRiRIObaRJkHJamWcqNaBDIMQTUWZjQAAcEKIELdcbpAdlGjItphUQBPNBcbZBbIVJwjxGABPbisVijQwijEApBlCRBLDORnidRRxxPWmHamAjAaBBOXFOickDBdHBjvthJIMaXBajBalXJjwdlwnpIbnjBkcNZJbajanjQHPnRBOQBiXIQBcRfcTBDFHJLNTVXltvwopDbhlvxPPsBMHNIIbRbMRkDjxPbjBxFdjIlbBvbmRAtEABMjxoBIQPlBbJljIINjjdblORHlBjRBRSjjAkFjjFBNBOJtHClbFwTYlDrBvyAHtBPJPQjAdiALDXJdwRXnMRwxIFNkABIGDcbdXXIXJxWWdQBcBBdJJlBJPmkBkRbjXkRwFjjYZmEnwFddbJbJIpNTaMRnFHlxJdWHWkJJnRbdxBJJvbjlllaRblbJHJBJBRbBJzJBJHXZZGWtJBbBFJbdfkbBIApjinUpFaRXFRwnVFbanbmJdlllxdbInlJblZkREPbFdPjxBJXjnbBtJaXFHJJbnnnVJlVLbbBBJbboOUbPlNnBBBbbBPlbbaRBBBiBQTdlyBWBicJxXBlkPPBBrBBBBHAHBdlBARxAbBdBBBGjBNnPbDFNTZlBdlxbRJbxnJDHZlllBJdBJBBIdblQjBBBxinNHZAdBbjjRAbjXktIbPBJOFlblJARdbJjjwoBJGFmAnbBPlJJJljHUPeinnJlXGBnNnBbAXBzJdbBBnlJJApkQIYPQlxnJmjhBAHlBvHAHBJpBDHVZlBbkBBDFNTVXjlnuJBBlBXBndOQXbnjBIAccJwkdIRjJOzbBcpBAlmxAXljjJBHPRIBBBwdwcmRdBcRcAnJDVPHVlbaJWmHpZZBFZBmIHPBJBuQlBJnRBXlxBAQRkYZRxbRBxnlWJPaddJxBjJBDFHTXBAnBXlBDFLNPTVXZdfjnBblBlHTjxmGTdxMXNJbddBBJbwJdHFHTZkBdBIawBBJVbhlnzBJXdJdZkRlvlbaBAWJJlJlVlVBajiUEaDWndNCBDJBbIiWckjIekjBIaAiRHxcoRXjdVBlBlMfBxXRxvkbAJFPJJbkJBJdldJbJbfJJJiPBBBxlBkbJkcQHnBZPblJWAbRkdHdJnBJlIBObmBcplBlwXbBDRxbVBdRHBJAJZBdBZlxIQIJBIJBbcbAfdBdJBJBJIbBdAfdBAARImGRlBBdIdwBbbZldJBJdlcWBAJBBBBXXFdbBdllBXZdjlJlbBJinVXxBBBdwJHBTXSIFnJxxPxJPILJbtHONBDFHNPTZfjlntNJPJVONVxJXRGndIbBJnnbaRmtrJVHJZZEnBJHElvbDBUdGAdBBViddFAdIRJvACdBIRnXVmlIHkHiMbbXUbibBnmRdmonAZBJdlBDFHJPTflntXBjlGJunJNlndxcERPlJZcRHjBkjIdLAdjPcXBfbJHdJRHGiHPPpbJXWGLlApBJQDjbdoJRdkRVRdxWBJXXRdWjrnkQVPBCBIXajpDRdejnxJRdHJMVnxHJJNXIFIZBFnXfJdXdiRijbXRbxbIPnwnOXJdvzFbdpqVrEZvAbZFnXIBIbfxHcBZkAJIXxzZvdlAdbxxnIlbKERtkjpHIbwFlzHllznNlJOXXdknJVddlllzHfKxBJnlHxJlXjnaNDGNZknJmBBBbbJbAMbxaFPjdVHxdlzmZNblajEAAoBxcdxbXNNBRBBGZlvlzBxJfHAbAJBdBlnbZMWcBobllNVlnnkBNJBBlNVJlBnabkHBdlTlAjdBxIedBNbbBbBlMBxHnlBIAIioFBXlBdnjINljtXlHnxbBXWbbWdBdDlnxnlnNnalchbdHbbbfJBBJjbBXwdDJbzlxMLladbMjlanBlbBwXXXkIaMjJbtHBjbDldJJXXjJxnjIRapkIdbIQJlPNfkBlJIXCBdxnCtbJMtNnbtxjjJbxvkFlvzIARwiJabILlnXrllIdBdXBlnxamJJlHVZxJiAVJlJOJeJbbbIrkRBwnNWaqRliJnHjbZBJBBBedBcORIRxlGoDAjlJRBjBlHJbRxlJcJOFnRlXddPzVRbbJxJVMdblnwHdHLmdJWFccZaJJxbiRBJdBIIGpXjlBllUBJBcRYbZUBlnRxHxHnBlXbZIbxBRbwnIGPaJJaJJAJRdaJwddlHxJZBPRfRnjbBTjRlBRBdJlXxXHNVljXGEFnxJDVYnllzmVXnlxVHxJJNXNkzNVtJJlxtlnOjNINlnlXllXjJalnJVbllJkJlJUZnIFAYJJHVJllBReflPVVJnsXjHLllJHJXHZnaXDYjTlNbZkIddiAbYRlxNYRxVPJjHxMpkHcWWMAOnlBkEXnWlbjlzJbJJvljJdVlsjiFkIQcBMcjJjxyQcAFIaABIoEcCckniBjxlJJBbnxInRbxHjYJnlfMaZIJibjHbJllJHJjbibJjvbjGjjjNHilbjJjlxJRbvjjZZidDneXjjGZMBJWipvxNjmRtfwrNJalxuWjbIwArrbukcnJbMRGlBxuBbcnlzpbJHjjbjVjbkVJbNJJniaAARamnlndllldjIBJJHJJHjXnQpIBBjAopJdBjHdVipdlAbJBBlJMIkBtJnjBljlzpluBxBlHdloLnJlIdzlXlmBMlnNOmjkiduBkaGFvlJlJxJxHiZkpNxJBPlAjxIpJklZBBBlHHwJCJbjBddFbNNiHbBDJZbjlnXddlljkbljxjnbbJjbbvnXlNfHjIzBJXlkJbIpIFVfJJbFjdnbnbnOmjJxbmAdbbbbjbbbxIijJxPbdHIRjblmJZbblZFbbjbbaJxbbJxxdAbxjxbbbJbbbaRHAdiBbIpBJAJlInxbbvBaJbjbJjxIRHbjXZblblbbbjbadxbAdxBbsaHbGJliJjBJBAXiJJBJQdBxwBJjlnbBJBBJJYcnbXJniJxblBJbjJlxBjtbRxIBPIxJbbjJJJRxadJbBJpkAAAdRiFxPbvaBwdljbJJjlwaRxFjbljbHIdIdFxIbkpjxwIJjBmHjbRXjddInllBbJVXXlBNjlwcIcRlllNjlxziIBlIlblxbictbaljJllcAdIRJPINQljLBdlHddRjIdlllGFxiriaBkUBRnFGtlNVlmdnlnbPVfaxRnlBnDlZJUbHJlbxjlIHlcXHGcAdJNUjAnVHlkHnGMMmdXnZNxnXdVlRXdaFlXfHDHkFIHZjlJHJpXlRxCFLZxwXbkluJHJbLRBPHJbldlnlBcJbnIDZBRBBldBdJxWPnllFXINcbxBpDbbbbkVviyRjZdAcXOJxbbjxBJHiXnHMnkijWrrbdBdcBIBADMfblwrPnxnFVddJccHdblzbWRAHIdBJdmdblbbanIRlBIXIRBWPblBdabjkAjldAjldBBdlJBjmABIBJknIRXlkRlNQGNljcRXAXxkJJJxHBwGtdBAaXbXUjPJAdUEEbbbbBJcbndjlZXdAXBbxjJdlDWBbFWBbBdBdBWlJBBBXnpHBBBlVlNaNJBJMXlBdbVBJNZbjlrAmJjbJAXDZBJBIAaRXABAabbBaIRBXJBdbANVjXblnvJbnlbBHkNjblbaBOBXjAirlBJAcxsBMdjaibmBjkjDlbwHBXxXRxlddXNlndbbMkpAbBHJsHlXablzJPHXijGQIRbbxnJJJBfXJAanNJmXsXlXUAIBaJRdxljJljlfiRlnLxjbEmbdAnBBJdJYcldUnPMHbJlQcLdljbjlXEbYpdkafdaRxRBBbPRBxJbBlJlpJJwFbFxbXZaBlzBBABZlAabIBBdJjkbJBBiWQiNjJaddjlwBdJBbjXjJRpXkRZiRlPJBBbWbbxJXwXjBFAjBBdbJinWABXXlnjJNnIYlBdbJblIbmsdlbbbjJbxlbiBxJlxNbjlbjanbpBdbjjJxJBBBcbdJJJxjHjjbnJjjJipbdJneCFJjlxPPjnblBdlxJBJjJRQBnnBcBRcAXJJPPxbJXJJdDEYflvzlBIAjxxnJipbjXIXacAdkjxvbJbxxRlndRBJdblbxJbjJllnjlQdJbjdlBAXlBcclKJdBcBdvbiBJblapajBJxIRpcPbBdjVlwXxxaaXjJmAJlnARkmXBdJkBJkndAntlJBdBjdxBQdJbHcdjXdiBdJldjFJwdBJRxAJRSZclxkBOJBBjJJJanjxJnidBBdXbxjxIIRxdIFBJJJJHbcPPadbIblpQAdbpBBbbVlndPWbbRJbwnvQdJaFjlxbjaEcFJxJbAlBxIdlJLjAbdlbjbxJbjfwBljnIblbmmoAjJvibbjDbjPjJWiJxNJljljblbGlkRjjicbbjxbjjcjGBBxNXjIOdjXBJBdJdbBlmQBMkFbfLIpbJHPiBxmHNJJbwEZlabBJlbxnmJxmdJyIARiXclBbABbAbJRBlRdJHdnbInJjljljdBdJJRdXBGXHlIRlbkbRBcpBjXIPdJmFnHmFOYcZlmjfllnuBbBBIjOlemFnmnkmHknlkmIpZIlbinXHxVXkXDTVZljildXbIaoXmJnbmlnRpiFXnlnnXJlDZlvzNbxbHlxNidHMHlmNWjXxmNdlNxJnHabZlVJunlNMDTZlkaBHlBnBBddJJllbnnJIRXdBBdBdBJPBxbiXDNdRlnHJPbeWXblXjnWBcJnABBJnjBJFBxBJnJBJWrlAQXjICnGXlkRXjjXWdjxdljJRxlIajHXlyJXJlJndbJblXiFjaJbjJbJiBjJiijZmiMdNDBjJHijjwbBlblIcAcpcQBIBjJxGacriiHibHbiRnNnJJdbJnjbXXaBbkBjzBnjnbIWHHiRjlHpbjXxJbXxBbjJmRxJHjlaRUpdJXXJKFNBnWBlpkbfkamIADbkIHXjdJXBinBbbBIWZNlVnnNNNJJdbBNdOJJbJXflxNbHwJlVdkDwnNWjXlJJJRnJlljlNJkRjbnJMJlvNlJBlBJTBJnPVvkpdkABJLcnXJYJWpaRWblnPnHjHaHlJQaBRDPljnbjPOnFNUnNfkpXHcpBlkpBdAZoJlJjPvBxBnJHludBtBJxBJGnBdjdBDFHJRTXZdfilnuDJXJBBPJVVWdlIaXBkXJxBJXxJAFbXBAbllOpxKjujadlJQHwoBbjdbIRIJPXHZvbVXbNblJbiaApbbNbAkfdJXXPiiJbbJQWbbfBAiBXljJIcAxIjbBJJbZlGjABIBAPbHBbjJjbJjyxTkXHlJXnNHIAbacdAXZnNbjIdPkbkmIJxcjjxHJiJWdHMbAOlJVBxXBdIpBHBvibNainnIIFnmJkllBbBBJxJljdcpBJxJJbzwkjnHAJdldBndBjxZJOnJBIBllaiPcjAXcpdldzdJBJRxJRBFdJwJdBJJZBbJnDJVlxnJIFXBJJxkJJnldPjBfVXVaQRPnHjJmJJIJJbjdiiIRlAbJxBHJllndebJljBnRxRxJRdxwFRkdVnnjAdPxJIPeJbmdJJBkYBBJBIjGjtejNIJJxJHlzxjJpTaRliPldBHnHBJBkRBddaDlkBklbHlxnbGnGBsVsFXlxjbXxlnBGXaBbbTeIRwJNjBPlJzmablkPllcbNOoFcXHARJIpBddBnmEIdrdhNVNcIIXbGJVJMtkGsFxmFBZJkdIAodkWnljlWniJnxlJbjzjxblXJHJlksRlxBDTkblmBlnxJnJJnltlJnPHIclJJnnlJebnGXjjlbHNxNtlbkXllkBbFsnBdFUdhJkoBVEnJdmdbbbbXBdBVXBJbbllMXHBJibHVBxnmndJxdJlIDjlwAdDJbnCJRxblijkdalzbBAnBkPHMJxBPXbnAanUJBDHNPTVZdjlnvXIcpxkRNMBstjbNBBBDGILZdlpvzamJBjxjbBjFNblPGQBjRbbxaNjlJDdxMJvRjkNxJXJijjjJeOXbkBNnJlJuAFLnHJaAJllJXxYQXnbjbbnbjIisMVmaHnJRlGablbBaGXbDMUJlHlVZaNjIkHvcCdlxlPxGBFfwajmjPGHaNadnHaDfJHxjinWieKedlHRcRlBjJWOdHnGbXbPaQEdGGJnBidARnnJbJcliJJNbnJClIAAmjdIERXnJGbBdbWYAnJoIcJjknlJizlHGJHDPbIbkjlBAbbuJXlaXodHbXIRBdIjjBWEbJJJBJAXjCmRIRACIJibnBJNnmIIaAQbbINYQQnJHJJBkBnJXXBcbABIpkdLnBlvkaJxoaJUaEXsXMZmYnAIKMdFCQRkpNXJbVbjnFllXHZlXllwjGmLBnapljJdjxWmEnNAmnlBllnXUBIceAGXBRXkdbLanlbbjbnldcaBxIRZxJlGHkbaaXnfvxbaFIAciCQcanjIZlIEkBlNbnAbnfkaruBwWXxMBiBjkAjJkOcJjdjPBBJQJlniRxnBPXOZapjHIajrPWWQFZaolbaIfjImLJJlXntPdBJGnwRIGbdINnGGvvBIMkRBJkQpJxJjjIQJcBZnaAZwXjnNmRwBIXlxXlzBJjJXNbJwJHJkIdkIklPnjPlxMRplbJpYFccFwcZjJVzlNbnvnXaYBllaRABJBBdxBjjwFxLBnAJlRPTXYWRliXHnnUWBWlxkBJBRJJiaWNuJAPkBFlkJkRIIbknBIaRcXbwYGHbmdbmcoJwZPJaDXBNlcdVGBlNnIenZbJIBNcbJlIafintkcWXBjmoEdjbHxankJlllllllkNklkOlHecidJwcsqEGXmiinbllPiIicXlakBeblMXlbncRPBtAJdlxxNRHlCKFaittJaYXbplllMcopBzNHIejbVJJcXBYiBkHnaZJAHYORBAicORiBJBHEpbxbaBikBwAAwRIIAIQRibJARxbBXPwtNadanIjRxiDjwjdxljabwoBAJBPkllnQJnbWDAnljbdnJbxmXJnlxtbbjnbROAdnuIJJlGRbjTVMWAZaJadblaSBjJbcJiIkcAAARJlGiAjPnMFPHlVxTbbjnScjxadbnlVPHBdXkNjpUAEAQCkRasJklVlHHHObnfNxwLiqWBljMcdlaflxmikQOiAkWVVJdBvMmJtxmJYbsNBBIQbBTBMJXXxnxIBORbxdOBJkaGXxwWdekxZdxXIJaRbBWbHnabxkIadBsccQTwBtasRkBwIoIQcAcAaaXIpjlXldblXABllzlXXkwnllXAZlVlnniLlAIJQcdApbMOMVoZGZlaimMMJHxsXXkNbMBNbljbNkblkiCQcRBQEXXMBINrHJfnZfGHHNGBlHHbkkmdmQbIFfdsOcRQcQyYcIopwAxHNbbwllBJflJklBckXcnVkARkjrOQnFxmQBJnJAQlxYBwIIJjGQdddAdAaJdBPJHYcBjXiINkrxQpbanHjbXmIABdxzNkaGnbnZdaAdiXlJbMPlPJHBMVxaJOddBAxacJbPbnVGXdJPkPRxillAkXHAtnXbnIjltZbHUJHbJbMJfbJxbAjbXnIJrInIjIbRpGdaGAYlwiLBwHkJHvaFjllJddlKbWIXBjAQAPkdIAjxXaRZzVBkplOaWJJJbTZlaUynBBIPwJIPwJHdbATmAcdJjjXXXALjlbYAaQUnJIxJxQbbJIBJXJijdJbbdHnJBIaanBIXNKdwbDjTjiRbJxBkkXtZBopIAjCbyjXBbmanMJBRBbIQacEBRbIjBBAadVMjjiHwanaiaJYbbaQooiNaHOFJBHaNUdAYVFioZaNbaLhnxiJllnliJPMacBWFxJHQBPOjVaVGmDBaLnREAcBtbbjXVewXAjIbBbAJtlkuaHlVJsbiABbIbIWjbblbwAJJBWWlHBXlHJmkabJbaIdnJxMiadbJnPMBblwAAQBbjPbVjBuBbBlfjlwRiiGdJXbGNnBBbpVNHROIZbBjnBbaBJafbBbjrbIabHFnxKRdPXLHBIAdPaFlJulBNMqQnjPDlKocGIdlQjBAdpnGnlGciqBJHbBwdNacnBJARjbBJjbbXJxMAcnjAHBWJxDVnJjJIJJBaFllxJXJkBYAXjBclmbxjNbFIbHlBJJBnlbQJZvNHIBBJAZNiGBBAbHHHbXnBBJdBbaoZlJcGIBanVkLBXwFxJliFIHJAaAElKaccaJjlXBdlxlBllbMXvGiGFHllaLFXBjlxwbbJBHkaNbRYkrOEdJBYBDJNTUYcjlALUccijlPInBXXnMcsicAQQaIXfkdJGIAAWUIYJIcbJNnJHRBBlBaQJxWARlHWBIBXNGIjYlxYKrvXYSRvvxbTHIsYJjUJBdjBBliAdIaBmBNpbBFUMJaAAZIZFJIBBVJlJUcdXMIdJxxJJImIbMJbxAldOHWAbJIRbRlbbPkcJARbHRRBbDbbJlBHbaXbdABcJAZbWdBlJqlBjwBvacbxBBAdnAQlRAHBRlBBBARtZQJHBGrAFxJJbBfoQUGZjAbJRwRAReTAcpHknAPHRlNnjWJZBBMnAInianAdaIXOUPldBXdnBlAIRvBnBJbdXbAmXBynjAlXBBkQRARYjBJaFknlHJjXZAQBpXXbBJTXZdktBBXVIUamWanwYbJlobbAnQBIbJIfLjGRNllpBJJajltkNbWJaRFVkXkNwdXZxXwWtnJHZFvAbXIRpcObHIOWZlPLJBAQcJaGAJtlbliWAQQXGibjMiXjNJnxIjAZJJBJjNluBlJAlJmdJVxBaBBHVXbnINlPjAcRlmZJbHbkjJQHadBXbXJWBdJXYMAcDlGPJbnJFBvInIRWbdHGjHaAjGjHTdkAIXmWUZxXAbXvZcidlknjBJBBBkVRBRMkiMRpImAdXJAPkQFPkRjXwZJXaiYlzmIRjdiWJaljdGAJlRbNacBRwbLHxJeAlPblwXTIQRklJiCPkXBbjBdUBcXciQbxABWkWNJkARMMQAWiVlAbddAckkMJlANkmcawIXaQJRnbBBbaXPPbxxXUBJwdjtdIiLraIZlBkiBlIRHlUXjDEnPlIdWBblBnBNHJVwlXIJdWpxxlWWJERlnBxJxldZiHxwJINXJNwBLRlHxTQpJJJQFBAJIjNkkUdBaiLmXBJJBAQQAQBkjXxApJdGmJPnXJbPmYVZcbJFjlkTkRlJBIRXBkfjJVjadXaMRIQjbwmXIafJJIllJJbkFndIfjbjGXjUWBbHwLAHBlxBkADlIAIoYJlBlIRbBkABHEdZljBVanBkHlVBAHxnRbRnxlNnUbEGAiQmJXPGQdGANBIiDwoHxlHZNNjlBUjMQnlJXHUMJIXHXOapbTtJkRjbBdjJlJXbxHjGjsRaBmGkDjJmXxxkcDJaHBlBABCViBUWdBFlxaAANlJIpIXJpdOjdxebsIkIRBblZllbnfFlXGIABcxFdPdlkRbdJBPJbdddmjJCmBxVjnlVJdaciJBnBbdcNVRIRHlbMNVnBNOtDQjibwBdabBdlwWAWmXAiIXAabIJnBHlBjkAWadJBBdlvbcHlXdlBjImWRlMbaAHwdOPxlJibXJFAabsIkjjHHlaaFnlARVnbbBakAnBnaQbUEdmJXCjJmRwodIpjlJVkbJbnldBlkdbIQVXldAeabkBbIcBbipkXaHlfBXnBRBnbYBJnWblbcbaBdBXPcBadPVnjNAdJYGEBIcmJNkJeblRbvdFlkyBJddkRnFIbJbkRlaRplZllRMJWeWiIbGdlxGWXWIibaBnLkVBXipcEoANdBlibvFdaXxlNLwaNibiIpijJjnGAblJkbjbjRaIUGlFARdViJdRkdFjlIRlblNlxbXlMXjnicRJIeXkbwQBAorbJlHcpLIQJfIMPlPibbZbHMJnIQdYbJcdnmJxJaiFbGNPXXsIRknIYamWbRJZlZiBxllnlIRlYkPIRjWnmIFjnIbCJiFVanHlnPRNkjlxRbNbbAJkBXkdiHWlaJJnkBankBidllGRJitgInxJZjcJJbBBbxibPxbbbbIJppRlnbbjbXWXflRlBWJPblNXjlxtxjNaBPlJdibyJImljXWeFkcdlvjBdXlIjlHZAUiRnUNaaBPVjdJGNJGAHbHVbIdkXcBxblbBOXJPHHIQRljnIjHJJXIRMMJJHNVNfJbHJdlPVIJxXaERlnvjWFINLGGPJnPPBwWBkJlJIVIaQnXBnWHlXsQIRkRnYFIbAFnnVkJlUZlanJJWnNlGHljlAcJlDYPDcBcHHJbiBJUKQcWNkBAAdJJtFJxbbJdaRmBAHXjiHnEWaEIRNIjlBFHPUXlbdIdIWnGBkbbaiaWXocFlldcpVNVdcjJNkHvJBHldnXJnliJJbJBJBcZatHAimJAcWGcacHiidbHnBJxwbbJdUFbJFPjbNGBxNPkHlkDxnXNIbXmdlbGJmARIjIFQEpPXPBldAARcMJblXodbxDbBntmeAllOcnjBdHkDduUdkdIQdlAPPAHBHzVkmddllJNMRlRIlPaXbkjXflANVxaABbmaFHbXBJbcjJcRPBJkjcAaQNbnaXRQRXBAIjPJJOBODljBXflXFHBBmAVBjXiaFnBQXiRbnnXlkJybmJbJFFinIHIHjcbBjIlgcWWJOJHHjMiIclJXUlnJmXJlJtHKRBNLldlapnxVVcHncXUnJPkWLjXHwFWwCZnBJImblBdJbICBPwbllBJlXwZHJinZtliHaJBPtNFBWRJBiXxbbbRbfzaBbNlIAdbmjJbnjbXjjBJbJJasdJnJbOAFbJJHnladJdjxXRAbdibwWEBRRICdjuEBLjJiajjJbyAZlZVojJJXJxlJMppHlJACLlflJbBBJwQdNlajYajBVajadBlNjIIIbtiBjJJiMbnbJIBVVlGVjacmbHlYdiVazVjIcJJlxJJNJJJAdlMCRdbJnjIQjjjjjIdiJWWicAtfxMWAnNbbQcRpIYJajeJPWWjxljGbbcEdAHxIRolNbldcmmKIcjIAORyBbOtxJJsFaERiWJABiZljpOXjIbJnkjiJHIDJiaYmNiILkXkIBEJwJxiBBXlGblmRYajNbicjjeiakJejiWJxbjkFakikImHmbbxbibfidblnlPiaiRdbbxJWJjnlijbbbJbZjJBbBlniBiBjwaJlkmHlBxMZiccZicGBQAAKjlGRJlJbBBIcMFkdllkJJkmKJjjlljkJjlOJRNQjjiBwbHbmdljmBHkplxOAcAbJABBAFjxAGKTYflmxniRHalfwFQjkRalflJOtHBNnIPaARJJlbJbmnPJIQcOqAodAccmdnJBxlfbwkGdlIdBIdaHVBJJJIbjtRBanbjPbxjiJJJkIbIIoJblbjioiQjanklxJARkXVldABBmXbQHJNRRRBkRABBPNJlkAnBBlNBlJUMbdApAblkZBblDRBHJSZlncUbBJlYjIEXdkIddfJJDZajicAkEKIkXcjBJIBJIERWFjlPlNaukQJbbBawnnxicocMxXbHjJjmHDllJtJJJJIWJVkXNJblGiRxBJnbambGXXnLjJwaAdwQFvIBPjDTVlHcdbYdnHIIJAJjaAdBapbkmNRwQsdllBnlaXfLnbkBwWiCnxwAmPXEllJJxiOdNwJNacJIGRkjcccAdLRaSbXlJvnaJxPlXNBicjadndcEXBAOclbjOZlldmbkpNwXjfibIJmdRHiBBllaRIioNfnbAWXJJJwlnipwBxOfniJanbbbPRTwbIBNJIARxJJbWcorrIXInXGdJsQdlcmYNRkbnlVNFKMZnwJIlVBJlPJNJlxXIPYnJJHjlllIHmJcpbXXbXJIFRDIwNJIdkeWcBbwIlbOnnbJApkdwzxlnhIcRImQRAFIXmRcNPJerBJAjjaivbVRxyFbiXzknNNAJvBIQWjlnXAEVIWWBdbxjJBxlmRxYbPlJlUpnijPJHBlkRlXlbdJBIcQbJcdkADlaJVNjbJBRldRNIIibdHFPkLNxJteiNJDbfkrtZPmYBJiKWoZVXVHZNNlfnBBNVflrjetNVJAjNQLdVRjlBIcccAccAcUdjHblnBJTlkaNxnXHJdwZRjxnxlvkjBHXkRnlHIJjZnjMHNbHMBliFHlJkJcBWCPZJNJGRIYWJlMkRJxXTXdmkjGdCMbwcAlvGIXGUKAaWQjMHiadXGnbnHjZlbBxtfJbcbiIljIjxiIIPsccAEBJwFsbxbaRiJmtJidPTBtnkHblllnDXmIQjbIdllHaARJnZbPHJPSWZjBBNLZdnwBxumNlTVnjilwXkaAjipbnLjkcfMJXlftJbAPlnwdnklxbabXMRblHkdBltJlJAkBmPXCblaFZanMRkKXktHiiIiblxbsHBaocJbBxPimiYlxNlJmkLeEicoIAQdXHfJxbJjljIRJRYJbsMIfBbkYPXjrsdKxZMRwBnljcBBBRpHPRvjQdZTiKbfllaRVFApwnbBJjXlHGIXVMEGTlHvnbBAVaHonJIRNlJABcBJBBBbJkjkRQmYYRtINPbjjbBBpGZZVTLVoBLNanbBJxbZWdRxxrHxwTIINaPBuyRQbARdQBlANBBBxaBHbpNJlBRBYRbZXXapRbbBixkAsUbKRjXNnOJlkfxxdlOiHBvzBHUlxLXWXHPPPdBnJBbbXJJjBBcARlxJVllJFvvnIdJIdBJJGMjJunxJbJBqpJJJJBQBjljjzjicjAHJjnbBJjJnJVBnnJmdnlzJYRxkJmJRdBJcXflcHMlJxbJbBBllnJJbljddlzdbBJBBbBBBBJBBdBbbBxZJJGDnBJIFBBIpBdJHBZVARBxXOFQRjJAtIRRQlJlBJDTnJkmpBNcaYnJJbxBblBJXlxBJdBBpRlacGabnBbHdjLVjrnPBOFJbaRVxlbbbFnxbFlRBJPHNAbkpduRlFIRPJBlAXbIHJBRJrzAiiDXFBxjXHJblJXVBJXXXXJanJJJBJnVbifVjPVbHNPlxdOoQJaNBVJlVUnFbWjZBlVGjZNHJBBBIbkpnJkDjGHAnnXJbAnnYQnxpBHjnJJDlbYqoEJHJjlNbJpbnpnpdPlbJfiIaPBAaljdxdBIdbjnkxbxBrJbfbwindZabHllNBJPAJBGXdxbBVVxllwTnNJjBPBxBJxXHlJDxJxMlAlxXIPxdlVBkdOWjxnMBJaXtJVDbnUEpvkAdPBjjJiJLNNGXloJxjWjJleRNlPXXlbJnbJbJiJlNaWbBnJblZJflllnjPHfxdbJxVZYbNlVfXBvVIRlwoJMJlxjnUdHlntxGJltlwFAtklnHiBBIajbIBtjBJOcjnbJxJblRxlJdvxbbVHbNbaXkBxNlNNJZJBkdMBoMJbnnbnxnMEJJdJBMlRVBNlzNJmJxJdnfxJxOmnLVVwAJpXJllndBPJbJBBlbXjRJbXJbwJJJbBlANblJBBxBXJBadBibbBbkAAbXXJbdDlBAjVVJJjdkNbjlPJlAjBdWBJXbBBJbWJIZJlWbBBMbXtIJlAjdBmbBxBNnbbFJjBkXJbbxjbFxlwsIQMbFdlwAFVVtxnNiNlJvcbbbjJnJbNJXnBdkJjXBBJnDNJmPblMnxlxJllNXNkABlXnjJJlIRjJlnJxaqpBJJlNAdPGkXkFnBaBJVJlbjBdJBJJJnJldolDJXbjBJblBfJljXldlNkWPBaAtjbVxXJIbJnBJbJknJlkjkbHNlIBlFNzJbXZXbddlJjwpJnjnlxbJPsGjdJXcoBJlJVdlIIiBJIbidIiRlBBJBdQajHkRxwZnnFdjBJnZIRXJBXJJkIdGNBJXBXWnlbJIFdBPHatJxnxznkJkajHJPbHNxnNanalJbJJBlmJbBXXdnNJjfXJnnddnbljBOBRkPkjvjxJXlJbkbGFxllXVTbJxPubllflbPBIdxwFdXJJJJJJJHvblJXjkWAGnIcnjJXGErJbbcBJBxZnlHHJXHdtbBbJdjJjbIJJJnVlzjJlRzBJkBxJbJdRXJlHApjdGnbjHXHjnIJJHJxnVbJaZlMYFJxBjBBzGjGddNJPJLGXdNNBdiVJXlnVHjlJHjJiIcdPnbHjpNJRdjbHnZNJjHJJJJlBdJADVBapJbJbxBJspwbbBamTBBHBtxnlXHblXJjMnNJtJjkBXxHVfjlHHxlJwRxNnIHJiPFxJNlxlJWGAPGAIMBJjacAFnaOtAfbFnnnImidwPbldAFJWlJnJjQRIaHanbBczBxBlABubkIkLwdtIcqQXJllVJsMZjHVXWBJPkQpKjAlJINlwJUnxwObaoNJdIjxAaAHbNXIiiUBGNIGBJPHVnIVJJdabamcdjfjmGdDMrXWaoFnidaJmRbkbJlxwOEkFkjlFHbiYWXJaJjadkonlVbPaRlWImIbVjBBGAinbBJlUJYrxwQdAaVcJIatnxIoXeRIXBRBIdbIJlVxlHdkJmYcIrHVJUdBllknNUBPjNXbzJUblJXubkBlkQadAGQGQaIIBbXBlZxnbxwIWAbAWENdUbPGRkkfbxlIIIcXaXIjHfJjoBWlllxnwEYLnxJVmnGjllUlyBImRlAnEtJwDNMnJImJUbVfQmbllJBJWpPPBdHJHWipAZmHJkJackkjHxarkBJbsfNacnNNpflWJBBLiXaWkQJBtkBcIDxwmbrUAdblVXmABZjxXatkRoHQRkVxGikWEaBlmQnRxnvMiRAnGnnXFjnicijdjNHBiQRXtCzZwicQrbaQBJiaaaAdBJSRoNJiHjIRIEHZAcHLGApjJIJYijAqqiXYRDjBBwIkAjabTWRbajiRAbIjbbaXBIbJxnJnnBlZlADNBjbJcRYBcZAjBJbBBaHIjMKBBpIIPBRMBPljjadHVtnxOdJmjaXbadHJOJcDJPaJWQNAJxlPNNxbBHGlnnJnVxaQNblRUBaPBlXxjbJlJAmltJtHleJlUIfanAjkjJJjjIOnOWFMRiRJdlJmIGjYdmkRJdJiUmQcpMBppxVmFMJBJRbIkQAaIPIicdJJbbnGjaFJjxexjmXIBJtHIGaaXBZiipJIcXaAijnNJQiNjZadespXcdIXBbdwWRiZaAbAbaBMOXYBlIVJZBlHBBAEJldBbkGEBAWIAjAPbjBAJBdmnJBHJlBIcbdAnWIWBzQBJOJJJDHbRbaWmRkXjdURJdGJJJwIBHxJbwLJvlXLFbHJIQAaJXjtlaJGEBnJFAXtFJbcMaKdnmURlxIUJbbtXcJRPwmRARQMMdnpWIlOQJLZFaFlwPHHNyHbBlxcZBJAJRxkjcIHHXJJdZbkObjVZAJaJdJjOGQlQEAqblJbJYjbFxblbJBZaNlllknxblxjDWRBjXkJbBKAXHIIAJWJJdlJAModbIMAbbwWBGmItIJnHkIYAVcHlYRljqpjmsjNBdBlwlaGAlbUYPjIjmQIdlJjIEkJJmmZBRGcQsWBHAZlbZxlGcdaBsdAmlEEddxlVGjAanaplNbJWFJdARIRAQBliRdaRxIrGFJGJBVNjlnHmHJlBlcVIbnVtxGbWrnHJHJJNlmWYkdIcBnAVNXbbfJxnbAXllnBablmNnkWWWlJMxXIllItAjPnbDNXlmdNIFUWnnIBBARkFiAbJfMiRGaWJJkRIMcRBjdjmdmbJUSQiZkIdkfNxAXJkRWQcbkIdwFmRlkbJyQPlibNBIxnnbtaHBhkdJNjRIBlwGRJnPVcrZOjaAJXlmEBbxWWadxHlWdHfljkPbVkQJHXjkHkdJbibFPnJlHIQRlaiVbdlbIIccduFcGXdBXNJjfkcdbIJHHmVXWRVIpJlidWQBJHlBMdaBkFJPwJBlNzbaGPVfllkbNBnOpddJNicjAJzMnIdNcnXJOEobJbaXAAjjllPxWZBNJnIbjbbIHdbHPNJJjjkzVnlJXAJlwBHPJRlJBIiDxmXkijJBAdZUXWeQdBdxbVHJNXVHwFJbMJnJlNiAQcflijIHHJllbxbHkBBjaJmJNnlxcUsBeBInllNlXHsjXWVIsnkBlVjXJBJbwWFldIiAlaicGXVkpkoaQnkEBBNJidMAcIPiRJnbjXlsjNHbHGXOtGBKFVnJOJIdNNlHNlBJmjHRwnxNkRleXaAWJYWUWcdlioRwBajOpjVjjxknbaRliBZRbOAplNQdbnlIRXlJnwHIIisBqqnjbYrAZIJjiBxBQAelJBHlAwWlIInaRnWTBbxPtnNAYBBlUBkcBxINjlJxJmJJcnJbIRlvjBnjXGRRlkIJIlPlBNGRmVjbbjbjDxblIAXccAVxAIcicBmAbjajwHxwYjsBxHaJlJAAtJjRkBNjjbIFJwkNIcfZGXljJJXalMXJIBlHbtRAdkWAWlPnxllkbVpkAvZBNjiBIQJflzlbJBBbBBIIJHcZdXwXYRdBAWJXARlHBFajIiMAWWJGAIiARjnIkJnBbmAtxMWjdaXQsFkPQXajlBwiOQGaQQCFakbIIInkaOmfPVYclmXXJImlYbnINNHPjlNjPliAIcpUiRVNnlkoJkiXJGiTCJVkIBnImnXNjLbMdMQkRfkRJBJtMBNUdaoAdaklHJaFsJWdllIVVZejiHGbknbkAJtIcXbbvcBNnaNPNGAcImABRxjZWjJJJkdANwtobcdBldBjxXbaHbIxIAhARKIdabajJJPkDnBcjjIRljACMQdPHxlJIZJJBkVIAnlJFJadBNLWQdJlAIZJIJRWJlxlMWkBJJJAmXAcWIIAIlVbXaNxIJwJJnRYXeTPIBPZnGNHVUjibjkBxHxXjUVNayHjbJBbmVNHZHHIciAtGIjPnindicIWBeQQnJkFIWnJjaRlMNYQFbxBnllbidJIknJJlidJBAWVJlAFHkYmalbBJkPWImPmJBGleCdIabJaFlaAdnIccQdjwJJBbNJxKnltkaAdHVnbXXaJOjxlOQHYIRYblxkJAdJaXlxxXMipajJNAJJwFTUcBnxnXjOlbYLmInPPIRbdIIlnlPBiBbnFbbIcWdJajxXIcnGIRHfPGnXwnZlGKBbwFPfGcaQnlUjadkBBdJdnVxwRueWdbBnnXllbUIlJAtBIJJJmjdJJjapjJGBJZkGRkmQLHNwXlvkLsnlWbGXPkIiBIbWMJXIFlllIRInbBxOaIJwImilAjtaJldZkdbHlmQRiblblJlGQJiniQdJHaZgBllnAioRwHbBkQEcRxbxlkiJhBxNIQaIBbHbkrdRJUJadafYIQIJwWFiDbJAbldHIIdAImrBBpGKFiBIXwdGBjBxlPJwJkHJwJJJjjJJHHGQRAcnimRNbmbkIbmljJiRnbJGJJWaRlIdUMHAWRlCRblZJxakiXHHBBjIJBJwnIbQAalxbHGKJBkBBjNIWWjxaBxlxkBjwaNlabIjjBbAoJVmiJhIJJBAfwdJaPRHVoZIAXwJnJMZxwAdkXHjlZmIFnbJXXWBiIQnwRHIadwdiHiIbjwjlVJnJjnIBIGbbIJtJTWWQJIRzsYbBlUcdMclOblFjfFJIBBkJbJFBIRBJILMaWfMMjJlnHmANHVUBjBJNMRdcRkXdHZXnijBIlblAadjMpaUmEEJBJFjHBaJxblUyRNblaBEJnbMccdscXGoadJJxbiIbzbbJXXZViAAmRbJJdlcRzRwHWNVNxdJbalHljIjxIJNlAfWmUAElujIJbjidbjnJHJvJbkWOQEnUjJXllMkzwJbDbZjmJlWRkopnZNIJbZbHbWJWicjEkjXjbLxaZoqjlJZXWjJxBiZjmiRlkBPiIWpAHWNipxIcZurkjmbkQRwGaIWtwZaXIQIABdXnZaznJIJaQBlIWbidbnmlCRWGnHBdjjRBAJlZFdmIWXGkQIcQbJicWJXHdaIBxJmnbnSImBLVNxmdmROTVnHOnmRirmkJWlajGVadFLlJIcIcWAZbZbJWaZnJVijkRJMaXamWBPDMIAcrxJmBBRkdlaocfjNHJBBJBBiCkjJbBbbJjlXlaJJbXiXjjJlllRTYdlNIblykRNljbjkJbbXaJAmVJIjObBbARjlbXJUIdMQIbRdjOJblnInbbZbbbxHZJjnHxiaEbDwXYdiOiRlRjRJlJPbxGlHPjeBkIjxJEUFlnbYbknbjJbjMlnwaBbKHnPlJlHrNxwcWIHiDjxIJxjFnFxFKIjblIXxlJwcXadXtcXJXORDblklllxApvJkjwRxIbJNbiNjecmJlJNHNJAJNJtIjJleVNJkiEjmdlJHGdnbbYnIEkjclmfbRJjddfxbJjJHjllbHaiAnHGJYQHbIlulJlUBbONHidmFIPwRxPkbAHXnNblRxJcBiyAYXbblbHkpDjnaJdklZAJJxlPlHVORilIIFOdJmJiWblfjlHVMnxIJkNxnIbiQXJxJjcRlmjblHlXaZXbjbOIjbxdcEJQBxlbXBmnmrXNbXjiWJjyFaaaIbxIJJxINbjPWHJlGAQJZRJJBfiacRYJbOcnxjHbGcbjlJkWIdjjJiUFJJNJnGGJKjmliIJIIRBMQjDxjlDblHVbJaXBmjNlLJbnHedRBJJbtiJJmRRHxkjnBIRHlbIRcEJGWbeJXWFWEbARBbHHIJiJGcQbHxjlVnHPJXbVNNiRUORaBlIHaJZbvNllbdVxjJxHxibaJJNljnbbBJjIFjcpNbjHZJNABJXJbNbIjaQnw";function p(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[e]}var f={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"-":62,_:63};function h(e){return f[e]}function b(){this.init()}function m(e){this.init(e)}function g(e,t,n,r,o){this.init(e,t,n,r,o)}function y(e,t,n,r,o,i){this.trie=e,this.index=t,this.letter=n,this.final=r,this.firstChild=o,this.childCount=i}function v(e,t,n){this.init(e,t,n)}b.prototype={init:function(){this.bits=[]},write:function(e,t){for(var n=t-1;n>=0;n-=1)e&1<<n?this.bits.push(1):this.bits.push(0)},getData:function(){for(var e=[],t=0,n=0,r=0;r<this.bits.length;r+=1)t=t<<1|this.bits[r],6===(n+=1)&&(e.push(p(t)),n=0,t=0);return n&&e.push(p(t<<6-n)),e.join("")},getDebugString:function(e){for(var t=[],n=0,r=0;r<this.bits.length;r+=1)t.push(""+this.bits[r]),(n+=1)===e&&(t.push(" "),n=0);return t.join("")}},m.MaskTop=[63,31,15,7,3,1,0],m.BitsInByte=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],m.prototype={init:function(e){this.bytes=e,this.length=6*this.bytes.length},getData:function(){return this.bytes},get:function(e,t){if(e%6+t<=6)return(h(this.bytes[e/6|0])&m.MaskTop[e%6])>>6-e%6-t;var n=h(this.bytes[e/6|0])&m.MaskTop[e%6],r=6-e%6;for(e+=r,t-=r;t>=6;)n=n<<6|h(this.bytes[e/6|0]),e+=6,t-=6;return t>0&&(n=n<<t|h(this.bytes[e/6|0])>>6-t),n},count:function(e,t){for(var n=0;t>=8;)n+=m.BitsInByte[this.get(e,8)],e+=8,t-=8;return n+m.BitsInByte[this.get(e,t)]},rank:function(e){for(var t=0,n=0;n<=e;n+=1)this.get(n,1)&&(t+=1);return t}},g.Create=function(e,t,n,r){for(var o=new m(e),i=0,a=0,c=0,s=0,l=Math.ceil(Math.log(t)/Math.log(2)),u=Math.ceil(Math.log(n)/Math.log(2)),d=new b;i+r<=t;)s+=o.count(i,r),i+=r,(a+=r)===n?(c+=s,d.write(c,l),s=0,a=0):d.write(s,u);return new g(d.getData(),e,t,n,r)},g.prototype={init:function(e,t,n,r,o){this.directory=new m(e),this.data=new m(t),this.l1Size=r,this.l2Size=o,this.l1Bits=Math.ceil(Math.log(n)/Math.log(2)),this.l2Bits=Math.ceil(Math.log(r)/Math.log(2)),this.sectionBits=(r/o-1)*this.l2Bits+this.l1Bits,this.numBits=n},getData:function(){return this.directory.getData()},rank:function(e,t){if(0===e)return t-this.rank(1,t)+1;var n=0,r=t,o=0;return r>=this.l1Size&&(o=(r/this.l1Size|0)*this.sectionBits,n=this.directory.get(o-this.l1Bits,this.l1Bits),r%=this.l1Size),r>=this.l2Size&&(o+=(r/this.l2Size|0)*this.l2Bits,n+=this.directory.get(o-this.l2Bits,this.l2Bits)),n+=this.data.count(t-t%this.l2Size,t%this.l2Size+1),n},select:function(e,t){for(var n=this.numBits,r=-1,o=-1;n-r>1;){var i=(n+r)/2|0,a=this.rank(e,i);a===t?(o=i,n=i):a<t?r=i:n=i}return o}},y.prototype={getChildCount:function(){return this.childCount},getChild:function(e){return this.trie.getNodeByIndex(this.firstChild+e)}},v.prototype={init:function(e,t,n){this.data=new m(e),this.directory=new g(t,e,2*n+1,1024,32),this.letterStart=2*n+1},getNodeByIndex:function(e){var t=1===this.data.get(this.letterStart+6*e,1),n=String.fromCharCode(this.data.get(this.letterStart+6*e+1,5)+"a".charCodeAt(0)),r=this.directory.select(0,e+1)-e;return new y(this,e,n,t,r,this.directory.select(0,e+2)-e-1-r)},getRoot:function(){return this.getNodeByIndex(0)},lookup:function(e){for(var t=this.getRoot(),n=0;n<e.length;n+=1){for(var r=t,o=0;o<t.getChildCount()&&(r=t.getChild(o)).letter!==e[n];o+=1);if(o===t.getChildCount())return!1;t=r}return t.final}};var x={1:"i",2:"z",3:"e",4:"a",5:"s",6:"g",7:"t",8:"b",9:"q",0:"o","@":"a","!":"i","#":"t",$:"s","%":"x","&":"a","*":"x"},I=new RegExp("["+Object.keys(x).join("")+"]","g");function w(e){return(e=e.toLowerCase()).match(/^.*\d$/)&&(e=e.substring(0,e.length-1)),(""+e).replace(I,(function(e){return x[e]}))}var _=["pinterest","password","123456","welcome","ninja","abc123","123456789","12345678","sunshine","princess","qwerty","master","michael","jordan","dragon","soccer","killer","pepper","devil","princess","1234567","iloveyou","000000"];var j=function(e){return function(t,n){var r,o,i=[];r=t,o||(o=6),Boolean(r)&&r.length>=o?!function(e,t){return!t||0===t.length||w(e)!==w(t)}(t,e.username?e.username:"")?i.push(e.samePasswordStr):function(e){var t=new v(d,u,l),n=w(e);return n&&!t.lookup(n)}(t)||i.push(e.blackPassStr):i.push(e.shortPassStr);var a={errors:i,warnings:[]};return n&&n(a),a}},O=function(e){return function(t,n){var r=[],o=s(t,{shortPassStr:e.shortPassStr,samePasswordStr:e.samePasswordStr,blackPassStr:e.blackPassStr,userid:e.username&&e.username.length?e.username:""},_),i=o.fieldInfo,a=o.score,c=i[i.length-1],l=i[0];c&&l&&r.push(l);var u={errors:r,warnings:[],score:a};return n&&n(u),u}}},302360:function(e,t){"use strict";t.Z=function(e,t){var n;return t.some((function(t){var r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)})),n}},997993:function(e,t,n){"use strict";n.d(t,{aH:function(){return c},CU:function(){return s},GT:function(){return l},VG:function(){return u},ZA:function(){return d},Bh:function(){return p},qA:function(){return f},VC:function(){return h},Jx:function(){return b},Zt:function(){return m},Gy:function(){return g},MZ:function(){return y},sG:function(){return v},G$:function(){return x},nw:function(){return I},oR:function(){return w},xk:function(){return _},J_:function(){return j},qp:function(){return O},vd:function(){return A},FU:function(){return S},a3:function(){return P}});var r=n(542756);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){var t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((function(e,r){var o=t[e];o&&(n[r]=o)})),n.join("")};function c(e){return function(t,n){var r=[];t&&/\S/.test(t)||r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}var s=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function l(e){return function(t,n){var r=[];(t=t&&t.trim())&&!t.match(s)&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function u(e){return function(t,n){var r=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function d(e){return function(t,n){var r=[];t&&(t<10&&r.push(e.ageTooShortString),t<=0||t>=300?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<12&&r.push(e.checkUnderAgeWithString));var o={errors:r,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){var r=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],i=!1!==e.checkLength&&r.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!i||o.push(e.message);var a={errors:o,warnings:[]};return n&&n(a),a}}function f(e){return function(t,n){var r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(/^\d+$/)&&r.push(e.message));var o={errors:r,warnings:[]};return n&&n(o),o}}function h(e){return function(t,n){var r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(/^[\d\ -]+$/)&&r.push(e.message));var o={errors:r,warnings:[]};return n&&n(o),o}}function b(e){return function(t,n){var r=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){var o=[];if(t)try{var i=(0,r.Z)(t);i&&i.protocol&&("http"!==i.protocol||"localhost"===i.hostname)||o.push(e.message)}catch(c){o.push(e.message)}var a={errors:o,warnings:[]};return n&&n(a),a}}function g(e){return function(t,n){var r=[];(e.should_trim||!1)&&(t=t&&t.trim());var o=t.length;e.min&&o<e.min?r.push(e.minErrorString):e.max&&o>e.max&&r.push(e.maxErrorString);var i={errors:r,warnings:[]};return n&&n(i),i}}function y(e){return function(t,n){var r=!e.checkExclusion,o=e.substrings,i=[];(r&&!o.some((function(e){return t.includes(e)}))||!r&&o.some((function(e){return t.includes(e)})))&&i.push(e.message);var a={errors:i,warnings:[]};return n&&n(a),a}}function v(e){return function(t,n){var r=[];t!==(e&&e.targetValue)&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function x(e){return function(t,n){t&&(t=parseFloat(t));var r=[];t<=e.value&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function I(e){return function(t,n){t&&(t=parseFloat(t));var r=[];t<e.value&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function w(e){return function(t,n){var r=[];/^[\040-\176]*$/.test(t)||r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function _(e){return function(t,n){var r=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(r)&&(t=t&&t.trim(),o.push(e.message));var i={errors:o,warnings:[]};return n&&n(i),i}}function j(e){return function(t,n){t=t&&t.trim();var r=[],o=new Date(t);t&&!o.getTime()&&r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function O(e){return function(t,n){var r=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function A(e){return function(t,n){var r=[];e.pattern.test(t)||r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function S(e,t){var n,r=e.map((function(e){return e(t).errors}));return(n=[]).concat.apply(n,o(r))}function P(e,t){var n="";return t.some((function(t){var r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)})),n}},477342:function(e,t,n){"use strict";function r(e){return e.filter((function(e){return e.is_stela}))}function o(e){return e.filter((function(e){return!!e.label}))}n.d(t,{k:function(){return r},m:function(){return o}})},265044:function(e,t,n){"use strict";n.d(t,{r:function(){return s},E:function(){return l}});var r=n(296882),o=n(238402),i=n(773559),a=n(499320),c=n(661966),s=function(e){return e.advertiser?i.Z.settings.TAG_MANAGER_URL:(0,r.Z)("?".concat((0,o.Z)({redirect:c.qp.PINTEREST_TAG})),"https:",i.Z.settings.ADS_DOMAIN)},l=function(e){var t=a.K.fromGlobalContext();if(e){var n=(0,o.Z)({platform:c.vJ[e]});if("Shopify"===e)return i.Z.settings.INSTALL_PINTEREST_APP_ON_SHOPIFY_URL;if(["Google Tag Manager","WordPress"].includes(e))return t.advertiser?"".concat(i.Z.settings.TAG_MANAGER_URL,"/?").concat(n):(0,r.Z)("?".concat((0,o.Z)({redirect:e})),"https:",i.Z.settings.ADS_DOMAIN)}return t.advertiser?i.Z.settings.TAG_MANAGER_URL:(0,r.Z)("?".concat((0,o.Z)({redirect:c.qp.PINTEREST_TAG})),"https:",i.Z.settings.ADS_DOMAIN)}},932129:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(754999);function o(e,t){var n="";if(e){var o=t._("Install the Pinterest tag on your {{tagIntegration}} store to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.store","[m10n] Quick Promote success message from quick report, has a link to ads manager");switch(e){case"Ecwid":case"Bigcommerce":n=o;break;case"WordPress":n=t._("Install the Pinterest tag on your {{tagIntegration}} PixelYourSite plugin to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wordpress","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;case"WooCommerce":n=t._("Install the Pinterest tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wooCommerce","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;default:n=t._("Install the Pinterest tag on {{tagIntegration}} to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.default","[m10n] Quick Promote success message from quick report, has a link to ads manager")}}return(0,r.Z)(n,{tagIntegration:e})}},526947:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return C},useRoleBasedAccessControlContext:function(){return k}});var r=n(793550),o=n(616627),i=n(535718),a=n(34411),c=n(181307),s=n(354783);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==h(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,s.Z)(r)]=t[r]:n[(0,s.Z)(r)]=e(t[r]));return n},m=function(e,t){var n=[];for(var r in e)r!==t&&n.push(p({id:r},b(e[r])));var o,i=n.sort((function(e,t){var n=e.user.businessName,r=t.user.businesName;return n.localeCompare(r)})),a=new Map,c=l(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;a.set(s.id,s)}}catch(u){c.e(u)}finally{c.f()}return a},g=n(652382);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},j=function(e,t){switch(t.type){case"LOAD_PROFILES":return I(I({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return I(I({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return I(I({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return I(I({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return I(I({},e),{},{disableProfileChanger:t.payload});default:return e}},O=function(e){var t=y((0,r.useReducer)(j,_),2),n=t[0],o=t[1],i=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,c=o.headerVisible;return{changeProfile:(0,r.useCallback)((function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[n,t]),toggleORBACVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})}),[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})}),[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!c})}),[n,t,c])}}({dispatch:o,isEnabled:e,state:n}),a=n.activeProfile,c=n.orbacVisibility;return(0,r.useEffect)((function(){var e=(0,g.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,r.useEffect)((function(){var e=(0,g.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,r.useEffect)((function(){(0,g.Nh)("orbacVisibility",c)}),[c]),(0,r.useEffect)((function(){(0,g.Nh)("orbacActiveProfile",a)}),[a]),{state:n,actions:i,receiveProfiles:(0,r.useCallback)((function(e,t){o({type:"LOAD_PROFILES",payload:m(e,t)})}),[o])}},A=n(762803),S=n(80209),P=(0,A.js)("RoleBasedAccessControlContext"),E=P.Provider,k=P.useHook,C=function(e){var t=e.children,n=(0,c.tc)("web_m10n_business_access_orbac_www"),s=(0,a.Z)(),l=Boolean(s.isAuth&&s.isPartner&&n().anyEnabled),u=O(l),d=u.state,p=u.actions,f=u.receiveProfiles,h=d.activeProfile,b=d.headerVisible,m=d.profiles,g=void 0===m?[]:m,y=g?Array.from(g.values()):[],v=(0,o.Z)(y),x=!!(s.isAuth&&y.length>0)&&v,I=s.isAuth?s.id:"",w=s.isAuth?s.username:"",_=p.changeProfile,j=p.toggleORBACVisibility,A=p.toggleDisableProfileChanger,P=p.toggleHeaderVisibility;(0,r.useEffect)((function(){l&&("string"!=typeof v?h||_(I):_(v))}),[v,I,l,_,h]),(0,r.useEffect)((function(){l&&(x&&!b&&P(!0),!x&&b&&P(!1))}),[P,x,l,b,g]);var k,C=(0,i.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}).data,R=null==C?void 0:C.profiles;s&&s.isAuth&&d.activeProfile===s.id?k={id:s.id,permissions:["OWNER"],user:{username:w,businessName:s.fullName,imgUrl:s.imageSmallUrl}}:h&&d.profiles&&(k=d.profiles.get(h)),(0,r.useEffect)((function(){R&&f(R,I)}),[f,R,I]);var B=d.profiles?Array.from(d.profiles.values()):[];return(0,S.jsx)(E,{value:{profiles:B,headerVisible:d.headerVisible,activeProfile:k,changeProfile:_,toggleORBACVisibility:j,toggleDisableProfileChanger:A,toggleHeaderVisibility:P},children:t})}},767523:function(e,t,n){"use strict";var r=n(181307),o=n(526947);t.Z=function(){var e=(0,r.tc)("web_m10n_business_access_orbac_www"),t=((0,o.useRoleBasedAccessControlContext)()||{}).activeProfile;return e().anyEnabled&&t||Object.freeze({})}},616627:function(e,t,n){"use strict";var r=n(575429),o=n(34411),i=n(181307),a=n(382745),c=n(272828);t.Z=function(e){var t,n=(0,c.TH)(),s=(0,o.Z)(),l=(0,i.tc)("web_m10n_business_access_orbac_beta")().anyEnabled,u=(0,c.$B)("/:username"),d=null==u||null===(t=u.params)||void 0===t?void 0:t.username,p=(0,c.$B)("/pin/:id"),f=(0,r.useSelector)((function(e){var t,n,r,o;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(r=n[p.params.id])||void 0===r||null===(o=r.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(n))return!1;if((0,a.RU)(n))return!0;if((0,a.mY)(n))return l;var h=e.concat(s.isAuth?{user:{username:s.username},id:s.id}:{}).find((function(e){var t=e||{},n=t.user,r=void 0===n?{}:n,o=t.id,i=r.username;return!!(i&&d||f&&o)&&(i===d||f===o)}));return!!h&&h.id}},159276:function(e,t,n){"use strict";n.d(t,{Ms:function(){return r},lJ:function(){return o},q6:function(){return i},D3:function(){return a},KY:function(){return c},N1:function(){return s}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},i=function(e,t,n){var r=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!r},a=function(e,t,n){var r=i(e,t,n)||e&&e.isAuth&&t===e.id;return!!r},c=function(e,t,n){var r=t&&t.owner&&t.owner.id||"";return a(e,r,n)};function s(e,t,n){var r=t?t.id:"";return a(e,r,n)}},299562:function(e,t,n){"use strict";var r=n(39782),o=n(497237),i=n(846413),a=n(218265),c=n(258435),s=n(221469),l=n(585967),u=n(896829),d=n(272828),p=n(80209);t.Z=function(){var e=(0,l.B)(),t=(0,d.TH)(),n=(0,d.$B)(),f=(0,s.mB)(t.search);return(0,u.Q)({view_type:12,view_parameter:119,view_data:{method:n.params.method||"create",guid:f.guid}}),(0,p.jsx)(i.Z,{pageType:o.Z.PINBOOKMARKLET,children:(0,p.jsx)(c.c,{children:function(t){return(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"".concat(t,"px")}},children:(0,p.jsx)(r.Z,{headerHeight:t,requestContext:e,externalButtonQuery:f})})}})})}},258435:function(e,t,n){"use strict";n.d(t,{c:function(){return o},t:function(){return i}});var r=n(342347);function o(e){return(0,e.children)((0,r.J)().height)}function i(){return(0,r.J)().height}},602402:function(e,t,n){"use strict";n.d(t,{j:function(){return m},f:function(){return b}});var r=n(793550),o=n(762803);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STL_SELECT":return a(a({},e),{},{selectedStlItemId:t.payload.selectedStlItemId});case"STL_SHEET":return a(a({},e),{},{currentPinDraftId:t.payload.currentPinDraftId});case"STL_TAGGED_PIN":return a(a({},e),{},{stlTaggedCoords:t.payload.stlTaggedCoords});case"STL_ERROR_STATE":return a(a({},e),{},{stlCallout:{showCallout:t.payload.stlCallout.showCallout,type:t.payload.stlCallout.type}});case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return a(a({},e),{},{mostRecentTaggedObjectId:t.payload.mostRecentTaggedObjectId});case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return a(a({},e),{},{stlHoveredTaggedObjectId:t.payload.stlHoveredTaggedObjectId});default:return e}},u=n(80209);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,o.ZP)("ShopTheLook"),h=f.Provider,b=f.useHook;function m(e){var t=e.children,n=d((0,r.useReducer)(l,s),2),o=n[0],i=n[1],a=(0,r.useMemo)((function(){return{shopTheLook:o,setStlSelection:function(e){i({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:function(e){i({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:function(e){i({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:function(e){var t=e.showCallout,n=e.type;i({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:t,type:n}}})},setMostRecentTaggedObjectId:function(e){i({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:function(e){i({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}}),[o]);return(0,u.jsx)(h,{value:a,children:t})}},569859:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0;var o=n(793550),i=(c(o),c(n(55451))),a=c(n(898388));c(n(787585));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=1073741823;function p(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,r,c="__create-react-context-"+(0,a.default)()+"__",f=function(e){function n(){var t,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=l(this,e.call.apply(e,[this].concat(i))),r.emitter=p(r.props.value),l(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[c]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)?o=0:(o="function"==typeof t?t(n,r):d,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(o.Component);f.childContextTypes=((n={})[c]=i.default.object.isRequired,n);var h=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=l(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},l(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?d:t},n.prototype.componentDidMount=function(){this.context[c]&&this.context[c].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?d:e},n.prototype.componentWillUnmount=function(){this.context[c]&&this.context[c].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[c]?this.context[c].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.Component);return h.contextTypes=((r={})[c]=i.default.object,r),{Provider:f,Consumer:h}},e.exports=t.default},787198:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(793550)),o=i(n(569859));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},787585:function(e){"use strict";var t=function(){};e.exports=t},975796:function(e,t){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],i={CSS:{},springs:{}};function a(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t){return e.indexOf(t)>-1}function s(e,t){return e.apply(null,t)}var l={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return l.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||l.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return l.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return l.hex(e)||l.rgb(e)||l.hsl(e)},key:function(e){return!n.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function d(e,t){var n=u(e),r=a(l.und(n[0])?1:n[0],.1,100),o=a(l.und(n[1])?100:n[1],.1,100),c=a(l.und(n[2])?10:n[2],.1,100),s=a(l.und(n[3])?0:n[3],.1,100),d=Math.sqrt(o/r),p=c/(2*Math.sqrt(o*r)),f=p<1?d*Math.sqrt(1-p*p):0,h=p<1?(p*d-s)/f:-s+d;function b(e){var n=t?t*e/1e3:e;return n=p<1?Math.exp(-n*p*d)*(1*Math.cos(f*n)+h*Math.sin(f*n)):(1+h*n)*Math.exp(-n*d),0===e||1===e?e:1-n}return t?b:function(){var t=i.springs[e];if(t)return t;for(var n=1/6,r=0,o=0;;)if(1===b(r+=n)){if(++o>=16)break}else o=0;var a=r*n*1e3;return i.springs[e]=a,a}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(a(t,1e-6,1)*e)*(1/e)}}var f,h,b=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function o(e,o,i){return((t(o,i)*e+n(o,i))*e+r(o))*e}function i(e,o,i){return 3*t(o,i)*e*e+2*n(o,i)*e+r(o)}return function(t,n,r,a){if(0<=t&&t<=1&&0<=r&&r<=1){var c=new Float32Array(11);if(t!==n||r!==a)for(var s=0;s<11;++s)c[s]=o(s*e,t,r);return function(e){return t===n&&r===a||0===e||1===e?e:o(l(e),n,a)}}function l(n){for(var a=0,s=1;10!==s&&c[s]<=n;++s)a+=e;--s;var l=a+(n-c[s])/(c[s+1]-c[s])*e,u=i(l,t,r);return u>=.001?function(e,t,n,r){for(var a=0;a<4;++a){var c=i(t,n,r);if(0===c)return t;t-=(o(t,n,r)-e)/c}return t}(n,l,t,r):0===u?l:function(e,t,n,r,i){var a,c,s=0;do{(a=o(c=t+(n-t)/2,r,i)-e)>0?n=c:t=c}while(Math.abs(a)>1e-7&&++s<10);return c}(n,a,a+e,t,r)}}}(),m=(f={linear:function(){return function(e){return e}}},h={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=a(e,1,10),r=a(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){h[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(h).forEach((function(e){var t=h[e];f["easeIn"+e]=t,f["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},f["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},f["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),f);function g(e,t){if(l.fnc(e))return e;var n=e.split("(")[0],r=m[n],o=u(e);switch(n){case"spring":return d(e,t);case"cubicBezier":return s(b,o);case"steps":return s(p,o);default:return s(r,o)}}function y(e){try{return document.querySelectorAll(e)}catch(t){return}}function v(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,o=[],i=0;i<n;i++)if(i in e){var a=e[i];t.call(r,a,i,e)&&o.push(a)}return o}function x(e){return e.reduce((function(e,t){return e.concat(l.arr(t)?x(t):t)}),[])}function I(e){return l.arr(e)?e:(l.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function w(e,t){return e.some((function(e){return e===t}))}function _(e){var t={};for(var n in e)t[n]=e[n];return t}function j(e,t){var n=_(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function O(e,t){var n=_(e);for(var r in t)n[r]=l.und(e[r])?t[r]:e[r];return n}function A(e){return l.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:l.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):l.hsl(e)?function(e){var t,n,r,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(o[1],10)/360,a=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100,s=o[4]||1;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=c;else{var u=c<.5?c*(1+a):c+a-c*a,d=2*c-u;t=l(d,u,i+1/3),n=l(d,u,i),r=l(d,u,i-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+s+")"}(e):void 0;var t,n}function S(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function P(e,t){return l.fnc(e)?e(t.target,t.id,t.total):e}function E(e,t){return e.getAttribute(t)}function k(e,t,n){if(w([n,"deg","rad","turn"],S(t)))return t;var r=i.CSS[t+n];if(!l.und(r))return r;var o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=100+n;var c=100/o.offsetWidth;a.removeChild(o);var s=c*parseFloat(t);return i.CSS[t+n]=s,s}function C(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?k(e,o,n):o}}function R(e,t){return l.dom(e)&&!l.inp(e)&&(!l.nil(E(e,t))||l.svg(e)&&e[t])?"attribute":l.dom(e)&&w(o,t)?"transform":l.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function B(e){if(l.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,o=new Map;t=r.exec(n);)o.set(t[1],t[2]);return o}}function D(e,t,n,r){var o=c(t,"scale")?1:0+function(e){return c(e,"translate")||"perspective"===e?"px":c(e,"rotate")||c(e,"skew")?"deg":void 0}(t),i=B(e).get(t)||o;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?k(e,i,r):i}function T(e,t,n,r){switch(R(e,t)){case"transform":return D(e,t,r,n);case"css":return C(e,t,n);case"attribute":return E(e,t);default:return e[t]||0}}function J(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=S(e)||0,o=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return o+i+r;case"-":return o-i+r;case"*":return o*i+r}}function V(e,t){if(l.col(e))return A(e);if(/\s/g.test(e))return e;var n=S(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function M(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function F(e){for(var t,n=e.points,r=0,o=0;o<n.numberOfItems;o++){var i=n.getItem(o);o>0&&(r+=M(t,i)),t=i}return r}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*E(e,"r")}(e);case"rect":return function(e){return 2*E(e,"width")+2*E(e,"height")}(e);case"line":return function(e){return M({x:E(e,"x1"),y:E(e,"y1")},{x:E(e,"x2"),y:E(e,"y2")})}(e);case"polyline":return F(e);case"polygon":return function(e){var t=e.points;return F(e)+M(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;l.svg(t)&&l.svg(t.parentNode);)t=t.parentNode;return t}(e),o=r.getBoundingClientRect(),i=E(r,"viewBox"),a=o.width,c=o.height,s=n.viewBox||(i?i.split(" "):[0,0,a,c]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:c,vW:s[2],vH:s[3]}}function Z(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var o=U(e.el,e.svg),i=r(),a=r(-1),c=r(1),s=n?1:o.w/o.vW,l=n?1:o.h/o.vH;switch(e.property){case"x":return(i.x-o.x)*s;case"y":return(i.y-o.y)*l;case"angle":return 180*Math.atan2(c.y-a.y,c.x-a.x)/Math.PI}}function L(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=V(l.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:l.str(e)||t?r.split(n):[]}}function Q(e){return v(e?x(l.arr(e)?e.map(I):I(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function W(e){var t=Q(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:B(e)}}}))}function q(e,t){var n=_(t);if(/^spring/.test(n.easing)&&(n.duration=d(n.easing)),l.arr(e)){var r=e.length;2===r&&!l.obj(e[0])?e={value:e}:l.fnc(t.duration)||(n.duration=t.duration/r)}var o=l.arr(e)?e:[e];return o.map((function(e,n){var r=l.obj(e)&&!l.pth(e)?e:{value:e};return l.und(r.delay)&&(r.delay=n?0:t.delay),l.und(r.endDelay)&&(r.endDelay=n===o.length-1?t.endDelay:0),r})).map((function(e){return O(e,n)}))}function H(e,t){var n=[],r=t.keyframes;for(var o in r&&(t=O(function(e){for(var t=v(x(e.map((function(e){return Object.keys(e)}))),(function(e){return l.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var o=t[r];n[o]=e.map((function(e){var t={};for(var n in e)l.key(n)?n==o&&(t.value=e[n]):t[n]=e[n];return t}))},o=0;o<t.length;o++)r(o);return n}(r),t)),t)l.key(o)&&n.push({name:o,tweens:q(t[o],e)});return n}function G(e,t){var n;return e.tweens.map((function(r){var o=function(e,t){var n={};for(var r in e){var o=P(e[r],t);l.arr(o)&&1===(o=o.map((function(e){return P(e,t)}))).length&&(o=o[0]),n[r]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),i=o.value,a=l.arr(i)?i[1]:i,c=S(a),s=T(t.target,e.name,c,t),u=n?n.to.original:s,d=l.arr(i)?i[0]:u,p=S(d)||S(s),f=c||p;return l.und(a)&&(a=u),o.from=L(d,f),o.to=L(J(a,d),f),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=g(o.easing,o.duration),o.isPath=l.pth(i),o.isPathTargetInsideSVG=o.isPath&&l.svg(t.target),o.isColor=l.col(o.from.original),o.isColor&&(o.round=1),n=o,o}))}var X={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,o){if(r.list.set(t,n),t===r.last||o){var i="";r.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function Y(e,t){W(e).forEach((function(e){for(var n in t){var r=P(t[n],e),o=e.target,i=S(r),a=T(o,n,i,e),c=J(V(r,i||S(a)),a),s=R(o,n);X[s](o,n,c,e.transforms,!0)}}))}function K(e,t){return v(x(e.map((function(e){return t.map((function(t){return function(e,t){var n=R(e.target,t.name);if(n){var r=G(t,e),o=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:o.end,delay:r[0].delay,endDelay:o.endDelay}}}(e,t)}))}))),(function(e){return!l.und(e)}))}function z(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,o.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,o.endDelay=n?o.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,o}var $=0;var ee=[],te=function(){var e;function t(n){for(var r=ee.length,o=0;o<r;){var i=ee[o];i.paused?(ee.splice(o,1),r--):(i.tick(n),o++)}e=o>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){re.suspendWhenDocumentHidden&&(ne()?e=cancelAnimationFrame(e):(ee.forEach((function(e){return e._onDocumentVisibility()})),te()))})),function(){e||ne()&&re.suspendWhenDocumentHidden||!(ee.length>0)||(e=requestAnimationFrame(t))}}();function ne(){return!!document&&document.hidden}function re(e){void 0===e&&(e={});var t,o=0,i=0,c=0,s=0,l=null;function u(e){var t=window.Promise&&new Promise((function(e){return l=e}));return e.finished=t,t}var d=function(e){var t=j(n,e),o=j(r,e),i=H(o,e),a=W(e.targets),c=K(a,i),s=z(c,o),l=$;return $++,O(t,{id:l,children:[],animatables:a,animations:c,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(e);u(d);function p(){var e=d.direction;"alternate"!==e&&(d.direction="normal"!==e?"normal":"reverse"),d.reversed=!d.reversed,t.forEach((function(e){return e.reversed=d.reversed}))}function f(e){return d.reversed?d.duration-e:e}function h(){o=0,i=f(d.currentTime)*(1/re.speed)}function b(e,t){t&&t.seek(e-t.timelineOffset)}function m(e){for(var t=0,n=d.animations,r=n.length;t<r;){var o=n[t],i=o.animatable,c=o.tweens,s=c.length-1,l=c[s];s&&(l=v(c,(function(t){return e<t.end}))[0]||l);for(var u=a(e-l.start-l.delay,0,l.duration)/l.duration,p=isNaN(u)?1:l.easing(u),f=l.to.strings,h=l.round,b=[],m=l.to.numbers.length,g=void 0,y=0;y<m;y++){var x=void 0,I=l.to.numbers[y],w=l.from.numbers[y]||0;x=l.isPath?Z(l.value,p*I,l.isPathTargetInsideSVG):w+p*(I-w),h&&(l.isColor&&y>2||(x=Math.round(x*h)/h)),b.push(x)}var _=f.length;if(_){g=f[0];for(var j=0;j<_;j++){f[j];var O=f[j+1],A=b[j];isNaN(A)||(g+=O?A+O:A+" ")}}else g=b[0];X[o.type](i.target,o.property,g,i.transforms),o.currentValue=g,t++}}function g(e){d[e]&&!d.passThrough&&d[e](d)}function y(e){var n=d.duration,r=d.delay,h=n-d.endDelay,y=f(e);d.progress=a(y/n*100,0,100),d.reversePlayback=y<d.currentTime,t&&function(e){if(d.reversePlayback)for(var n=s;n--;)b(e,t[n]);else for(var r=0;r<s;r++)b(e,t[r])}(y),!d.began&&d.currentTime>0&&(d.began=!0,g("begin")),!d.loopBegan&&d.currentTime>0&&(d.loopBegan=!0,g("loopBegin")),y<=r&&0!==d.currentTime&&m(0),(y>=h&&d.currentTime!==n||!n)&&m(n),y>r&&y<h?(d.changeBegan||(d.changeBegan=!0,d.changeCompleted=!1,g("changeBegin")),g("change"),m(y)):d.changeBegan&&(d.changeCompleted=!0,d.changeBegan=!1,g("changeComplete")),d.currentTime=a(y,0,n),d.began&&g("update"),e>=n&&(i=0,d.remaining&&!0!==d.remaining&&d.remaining--,d.remaining?(o=c,g("loopComplete"),d.loopBegan=!1,"alternate"===d.direction&&p()):(d.paused=!0,d.completed||(d.completed=!0,g("loopComplete"),g("complete"),!d.passThrough&&"Promise"in window&&(l(),u(d)))))}return d.reset=function(){var e=d.direction;d.passThrough=!1,d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.loopBegan=!1,d.changeBegan=!1,d.completed=!1,d.changeCompleted=!1,d.reversePlayback=!1,d.reversed="reverse"===e,d.remaining=d.loop,t=d.children;for(var n=s=t.length;n--;)d.children[n].reset();(d.reversed&&!0!==d.loop||"alternate"===e&&1===d.loop)&&d.remaining++,m(d.reversed?d.duration:0)},d._onDocumentVisibility=h,d.set=function(e,t){return Y(e,t),d},d.tick=function(e){c=e,o||(o=c),y((c+(i-o))*re.speed)},d.seek=function(e){y(f(e))},d.pause=function(){d.paused=!0,h()},d.play=function(){d.paused&&(d.completed&&d.reset(),d.paused=!1,ee.push(d),h(),te())},d.reverse=function(){p(),d.completed=!d.reversed,h()},d.restart=function(){d.reset(),d.play()},d.remove=function(e){ie(Q(e),d)},d.reset(),d.autoplay&&d.play(),d}function oe(e,t){for(var n=t.length;n--;)w(e,t[n].animatable.target)&&t.splice(n,1)}function ie(e,t){var n=t.animations,r=t.children;oe(e,n);for(var o=r.length;o--;){var i=r[o],a=i.animations;oe(e,a),a.length||i.children.length||r.splice(o,1)}n.length||r.length||t.pause()}re.version="3.2.1",re.speed=1,re.suspendWhenDocumentHidden=!0,re.running=ee,re.remove=function(e){for(var t=Q(e),n=ee.length;n--;){ie(t,ee[n])}},re.get=T,re.set=Y,re.convertPx=k,re.path=function(e,t){var n=l.str(e)?y(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:N(n)*(r/100)}}},re.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},re.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?g(t.easing):null,o=t.grid,i=t.axis,a=t.from||0,c="first"===a,s="center"===a,u="last"===a,d=l.arr(e),p=d?parseFloat(e[0]):parseFloat(e),f=d?parseFloat(e[1]):0,h=S(d?e[1]:e)||0,b=t.start||0+(d?p:0),m=[],y=0;return function(e,t,l){if(c&&(a=0),s&&(a=(l-1)/2),u&&(a=l-1),!m.length){for(var g=0;g<l;g++){if(o){var v=s?(o[0]-1)/2:a%o[0],x=s?(o[1]-1)/2:Math.floor(a/o[0]),I=v-g%o[0],w=x-Math.floor(g/o[0]),_=Math.sqrt(I*I+w*w);"x"===i&&(_=-I),"y"===i&&(_=-w),m.push(_)}else m.push(Math.abs(a-g));y=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/y)*y}))),"reverse"===n&&(m=m.map((function(e){return i?e<0?-1*e:-e:Math.abs(y-e)})))}return b+(d?(f-p)/y:p)*(Math.round(100*m[t])/100)+h}},re.timeline=function(e){void 0===e&&(e={});var t=re(e);return t.duration=0,t.add=function(n,o){var i=ee.indexOf(t),a=t.children;function c(e){e.passThrough=!0}i>-1&&ee.splice(i,1);for(var s=0;s<a.length;s++)c(a[s]);var u=O(n,j(r,e));u.targets=u.targets||e.targets;var d=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=l.und(o)?d:J(o,d),c(t),t.seek(u.timelineOffset);var p=re(u);c(p),a.push(p);var f=z(a,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},re.easing=g,re.penner=m,re.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.Z=re},652074:function(e,t,n){"use strict";var r=n(120122),o=[],i=[],a=r.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function c(e){var t;(t=o.length?o.pop():new s).task=e,r(t)}function s(){this.task=null}e.exports=c,s.prototype.call=function(){try{this.task.call()}catch(e){c.onerror?c.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},120122:function(e,t,n){"use strict";function r(e){i.length||(o(),!0),i[i.length]=e}e.exports=r;var o,i=[],a=0;function c(){for(;a<i.length;){var e=a;if(a+=1,i[e].call(),a>1024){for(var t=0,n=i.length-a;t<n;t++)i[t]=i[t+a];i.length-=a,a=0}}i.length=0,a=0,!1}var s,l,u,d=void 0!==n.g?n.g:self,p=d.MutationObserver||d.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof p?(s=1,l=new p(c),u=document.createTextNode(""),l.observe(u,{characterData:!0}),o=function(){s=-s,u.data=s}):o=f(c),r.requestFlush=o,r.makeRequestCallFromTimer=f},31698:function(e,t,n){"use strict";var r=n(938435),o=n(508167),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||r.call(a,i),s=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(p){l=null}e.exports=function(e){var t=c(r,a,arguments);if(s&&l){var n=s(t,"length");n.configurable&&l(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return c(r,i,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},138399:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},884044:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},942310:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(884044),o=n(529571),i=n(138399);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.Z)(e).getTime(),a=(0,r.Z)(t);return new Date(n+a)}},588310:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(884044),o=n(942310),i=n(138399);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.Z)(e,6e4*n)}},526316:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(529571),o=n(138399);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,r.Z)(t);return n.getTime()-i.getTime()}},242029:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(526316),o=n(138399);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},291126:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(529571),o=n(138399);function i(e){(0,o.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}},485701:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(529571),o=n(138399);function i(e){(0,o.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(0,0,0,0),t}},529571:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(138399);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},418739:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(418602),i="function"==typeof Symbol&&"symbol"===r(Symbol("foo")),a=Object.prototype.toString,c=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===a.call(o)&&r())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},r=o(t);i&&(r=c.call(r,Object.getOwnPropertySymbols(t)));for(var a=0;a<r.length;a+=1)u(e,r[a],t[r[a]],n[r[a]])};d.supportsDescriptors=!!l,e.exports=d},418602:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Array.prototype.slice,c=n(703265),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===r(window[e]))try{p(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),b=function(e){var t=null!==e&&"object"===r(e),n="[object Function]"===i.call(e),a=c(e),s=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var b=u&&n;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(a&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var y in e)b&&"prototype"===y||!o.call(e,y)||f.push(String(y));if(l)for(var v=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(t){return!1}}(e),x=0;x<d.length;++x)v&&"constructor"===d[x]||!o.call(e,d[x])||f.push(d[x]);return f};b.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return c(t)?e(a.call(t)):e(t)}}}else Object.keys=b;return Object.keys||b},e.exports=b},703265:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=Object.prototype.toString;e.exports=function(e){var r=n.call(e),o="[object Arguments]"===r;return o||(o="[object Array]"!==r&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),o}},352681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(325037),o=n(60016),i=n(613932),a=n(187541),c=n(739119);var s=function(){function e(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=i.store.getState().refCount>0;e&&!i.isSetUp?(i.backend.setup(),i.isSetUp=!0):!e&&i.isSetUp&&(i.backend.teardown(),i.isSetUp=!1)};var s=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return r.createStore(o.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=s,this.monitor=new a.default(s,new c.default(s)),this.backend=e(this),s.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=i.default(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=i.apply(e,n);void 0!==o&&t(o)}),r}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=s},187541:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(605470),o=n(688463),i=n(975116),a=n(423467),c=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var r=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===o||a===o+1&&!i.areDirty(t.dirtyHandlerIds,r)||e()}finally{o=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),o=this.getItemType();return r.default(n,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!r.default(o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var c=a.indexOf(e);return n?c===a.length-1:c>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=c},739119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(236890),o=n(432560),i=n(768819),a=n(871317),c=n(423467),s=n(652074);function l(e){switch(e[0]){case"S":return i.HandlerRole.SOURCE;case"T":return i.HandlerRole.TARGET;default:c(!1,"Cannot parse handler ID: "+e)}}function u(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(o.value[1]===t)return!0;r=i}while(!r);return!1}var d=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(i.HandlerRole.SOURCE,e,t);return this.store.dispatch(r.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(i.HandlerRole.TARGET,e,t);return this.store.dispatch(r.addTarget(n)),n},e.prototype.containsHandler=function(e){return u(this.dragSources,e)||u(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),c(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return c(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return c(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return c(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return l(e)===i.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return l(e)===i.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;c(this.getSource(e),"Expected an existing source."),this.store.dispatch(r.removeSource(e)),s((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){c(this.getTarget(e),"Expected an existing target."),this.store.dispatch(r.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);c(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){c(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var r=function(e){var t=o.default().toString();switch(e){case i.HandlerRole.SOURCE:return"S"+t;case i.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(r,t),e===i.HandlerRole.SOURCE?this.dragSources.set(r,n):e===i.HandlerRole.TARGET&&this.dropTargets.set(r,n),r},e}();t.default=d},647066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(988612),o=n(789051),i=n(423467),a=n(250186),c={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var s=n.publishSource,l=void 0===s||s,u=n.clientOffset,d=n.getSourceClientOffset,p=e.getMonitor(),f=e.getRegistry();e.dispatch(r.setClientOffset(u)),function(e,t,n){i(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var r=0,o=e;r<o.length;r++){var a=o[r];i(n.getSource(a),"Expected sourceIds to be registered.")}}(t,p,f);var h=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,p);if(null!==h){var b=null;u&&(!function(e){i("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(d),b=d(h)),e.dispatch(r.setClientOffset(u,b));var m=f.getSource(h).beginDrag(p,h);!function(e){i(o.isObject(e),"Item must be an object.")}(m),f.pinSource(h);var g=f.getSourceType(h);return{type:a.BEGIN_DRAG,payload:{itemType:g,item:m,sourceId:h,clientOffset:u||null,sourceClientOffset:b||null,isSourcePublic:!!l}}}e.dispatch(c)}}},846814:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(250186),i=n(789051),a=n(423467);t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),c=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(s,l){var u=function(e,t,n,r){var o=n.getTarget(e),c=o?o.drop(r,e):void 0;(function(e){a(void 0===e||i.isObject(e),"Drop result must either be an object or undefined.")})(c),void 0===c&&(c=0===t?{}:r.getDropResult());return c}(s,l,c,n),d={type:o.DROP,payload:{dropResult:r({},t,u)}};e.dispatch(d)}))}}},62772:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(250186),o=n(423467);t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){o(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var i=t.getSourceId();return n.getSource(i,!0).endDrag(t,i),n.unpinSource(),{type:r.END_DRAG}}}},564845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(605470),o=n(250186),i=n(423467);t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){i(Array.isArray(e),"Expected targetIds to be an array.")}(t);var c=t.slice(0),s=e.getMonitor(),l=e.getRegistry();return function(e,t,n){i(t.isDragging(),"Cannot call hover while not dragging."),i(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];i(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(o);i(a,"Expected targetIds to be registered.")}}(c,s,l),function(e,t,n){for(var o=e.length-1;o>=0;o--){var i=e[o],a=t.getTargetType(i);r.default(a,n)||e.splice(o,1)}}(c,l,s.getItemType()),function(e,t,n){for(var r=0,o=e;r<o.length;r++){var i=o[r];n.getTarget(i).hover(t,i)}}(c,s,l),{type:o.HOVER,payload:{targetIds:c,clientOffset:a||null}}}}},613932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(647066),o=n(352528),i=n(564845),a=n(846814),c=n(62772);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(250186)),t.default=function(e){return{beginDrag:r.default(e),publishDragSource:o.default(e),hover:i.default(e),drop:a.default(e),endDrag:c.default(e)}}},988612:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(250186);t.setClientOffset=function(e,t){return{type:r.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},352528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(250186);t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:r.PUBLISH_DRAG_SOURCE}}}},250186:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},236890:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},871317:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(423467);t.validateSourceContract=function(e){o("function"==typeof e.canDrag,"Expected canDrag to be a function."),o("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),o("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){o("function"==typeof e.canDrop,"Expected canDrop to be a function."),o("function"==typeof e.hover,"Expected hover to be a function."),o("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):o("string"==typeof t||"symbol"===r(t),n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},654787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(352681);t.createDragDropManager=function(e,t,n){return new r.default(e,t,n)}},482118:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(768819)),r(n(654787))},768819:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},15682:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(613932),o=n(236890),i=n(189282),a=n(975116),c=n(789051);t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case r.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case r.BEGIN_DRAG:case r.PUBLISH_DRAG_SOURCE:case r.END_DRAG:case r.DROP:default:return a.ALL}var n=t.payload,s=n.targetIds,l=void 0===s?[]:s,u=n.prevTargetIds,d=void 0===u?[]:u,p=c.xor(l,d);if(!(p.length>0||!i.areArraysEqual(l,d)))return a.NONE;var f=d[d.length-1],h=l[l.length-1];return f!==h&&(f&&p.push(f),h&&p.push(h)),p}},500876:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(613932),i=n(189282),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case o.HOVER:return i.areCoordsEqual(e.clientOffset,n.clientOffset)?e:r({},e,{clientOffset:n.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},36370:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(613932),i=n(236890),a=n(789051),c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=c);var n=t.payload;switch(t.type){case o.BEGIN_DRAG:return r({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case o.HOVER:return r({},e,{targetIds:n.targetIds});case i.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:r({},e,{targetIds:a.without(e.targetIds,n.targetId)});case o.DROP:return r({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},60016:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(500876),i=n(36370),a=n(377017),c=n(15682),s=n(331689),l=n(789051);t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:c.default(e.dirtyHandlerIds,{type:t.type,payload:r({},t.payload,{prevTargetIds:l.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:i.default(e.dragOperation,t),stateId:s.default(e.stateId)}}},377017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(236890);t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}},331689:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},688463:function(e,t){"use strict";function n(e,t){return{x:e.x+t.x,y:e.y+t.y}}function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=n,t.subtract=r,t.getSourceClientOffset=function(e){var t=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset;return t&&o&&i?r(n(t,i),o):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?r(t,n):null}},975116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(789051);t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||r.intersection(n,e).length>0)}},789051:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"===n(e)},t.xor=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},189282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,r){if(void 0===r&&(r=t.strictEquality),e.length!==n.length)return!1;for(var o=0;o<e.length;++o)if(!r(e[o],n[o]))return!1;return!0}},432560:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.default=function(){return n++}},605470:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},325037:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return a},applyMiddleware:function(){return g},bindActionCreators:function(){return p},combineReducers:function(){return u},compose:function(){return m},createStore:function(){return s}});var r=n(247238);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function c(e){if("object"!==o(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,d=[],p=d,f=!1;function h(){p===d&&(p=d.slice())}function b(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),p.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=p.indexOf(e);p.splice(n,1),d=null}}}function g(e){if(!c(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=d=p,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,g({type:a.REPLACE})}function v(){var e,t=m;return(e={subscribe:function(e){if("object"!==o(e)||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(b())}return n(),{unsubscribe:t(n)}}})[r.Z]=function(){return this},e}return g({type:a.INIT}),(i={dispatch:g,subscribe:m,getState:b,replaceReducer:y})[r.Z]=v,i}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,c=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},a=0;a<c.length;a++){var s=c[a],u=n[s],d=e[s],p=u(d,t);if(void 0===p){var f=l(s,t);throw new Error(f)}o[s]=p,r=r||p!==d}return(r=r||c.length!==Object.keys(e).length)?o:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return d(e,t);if("object"!==o(e)||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":o(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=d(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return b({},n,{dispatch:r=m.apply(void 0,i)(n.dispatch)})}}}},697326:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e),function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function r(){var e=o;i(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),i(e)}function c(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,l=null,u=null,d=null;function p(){return null===d&&(d=!!document.fonts),d}function f(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}u=""!==e.style.font}return u}function h(e,t){return[e.style,e.weight,f()?e.stretch:"","100px",t].join(" ")}c.prototype.load=function(e,t){var r=this,i=e||"BESbswy",c=0,u=t||3e3,d=(new Date).getTime();return new Promise((function(e,t){if(p()&&!function(){if(null===l)if(p()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var f=new Promise((function(e,t){!function n(){(new Date).getTime()-d>=u?t(Error(u+"ms timeout exceeded")):document.fonts.load(h(r,'"'+r.family+'"'),i).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),b=new Promise((function(e,t){c=setTimeout((function(){t(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([b,f]).then((function(){clearTimeout(c),e(r)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=m&&-1!=g||-1!=m&&-1!=y||-1!=g&&-1!=y)&&((t=m!=g&&m!=y&&g!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==v&&g==v&&y==v||m==x&&g==x&&y==x||m==I&&g==I&&y==I)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(c),e(r))}var p=new n(i),f=new n(i),b=new n(i),m=-1,g=-1,y=-1,v=-1,x=-1,I=-1,w=document.createElement("div");w.dir="ltr",o(p,h(r,"sans-serif")),o(f,h(r,"serif")),o(b,h(r,"monospace")),w.appendChild(p.a),w.appendChild(f.a),w.appendChild(b.a),document.body.appendChild(w),v=p.a.offsetWidth,x=f.a.offsetWidth,I=b.a.offsetWidth,function e(){if((new Date).getTime()-d>=u)w.parentNode&&w.parentNode.removeChild(w),t(Error(u+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(m=p.a.offsetWidth,g=f.a.offsetWidth,y=b.a.offsetWidth,l()),c=setTimeout(e,50)}}(),a(p,(function(e){m=e,l()})),o(p,h(r,'"'+r.family+'",sans-serif')),a(f,(function(e){g=e,l()})),o(f,h(r,'"'+r.family+'",serif')),a(b,(function(e){y=e,l()})),o(b,h(r,'"'+r.family+'",monospace'))}))}))},"object"===r(e)?e.exports=c:(window.FontFaceObserver=c,window.FontFaceObserver.prototype.load=c.prototype.load)}()},576701:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,c=n.call(arguments,1),s=function(){if(this instanceof a){var t=i.apply(this,c.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,c.concat(n.call(arguments)))},l=Math.max(0,i.length-c.length),u=[],d=0;d<l;d++)u.push("$"+d);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),i.prototype){var p=function(){};p.prototype=i.prototype,a.prototype=new p,p.prototype=null}return a}},938435:function(e,t,n){"use strict";var r=n(576701);e.exports=Function.prototype.bind||r},508167:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i=SyntaxError,a=Function,c=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(E){l=null}var u=function(){throw new c},d=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(t){return u}}}():u,p=n(649642)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},b="undefined"==typeof Uint8Array?o:f(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":r(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):o,"%Symbol%":p?Symbol:o,"%SyntaxError%":i,"%ThrowTypeError%":d,"%TypedArray%":b,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=f(o.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(938435),x=n(216375),I=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),_=v.call(Function.call,String.prototype.replace),j=v.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,S=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return _(e,O,(function(e,t,n,o){r[r.length]=n?_(o,A,"$1"):t||e})),r},P=function(e,t){var n,r=e;if(x(y,r)&&(r="%"+(n=y[r])[0]+"%"),x(m,r)){var o=m[r];if(o===h&&(o=g(r)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');var n=S(e),r=n.length>0?n[0]:"",o=P("%"+r+"%",t),a=o.name,s=o.value,u=!1,d=o.alias;d&&(r=d[0],w(n,I([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var h=n[p],b=j(h,0,1),g=j(h,-1);if(('"'===b||"'"===b||"`"===b||'"'===g||"'"===g||"`"===g)&&b!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&f||(u=!0),x(m,a="%"+(r+="."+h)+"%"))s=m[a];else if(null!=s){if(!(h in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=n.length){var y=l(s,h);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[h]}else f=x(s,h),s=s[h];f&&!u&&(m[a]=s)}}return s}},898388:function(e,t,n){"use strict";var r="__global_unique_id__";e.exports=function(){return n.g[r]=(n.g[r]||0)+1}},649642:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n.g.Symbol,i=n(913731);e.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"===r(o("foo"))&&("symbol"===r(Symbol("bar"))&&i())))}},913731:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},n=Symbol("test"),r=Object(n);if("string"==typeof n)return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(n in e[n]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==n)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,n);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},216375:function(e,t,n){"use strict";var r=n(938435);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},166800:function(e){e.exports=/[\-0-9a-z\xB7\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0135\u0137\u0138\u013A\u013C\u013E\u0142\u0144\u0146\u0148\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BB\u01BD-\u01C3\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u02AF\u02B9-\u02C1\u02C6-\u02D1\u02EC\u02EE\u0300-\u033F\u0342\u0346-\u034E\u0350-\u036F\u0371\u0373\u0375\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF\u03F3\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u0483-\u0487\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0559\u0561-\u0586\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\u0610-\u061A\u0620-\u063F\u0641-\u0669\u066E-\u0674\u0679-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u0800-\u082D\u0840-\u085B\u0900-\u0957\u0960-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09E0-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A35\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A5C\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E32\u0E34-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB2\u0EB4-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F00\u0F0B\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F42\u0F44-\u0F47\u0F49-\u0F4C\u0F4E-\u0F51\u0F53-\u0F56\u0F58-\u0F5B\u0F5D-\u0F68\u0F6A-\u0F6C\u0F71\u0F72\u0F74\u0F7A-\u0F80\u0F82-\u0F84\u0F86-\u0F92\u0F94-\u0F97\u0F99-\u0F9C\u0F9E-\u0FA1\u0FA3-\u0FA6\u0FA8-\u0FAB\u0FAD-\u0FB8\u0FBA-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10D0-\u10FA\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BAA\u1BAE-\u1BB9\u1BC0-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF2\u1D00-\u1D2B\u1D2F\u1D3B\u1D4E\u1D6B-\u1D77\u1D79-\u1D9A\u1DC0-\u1DE6\u1DFC-\u1DFF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E99\u1E9C\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70\u1F72\u1F74\u1F76\u1F78\u1F7A\u1F7C\u1FB0\u1FB1\u1FB6\u1FC6\u1FD0-\u1FD2\u1FD6\u1FD7\u1FE0-\u1FE2\u1FE4-\u1FE7\u1FF6\u200C\u200D\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE-\u2CF1\u2D00-\u2D25\u2D30-\u2D65\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3041-\u3096\u3099\u309A\u309D\u309E\u30A1-\u30FE\u3105-\u312D\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCB\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D-\uA66F\uA67C\uA67D\uA67F\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA6A0-\uA6E5\uA6F0\uA6F1\uA717-\uA71F\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA788\uA78C\uA78E\uA791\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29\uFB1E\uFE20-\uFE26\uFE73]|\uD800[\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD802[\uDC40-\uDC55\uDD00-\uDD15\uDD20-\uDD39\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC80-\uDCBA]|\uD808[\uDC00-\uDF6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38]|\uD82C[\uDC00\uDC01]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]/},756863:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="function"==typeof Symbol&&"symbol"===t(Symbol.toStringTag),r=Object.prototype.toString,o=function(e){return!(n&&e&&"object"===t(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},i=function(e){return!!o(e)||null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=i,e.exports=a?o:i},930458:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=Date.prototype.getDay,r=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"===t(Symbol.toStringTag);e.exports=function(e){return"object"===t(e)&&null!==e&&(o?function(e){try{return n.call(e),!0}catch(t){return!1}}(e):"[object Date]"===r.call(e))}},507339:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(216375),i=RegExp.prototype.exec,a=Object.getOwnPropertyDescriptor,c=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"===r(Symbol.toStringTag);e.exports=function(e){if(!e||"object"!==r(e))return!1;if(!s)return"[object RegExp]"===c.call(e);var t=a(e,"lastIndex");return!(!t||!o(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}}(e)}},188779:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},313142:function(e,t,n){var r=n(754310),o=n(2433)(r);e.exports=o},666174:function(e,t,n){var r=n(188779),o=n(19756);e.exports=function e(t,n,i,a,c){var s=-1,l=t.length;for(i||(i=o),c||(c=[]);++s<l;){var u=t[s];n>0&&i(u)?n>1?e(u,n-1,i,a,c):r(c,u):a||(c[c.length]=u)}return c}},754310:function(e,t,n){var r=n(382014),o=n(406946);e.exports=function(e,t){return e&&r(e,t,o)}},779190:function(e,t,n){var r=n(70729),o=n(401943);e.exports=function(e,t,n,i){var a=n.length,c=a,s=!i;if(null==e)return!c;for(e=Object(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<c;){var u=(l=n[a])[0],d=e[u],p=l[1];if(s&&l[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(i)var h=i(d,p,u,e,t,f);if(!(void 0===h?o(p,d,3,i,f):h))return!1}}return!0}},578038:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(846523),i=n(847799),a=n(856862),c=n(145239),s=n(85143);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==r(e)?c(e)?i(e[0],e[1]):o(e):s(e)}},97221:function(e,t,n){var r=n(313142),o=n(530443);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},846523:function(e,t,n){var r=n(779190),o=n(216870),i=n(321187);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},847799:function(e,t,n){var r=n(401943),o=n(923103),i=n(811516),a=n(226573),c=n(858601),s=n(321187),l=n(284918);e.exports=function(e,t){return a(e)&&c(t)?s(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},441616:function(e,t,n){var r=n(750227),o=n(464247),i=n(578038),a=n(97221),c=n(567726),s=n(521038),l=n(345630),u=n(856862),d=n(145239);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=r(t,s(i));var f=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return c(f,(function(e,t){return l(e,t,n)}))}},217900:function(e,t,n){var r=n(512953),o=n(811516);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},512953:function(e,t,n){var r=n(464247),o=n(59272),i=n(853275);e.exports=function(e,t,n){for(var a=-1,c=t.length,s={};++a<c;){var l=t[a],u=r(e,l);n(u,l)&&o(s,i(l,e),u)}return s}},562002:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},296241:function(e,t,n){var r=n(464247);e.exports=function(e){return function(t){return r(t,e)}}},59272:function(e,t,n){var r=n(324531),o=n(853275),i=n(550996),a=n(270755),c=n(284918);e.exports=function(e,t,n,s){if(!a(e))return e;for(var l=-1,u=(t=o(t,e)).length,d=u-1,p=e;null!=p&&++l<u;){var f=c(t[l]),h=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(l!=d){var b=p[f];void 0===(h=s?s(b,f,p):void 0)&&(h=a(b)?b:i(t[l+1])?[]:{})}r(p,f,h),p=p[f]}return e}},567726:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},540026:function(e,t,n){var r=n(810942),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},114540:function(e,t,n){var r=n(856862);e.exports=function(e){return"function"==typeof e?e:r}},941523:function(e,t,n){var r=n(389627);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),c=void 0!==t,s=null===t,l=t==t,u=r(t);if(!s&&!u&&!a&&e>t||a&&c&&l&&!s&&!u||o&&c&&l||!n&&l||!i)return 1;if(!o&&!a&&!u&&e<t||u&&n&&i&&!o&&!a||s&&n&&i||!c&&i||!l)return-1}return 0}},345630:function(e,t,n){var r=n(941523);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,c=i.length,s=n.length;++o<c;){var l=r(i[o],a[o]);if(l)return o>=s?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}},2433:function(e,t,n){var r=n(530443);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,c=Object(n);(t?a--:++a<i)&&!1!==o(c[a],a,c););return n}}},809130:function(e,t,n){var r=n(713406),o=n(202686),i=n(319782);e.exports=function(e){return i(o(e,void 0,r),e+"")}},216870:function(e,t,n){var r=n(858601),o=n(406946);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},19756:function(e,t,n){var r=n(476105),o=n(946328),i=n(145239),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},858601:function(e,t,n){var r=n(270755);e.exports=function(e){return e==e&&!r(e)}},321187:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},810942:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},166555:function(e,t,n){var r=n(270755),o=n(857806),i=n(44168),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s,l,u,d,p,f,h=0,b=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=s,r=l;return s=l=void 0,h=t,d=e.apply(r,n)}function v(e){return h=e,p=setTimeout(I,t),b?y(e):d}function x(e){var n=e-f;return void 0===f||n>=t||n<0||m&&e-h>=u}function I(){var e=o();if(x(e))return w(e);p=setTimeout(I,function(e){var n=t-(e-f);return m?c(n,u-(e-h)):n}(e))}function w(e){return p=void 0,g&&s?y(e):(s=l=void 0,d)}function _(){var e=o(),n=x(e);if(s=arguments,l=this,f=e,n){if(void 0===p)return v(f);if(m)return clearTimeout(p),p=setTimeout(I,t),y(f)}return void 0===p&&(p=setTimeout(I,t)),d}return t=i(t)||0,r(n)&&(b=!!n.leading,u=(m="maxWait"in n)?a(i(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=f=l=p=void 0},_.flush=function(){return void 0===p?d:w(o())},_}},713406:function(e,t,n){var r=n(666174);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},389627:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(115085),i=n(419678);e.exports=function(e){return"symbol"==r(e)||i(e)&&"[object Symbol]"==o(e)}},857806:function(e,t,n){var r=n(110472);e.exports=function(){return r.Date.now()}},4495:function(e,t,n){var r=n(217900),o=n(809130)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},85143:function(e,t,n){var r=n(562002),o=n(296241),i=n(226573),a=n(284918);e.exports=function(e){return i(e)?r(a(e)):o(e)}},207508:function(e,t,n){var r=n(666174),o=n(441616),i=n(267748),a=n(546745),c=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=c},609511:function(e,t,n){var r=n(166555),o=n(270755);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},750249:function(e,t,n){var r=n(372912),o=n(114540),i=n(408668),a=4294967295,c=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=a,s=c(e,a);t=o(t),e-=a;for(var l=r(s,t);++n<e;)t(n);return l}},797500:function(e,t,n){var r=n(44168),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},408668:function(e,t,n){var r=n(797500);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},44168:function(e,t,n){var r=n(540026),o=n(270755),i=n(389627),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},171033:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,c=n(152347),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===r(window[e]))try{p(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();o=function(e){var t=null!==e&&"object"===r(e),n="[object Function]"===a.call(e),o=c(e),s=t&&"[object String]"===a.call(e),f=[];if(!t&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var b=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(o&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var y in e)b&&"prototype"===y||!i.call(e,y)||f.push(String(y));if(l)for(var v=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(t){return!1}}(e),x=0;x<d.length;++x)v&&"constructor"===d[x]||!i.call(e,d[x])||f.push(d[x]);return f}}e.exports=o},813469:function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(152347),i=Object.keys,a=i?function(e){return i(e)}:n(171033),c=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?c(r.call(e)):c(e)}):Object.keys=a;return Object.keys||a},e.exports=a},152347:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=Object.prototype.toString;e.exports=function(e){var r=n.call(e),o="[object Arguments]"===r;return o||(o="[object Array]"!==r&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),o}},728539:function(e){if(!t)var t={map:function(e,t){var n={};return t?e.map((function(e,r){return n.index=r,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,n){return Math.max.apply(null,n?t.map(e,n):e)}};var n=function(){function e(e,t,n){return(e<<10)+(t<<5)+n}function n(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function r(e,t,n,r,o,i,a){var c=this;c.r1=e,c.r2=t,c.g1=n,c.g2=r,c.b1=o,c.b2=i,c.histo=a}function o(){this.vboxes=new n((function(e,n){return t.naturalOrder(e.vbox.count()*e.vbox.volume(),n.vbox.count()*n.vbox.volume())}))}function i(n,r){if(r.count()){var o=r.r2-r.r1+1,i=r.g2-r.g1+1,a=r.b2-r.b1+1,c=t.max([o,i,a]);if(1==r.count())return[r.copy()];var s,l,u,d,p=0,f=[],h=[];if(c==o)for(s=r.r1;s<=r.r2;s++){for(d=0,l=r.g1;l<=r.g2;l++)for(u=r.b1;u<=r.b2;u++)d+=n[e(s,l,u)]||0;p+=d,f[s]=p}else if(c==i)for(s=r.g1;s<=r.g2;s++){for(d=0,l=r.r1;l<=r.r2;l++)for(u=r.b1;u<=r.b2;u++)d+=n[e(l,s,u)]||0;p+=d,f[s]=p}else for(s=r.b1;s<=r.b2;s++){for(d=0,l=r.r1;l<=r.r2;l++)for(u=r.g1;u<=r.g2;u++)d+=n[e(l,u,s)]||0;p+=d,f[s]=p}return f.forEach((function(e,t){h[t]=p-e})),b(c==o?"r":c==i?"g":"b")}function b(e){var t,n,o,i,a,c=e+"1",l=e+"2",u=0;for(s=r[c];s<=r[l];s++)if(f[s]>p/2){for(o=r.copy(),i=r.copy(),a=(t=s-r[c])<=(n=r[l]-s)?Math.min(r[l]-1,~~(s+n/2)):Math.max(r[c],~~(s-1-t/2));!f[a];)a++;for(u=h[a];!u&&f[a-1];)u=h[--a];return o[l]=a,i[c]=o[l]+1,[o,i]}}}return r.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,r=n.histo;if(!n._count_set||t){var o,i,a,c=0;for(o=n.r1;o<=n.r2;o++)for(i=n.g1;i<=n.g2;i++)for(a=n.b1;a<=n.b2;a++)c+=r[e(o,i,a)]||0;n._count=c,n._count_set=!0}return n._count},copy:function(){var e=this;return new r(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,r=n.histo;if(!n._avg||t){var o,i,a,c,s=0,l=0,u=0,d=0;for(i=n.r1;i<=n.r2;i++)for(a=n.g1;a<=n.g2;a++)for(c=n.b1;c<=n.b2;c++)s+=o=r[e(i,a,c)]||0,l+=o*(i+.5)*8,u+=o*(a+.5)*8,d+=o*(c+.5)*8;n._avg=s?[~~(l/s),~~(u/s),~~(d/s)]:[~~(8*(n.r1+n.r2+1)/2),~~(8*(n.g1+n.g2+1)/2),~~(8*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},o.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<t||void 0===t)&&(t=n,r=o.peek(i).color);return r},forcebw:function(){var e=this.vboxes;e.sort((function(e,n){return t.naturalOrder(t.sum(e.color),t.sum(n.color))}));var n=e[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(e[0].color=[0,0,0]);var r=e.length-1,o=e[r].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[r].color=[255,255,255])}},{quantize:function(a,c){if(!a.length||c<2||c>256)return!1;var s=function(t){var n,r,o,i,a=new Array(32768);return t.forEach((function(t){r=t[0]>>3,o=t[1]>>3,i=t[2]>>3,n=e(r,o,i),a[n]=(a[n]||0)+1})),a}(a);s.forEach((function(){0}));var l=function(e,t){var n,o,i,a=1e6,c=0,s=1e6,l=0,u=1e6,d=0;return e.forEach((function(e){n=e[0]>>3,o=e[1]>>3,i=e[2]>>3,n<a?a=n:n>c&&(c=n),o<s?s=o:o>l&&(l=o),i<u?u=i:i>d&&(d=i)})),new r(a,c,s,l,u,d,t)}(a,s),u=new n((function(e,n){return t.naturalOrder(e.count(),n.count())}));function d(e,t){for(var n,r=1,o=0;o<1e3;)if((n=e.pop()).count()){var a=i(s,n),c=a[0],l=a[1];if(!c)return;if(e.push(c),l&&(e.push(l),r++),r>=t)return;if(o++>1e3)return}else e.push(n),o++}u.push(l),d(u,.75*c);for(var p=new n((function(e,n){return t.naturalOrder(e.count()*e.volume(),n.count()*n.volume())}));u.size();)p.push(u.pop());d(p,c-p.size());for(var f=new o;p.size();)f.push(p.pop());return f}}}();e.exports=n.quantize},125541:function(e,t,n){var r,o,i,a;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e,t,r,o,i,a,s,l,u,d,p,f,h,b,m,g,y,v,x,I,w,_,j,O,A,S,P,E,k,C,R,B,D,T,J,V,M,F,N,U,Z,L,Q,W,q,H,G,X,Y,K,z,$,ee,te,ne,re,oe,ie,ae,ce,se,le){"use strict";function ue(e){return(ue="function"==typeof Symbol&&"symbol"==c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){return!t||"object"!=c(t)&&"function"!=typeof t?Ie(e):t}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function je(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Oe(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m,g=g&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y,v=v&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v,x=x&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x,I=I&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I,w=w&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,j=j&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j,O=O&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O,A=A&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A,S=S&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S,P=P&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P,E=E&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E,k=k&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k,C=C&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C,R=R&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R,B=B&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B,D=D&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D,T=T&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T,J=J&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J,V=V&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V,M=M&&Object.prototype.hasOwnProperty.call(M,"default")?M.default:M,F=F&&Object.prototype.hasOwnProperty.call(F,"default")?F.default:F,N=N&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N,U=U&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U,Z=Z&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z,L=L&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L,Q=Q&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q,W=W&&Object.prototype.hasOwnProperty.call(W,"default")?W.default:W,q=q&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q,H=H&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H,G=G&&Object.prototype.hasOwnProperty.call(G,"default")?G.default:G,X=X&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X,Y=Y&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y,K=K&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K,z=z&&Object.prototype.hasOwnProperty.call(z,"default")?z.default:z,$=$&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$,ee=ee&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee,te=te&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te,ne=ne&&Object.prototype.hasOwnProperty.call(ne,"default")?ne.default:ne,re=re&&Object.prototype.hasOwnProperty.call(re,"default")?re.default:re,oe=oe&&Object.prototype.hasOwnProperty.call(oe,"default")?oe.default:oe,ie=ie&&Object.prototype.hasOwnProperty.call(ie,"default")?ie.default:ie,ae=ae&&Object.prototype.hasOwnProperty.call(ae,"default")?ae.default:ae,ce=ce&&Object.prototype.hasOwnProperty.call(ce,"default")?ce.default:ce,se=se&&Object.prototype.hasOwnProperty.call(se,"default")?se.default:se;var Ae={p:Oe,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),o=r[1],i=r[2];if(!i)return je(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",je(o,t)).replace("{{time}}",Oe(i,t))}},Se=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Pe(e){var t=e?"string"==typeof e||e instanceof String?ce(e):ie(e):new Date;return ke(t)?t:null}function Ee(e,t,n,r){var o=null,i=qe(n)||We(),a=!0;return Array.isArray(t)?(t.forEach((function(t){var n=ae(e,t,new Date,{locale:i});r&&(a=ke(n)&&e===s(n,t,{awareOfUnicodeTokens:!0})),ke(n)&&a&&(o=n)})),o):(o=ae(e,t,new Date,{locale:i}),r?a=ke(o)&&e===s(o,t,{awareOfUnicodeTokens:!0}):ke(o)||(t=t.match(Se).map((function(e){var t=e[0];return"p"===t||"P"===t?i?(0,Ae[t])(e,i.formatLong):t:e})).join(""),e.length>0&&(o=ae(e,t.slice(0,e.length),new Date)),ke(o)||(o=new Date(e))),ke(o)&&a?o:null)}function ke(e){return a(e)&&ne(e,new Date("1/1/1000"))}function Ce(e,t,n){if("en"===n)return s(e,t,{awareOfUnicodeTokens:!0});var r=qe(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&We()&&qe(We())&&(r=qe(We())),s(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Re(e,t){var n=t.hour,r=void 0===n?0:n,o=t.minute,i=void 0===o?0:o,a=t.second;return B(R(C(e,void 0===a?0:a),i),r)}function Be(e,t){var n=t&&qe(t)||We()&&qe(We());return A(e,n?{locale:n}:null)}function De(e,t){return Ce(e,"ddd",t)}function Te(e){return L(e)}function Je(e,t){var n=qe(t||We());return Q(e,{locale:n})}function Ve(e){return W(e)}function Me(e){return q(e)}function Fe(e,t){return e&&t?ee(e,t):!e&&!t}function Ne(e,t){return e&&t?$(e,t):!e&&!t}function Ue(e,t){return e&&t?te(e,t):!e&&!t}function Ze(e,t){return e&&t?z(e,t):!e&&!t}function Le(e,t){return e&&t?K(e,t):!e&&!t}function Qe(e,t,n){var r,o=L(t),i=G(n);try{r=oe(e,{start:o,end:i})}catch(e){r=!1}return r}function We(){return("undefined"!=typeof window?window:n.g).__localeId__}function qe(e){if("string"==typeof e){var t="undefined"!=typeof window?window:n.g;return t.__localeData__?t.__localeData__[e]:null}return e}function He(e,t){return Ce(D(Pe(),e),"LLLL",t)}function Ge(e,t){return Ce(D(Pe(),e),"LLL",t)}function Xe(e,t){return Ce(T(Pe(),e),"QQQ",t)}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return nt(e,{minDate:n,maxDate:r})||o&&o.some((function(t){return Ze(e,t)}))||i&&!i.some((function(t){return Ze(e,t)}))||a&&!a(Pe(e))||!1}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeDates;return n&&n.some((function(t){return Ze(e,t)}))||!1}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return nt(e,{minDate:n,maxDate:r})||o&&o.some((function(t){return Ne(e,t)}))||i&&!i.some((function(t){return Ne(e,t)}))||a&&!a(Pe(e))||!1}function $e(e,t,n,r){var o=E(e),i=S(e),a=E(t),c=S(t),s=E(r);return o===a&&o===s?i<=n&&n<=c:o<a?s===o&&i<=n||s===a&&c>=n||s<a&&s>o:void 0}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return nt(e,{minDate:n,maxDate:r})||o&&o.some((function(t){return Ue(e,t)}))||i&&!i.some((function(t){return Ue(e,t)}))||a&&!a(Pe(e))||!1}function tt(e,t,n,r){var o=E(e),i=P(e),a=E(t),c=P(t),s=E(r);return o===a&&o===s?i<=n&&n<=c:o<a?s===o&&i<=n||s===a&&c>=n||s<a&&s>o:void 0}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&F(e,n)<0||r&&F(e,r)>0}function rt(e,t){for(var n=t.length,r=0;r<n;r++)if(_(t[r])===_(e)&&w(t[r])===w(e))return!0;return!1}function ot(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o,i=Pe(),a=B(R(i,w(e)),_(e)),c=B(R(i,w(n)),_(n)),s=B(R(i,w(r)),_(r));try{o=!oe(a,{start:c,end:s})}catch(e){o=!1}return o}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,o=v(e,1);return n&&N(n,o)>0||r&&r.every((function(e){return N(e,o)>0}))||!1}function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,o=f(e,1);return n&&N(o,n)>0||r&&r.every((function(e){return N(o,e)>0}))||!1}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,o=x(e,1);return n&&Z(n,o)>0||r&&r.every((function(e){return Z(e,o)>0}))||!1}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,o=h(e,1);return n&&Z(o,n)>0||r&&r.every((function(e){return Z(o,e)>0}))||!1}function lt(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return F(e,t)>=0}));return V(r)}return n?V(n):t}function ut(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return F(e,t)<=0}));return M(r)}return n?M(n):t}function dt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,o=e.length;r<o;r++){var a=e[r];if(i(a)){var c=Ce(a,"MM.dd.yyyy"),s=n.get(c)||[];s.includes(t)||(s.push(t),n.set(c,s))}else if("object"===ue(a)){var l=Object.keys(a),u=l[0],d=a[l[0]];if("string"==typeof u&&d.constructor===Array)for(var p=0,f=d.length;p<f;p++){var h=Ce(d[p],"MM.dd.yyyy"),b=n.get(h)||[];b.includes(u)||(b.push(u),n.set(h,b))}}}return n}function pt(e,t,n,r,o){for(var i=o.length,a=[],c=0;c<i;c++){var s=l(u(e,_(o[c])),w(o[c])),d=l(e,(n+1)*r);ne(s,t)&&re(s,d)&&a.push(o[c])}return a}function ft(e){return e<10?"0".concat(e):"".concat(e)}function ht(e,t,n,r){for(var o=[],i=0;i<2*t+1;i++){var a=e+t-i,c=!0;n&&(c=E(n)<=a),r&&c&&(c=E(r)>=a),c&&o.push(a)}return o}var bt=se(function(e){ye(r,e);var n=_e(r);function r(e){var o;de(this,r),he(Ie(o=n.call(this,e)),"renderOptions",(function(){var e=o.props.year,n=o.state.yearsList.map((function(n){return t.createElement("div",{className:e===n?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:n,onClick:o.onChange.bind(Ie(o),n)},e===n?t.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",n)})),r=o.props.minDate?E(o.props.minDate):null,i=o.props.maxDate?E(o.props.maxDate):null;return i&&o.state.yearsList.find((function(e){return e===i}))||n.unshift(t.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},t.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&o.state.yearsList.find((function(e){return e===r}))||n.push(t.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},t.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),n})),he(Ie(o),"onChange",(function(e){o.props.onChange(e)})),he(Ie(o),"handleClickOutside",(function(){o.props.onCancel()})),he(Ie(o),"shiftYears",(function(e){var t=o.state.yearsList.map((function(t){return t+e}));o.setState({yearsList:t})})),he(Ie(o),"incrementYears",(function(){return o.shiftYears(1)})),he(Ie(o),"decrementYears",(function(){return o.shiftYears(-1)}));var i=e.yearDropdownItemNumber,a=e.scrollableYearDropdown,c=i||(a?10:5);return o.state={yearsList:ht(o.props.year,c,o.props.minDate,o.props.maxDate)},o}return fe(r,[{key:"render",value:function(){var e=o({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return t.createElement("div",{className:e},this.renderOptions())}}]),r}(t.Component)),mt=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return he(Ie(e=n.call.apply(n,[this].concat(i))),"state",{dropdownVisible:!1}),he(Ie(e),"renderSelectOptions",(function(){for(var n=e.props.minDate?E(e.props.minDate):1900,r=e.props.maxDate?E(e.props.maxDate):2100,o=[],i=n;i<=r;i++)o.push(t.createElement("option",{key:i,value:i},i));return o})),he(Ie(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),he(Ie(e),"renderSelectMode",(function(){return t.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),he(Ie(e),"renderReadView",(function(n){return t.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},t.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),t.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),he(Ie(e),"renderDropdown",(function(){return t.createElement(bt,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),he(Ie(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),he(Ie(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),he(Ie(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),he(Ie(e),"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),he(Ie(e),"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),he(Ie(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return fe(r,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return t.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(t.Component),gt=se(function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return he(Ie(e=n.call.apply(n,[this].concat(i))),"renderOptions",(function(){return e.props.monthNames.map((function(n,r){return t.createElement("div",{className:e.props.month===r?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:e.onChange.bind(Ie(e),r)},e.props.month===r?t.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)}))})),he(Ie(e),"onChange",(function(t){return e.props.onChange(t)})),he(Ie(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return fe(r,[{key:"render",value:function(){return t.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),r}(t.Component)),yt=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return he(Ie(e=n.call.apply(n,[this].concat(i))),"state",{dropdownVisible:!1}),he(Ie(e),"renderSelectOptions",(function(e){return e.map((function(e,n){return t.createElement("option",{key:n,value:n},e)}))})),he(Ie(e),"renderSelectMode",(function(n){return t.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(n))})),he(Ie(e),"renderReadView",(function(n,r){return t.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},t.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),t.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[e.props.month]))})),he(Ie(e),"renderDropdown",(function(n){return t.createElement(gt,{key:"dropdown",month:e.props.month,monthNames:n,onChange:e.onChange,onCancel:e.toggleDropdown})})),he(Ie(e),"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),he(Ie(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),he(Ie(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return fe(r,[{key:"render",value:function(){var e,n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Ge(e,n.props.locale)}:function(e){return He(e,n.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(r);break;case"select":e=this.renderSelectMode(r)}return t.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(t.Component);function vt(e,t){for(var n=[],r=Ve(e),o=Ve(t);!ne(r,o);)n.push(Pe(r)),r=f(r,1);return n}var xt=se(function(e){ye(r,e);var n=_e(r);function r(e){var o;return de(this,r),he(Ie(o=n.call(this,e)),"renderOptions",(function(){return o.state.monthYearsList.map((function(e){var n=k(e),r=Fe(o.props.date,e)&&Ne(o.props.date,e);return t.createElement("div",{className:r?"react-datepicker__month-year-option --selected_month-year":"react-datepicker__month-year-option",key:n,onClick:o.onChange.bind(Ie(o),n)},r?t.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ce(e,o.props.dateFormat))}))})),he(Ie(o),"onChange",(function(e){return o.props.onChange(e)})),he(Ie(o),"handleClickOutside",(function(){o.props.onCancel()})),o.state={monthYearsList:vt(o.props.minDate,o.props.maxDate)},o}return fe(r,[{key:"render",value:function(){var e=o({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return t.createElement("div",{className:e},this.renderOptions())}}]),r}(t.Component)),It=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return he(Ie(e=n.call.apply(n,[this].concat(i))),"state",{dropdownVisible:!1}),he(Ie(e),"renderSelectOptions",(function(){for(var n=Ve(e.props.minDate),r=Ve(e.props.maxDate),o=[];!ne(n,r);){var i=k(n);o.push(t.createElement("option",{key:i,value:i},Ce(n,e.props.dateFormat,e.props.locale))),n=f(n,1)}return o})),he(Ie(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),he(Ie(e),"renderSelectMode",(function(){return t.createElement("select",{value:k(Ve(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),he(Ie(e),"renderReadView",(function(n){var r=Ce(e.props.date,e.props.dateFormat,e.props.locale);return t.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},t.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),t.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))})),he(Ie(e),"renderDropdown",(function(){return t.createElement(xt,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown})})),he(Ie(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),he(Ie(e),"onChange",(function(t){e.toggleDropdown();var n=Pe(parseInt(t));Fe(e.props.date,n)&&Ne(e.props.date,n)||e.props.onChange(n)})),he(Ie(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return fe(r,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return t.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(t.Component),wt=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return he(Ie(e=n.call.apply(n,[this].concat(a))),"dayEl",t.createRef()),he(Ie(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),he(Ie(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),he(Ie(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),he(Ie(e),"isSameDay",(function(t){return Ze(e.props.day,t)})),he(Ie(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!e.props.inline&&!e.isSameDay(e.props.selected)&&e.isSameDay(e.props.preSelection)})),he(Ie(e),"isDisabled",(function(){return Ye(e.props.day,e.props)})),he(Ie(e),"isExcluded",(function(){return Ke(e.props.day,e.props)})),he(Ie(e),"getHighLightedClass",(function(t){var n=e.props,r=n.day,o=n.highlightDates;if(!o)return!1;var i=Ce(r,"MM.dd.yyyy");return o.get(i)})),he(Ie(e),"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Qe(n,r,o)})),he(Ie(e),"isInSelectingRange",(function(){var t=e.props,n=t.day,r=t.selectsStart,o=t.selectsEnd,i=t.selectingDate,a=t.startDate,c=t.endDate;return!(!r&&!o||!i||e.isDisabled())&&(r&&c&&(re(i,c)||Le(i,c))?Qe(n,i,c):!(!o||!a||!ne(i,a)&&!Le(i,a))&&Qe(n,a,i))})),he(Ie(e),"isSelectingRangeStart",(function(){if(!e.isInSelectingRange())return!1;var t=e.props,n=t.day,r=t.selectingDate,o=t.startDate;return Ze(n,t.selectsStart?r:o)})),he(Ie(e),"isSelectingRangeEnd",(function(){if(!e.isInSelectingRange())return!1;var t=e.props,n=t.day,r=t.selectingDate,o=t.endDate;return Ze(n,t.selectsEnd?r:o)})),he(Ie(e),"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Ze(r,n)})),he(Ie(e),"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Ze(o,n)})),he(Ie(e),"isWeekend",(function(){var t=j(e.props.day);return 0===t||6===t})),he(Ie(e),"isOutsideMonth",(function(){return void 0!==e.props.month&&e.props.month!==S(e.props.day)})),he(Ie(e),"getClassNames",(function(t){var n=e.props.dayClassName?e.props.dayClassName(t):void 0;return o("react-datepicker__day",n,"react-datepicker__day--"+De(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSameDay(e.props.selected),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isSameDay(Pe()),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isOutsideMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"))})),he(Ie(e),"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,o=void 0===r?"Choose":r,i=t.ariaLabelPrefixWhenDisabled,a=void 0===i?"Not available":i,c=e.isDisabled()||e.isExcluded()?a:o;return"".concat(c," ").concat(Ce(n,"PPPP"))})),he(Ie(e),"getTabIndex",(function(t,n){var r=t||e.props.selected,o=n||e.props.preSelection;return e.isKeyboardSelected()||e.isSameDay(r)&&Ze(o,r)?0:-1})),he(Ie(e),"handleFocusDay",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(n=!0)),n&&e.dayEl.current.focus()})),he(Ie(e),"render",(function(){return t.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"button","aria-disabled":e.isDisabled()},e.props.renderDayContents?e.props.renderDayContents(O(e.props.day),e.props.day):O(e.props.day))})),e}return fe(r,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),r}(t.Component),_t=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return he(Ie(e=n.call.apply(n,[this].concat(o))),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),e}return fe(r,[{key:"render",value:function(){var e=this.props,n=e.weekNumber,r=e.ariaLabelPrefix,i=void 0===r?"week ":r,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick};return t.createElement("div",{className:o(a),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick},n)}}]),r}(t.Component),jt=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return he(Ie(e=n.call.apply(n,[this].concat(i))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),he(Ie(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),he(Ie(e),"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),he(Ie(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):Be(t,e.props.locale)})),he(Ie(e),"renderDays",(function(){var n=Je(e.props.day,e.props.locale),r=[],o=e.formatWeekNumber(n);if(e.props.showWeekNumber){var i=e.props.onWeekSelect?e.handleWeekClick.bind(Ie(e),n,o):void 0;r.push(t.createElement(_t,{key:"W",weekNumber:o,onClick:i,ariaLabelPrefix:e.props.ariaLabelPrefix}))}return r.concat([0,1,2,3,4,5,6].map((function(r){var o=d(n,r);return t.createElement(wt,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:o.valueOf(),day:o,month:e.props.month,onClick:e.handleDayClick.bind(Ie(e),o),onMouseEnter:e.handleDayMouseEnter.bind(Ie(e),o),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,inline:e.props.inline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef})})))})),e}return fe(r,[{key:"render",value:function(){return t.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),r}(t.Component),Ot=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return he(Ie(e=n.call.apply(n,[this].concat(a))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),he(Ie(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),he(Ie(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),he(Ie(e),"isRangeStartMonth",(function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Ne(D(r,t),o)})),he(Ie(e),"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Ue(T(r,t),o)})),he(Ie(e),"isRangeEndMonth",(function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Ne(D(r,t),i)})),he(Ie(e),"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Ue(T(r,t),i)})),he(Ie(e),"isWeekInMonth",(function(t){var n=e.props.day,r=d(t,6);return Ne(t,n)||Ne(r,n)})),he(Ie(e),"renderWeeks",(function(){for(var n=[],r=e.props.fixedHeight,o=Je(Ve(e.props.day),e.props.locale),i=0,a=!1;n.push(t.createElement(jt,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:i,day:o,month:S(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,inline:e.props.inline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,showWeekNumber:e.props.showWeekNumbers,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef})),!a;){i++,o=p(o,1);var c=r&&i>=6,s=!r&&!e.isWeekInMonth(o);if(c||s){if(!e.props.peekNextMonth)break;a=!0}}return n})),he(Ie(e),"onMonthClick",(function(t,n){e.handleDayClick(Ve(D(e.props.day,n)),t)})),he(Ie(e),"onQuarterClick",(function(t,n){e.handleDayClick(Me(T(e.props.day,n)),t)})),he(Ie(e),"getMonthClassNames",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate,c=n.selected,s=n.minDate,l=n.maxDate;return o("react-datepicker__month-text","react-datepicker__month-".concat(t),{"react-datepicker__month--disabled":(s||l)&&ze(D(r,t),e.props),"react-datepicker__month--selected":S(r)===t&&E(r)===E(c),"react-datepicker__month--in-range":$e(i,a,t,r),"react-datepicker__month--range-start":e.isRangeStartMonth(t),"react-datepicker__month--range-end":e.isRangeEndMonth(t)})})),he(Ie(e),"getQuarterClassNames",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate,c=n.selected,s=n.minDate,l=n.maxDate;return o("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter--disabled":(s||l)&&et(T(r,t),e.props),"react-datepicker__quarter--selected":P(r)===t&&E(r)===E(c),"react-datepicker__quarter--in-range":tt(i,a,t,r),"react-datepicker__quarter--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter--range-end":e.isRangeEndQuarter(t)})})),he(Ie(e),"renderMonths",(function(){var n=e.props,r=n.showFullMonthYearPicker,o=n.locale;return[[0,1,2],[3,4,5],[6,7,8],[9,10,11]].map((function(n,i){return t.createElement("div",{className:"react-datepicker__month-wrapper",key:i},n.map((function(n,i){return t.createElement("div",{key:i,onClick:function(t){e.onMonthClick(t,n)},className:e.getMonthClassNames(n)},r?He(n,o):Ge(n,o))})))}))})),he(Ie(e),"renderQuarters",(function(){return t.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(n,r){return t.createElement("div",{key:r,onClick:function(t){e.onQuarterClick(t,n)},className:e.getQuarterClassNames(n)},Xe(n,e.props.locale))})))})),he(Ie(e),"getClassNames",(function(){var t=e.props,n=t.selectingDate,r=t.selectsStart,i=t.selectsEnd,a=t.showMonthYearPicker,c=t.showQuarterYearPicker;return o("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":c})})),e}return fe(r,[{key:"render",value:function(){var e=this.props,n=e.showMonthYearPicker,r=e.showQuarterYearPicker,o=e.day,i=e.ariaLabelPrefix,a=void 0===i?"month ":i;return t.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(a," ").concat(Ce(o,"yyyy-MM"))},n?this.renderMonths():r?this.renderQuarters():this.renderWeeks())}}]),r}(t.Component),At=function(e){ye(r,e);var n=_e(r);function r(){var e;de(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return he(Ie(e=n.call.apply(n,[this].concat(i))),"state",{height:null}),he(Ie(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&ot(t,e.props)||e.props.excludeTimes&&rt(t,e.props.excludeTimes)||e.props.includeTimes&&!rt(t,e.props.includeTimes)||e.props.onChange(t)})),he(Ie(e),"liClasses",(function(t,n,r){var o=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t,n,r):void 0];return e.props.selected&&n===_(t)&&r===w(t)&&o.push("react-datepicker__time-list-item--selected"),((e.props.minTime||e.props.maxTime)&&ot(t,e.props)||e.props.excludeTimes&&rt(t,e.props.excludeTimes)||e.props.includeTimes&&!rt(t,e.props.includeTimes))&&o.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*_(t)+w(t))%e.props.intervals!=0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")})),he(Ie(e),"renderTimes",(function(){for(var n=[],r=e.props.format?e.props.format:"p",o=e.props.intervals,i=e.props.selected||e.props.openToDate||Pe(),a=_(i),c=w(i),s=Te(Pe()),u=1440/o,d=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),p=0;p<u;p++){var f=l(s,p*o);if(n.push(f),d){var h=pt(s,f,p,o,d);n=n.concat(h)}}return n.map((function(n,o){return t.createElement("li",{key:o,onClick:e.handleClick.bind(Ie(e),n),className:e.liClasses(n,a,c),ref:function(t){a===_(n)&&c>=w(n)&&(e.centerLi=t)}},Ce(n,r,e.props.locale))}))})),e}return fe(r,[{key:"componentDidMount",value:function(){this.list.scrollTop=r.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,n=this.state.height;return t.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},t.createElement("div",{className:"react-datepicker__header react-datepicker__header--time",ref:function(t){e.header=t}},t.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),t.createElement("div",{className:"react-datepicker__time"},t.createElement("div",{className:"react-datepicker__time-box"},t.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:n?{height:n}:{}},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),r}(t.Component);he(At,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var St=function(e){ye(r,e);var n=_e(r);function r(e){var t;return de(this,r),he(Ie(t=n.call(this,e)),"handleYearClick",(function(e,n){t.props.onDayClick&&t.props.onDayClick(e,n)})),he(Ie(t),"onYearClick",(function(e,n){var r;t.handleYearClick((r=J(t.props.date,n),H(r)),e)})),t}return fe(r,[{key:"render",value:function(){for(var e=this,n=[],r=this.props.date,o=function(r,o){n.push(t.createElement("div",{onClick:function(t){e.onYearClick(t,r)},className:"react-datepicker__year-container-text",key:r},r))},i=E(r)-11,a=0;i<=E(r);i++,a++)o(i);return t.createElement("div",{className:"react-datepicker__year-container"},n)}}]),r}(t.Component),Pt=function(e){ye(r,e);var n=_e(r);function r(e){var o;return de(this,r),he(Ie(o=n.call(this,e)),"onTimeChange",(function(e){o.setState({time:e});var t=new Date;t.setHours(e.split(":")[0]),t.setMinutes(e.split(":")[1]),o.props.onChange(t)})),he(Ie(o),"renderTimeInput",(function(){var e=o.state.time,n=o.props,r=n.timeString,i=n.customTimeInput;return i?t.cloneElement(i,{value:e,onChange:o.onTimeChange}):t.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){o.onTimeChange(e.target.value||r)}})})),o.state={time:o.props.timeString},o}return fe(r,[{key:"render",value:function(){return t.createElement("div",{className:"react-datepicker__input-time-container"},t.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),t.createElement("div",{className:"react-datepicker-time__input-container"},t.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}]),r}(t.Component);function Et(e){var n=e.className,r=e.children,o=e.showPopperArrow,i=e.arrowProps,a=void 0===i?{}:i;return t.createElement("div",{className:n},o&&t.createElement("div",be({className:"react-datepicker__triangle"},a)),r)}var kt=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Ct=function(e){ye(r,e);var n=_e(r);function r(e){var i;return de(this,r),he(Ie(i=n.call(this,e)),"handleClickOutside",(function(e){i.props.onClickOutside(e)})),he(Ie(i),"setClickOutsideRef",(function(){return i.containerRef.current})),he(Ie(i),"handleDropdownFocus",(function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return kt.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&i.props.onDropdownFocus()})),he(Ie(i),"getDateInView",(function(){var e=i.props,t=e.preSelection,n=e.selected,r=e.openToDate,o=lt(i.props),a=ut(i.props),c=Pe();return r||n||t||(o&&re(c,o)?o:a&&ne(c,a)?a:c)})),he(Ie(i),"increaseMonth",(function(){i.setState((function(e){var t=e.date;return{date:f(t,1)}}),(function(){return i.handleMonthChange(i.state.date)}))})),he(Ie(i),"decreaseMonth",(function(){i.setState((function(e){var t=e.date;return{date:v(t,1)}}),(function(){return i.handleMonthChange(i.state.date)}))})),he(Ie(i),"handleDayClick",(function(e,t,n){return i.props.onSelect(e,t,n)})),he(Ie(i),"handleDayMouseEnter",(function(e){i.setState({selectingDate:e}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(e)})),he(Ie(i),"handleMonthMouseLeave",(function(){i.setState({selectingDate:null}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()})),he(Ie(i),"handleYearChange",(function(e){i.props.onYearChange&&i.props.onYearChange(e)})),he(Ie(i),"handleMonthChange",(function(e){i.props.onMonthChange&&i.props.onMonthChange(e),i.props.adjustDateOnChange&&(i.props.onSelect&&i.props.onSelect(e),i.props.setOpen&&i.props.setOpen(!0)),i.props.setPreSelection&&i.props.setPreSelection(e)})),he(Ie(i),"handleMonthYearChange",(function(e){i.handleYearChange(e),i.handleMonthChange(e)})),he(Ie(i),"changeYear",(function(e){i.setState((function(t){var n=t.date;return{date:J(n,e)}}),(function(){return i.handleYearChange(i.state.date)}))})),he(Ie(i),"changeMonth",(function(e){i.setState((function(t){var n=t.date;return{date:D(n,e)}}),(function(){return i.handleMonthChange(i.state.date)}))})),he(Ie(i),"changeMonthYear",(function(e){i.setState((function(t){var n=t.date;return{date:J(D(n,S(e)),E(e))}}),(function(){return i.handleMonthYearChange(i.state.date)}))})),he(Ie(i),"header",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.state.date,n=Je(e,i.props.locale),r=[];return i.props.showWeekNumbers&&r.push(t.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),r.concat([0,1,2,3,4,5,6].map((function(e){var r=d(n,e),a=i.formatWeekday(r,i.props.locale),c=i.props.weekDayClassName?i.props.weekDayClassName(r):void 0;return t.createElement("div",{key:e,className:o("react-datepicker__day-name",c)},a)})))})),he(Ie(i),"formatWeekday",(function(e,t){return i.props.formatWeekDay?function(e,t,n){return t(Ce(e,"EEEE",n))}(e,i.props.formatWeekDay,t):i.props.useWeekdaysShort?function(e,t){return Ce(e,"EEE",t)}(e,t):function(e,t){return Ce(e,"EEEEEE",t)}(e,t)})),he(Ie(i),"decreaseYear",(function(){i.setState((function(e){var t=e.date;return{date:x(t,i.props.showYearPicker?11:1)}}),(function(){return i.handleYearChange(i.state.date)}))})),he(Ie(i),"renderPreviousButton",(function(){if(!i.props.renderCustomHeader){var e=i.props.showMonthYearPicker?ct(i.state.date,i.props):it(i.state.date,i.props);if((i.props.forceShowMonthNavigation||i.props.showDisabledMonthNavigation||!e)&&!i.props.showTimeSelectOnly){var n=["react-datepicker__navigation","react-datepicker__navigation--previous"],r=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(r=i.decreaseYear),e&&i.props.showDisabledMonthNavigation&&(n.push("react-datepicker__navigation--previous--disabled"),r=null);var o=i.props.showMonthYearPicker||i.props.showQuarterYearPicker,a=i.props,c=a.previousMonthAriaLabel,s=void 0===c?"Previous Month":c,l=a.previousYearAriaLabel,u=void 0===l?"Previous Year":l;return t.createElement("button",{type:"button",className:n.join(" "),onClick:r,"aria-label":o?u:s},o?i.props.previousYearButtonLabel:i.props.previousMonthButtonLabel)}}})),he(Ie(i),"increaseYear",(function(){i.setState((function(e){var t=e.date;return{date:h(t,i.props.showYearPicker?11:1)}}),(function(){return i.handleYearChange(i.state.date)}))})),he(Ie(i),"renderNextButton",(function(){if(!i.props.renderCustomHeader){var e=i.props.showMonthYearPicker?st(i.state.date,i.props):at(i.state.date,i.props);if((i.props.forceShowMonthNavigation||i.props.showDisabledMonthNavigation||!e)&&!i.props.showTimeSelectOnly){var n=["react-datepicker__navigation","react-datepicker__navigation--next"];i.props.showTimeSelect&&n.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&n.push("react-datepicker__navigation--next--with-today-button");var r=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(r=i.increaseYear),e&&i.props.showDisabledMonthNavigation&&(n.push("react-datepicker__navigation--next--disabled"),r=null);var o=i.props.showMonthYearPicker||i.props.showQuarterYearPicker,a=i.props,c=a.nextMonthAriaLabel,s=void 0===c?"Next Month":c,l=a.nextYearAriaLabel,u=void 0===l?"Next Year":l;return t.createElement("button",{type:"button",className:n.join(" "),onClick:r,"aria-label":o?u:s},o?i.props.nextYearButtonLabel:i.props.nextMonthButtonLabel)}}})),he(Ie(i),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.state.date,n=["react-datepicker__current-month"];return i.props.showYearDropdown&&n.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&n.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&n.push("react-datepicker__current-month--hasMonthYearDropdown"),t.createElement("div",{className:n.join(" ")},Ce(e,i.props.dateFormat,i.props.locale))})),he(Ie(i),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i.props.showYearDropdown&&!e)return t.createElement(mt,{adjustDateOnChange:i.props.adjustDateOnChange,date:i.state.date,onSelect:i.props.onSelect,setOpen:i.props.setOpen,dropdownMode:i.props.dropdownMode,onChange:i.changeYear,minDate:i.props.minDate,maxDate:i.props.maxDate,year:E(i.state.date),scrollableYearDropdown:i.props.scrollableYearDropdown,yearDropdownItemNumber:i.props.yearDropdownItemNumber})})),he(Ie(i),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i.props.showMonthDropdown&&!e)return t.createElement(yt,{dropdownMode:i.props.dropdownMode,locale:i.props.locale,onChange:i.changeMonth,month:S(i.state.date),useShortMonthInDropdown:i.props.useShortMonthInDropdown})})),he(Ie(i),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i.props.showMonthYearDropdown&&!e)return t.createElement(It,{dropdownMode:i.props.dropdownMode,locale:i.props.locale,dateFormat:i.props.dateFormat,onChange:i.changeMonthYear,minDate:i.props.minDate,maxDate:i.props.maxDate,date:i.state.date,scrollableMonthYearDropdown:i.props.scrollableMonthYearDropdown})})),he(Ie(i),"renderTodayButton",(function(){if(i.props.todayButton&&!i.props.showTimeSelectOnly)return t.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return i.props.onSelect(L(Pe()),e)}},i.props.todayButton)})),he(Ie(i),"renderDefaultHeader",(function(e){var n=e.monthDate,r=e.i;return t.createElement("div",{className:"react-datepicker__header"},i.renderCurrentMonth(n),t.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(0!==r),i.renderMonthYearDropdown(0!==r),i.renderYearDropdown(0!==r)),t.createElement("div",{className:"react-datepicker__day-names"},i.header(n)))})),he(Ie(i),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.monthDate,r=e.i;if(0!==r&&void 0!==r)return null;var o=it(i.state.date,i.props),a=at(i.state.date,i.props),c=ct(i.state.date,i.props),s=st(i.state.date,i.props),l=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return t.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},i.props.renderCustomHeader(ge(ge({},i.state),{},{changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:a,prevYearButtonDisabled:c,nextYearButtonDisabled:s})),l&&t.createElement("div",{className:"react-datepicker__day-names"},i.header(n)))})),he(Ie(i),"renderYearHeader",(function(){return t.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i.props.showYearPicker?"".concat(E(i.state.date)-11," - ").concat(E(i.state.date)):E(i.state.date))})),he(Ie(i),"renderHeader",(function(e){switch(!0){case void 0!==i.props.renderCustomHeader:return i.renderCustomHeader(e);case i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker:return i.renderYearHeader(e);default:return i.renderDefaultHeader(e)}})),he(Ie(i),"renderMonths",(function(){if(!i.props.showTimeSelectOnly&&!i.props.showYearPicker){for(var e=[],n=i.props.showPreviousMonths?i.props.monthsShown-1:0,r=v(i.state.date,n),o=0;o<i.props.monthsShown;++o){var a=o-i.props.monthSelectedIn,c=f(r,a),s="month-".concat(o);e.push(t.createElement("div",{key:s,ref:function(e){i.monthContainer=e},className:"react-datepicker__month-container"},i.renderHeader({monthDate:c,i:o}),t.createElement(Ot,{chooseDayAriaLabelPrefix:i.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:i.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:i.props.weekAriaLabelPrefix,onChange:i.changeMonthYear,day:c,dayClassName:i.props.dayClassName,monthClassName:i.props.monthClassName,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,onWeekSelect:i.props.onWeekSelect,orderInDisplay:o,formatWeekNumber:i.props.formatWeekNumber,locale:i.props.locale,minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,highlightDates:i.props.highlightDates,selectingDate:i.state.selectingDate,includeDates:i.props.includeDates,inline:i.props.inline,fixedHeight:i.props.fixedHeight,filterDate:i.props.filterDate,preSelection:i.props.preSelection,selected:i.props.selected,selectsStart:i.props.selectsStart,selectsEnd:i.props.selectsEnd,showWeekNumbers:i.props.showWeekNumbers,startDate:i.props.startDate,endDate:i.props.endDate,peekNextMonth:i.props.peekNextMonth,setOpen:i.props.setOpen,shouldCloseOnSelect:i.props.shouldCloseOnSelect,renderDayContents:i.props.renderDayContents,disabledKeyboardNavigation:i.props.disabledKeyboardNavigation,showMonthYearPicker:i.props.showMonthYearPicker,showFullMonthYearPicker:i.props.showFullMonthYearPicker,showYearPicker:i.props.showYearPicker,showQuarterYearPicker:i.props.showQuarterYearPicker,isInputFocused:i.props.isInputFocused,containerRef:i.containerRef})))}return e}})),he(Ie(i),"renderYears",(function(){if(!i.props.showTimeSelectOnly)return i.props.showYearPicker?t.createElement("div",{className:"react-datepicker__year"},i.renderHeader(),t.createElement(St,{onDayClick:i.handleDayClick,date:i.state.date})):void 0})),he(Ie(i),"renderTimeSection",(function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return t.createElement(At,{selected:i.props.selected,openToDate:i.props.openToDate,onChange:i.props.onTimeChange,timeClassName:i.props.timeClassName,format:i.props.timeFormat,includeTimes:i.props.includeTimes,intervals:i.props.timeIntervals,minTime:i.props.minTime,maxTime:i.props.maxTime,excludeTimes:i.props.excludeTimes,timeCaption:i.props.timeCaption,todayButton:i.props.todayButton,showMonthDropdown:i.props.showMonthDropdown,showMonthYearDropdown:i.props.showMonthYearDropdown,showYearDropdown:i.props.showYearDropdown,withPortal:i.props.withPortal,monthRef:i.state.monthContainer,injectTimes:i.props.injectTimes,locale:i.props.locale})})),he(Ie(i),"renderInputTimeSection",(function(){var e=new Date(i.props.selected),n="".concat(ft(e.getHours()),":").concat(ft(e.getMinutes()));if(i.props.showTimeInput)return t.createElement(Pt,{timeString:n,timeInputLabel:i.props.timeInputLabel,onChange:i.props.onTimeChange,customTimeInput:i.props.customTimeInput})})),i.containerRef=t.createRef(),i.state={date:i.getDateInView(),selectingDate:null,monthContainer:null},i}return fe(r,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null}}}]),fe(r,[{key:"componentDidMount",value:function(){this.props.showTimeSelect&&(this.assignMonthContainer=void this.setState({monthContainer:this.monthContainer}))}},{key:"componentDidUpdate",value:function(e){this.props.preSelection&&!Ze(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!Ze(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var e=this.props.container||Et;return t.createElement("div",{ref:this.containerRef},t.createElement(e,{className:o("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children))}}]),r}(t.Component),Rt=function(e){return!e.disabled&&-1!==e.tabIndex},Bt=function(e){ye(r,e);var n=_e(r);function r(e){var o;return de(this,r),he(Ie(o=n.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(o.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Rt)})),he(Ie(o),"handleFocusStart",(function(e){var t=o.getTabChildren();t&&t.length>1&&t[t.length-1].focus()})),he(Ie(o),"handleFocusEnd",(function(e){var t=o.getTabChildren();t&&t.length>1&&t[0].focus()})),o.tabLoopRef=t.createRef(),o}return fe(r,null,[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),fe(r,[{key:"render",value:function(){return this.props.enableTabLoop?t.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},t.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,t.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}]),r}(t.Component),Dt=function(e){ye(r,e);var n=_e(r);function r(){return de(this,r),n.apply(this,arguments)}return fe(r,[{key:"render",value:function(){var e,n=this.props,r=n.className,i=n.wrapperClassName,a=n.hidePopper,c=n.popperComponent,s=n.popperModifiers,l=n.popperPlacement,u=n.popperProps,d=n.targetComponent,p=n.enableTabLoop,f=n.popperOnKeyDown;if(!a){var h=o("react-datepicker-popper",r);e=t.createElement(le.Popper,be({modifiers:s,placement:l},u),(function(e){var n=e.ref,r=e.style,o=e.placement,i=e.arrowProps;return t.createElement(Bt,{enableTabLoop:p},t.createElement("div",be({ref:n,style:r},{className:h,"data-placement":o,onKeyDown:f}),t.cloneElement(c,{arrowProps:i})))}))}this.props.popperContainer&&(e=t.createElement(this.props.popperContainer,{},e));var b=o("react-datepicker-wrapper",i);return t.createElement(le.Manager,{className:"react-datepicker-manager"},t.createElement(le.Reference,null,(function(e){var n=e.ref;return t.createElement("div",{ref:n,className:b},d)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperProps:{},popperPlacement:"bottom-start"}}}]),r}(t.Component),Tt=se(Ct),Jt=function(e){ye(r,e);var n=_e(r);function r(e){var a;return de(this,r),he(Ie(a=n.call(this,e)),"getPreSelection",(function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Pe()})),he(Ie(a),"calcInitialState",(function(){var e=a.getPreSelection(),t=lt(a.props),n=ut(a.props),r=t&&re(e,t)?t:n&&ne(e,n)?n:e;return{open:a.props.startOpen||!1,preventFocus:!1,preSelection:a.props.selected?a.props.selected:r,highlightDates:dt(a.props.highlightDates),focused:!1}})),he(Ie(a),"clearPreventFocusTimeout",(function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)})),he(Ie(a),"setFocus",(function(){a.input&&a.input.focus&&a.input.focus()})),he(Ie(a),"setBlur",(function(){a.input&&a.input.blur&&a.input.blur(),a.cancelFocusInput()})),he(Ie(a),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.setState({open:e,preSelection:e&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Mt},(function(){e||a.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&a.setBlur(),a.setState({inputValue:null})}))}))})),he(Ie(a),"inputOk",(function(){return i(a.state.preSelection)})),he(Ie(a),"isCalendarOpen",(function(){return void 0===a.props.open?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open})),he(Ie(a),"handleFocus",(function(e){a.state.preventFocus||(a.props.onFocus(e),a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})})),he(Ie(a),"cancelFocusInput",(function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=null})),he(Ie(a),"deferFocusInput",(function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout((function(){return a.setFocus()}),1)})),he(Ie(a),"handleDropdownFocus",(function(){a.cancelFocusInput()})),he(Ie(a),"handleBlur",(function(e){(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&a.props.onBlur(e),a.setState({focused:!1})})),he(Ie(a),"handleCalendarClickOutside",(function(e){a.props.inline||a.setOpen(!1),a.props.onClickOutside(e),a.props.withPortal&&e.preventDefault()})),he(Ie(a),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(Ie(a),t),"function"==typeof r.isDefaultPrevented&&!r.isDefaultPrevented())){a.setState({inputValue:r.target.value,lastPreSelectChange:Vt});var o=Ee(r.target.value,a.props.dateFormat,a.props.locale,a.props.strictParsing);!o&&r.target.value||a.setSelected(o,r,!0)}})),he(Ie(a),"handleSelect",(function(e,t,n){a.setState({preventFocus:!0},(function(){return a.preventFocusTimeout=setTimeout((function(){return a.setState({preventFocus:!1})}),50),a.preventFocusTimeout})),a.setSelected(e,t,!1,n),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(e):a.props.inline||a.setOpen(!1)})),he(Ie(a),"setSelected",(function(e,t,n,r){var o=e;null!==o&&Ye(o,a.props)||(Le(a.props.selected,o)&&!a.props.allowSameDay||(null!==o&&(!a.props.selected||n&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(o=Re(o,{hour:_(a.props.selected),minute:w(a.props.selected),second:I(a.props.selected)})),a.props.inline||a.setState({preSelection:o}),a.props.inline&&a.props.monthsShown>1&&!a.props.inlineFocusSelectedMonth&&a.setState({monthSelectedIn:r})),a.props.onChange(o,t)),a.props.onSelect(o,t),n||a.setState({inputValue:null}))})),he(Ie(a),"setPreSelection",(function(e){var t=void 0!==a.props.minDate,n=void 0!==a.props.maxDate,r=!0;e&&(t&&n?r=Qe(e,a.props.minDate,a.props.maxDate):t?r=ne(e,a.props.minDate):n&&(r=re(e,a.props.maxDate))),r&&a.setState({preSelection:e})})),he(Ie(a),"handleTimeChange",(function(e){var t=Re(a.props.selected?a.props.selected:a.getPreSelection(),{hour:_(e),minute:w(e)});a.setState({preSelection:t}),a.props.onChange(t),a.props.shouldCloseOnSelect&&a.setOpen(!1),a.props.showTimeInput&&a.setOpen(!0),a.setState({inputValue:null})})),he(Ie(a),"onInputClick",(function(){a.props.disabled||a.props.readOnly||a.setOpen(!0),a.props.onInputClick()})),he(Ie(a),"onInputKeyDown",(function(e){a.props.onKeyDown(e);var t=e.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=a.calendar.componentNode&&a.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(n&&n.focus())}var r=Pe(a.state.preSelection);"Enter"===t?(e.preventDefault(),a.inputOk()&&a.state.lastPreSelectChange===Mt?(a.handleSelect(r,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(r)):a.setOpen(!1)):"Escape"===t&&(e.preventDefault(),a.setOpen(!1)),a.inputOk()||a.props.onInputError({code:1,msg:"Date input not valid."})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||a.onInputClick()})),he(Ie(a),"onDayKeyDown",(function(e){a.props.onKeyDown(e);var t=e.key,n=Pe(a.state.preSelection);if("Enter"===t)e.preventDefault(),a.handleSelect(n,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(n);else if("Escape"===t)e.preventDefault(),a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:"Date input not valid."});else if(!a.props.disabledKeyboardNavigation){var r;switch(t){case"ArrowLeft":r=g(n,1);break;case"ArrowRight":r=d(n,1);break;case"ArrowUp":r=y(n,1);break;case"ArrowDown":r=p(n,1);break;case"PageUp":r=v(n,1);break;case"PageDown":r=f(n,1);break;case"Home":r=x(n,1);break;case"End":r=h(n,1)}if(!r)return void(a.props.onInputError&&a.props.onInputError({code:1,msg:"Date input not valid."}));e.preventDefault(),a.setState({lastPreSelectChange:Mt}),a.props.adjustDateOnChange&&a.setSelected(r),a.setPreSelection(r)}})),he(Ie(a),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),a.setState({preventFocus:!0},(function(){a.setOpen(!1),setTimeout((function(){a.setFocus(),a.setState({preventFocus:!1})}))})))})),he(Ie(a),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),a.props.onChange(null,e),a.setState({inputValue:null})})),he(Ie(a),"clear",(function(){a.onClearClick()})),he(Ie(a),"renderCalendar",(function(){return a.props.inline||a.isCalendarOpen()?t.createElement(Tt,{ref:function(e){a.calendar=e},locale:a.props.locale,chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,adjustDateOnChange:a.props.adjustDateOnChange,setOpen:a.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,dateFormat:a.props.dateFormatCalendar,useWeekdaysShort:a.props.useWeekdaysShort,formatWeekDay:a.props.formatWeekDay,dropdownMode:a.props.dropdownMode,selected:a.props.selected,preSelection:a.state.preSelection,onSelect:a.handleSelect,onWeekSelect:a.props.onWeekSelect,openToDate:a.props.openToDate,minDate:a.props.minDate,maxDate:a.props.maxDate,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,startDate:a.props.startDate,endDate:a.props.endDate,excludeDates:a.props.excludeDates,filterDate:a.props.filterDate,onClickOutside:a.handleCalendarClickOutside,formatWeekNumber:a.props.formatWeekNumber,highlightDates:a.state.highlightDates,includeDates:a.props.includeDates,includeTimes:a.props.includeTimes,injectTimes:a.props.injectTimes,inline:a.props.inline,peekNextMonth:a.props.peekNextMonth,showMonthDropdown:a.props.showMonthDropdown,showPreviousMonths:a.props.showPreviousMonths,useShortMonthInDropdown:a.props.useShortMonthInDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showWeekNumbers:a.props.showWeekNumbers,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,forceShowMonthNavigation:a.props.forceShowMonthNavigation,showDisabledMonthNavigation:a.props.showDisabledMonthNavigation,scrollableYearDropdown:a.props.scrollableYearDropdown,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown,todayButton:a.props.todayButton,weekLabel:a.props.weekLabel,outsideClickIgnoreClass:"react-datepicker-ignore-onclickoutside",fixedHeight:a.props.fixedHeight,monthsShown:a.props.monthsShown,monthSelectedIn:a.state.monthSelectedIn,onDropdownFocus:a.handleDropdownFocus,onMonthChange:a.props.onMonthChange,onYearChange:a.props.onYearChange,dayClassName:a.props.dayClassName,weekDayClassName:a.props.weekDayClassName,monthClassName:a.props.monthClassName,timeClassName:a.props.timeClassName,showTimeSelect:a.props.showTimeSelect,showTimeSelectOnly:a.props.showTimeSelectOnly,onTimeChange:a.handleTimeChange,timeFormat:a.props.timeFormat,timeIntervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,timeCaption:a.props.timeCaption,className:a.props.calendarClassName,container:a.props.calendarContainer,yearDropdownItemNumber:a.props.yearDropdownItemNumber,previousMonthButtonLabel:a.props.previousMonthButtonLabel,nextMonthButtonLabel:a.props.nextMonthButtonLabel,previousYearButtonLabel:a.props.previousYearButtonLabel,nextYearButtonLabel:a.props.nextYearButtonLabel,timeInputLabel:a.props.timeInputLabel,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,renderCustomHeader:a.props.renderCustomHeader,popperProps:a.props.popperProps,renderDayContents:a.props.renderDayContents,onDayMouseEnter:a.props.onDayMouseEnter,onMonthMouseLeave:a.props.onMonthMouseLeave,showTimeInput:a.props.showTimeInput,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showPopperArrow:a.props.showPopperArrow,excludeScrollbar:a.props.excludeScrollbar,handleOnKeyDown:a.onDayKeyDown,isInputFocused:a.state.focused,customTimeInput:a.props.customTimeInput,setPreSelection:a.setPreSelection},a.props.children):null})),he(Ie(a),"renderDateInput",(function(){var e,n,r,i,c,s=o(a.props.className,he({},"react-datepicker-ignore-onclickoutside",a.state.open)),l=a.props.customInput||t.createElement("input",{type:"text"}),u=a.props.customInputRef||"ref",d="string"==typeof a.props.value?a.props.value:"string"==typeof a.state.inputValue?a.state.inputValue:(n=a.props.selected,i=(r=a.props).dateFormat,c=r.locale,n&&Ce(n,Array.isArray(i)?i[0]:i,c)||"");return t.cloneElement(l,(he(e={},u,(function(e){a.input=e})),he(e,"value",d),he(e,"onBlur",a.handleBlur),he(e,"onChange",a.handleChange),he(e,"onClick",a.onInputClick),he(e,"onFocus",a.handleFocus),he(e,"onKeyDown",a.onInputKeyDown),he(e,"id",a.props.id),he(e,"name",a.props.name),he(e,"autoFocus",a.props.autoFocus),he(e,"placeholder",a.props.placeholderText),he(e,"disabled",a.props.disabled),he(e,"autoComplete",a.props.autoComplete),he(e,"className",o(l.props.className,s)),he(e,"title",a.props.title),he(e,"readOnly",a.props.readOnly),he(e,"required",a.props.required),he(e,"tabIndex",a.props.tabIndex),he(e,"aria-labelledby",a.props.ariaLabelledBy),e))})),he(Ie(a),"renderClearButton",(function(){var e=a.props,n=e.isClearable,r=e.selected,o=e.clearButtonTitle,i=e.ariaLabelClose,c=void 0===i?"Close":i;return n&&null!=r?t.createElement("button",{type:"button",className:"react-datepicker__close-icon","aria-label":c,onClick:a.onClearClick,title:o,tabIndex:-1}):null})),a.state=a.calcInitialState(),a}return fe(r,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,renderDayContents:function(e){return e},inlineFocusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null}}}]),fe(r,[{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?S(n)!==S(r)||E(n)!==E(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dt(this.props.highlightDates)}),t.focused||Le(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout()}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?t.createElement("div",null,this.props.inline?null:t.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?t.createElement("div",{className:"react-datepicker__portal"},e):null):t.createElement(Dt,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),popperModifiers:this.props.popperModifiers,targetComponent:t.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}]),r}(t.Component),Vt="input",Mt="navigate";e.CalendarContainer=Et,e.default=Jt,e.getDefaultLocale=We,e.registerLocale=function(e,t){var r="undefined"!=typeof window?window:n.g;r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:n.g).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})},"object"==c(t)?a(t,n(793550),n(531681),n(227457),n(823399),n(80941),n(403166),n(743763),n(321023),n(65961),n(243630),n(909767),n(553651),n(331273),n(544453),n(86072),n(363400),n(350239),n(639781),n(244870),n(315639),n(337582),n(314823),n(982560),n(765999),n(785),n(64715),n(721383),n(145640),n(559226),n(705250),n(666502),n(775364),n(873548),n(159041),n(376031),n(65166),n(372383),n(232480),n(311467),n(361854),n(698413),n(644813),n(502286),n(108843),n(83383),n(345156),n(28802),n(969776),n(638963),n(396894),n(276962),n(390631),n(294747),n(23859),n(536084),n(788842),n(197107),n(293266),n(333737),n(457279),n(194510)):(o=[t,n(793550),n(531681),n(227457),n(823399),n(80941),n(403166),n(743763),n(321023),n(65961),n(243630),n(909767),n(553651),n(331273),n(544453),n(86072),n(363400),n(350239),n(639781),n(244870),n(315639),n(337582),n(314823),n(982560),n(765999),n(785),n(64715),n(721383),n(145640),n(559226),n(705250),n(666502),n(775364),n(873548),n(159041),n(376031),n(65166),n(372383),n(232480),n(311467),n(361854),n(698413),n(644813),n(502286),n(108843),n(83383),n(345156),n(28802),n(969776),n(638963),n(396894),n(276962),n(390631),n(294747),n(23859),n(536084),n(788842),n(197107),n(293266),n(333737),n(457279),n(194510)],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},977530:function(e,t){"use strict";function n(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function r(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var o={p:r,P:function(e,t){var o,i=e.match(/(P+)(p+)?/)||[],a=i[1],c=i[2];if(!c)return n(e,t);switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",n(a,t)).replace("{{time}}",r(c,t))}};t.Z=o},102309:function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:function(){return r}})},175064:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(197107),o=n(417691),i=n(76579),a=n(10028);function c(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=(0,o.Z)(n);return r}var s=6048e5;function l(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=(0,o.Z)(t).getTime()-c(t).getTime();return Math.round(n/s)+1}},76579:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(197107),o=n(10028),i=n(417691);function a(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var c=(0,i.Z)(a),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var l=(0,i.Z)(s);return t.getTime()>=c.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}},723224:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(197107),o=n(742066),i=n(840128),a=n(10028),c=n(839862);function s(e,t){(0,a.Z)(1,arguments);var n=t||{},r=n.locale,s=r&&r.options&&r.options.firstWeekContainsDate,l=null==s?1:(0,c.Z)(s),u=null==n.firstWeekContainsDate?l:(0,c.Z)(n.firstWeekContainsDate),d=(0,i.Z)(e,t),p=new Date(0);p.setUTCFullYear(d,0,u),p.setUTCHours(0,0,0,0);var f=(0,o.Z)(p,t);return f}var l=6048e5;function u(e,t){(0,a.Z)(1,arguments);var n=(0,r.default)(e),i=(0,o.Z)(n,t).getTime()-s(n,t).getTime();return Math.round(i/l)+1}},840128:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(197107),o=n(10028),i=n(742066),a=n(839862);function c(e,t){(0,o.Z)(1,arguments);var n=(0,r.default)(e),c=n.getUTCFullYear(),s=t||{},l=s.locale,u=l&&l.options&&l.options.firstWeekContainsDate,d=null==u?1:(0,a.Z)(u),p=null==s.firstWeekContainsDate?d:(0,a.Z)(s.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(c+1,0,p),f.setUTCHours(0,0,0,0);var h=(0,i.Z)(f,t),b=new Date(0);b.setUTCFullYear(c,0,p),b.setUTCHours(0,0,0,0);var m=(0,i.Z)(b,t);return n.getTime()>=h.getTime()?c+1:n.getTime()>=m.getTime()?c:c-1}},466513:function(e,t,n){"use strict";n.d(t,{Iu:function(){return i},Do:function(){return a},qp:function(){return c}});var r=["D","DD"],o=["YY","YYYY"];function i(e){return-1!==r.indexOf(e)}function a(e){return-1!==o.indexOf(e)}function c(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},10028:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},417691:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=1,n=(0,r.default)(e),i=n.getUTCDay(),a=(i<t?7:0)+i-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}},742066:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(197107),o=n(10028),i=n(839862);function a(e,t){(0,o.Z)(1,arguments);var n=t||{},a=n.locale,c=a&&a.options&&a.options.weekStartsOn,s=null==c?0:(0,i.Z)(c),l=null==n.weekStartsOn?s:(0,i.Z)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(e),d=u.getUTCDay(),p=(d<l?7:0)+d-l;return u.setUTCDate(u.getUTCDate()-p),u.setUTCHours(0,0,0,0),u}},839862:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},65961:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),a=(0,r.Z)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},321023:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(839862),o=n(835706),i=n(10028),a=36e5;function c(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.Z)(e,n*a)}},835706:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e).getTime(),a=(0,r.Z)(t);return new Date(n+a)}},743763:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(835706),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.Z)(e,6e4*n)}},909767:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),a=(0,r.Z)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var c=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+a+1,0);var l=s.getDate();return c>=l?s:(n.setFullYear(s.getFullYear(),s.getMonth(),c),n)}},243630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(65961),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t),a=7*n;return(0,o.default)(e,a)}},553651:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(909767),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,12*n)}},372383:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(102309),o=n(698413),i=n(10028),a=864e5;function c(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),c=(0,o.default)(t),s=n.getTime()-(0,r.Z)(n),l=c.getTime()-(0,r.Z)(c);return Math.round((s-l)/a)}},232480:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t),a=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return 12*a+c}},311467:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(644813),o=n(102309),i=n(10028),a=6048e5;function c(e,t,n){(0,i.Z)(2,arguments);var c=(0,r.default)(e,n),s=(0,r.default)(t,n),l=c.getTime()-(0,o.Z)(c),u=s.getTime()-(0,o.Z)(s);return Math.round((l-u)/a)}},361854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()-i.getFullYear()}},345156:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}},969776:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},28802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(197107),o=n(839862),i=n(10028);function a(e,t){(0,i.Z)(1,arguments);var n=t||{},a=n.locale,c=a&&a.options&&a.options.weekStartsOn,s=null==c?0:(0,o.Z)(c),l=null==n.weekStartsOn?s:(0,o.Z)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(e),d=u.getDay(),p=6+(d<l?-7:0)-(d-l);return u.setDate(u.getDate()+p),u.setHours(23,59,59,999),u}},403166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(80941),o=n(788781),i=n(680117),a=n(197107),c=n(10028),s=864e5;var l=n(175064),u=n(76579),d=n(723224),p=n(840128);function f(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var h={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return f("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):f(n+1,2)},d:function(e,t){return f(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return f(e.getUTCHours()%12||12,t.length)},H:function(e,t){return f(e.getUTCHours(),t.length)},m:function(e,t){return f(e.getUTCMinutes(),t.length)},s:function(e,t){return f(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return f(Math.floor(r*Math.pow(10,n-3)),t.length)}},b="midnight",m="noon",g="morning",y="afternoon",v="evening",x="night";function I(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=t||"";return n+String(o)+a+f(i,2)}function w(e,t){return e%60==0?(e>0?"-":"+")+f(Math.abs(e)/60,2):_(e,t)}function _(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+f(Math.floor(o/60),2)+n+f(o%60,2)}var j={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return h.y(e,t)},Y:function(e,t,n,r){var o=(0,p.Z)(e,r),i=o>0?o:1-o;return"YY"===t?f(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):f(i,t.length)},R:function(e,t){return f((0,u.Z)(e),t.length)},u:function(e,t){return f(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return f(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return f(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return h.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return f(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=(0,d.Z)(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):f(o,t.length)},I:function(e,t,n){var r=(0,l.Z)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):f(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):h.d(e,t)},D:function(e,t,n){var r=function(e){(0,c.Z)(1,arguments);var t=(0,a.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/s)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):f(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return f(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return f(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return f(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?m:0===o?b:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?v:o>=12?y:o>=4?g:x,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return h.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):h.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):f(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):f(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):h.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):h.s(e,t)},S:function(e,t){return h.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return w(o);case"XXXX":case"XX":return _(o);case"XXXXX":case"XXX":default:return _(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return w(o);case"xxxx":case"xx":return _(o);case"xxxxx":case"xxx":default:return _(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I(o,":");case"OOOO":default:return"GMT"+_(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I(o,":");case"zzzz":default:return"GMT"+_(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return f(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return f((r._originalDate||e).getTime(),t.length)}},O=n(977530),A=n(102309),S=n(466513),P=n(839862),E=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C=/^'([^]*?)'?$/,R=/''/g,B=/[a-zA-Z]/;function D(e,t,n){(0,c.Z)(2,arguments);var s=String(t),l=n||{},u=l.locale||o.Z,d=u.options&&u.options.firstWeekContainsDate,p=null==d?1:(0,P.Z)(d),f=null==l.firstWeekContainsDate?p:(0,P.Z)(l.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=u.options&&u.options.weekStartsOn,b=null==h?0:(0,P.Z)(h),m=null==l.weekStartsOn?b:(0,P.Z)(l.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var g=(0,a.default)(e);if(!(0,r.default)(g))throw new RangeError("Invalid time value");var y=(0,A.Z)(g),v=(0,i.Z)(g,y),x={firstWeekContainsDate:f,weekStartsOn:m,locale:u,_originalDate:g},I=s.match(k).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,O.Z[t])(e,u.formatLong,x):e})).join("").match(E).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return T(n);var o=j[r];if(o)return!l.useAdditionalWeekYearTokens&&(0,S.Do)(n)&&(0,S.qp)(n,t,e),!l.useAdditionalDayOfYearTokens&&(0,S.Iu)(n)&&(0,S.qp)(n,t,e),o(v,n,u.localize,x);if(r.match(B))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return I}function T(e){return e.match(C)[1].replace(R,"'")}},982560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getDate();return n}},314823:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getDay();return n}},337582:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getHours();return n}},315639:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMinutes();return n}},785:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return n}},64715:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=Math.floor(t.getMonth()/3)+1;return n}},244870:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getSeconds();return n}},145640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getTime();return n}},765999:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(644813),o=n(197107),i=n(839862),a=n(10028);function c(e,t){var n,c;(0,a.Z)(1,arguments);var s=(0,o.default)(e),l=s.getFullYear(),u=null==t||null===(n=t.locale)||void 0===n||null===(c=n.options)||void 0===c?void 0:c.firstWeekContainsDate,d=null==u?1:(0,i.Z)(u),p=null==(null==t?void 0:t.firstWeekContainsDate)?d:(0,i.Z)(t.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(l+1,0,p),f.setHours(0,0,0,0);var h=(0,r.default)(f,t),b=new Date(0);b.setFullYear(l,0,p),b.setHours(0,0,0,0);var m=(0,r.default)(b,t);return s.getTime()>=h.getTime()?l+1:s.getTime()>=m.getTime()?l:l-1}function s(e,t){(0,a.Z)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.firstWeekContainsDate,l=null==s?1:(0,i.Z)(s),u=null==n.firstWeekContainsDate?l:(0,i.Z)(n.firstWeekContainsDate),d=c(e,t),p=new Date(0);p.setFullYear(d,0,u),p.setHours(0,0,0,0);var f=(0,r.default)(p,t);return f}var l=6048e5;function u(e,t){(0,a.Z)(1,arguments);var n=(0,o.default)(e),i=(0,r.default)(n,t).getTime()-s(n,t).getTime();return Math.round(i/l)+1}},721383:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){return(0,o.Z)(1,arguments),(0,r.default)(e).getFullYear()}},23859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()>i.getTime()}},536084:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()<i.getTime()}},823399:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(10028);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(0,r.Z)(1,arguments),e instanceof Date||"object"===o(e)&&"[object Date]"===Object.prototype.toString.call(e)}},638963:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},396894:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(698413),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},276962:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},294747:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(108843),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},390631:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()===i.getFullYear()}},80941:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(823399),o=n(197107),i=n(10028);function a(e){if((0,i.Z)(1,arguments),!(0,r.default)(e)&&"number"!=typeof e)return!1;var t=(0,o.default)(e);return!isNaN(Number(t))}},788842:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e).getTime(),i=(0,r.default)(t.start).getTime(),a=(0,r.default)(t.end).getTime();if(!(i<=a))throw new RangeError("Invalid interval");return n>=i&&n<=a}},788781:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o=function(e,t,n){var o,i=r[e];return o="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function i(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var a={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},c={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return function(t,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=o.width?String(o.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var c=e.defaultWidth,s=o.width?String(o.width):e.defaultWidth;r=e.values[s]||e.values[c]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a,c=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?d(s,(function(e){return e.test(c)})):u(s,(function(e){return e.test(c)}));a=e.valueCallback?e.valueCallback(l):l,a=n.valueCallback?n.valueCallback(a):a;var p=t.slice(c.length);return{value:a,rest:p}}}function u(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function d(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var p,f={code:"en-US",formatDistance:o,formatLong:a,formatRelative:function(e,t,n,r){return c[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(p={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(p.matchPattern);if(!n)return null;var r=n[0],o=e.match(p.parsePattern);if(!o)return null;var i=p.valueCallback?p.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;var a=e.slice(r.length);return{value:i,rest:a}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},65166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(197107),o=n(10028);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,n;if((0,o.Z)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==i(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},376031:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(197107),o=n(10028);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,n;if((0,o.Z)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==i(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}},293266:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(788781),o=n(680117),i=n(197107);function a(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var c=n(977530),s=n(102309),l=n(466513),u=n(839862),d=n(840128),p=n(10028);function f(e,t,n){(0,p.Z)(2,arguments);var r=n||{},o=r.locale,a=o&&o.options&&o.options.weekStartsOn,c=null==a?0:(0,u.Z)(a),s=null==r.weekStartsOn?c:(0,u.Z)(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,i.default)(e),d=(0,u.Z)(t),f=l.getUTCDay(),h=d%7,b=(h+7)%7,m=(b<s?7:0)+d-f;return l.setUTCDate(l.getUTCDate()+m),l}var h=n(175064);var b=n(723224);var m=n(417691),g=n(742066),y=/^(1[0-2]|0?\d)/,v=/^(3[0-1]|[0-2]?\d)/,x=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,I=/^(5[0-3]|[0-4]?\d)/,w=/^(2[0-3]|[0-1]?\d)/,_=/^(2[0-4]|[0-1]?\d)/,j=/^(1[0-1]|0?\d)/,O=/^(1[0-2]|0?\d)/,A=/^[0-5]?\d/,S=/^[0-5]?\d/,P=/^\d/,E=/^\d{1,2}/,k=/^\d{1,3}/,C=/^\d{1,4}/,R=/^-?\d+/,B=/^-?\d/,D=/^-?\d{1,2}/,T=/^-?\d{1,3}/,J=/^-?\d{1,4}/,V=/^([+-])(\d{2})(\d{2})?|Z/,M=/^([+-])(\d{2})(\d{2})|Z/,F=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,N=/^([+-])(\d{2}):(\d{2})|Z/,U=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Z(e,t,n){var r=t.match(e);if(!r)return null;var o=parseInt(r[0],10);return{value:n?n(o):o,rest:t.slice(r[0].length)}}function L(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Q(e,t){return Z(R,e,t)}function W(e,t,n){switch(e){case 1:return Z(P,t,n);case 2:return Z(E,t,n);case 3:return Z(k,t,n);case 4:return Z(C,t,n);default:return Z(new RegExp("^\\d{1,"+e+"}"),t,n)}}function q(e,t,n){switch(e){case 1:return Z(B,t,n);case 2:return Z(D,t,n);case 3:return Z(T,t,n);case 4:return Z(J,t,n);default:return Z(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function H(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function G(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var i=o+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}var X=[31,28,31,30,31,30,31,31,30,31,30,31],Y=[31,29,31,30,31,30,31,31,30,31,30,31];function K(e){return e%400==0||e%4==0&&e%100!=0}var z={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var o=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return W(4,e,o);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:o});default:return W(t.length,e,o)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var o=e.getUTCFullYear();if(n.isTwoDigitYear){var i=G(n.year,o);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var o=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return W(4,e,o);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:o});default:return W(t.length,e,o)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var o=(0,d.Z)(e,r);if(n.isTwoDigitYear){var i=G(n.year,o);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return q("R"===t?4:t.length,e)},set:function(e,t,n,r){var o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),(0,m.Z)(o)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return q("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return W(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return W(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var o=function(e){return e-1};switch(t){case"M":return Z(y,e,o);case"MM":return W(2,e,o);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:o});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var o=function(e){return e-1};switch(t){case"L":return Z(y,e,o);case"LL":return W(2,e,o);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:o});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return Z(I,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,g.Z)(function(e,t,n){(0,p.Z)(2,arguments);var r=(0,i.default)(e),o=(0,u.Z)(t),a=(0,b.Z)(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return Z(I,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,m.Z)(function(e,t){(0,p.Z)(2,arguments);var n=(0,i.default)(e),r=(0,u.Z)(t),o=(0,h.Z)(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return Z(v,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return W(t.length,e)}},validate:function(e,t,n){var r=K(e.getUTCFullYear()),o=e.getUTCMonth();return r?t>=1&&t<=Y[o]:t>=1&&t<=X[o]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return Z(x,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return W(t.length,e)}},validate:function(e,t,n){return K(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=f(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return W(t.length,e,o);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:o});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=f(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return W(t.length,e,o);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:o});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=f(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var o=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return W(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:o})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){(0,p.Z)(2,arguments);var n=(0,u.Z)(t);n%7==0&&(n-=7);var r=1,o=(0,i.default)(e),a=o.getUTCDay(),c=((n%7+7)%7<r?7:0)+n-a;return o.setUTCDate(o.getUTCDate()+c),o}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(H(n),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(H(n),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(H(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return Z(O,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var o=e.getUTCHours()>=12;return o&&n<12?e.setUTCHours(n+12,0,0,0):o||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return Z(w,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return Z(j,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return Z(_,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var o=n<=24?n%24:n;return e.setUTCHours(o,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return Z(A,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return Z(S,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return W(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return W(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return L(V,e);case"XX":return L(M,e);case"XXXX":return L(F,e);case"XXXXX":return L(U,e);case"XXX":default:return L(N,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return L(V,e);case"xx":return L(M,e);case"xxxx":return L(F,e);case"xxxxx":return L(U,e);case"xxx":default:return L(N,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return Q(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return Q(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,te=/^'([^]*?)'?$/,ne=/''/g,re=/\S/,oe=/[a-zA-Z]/;function ie(e,t,n,d){(0,p.Z)(3,arguments);var f=String(e),h=String(t),b=d||{},m=b.locale||r.Z;if(!m.match)throw new RangeError("locale must contain match property");var g=m.options&&m.options.firstWeekContainsDate,y=null==g?1:(0,u.Z)(g),v=null==b.firstWeekContainsDate?y:(0,u.Z)(b.firstWeekContainsDate);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=m.options&&m.options.weekStartsOn,I=null==x?0:(0,u.Z)(x),w=null==b.weekStartsOn?I:(0,u.Z)(b.weekStartsOn);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===h)return""===f?(0,i.default)(n):new Date(NaN);var _,j={firstWeekContainsDate:v,weekStartsOn:w,locale:m},O=[{priority:10,subPriority:-1,set:ae,index:0}],A=h.match(ee).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,c.Z[t])(e,m.formatLong,j):e})).join("").match($),S=[];for(_=0;_<A.length;_++){var P=A[_];!b.useAdditionalWeekYearTokens&&(0,l.Do)(P)&&(0,l.qp)(P,h,e),!b.useAdditionalDayOfYearTokens&&(0,l.Iu)(P)&&(0,l.qp)(P,h,e);var E=P[0],k=z[E];if(k){var C=k.incompatibleTokens;if(Array.isArray(C)){for(var R=void 0,B=0;B<S.length;B++){var D=S[B].token;if(-1!==C.indexOf(D)||D===E){R=S[B];break}}if(R)throw new RangeError("The format string mustn't contain `".concat(R.fullToken,"` and `").concat(P,"` at the same time"))}else if("*"===k.incompatibleTokens&&S.length)throw new RangeError("The format string mustn't contain `".concat(P,"` and any other token at the same time"));S.push({token:E,fullToken:P});var T=k.parse(f,P,m.match,j);if(!T)return new Date(NaN);O.push({priority:k.priority,subPriority:k.subPriority||0,set:k.set,validate:k.validate,value:T.value,index:O.length}),f=T.rest}else{if(E.match(oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if("''"===P?P="'":"'"===E&&(P=ce(P)),0!==f.indexOf(P))return new Date(NaN);f=f.slice(P.length)}}if(f.length>0&&re.test(f))return new Date(NaN);var J=O.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return O.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),V=(0,i.default)(n);if(isNaN(V))return new Date(NaN);var M=(0,o.Z)(V,(0,s.Z)(V)),F={};for(_=0;_<J.length;_++){var N=J[_];if(N.validate&&!N.validate(M,N.value,j))return new Date(NaN);var U=N.set(M,F,N.value,j);U[0]?(M=U[0],a(F,U[1])):M=U}return M}function ae(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function ce(e){return e.match(te)[1].replace(ne,"'")}},333737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});Math.pow(10,8);var r=36e5,o=n(10028),i=n(839862);function a(e,t){(0,o.Z)(1,arguments);var n=t||{},r=null==n.additionalDigits?2:(0,i.Z)(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,c=d(e);if(c.date){var s=p(c.date,r);a=f(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var l,u=a.getTime(),h=0;if(c.time&&(h=b(c.time),isNaN(h)))return new Date(NaN);if(!c.timezone){var m=new Date(u+h),y=new Date(0);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return l=g(c.timezone),isNaN(l)?new Date(NaN):new Date(u+h+l)}var c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){var t,n={},r=e.split(c.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],c.timeZoneDelimiter.test(n.date)&&(n.date=e.split(c.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var o=c.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function p(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}function f(e,t){if(null===t)return new Date(NaN);var n=e.match(s);if(!n)return new Date(NaN);var r=!!n[4],o=h(n[1]),i=h(n[2])-1,a=h(n[3]),c=h(n[4]),l=h(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,c,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(y[t]||(v(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(v(e)?366:365)}(t,o)?(u.setUTCFullYear(t,i,Math.max(o,a)),u):new Date(NaN)}function h(e){return e?parseInt(e):1}function b(e){var t=e.match(l);if(!t)return NaN;var n=m(t[1]),o=m(t[2]),i=m(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,o,i)?n*r+6e4*o+1e3*i:NaN}function m(e){return e&&parseFloat(e.replace(",","."))||0}function g(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var n="+"===t[1]?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(o*r+6e4*i):NaN}var y=[31,null,31,30,31,30,31,31,30,31,30,31];function v(e){return e%400==0||e%4==0&&e%100!=0}},666502:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),a=(0,r.Z)(t);return n.setHours(a),n}},705250:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),a=(0,r.Z)(t);return n.setMinutes(a),n}},775364:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(839862),o=n(197107),i=n(10028);function a(e){(0,i.Z)(1,arguments);var t=(0,o.default)(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function c(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),c=(0,r.Z)(t),s=n.getFullYear(),l=n.getDate(),u=new Date(0);u.setFullYear(s,c,15),u.setHours(0,0,0,0);var d=a(u);return n.setMonth(c,Math.min(l,d)),n}},873548:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(839862),o=n(197107),i=n(775364),a=n(10028);function c(e,t){(0,a.Z)(2,arguments);var n=(0,o.default)(e),c=(0,r.Z)(t),s=Math.floor(n.getMonth()/3)+1,l=c-s;return(0,i.default)(n,n.getMonth()+3*l)}},559226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),a=(0,r.Z)(t);return n.setSeconds(a),n}},159041:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(197107),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,o.default)(e),a=(0,r.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}},698413:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}},502286:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},108843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}},644813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(197107),o=n(839862),i=n(10028);function a(e,t){(0,i.Z)(1,arguments);var n=t||{},a=n.locale,c=a&&a.options&&a.options.weekStartsOn,s=null==c?0:(0,o.Z)(c),l=null==n.weekStartsOn?s:(0,o.Z)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(e),d=u.getDay(),p=(d<l?7:0)+d-l;return u.setDate(u.getDate()-p),u.setHours(0,0,0,0),u}},83383:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(197107),o=n(10028);function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},86072:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(65961),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,-n)}},544453:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(321023),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,-n)}},680117:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(839862),o=n(835706),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.Z)(e,-n)}},331273:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(743763),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,-n)}},350239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(909767),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,-n)}},363400:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(243630),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,-n)}},639781:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(839862),o=n(553651),i=n(10028);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,o.default)(e,-n)}},197107:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(10028);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},39262:function(e,t,n){"use strict";var r=n(653408);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},531681:function(e,t,n){e.exports=n(39262)()},653408:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},602669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425882);t.isFirefox=r.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=r.memoize((function(){return Boolean(window.safari)}))},12175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425882),o=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=r.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=r.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=o},808851:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(12175),i=n(602669),a=n(132843),c=n(615675),s=n(936593),l=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var r=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:r});var o=e.dataTransfer,i=c.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var s=t.monitor.getSourceId(),l=t.sourceNodes.get(s),u=t.sourcePreviewNodes.get(s)||l;if(u){var d=t.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},f={offsetX:d.offsetX,offsetY:d.offsetY},h=a.getDragPreviewOffset(l,u,r,p,f);o.setDragImage(u,h.x,h.y)}}try{o.setData("application/json",{})}catch(b){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(i)t.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,r=c.matchNativeItemType(n);r&&t.beginDragNativeItem(r)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,i.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return r({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return r({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(s).some((function(t){return s[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=c.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=l},743310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=e.length,r=[],o=0;o<n;o++)r.push(o);r.sort((function(t,n){return e[t]<e[n]?-1:1}));var i,a,c=[],s=[],l=[];for(o=0;o<n-1;o++)i=e[o+1]-e[o],a=t[o+1]-t[o],s.push(i),c.push(a),l.push(a/i);var u=[l[0]];for(o=0;o<s.length-1;o++){var d=l[o],p=l[o+1];if(d*p<=0)u.push(0);else{i=s[o];var f=s[o+1],h=i+f;u.push(3*h/((h+f)/d+(h+i)/p))}}u.push(l[l.length-1]);var b,m=[],g=[];for(o=0;o<u.length-1;o++){b=l[o];var y=u[o],v=1/s[o];h=y+u[o+1]-b-b;m.push((b-y-h)*v),g.push(h*v*v)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=m,this.c3s=g}return e.prototype.interpolate=function(e){var t=this,n=t.xs,r=t.ys,o=t.c1s,i=t.c2s,a=t.c3s,c=n.length-1;if(e===n[c])return r[c];for(var s,l=0,u=a.length-1;l<=u;){var d=n[s=Math.floor(.5*(l+u))];if(d<e)l=s+1;else{if(!(d>e))return r[s];u=s-1}}var p=e-n[c=Math.max(0,u)],f=p*p;return r[c]+o[c]*p+i[c]*f+a[c]*p*f},e}();t.default=n},821634:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=n},909119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}},615675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(658203),o=n(821634);t.createNativeDragSource=function(e){return new o.NativeDragSource(r.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.nativeTypesConfig).filter((function(e){return r.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},658203:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(936593),i=n(909119);t.nativeTypesConfig=((r={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},r[o.URL]={exposeProperties:{urls:function(e,t){return i.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},r[o.TEXT]={exposeProperties:{text:function(e,t){return i.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},r)},936593:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},132843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(602669),o=n(743310);function i(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}t.getNodeClientOffset=i,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,c){var s,l,u="IMG"===(s=t).nodeName&&(r.isFirefox()||!document.documentElement.contains(s)),d=i(u?e:t),p={x:n.x-d.x,y:n.y-d.y},f=e.offsetWidth,h=e.offsetHeight,b=a.anchorX,m=a.anchorY,g=function(e,t,n,o){var i=e?t.width:n,a=e?t.height:o;return r.isSafari()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}(u,t,f,h),y=g.dragPreviewWidth,v=g.dragPreviewHeight,x=c.offsetX,I=c.offsetY,w=0===I||I;return{x:0===x||x?x:new o.default([0,.5,1],[p.x,p.x/f*y,p.x+y-f]).interpolate(b),y:w?I:(l=new o.default([0,.5,1],[p.y,p.y/h*v,p.y+v-h]).interpolate(m),r.isSafari()&&u&&(l+=(window.devicePixelRatio-1)*v),l)}}},306116:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}},344415:function(e,t,n){"use strict";var r=n(808851);n(306116).default;var o=n(936593);t.hm=o,t.ZP=function(e){return new r.default(e)}},425882:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}},646142:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=n(793550),s=n(482118),l=n(63650),u=n(865607),d=n(316786),p=n(116275);function f(e,t,n){return{dragDropManager:s.createDragDropManager(e,t,n)}}t.context=c.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=f,t.DragDropContextProvider=function(e){var n=e.children,r=a(e,["children"]),o="manager"in r?{dragDropManager:r.manager}:f(r.backend,r.context,r.debugMode);return c.createElement(t.Provider,{value:o},n)},t.DragDropContext=function(e,n,r){l.default("DragDropContext","backend",e);var a=f(e,n,r);return function(e){var n=e,r=n.displayName||n.name||"Component",s=function(s){function l(){var e=null!==s&&s.apply(this,arguments)||this;return e.ref=c.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(l,s),l.prototype.getDecoratedComponentInstance=function(){return d(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},l.prototype.render=function(){return c.createElement(t.Provider,{value:a},c.createElement(n,i({},this.props,{ref:u.isRefable(n)?this.ref:null})))},l.DecoratedComponent=e,l.displayName="DragDropContext("+r+")",l}(c.Component);return p(s,e)}}},525018:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(793550),s=n(63650),l=n(646142),u=n(865607),d=n(507539),p=n(116275),f=n(316786),h=n(932085);t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),f("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),f(d.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var o=n,s=t.arePropsEqual,d=void 0===s?h:s,b=o.displayName||o.name||"Component",m=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=c.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();h(t,e.state)||e.setState(t)}},e}return i(s,t),s.prototype.getDecoratedComponentInstance=function(){return f(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!d(e,this.props)||!h(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return c.createElement(l.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?c.createElement(o,a({},e.props,e.state,{ref:u.isRefable(o)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,f("object"===r(e),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",b,b);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+b+")",s.DecoratedComponent=n,s}(c.Component);return p(m,n)}}},578997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550).memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));r.displayName="DragPreviewImage",t.default=r},533069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63650),o=n(417632),i=n(870616),a=n(652618),c=n(23970),s=n(708305),l=n(80099),u=n(507539),d=n(316786);t.default=function(e,t,n,p){void 0===p&&(p={}),r.default("DragSource","type, spec, collect[, options]",e,t,n,p);var f=e;"function"!=typeof e&&(d(l.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),f=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var h=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),d(u.isPlainObject(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return o.default({containerDisplayName:"DragSource",createHandler:h,registerHandler:i.default,createConnector:function(e){return new s.default(e)},createMonitor:function(e){return new c.default(e)},DecoratedComponent:e,getType:f,collect:n,options:p})}}},23970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(316786),o=!1,i=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){r(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;r(!i,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{i=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},899575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63650),o=n(417632),i=n(527785),a=n(318953),c=n(80099),s=n(418036),l=n(166124),u=n(507539),d=n(316786);t.default=function(e,t,n,p){void 0===p&&(p={}),r.default("DropTarget","type, spec, collect[, options]",e,t,n,p);var f=e;"function"!=typeof e&&(d(c.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),f=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var h=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),d(u.isPlainObject(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:h,registerHandler:i.default,createMonitor:function(e){return new s.default(e)},createConnector:function(e){return new l.default(e)},DecoratedComponent:e,getType:f,collect:n,options:p})}}},418036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(316786),o=!1,i=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;r(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=i},708305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156012),o=n(954283),i=n(932085),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dragSource:function(e,n){t.dragSourceOptions=n||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!i(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!i(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},166124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156012),o=n(954283),i=n(932085),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dropTarget:function(e,n){t.dropTargetOptions=n,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!i(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},652618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(914668),o=(n(507539),n(316786)),i=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],c=function(){function e(e,t,n){var r=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new c(e,t,n)}}},318953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(914668),o=(n(507539),n(316786)),i=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},417632:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(793550),c=n(646142),s=n(278225),l=n(865607),u=(n(507539),n(316786)),d=n(116275),p=n(932085);t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,f=e.createConnector,h=e.registerHandler,b=e.containerDisplayName,m=e.getType,g=e.collect,y=e.options.arePropsEqual,v=void 0===y?p:y,x=t,I=t.displayName||t.name||"Component",w=function(e){function d(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();p(e,n.state)||n.setState(e)},n.disposable=new s.SerialDisposable,n.receiveProps(t),n.dispose(),n}return o(d,e),d.prototype.getHandlerId=function(){return this.handlerId},d.prototype.getDecoratedComponentInstance=function(){return u(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},d.prototype.shouldComponentUpdate=function(e,t){return!v(e,this.props)||!p(t,this.state)},d.prototype.componentDidMount=function(){this.disposable=new s.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},d.prototype.componentDidUpdate=function(e){v(this.props,e)||(this.receiveProps(this.props),this.handleChange())},d.prototype.componentWillUnmount=function(){this.dispose()},d.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(m(e)))},d.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=h(e,this.handler,this.manager),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new s.CompositeDisposable(new s.Disposable(o),new s.Disposable(r)))}},d.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},d.prototype.getCurrentState=function(){return this.handlerConnector?g(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},d.prototype.render=function(){var e=this;return a.createElement(c.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(x,i({},e.props,e.getCurrentState(),{ref:l.isRefable(x)?e.decoratedRef:null}))}))},d.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(u(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",I,I),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=f(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},d.DecoratedComponent=t,d.displayName=b+"("+I+")",d}(a.Component);return d(w,t)}},282446:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(161290)),r(n(125530)),r(n(300718))},202227:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(793550),i=n(870616),a=n(668667),c=n(23970),s=n(708305),l=n(316786);t.useDragSourceMonitor=function(){var e=a.useDragDropManager();return[o.useMemo((function(){return new c.default(e)}),[e]),o.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var c=a.useDragDropManager(),s=o.useMemo((function(){return{beginDrag:function(){var n=e.current,o=n.begin,i=n.item;if(o){var a=o(t);return l(null==a||"object"===r(a),"dragSpec.begin() must either return an object, undefined, or null"),a||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var o=e.current.isDragging;return o?o(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);o.useEffect((function(){var r=i.default(e.current.item.type,s,c),o=r[0],a=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),a}),[])}},704015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550),o=n(527785),i=n(668667),a=n(166124),c=n(418036);t.useDropTargetMonitor=function(){var e=i.useDragDropManager();return[r.useMemo((function(){return new c.default(e)}),[e]),r.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=i.useDragDropManager(),c=r.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);r.useEffect((function(){var r=o.default(e.current.accept,c,a),i=r[0],s=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),s}),[t,n])}},510800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(932085),o=n(793550);t.useCollector=function(e,t,n){var i=o.useState((function(){return t(e)})),a=i[0],c=i[1],s=o.useCallback((function(){var o=t(e);r(a,o)||(c(o),n&&n())}),[a,e,n]);return[a,s]}},668667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550),o=n(646142),i=n(316786);t.useDragDropManager=function(){var e=r.useContext(o.context).dragDropManager;return i(null!=e,"Expected drag drop context"),e}},118494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550),o=n(510800);t.useMonitorOutput=function(e,t,n){var i=o.useCollector(e,t,n),a=i[0],c=i[1];return r.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(c,{handlerIds:[t]})}),[e,c]),a}},161290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118494),o=n(202227),i=n(793550),a=n(316786);t.useDrag=function(e){var t=i.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=o.useDragSourceMonitor(),c=n[0],s=n[1];o.useDragHandler(t,c,s);var l=r.useMonitorOutput(c,t.current.collect||function(){return{}},(function(){return s.reconnect()})),u=i.useMemo((function(){return s.hooks.dragSource()}),[s]),d=i.useMemo((function(){return s.hooks.dragPreview()}),[s]);return i.useEffect((function(){s.dragSourceOptions=t.current.options||null,s.reconnect()}),[s]),i.useEffect((function(){s.dragPreviewOptions=t.current.previewOptions||null,s.reconnect()}),[s]),[l,u,d]}},300718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550),o=n(668667),i=n(510800);t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),n=i.useCollector(t,e),a=n[0],c=n[1];return r.useEffect((function(){return t.subscribeToOffsetChange(c)})),r.useEffect((function(){return t.subscribeToStateChange(c)})),a}},125530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118494),o=n(704015),i=n(793550),a=n(316786);t.useDrop=function(e){var t=i.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=o.useDropTargetMonitor(),c=n[0],s=n[1];o.useDropHandler(t,c,s);var l=r.useMonitorOutput(c,t.current.collect||function(){return{}},(function(){return s.reconnect()})),u=i.useMemo((function(){return s.hooks.dropTarget()}),[s]);return i.useEffect((function(){s.dropTargetOptions=e.options||null,s.reconnect()}),[e.options]),[l,u]}},774665:function(e,t,n){"use strict";var r=n(646142);t.Z5=r.DragDropContext,r.DragDropContextProvider,r.Consumer,n(525018).default;var o=n(533069);t.Ej=o.default;var i=n(899575);t.GR=i.default,n(578997).default;var a=n(282446);a.useDrag,a.useDragLayer,a.useDrop},870616:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}},527785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}},63650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]}},595329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550),o=n(316786);function i(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return o("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?r.cloneElement(e,{ref:function(e){i(t,e),n&&i(n,e)}}):r.cloneElement(e,{ref:t})}},507539:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"===n(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},566250:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=n},479793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(507539),o=function(){function e(e){this.isDisposed=!1,this.action=r.isFunction(e)?e:r.noop}return e.isDisposable=function(e){return e&&r.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:r.noop},e}();t.Disposable=o},922058:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=n},278225:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(479793)),r(n(922058)),r(n(566250))},914668:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},954283:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"===n(e)&&e.hasOwnProperty("current")}},865607:function(e,t){"use strict";function n(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=n,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||n(e);var t}},80099:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){return"string"==typeof t||"symbol"===n(t)||!!r&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},751774:function(){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},156012:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(793550),o=n(595329);function i(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!r.isValidElement(t)){var i=t;return e(i,n),i}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var c=n?function(t){return e(t,n)}:e;return o.default(a,c)}}n(751774),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=i(r);t[n]=function(){return o}}})),t}},116275:function(e,t,n){"use strict";var r=n(688355),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?a:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var c=s(t),b=s(n),m=0;m<a.length;++m){var g=a[m];if(!(i[g]||r&&r[g]||b&&b[g]||c&&c[g])){var y=p(n,g);try{l(t,g,y)}catch(v){}}}return t}return t}},316786:function(e){"use strict";e.exports=function(e,t,n,r,o,i,a,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,c],u=0;(s=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},572698:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function g(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case a:case s:case c:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case l:return e;default:return t}}case m:case b:case i:return t}}}function y(e){return g(e)===p}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=b,t.Portal=i,t.Profiler=s,t.StrictMode=c,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===c||e===h||"object"===n(e)&&null!==e&&(e.$$typeof===m||e.$$typeof===b||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f)},t.isAsyncMode=function(e){return y(e)||g(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===b},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===c},t.isSuspense=function(e){return g(e)===h}},688355:function(e,t,n){"use strict";e.exports=n(572698)},457279:function(e,t,n){"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:function(){return h}});var r=n(793550),o=n(624845);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var s,l,u=(void 0===s&&(s=0),function(){return++s}),d={},p={},f=["touchstart","touchmove"],h="ignore-react-onclickoutside";function b(e,t){var n=null;return-1!==f.indexOf(t)&&l&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,s,f=e.displayName||e.name||"Component";return s=n=function(n){var s,h;function m(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+f+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,o.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!p[r._uid]){void 0===l&&(l=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),p[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),d[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&c(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,d[r._uid],b(a(r),e))}))}},r.disableOnClickOutside=function(){delete p[r._uid];var e=d[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,b(a(r),t))})),delete d[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=u(),r}h=n,(s=m).prototype=Object.create(h.prototype),s.prototype.constructor=s,i(s,h);var g=m.prototype;return g.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+f+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},m}(r.Component),n.displayName="OnClickOutside("+f+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:h,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},s}},194510:function(e,t,n){"use strict";n.r(t),n.d(t,{Manager:function(){return Se},Popper:function(){return Te},Reference:function(){return Fe},placements:function(){return De}});var r=n(70597),o=n.n(r),i=n(314326),a=n.n(i),c=n(238775),s=n.n(c),l=n(595671),u=n.n(l),d=n(543799),p=n.n(d),f=n(173209),h=n.n(f),b=n(793550),m="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,g=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(m&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var y=m&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),g))}};function v(e){return e&&"[object Function]"==={}.toString.call(e)}function x(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function I(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function w(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=x(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:w(I(e))}function _(e){return e&&e.referenceNode?e.referenceNode:e}var j=m&&!(!window.MSInputMethodContext||!document.documentMode),O=m&&/MSIE 10/.test(navigator.userAgent);function A(e){return 11===e?j:10===e?O:j||O}function S(e){if(!e)return document.documentElement;for(var t=A(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===x(n,"position")?S(n):n:e?e.ownerDocument.documentElement:document.documentElement}function P(e){return null!==e.parentNode?P(e.parentNode):e}function E(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,c,s=i.commonAncestorContainer;if(e!==s&&t!==s||r.contains(o))return"BODY"===(c=(a=s).nodeName)||"HTML"!==c&&S(a.firstElementChild)!==a?S(s):s;var l=P(e);return l.host?E(l.host,t):E(e,P(t).host)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=k(t,"top"),o=k(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function R(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function B(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],A(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function D(e){var t=e.body,n=e.documentElement,r=A(10)&&getComputedStyle(n);return{height:B("Height",t,n,r),width:B("Width",t,n,r)}}var T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),V=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function F(e){return M({},e,{right:e.left+e.width,bottom:e.top+e.height})}function N(e){var t={};try{if(A(10)){t=e.getBoundingClientRect();var n=k(e,"top"),r=k(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?D(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,c=i.height||e.clientHeight||o.height,s=e.offsetWidth-a,l=e.offsetHeight-c;if(s||l){var u=x(e);s-=R(u,"x"),l-=R(u,"y"),o.width-=s,o.height-=l}return F(o)}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=A(10),o="HTML"===t.nodeName,i=N(e),a=N(t),c=w(e),s=x(t),l=parseFloat(s.borderTopWidth),u=parseFloat(s.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=F({top:i.top-a.top-l,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var p=parseFloat(s.marginTop),f=parseFloat(s.marginLeft);d.top-=l-p,d.bottom-=l-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(r&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(d=C(d,t)),d}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=U(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:k(n),c=t?0:k(n,"left"),s={top:a-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:o,height:i};return F(s)}function L(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===x(e,"position"))return!0;var n=I(e);return!!n&&L(n)}function Q(e){if(!e||!e.parentElement||A())return document.documentElement;for(var t=e.parentElement;t&&"none"===x(t,"transform");)t=t.parentElement;return t||document.documentElement}function W(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?Q(e):E(e,_(t));if("viewport"===r)i=Z(a,o);else{var c=void 0;"scrollParent"===r?"BODY"===(c=w(I(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var s=U(c,a,o);if("HTML"!==c.nodeName||L(a))i=s;else{var l=D(e.ownerDocument),u=l.height,d=l.width;i.top+=s.top-s.marginTop,i.bottom=u+s.top,i.left+=s.left-s.marginLeft,i.right=d+s.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function q(e){return e.width*e.height}function H(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=W(n,r,i,o),c={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(c).map((function(e){return M({key:e},c[e],{area:q(c[e])})})).sort((function(e,t){return t.area-e.area})),l=s.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:s[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?Q(t):E(t,_(n));return U(n,o,r)}function X(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Y(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function K(e,t,n){n=n.split("-")[0];var r=X(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",c=i?"left":"top",s=i?"height":"width",l=i?"width":"height";return o[a]=t[a]+t[s]/2-r[s]/2,o[c]=n===c?t[c]-r[l]:t[Y(c)],o}function z(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function $(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=z(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&v(n)&&(t.offsets.popper=F(t.offsets.popper),t.offsets.reference=F(t.offsets.reference),t=n(t,e))})),t}function ee(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=G(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=H(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=K(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=$(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function te(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function ne(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function re(){return this.state.isDestroyed=!0,te(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ne("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function oe(e){var t=e.ownerDocument;return t?t.defaultView:window}function ie(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||ie(w(i.parentNode),t,n,r),r.push(i)}function ae(e,t,n,r){n.updateBound=r,oe(e).addEventListener("resize",n.updateBound,{passive:!0});var o=w(e);return ie(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function ce(){this.state.eventsEnabled||(this.state=ae(this.reference,this.options,this.state,this.scheduleUpdate))}function se(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,oe(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function le(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ue(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&le(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var de=m&&/Firefox/i.test(navigator.userAgent);function pe(e,t,n){var r=z(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var fe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],he=fe.slice(3);function be(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=he.indexOf(e),r=he.slice(n+1).concat(he.slice(0,n));return t?r.reverse():r}var me="flip",ge="clockwise",ye="counterclockwise";function ve(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),c=a.indexOf(z(a,(function(e){return-1!==e.search(/,|\s/)})));a[c]&&-1===a[c].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,l=-1!==c?[a.slice(0,c).concat([a[c].split(s)[0]]),[a[c].split(s)[1]].concat(a.slice(c+1))]:[a];return(l=l.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var c=void 0;switch(a){case"%p":c=n;break;case"%":case"%r":default:c=r}return F(c)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){le(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var xe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,c=-1!==["bottom","top"].indexOf(n),s=c?"left":"top",l=c?"width":"height",u={start:V({},s,i[s]),end:V({},s,i[s]+i[l]-a[l])};e.offsets.popper=M({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,c=r.split("-")[0],s=void 0;return s=le(+n)?[+n,0]:ve(n,i,a,c),"left"===c?(i.top+=s[0],i.left-=s[1]):"right"===c?(i.top+=s[0],i.left+=s[1]):"top"===c?(i.left+=s[0],i.top-=s[1]):"bottom"===c&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||S(e.instance.popper);e.instance.reference===n&&(n=S(n));var r=ne("transform"),o=e.instance.popper.style,i=o.top,a=o.left,c=o[r];o.top="",o.left="",o[r]="";var s=W(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=c,t.boundaries=s;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(u[e],s[e])),V({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>s[e]&&!t.escapeWithReference&&(r=Math.min(u[n],s[e]-("right"===e?u.width:u.height))),V({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=M({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),c=a?"right":"bottom",s=a?"left":"top",l=a?"width":"height";return n[c]<i(r[s])&&(e.offsets.popper[s]=i(r[s])-n[l]),n[s]>i(r[c])&&(e.offsets.popper[s]=i(r[c])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!pe(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,c=i.reference,s=-1!==["left","right"].indexOf(o),l=s?"height":"width",u=s?"Top":"Left",d=u.toLowerCase(),p=s?"left":"top",f=s?"bottom":"right",h=X(r)[l];c[f]-h<a[d]&&(e.offsets.popper[d]-=a[d]-(c[f]-h)),c[d]+h>a[f]&&(e.offsets.popper[d]+=c[d]+h-a[f]),e.offsets.popper=F(e.offsets.popper);var b=c[d]+c[l]/2-h/2,m=x(e.instance.popper),g=parseFloat(m["margin"+u]),y=parseFloat(m["border"+u+"Width"]),v=b-e.offsets.popper[d]-g-y;return v=Math.max(Math.min(a[l]-h,v),0),e.arrowElement=r,e.offsets.arrow=(V(n={},d,Math.round(v)),V(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(te(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=W(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Y(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case me:a=[r,o];break;case ge:a=be(r);break;case ye:a=be(r,!0);break;default:a=t.behavior}return a.forEach((function(c,s){if(r!==c||a.length===s+1)return e;r=e.placement.split("-")[0],o=Y(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),f=d(l.left)<d(n.left),h=d(l.right)>d(n.right),b=d(l.top)<d(n.top),m=d(l.bottom)>d(n.bottom),g="left"===r&&f||"right"===r&&h||"top"===r&&b||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),v=!!t.flipVariations&&(y&&"start"===i&&f||y&&"end"===i&&h||!y&&"start"===i&&b||!y&&"end"===i&&m),x=!!t.flipVariationsByContent&&(y&&"start"===i&&h||y&&"end"===i&&f||!y&&"start"===i&&m||!y&&"end"===i&&b),I=v||x;(p||g||I)&&(e.flipped=!0,(p||g)&&(r=a[s+1]),I&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=M({},e.offsets.popper,K(e.instance.popper,e.offsets.reference,e.placement)),e=$(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),c=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(c?o[a?"width":"height"]:0),e.placement=Y(t),e.offsets.popper=F(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!pe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=z(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=z(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,c=S(e.instance.popper),s=N(c),l={position:o.position},u=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,c=function(e){return e},s=i(o.width),l=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||s%2==l%2?i:a:c,f=t?i:c;return{left:p(s%2==1&&l%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!de),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=ne("transform"),h=void 0,b=void 0;if(b="bottom"===d?"HTML"===c.nodeName?-c.clientHeight+u.bottom:-s.height+u.bottom:u.top,h="right"===p?"HTML"===c.nodeName?-c.clientWidth+u.right:-s.width+u.right:u.left,a&&f)l[f]="translate3d("+h+"px, "+b+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var m="bottom"===d?-1:1,g="right"===p?-1:1;l[d]=b*m,l[p]=h*g,l.willChange=d+", "+p}var y={"x-placement":e.placement};return e.attributes=M({},y,e.attributes),e.styles=M({},l,e.styles),e.arrowStyles=M({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return ue(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&ue(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=G(o,t,e,n.positionFixed),a=H(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),ue(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Ie=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=y(this.update.bind(this)),this.options=M({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(M({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=M({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return M({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&v(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return J(e,[{key:"update",value:function(){return ee.call(this)}},{key:"destroy",value:function(){return re.call(this)}},{key:"enableEventListeners",value:function(){return ce.call(this)}},{key:"disableEventListeners",value:function(){return se.call(this)}}]),e}();Ie.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Ie.placements=fe,Ie.Defaults=xe;var we=Ie,_e=n(787198),je=n.n(_e),Oe=je()(),Ae=je()(),Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,p()(u()(u()(t)),"referenceNode",void 0),p()(u()(u()(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}s()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return b.createElement(Oe.Provider,{value:this.referenceNode},b.createElement(Ae.Provider,{value:this.setReferenceNode},this.props.children))},t}(b.Component),Pe=function(e){return Array.isArray(e)?e[0]:e},Ee=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},ke=function(e,t){if("function"==typeof e)return Ee(e,t);null!=e&&(e.current=t)},Ce={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Re={},Be=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,p()(u()(u()(t)),"state",{data:void 0,placement:void 0}),p()(u()(u()(t)),"popperInstance",void 0),p()(u()(u()(t)),"popperNode",null),p()(u()(u()(t)),"arrowNode",null),p()(u()(u()(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(ke(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),p()(u()(u()(t)),"setArrowNode",(function(e){t.arrowNode=e})),p()(u()(u()(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),p()(u()(u()(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:a()({},t.props.modifiers,{arrow:a()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),p()(u()(u()(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?a()({position:t.state.data.offsets.popper.position},t.state.data.styles):Ce})),p()(u()(u()(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),p()(u()(u()(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:Re})),p()(u()(u()(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),p()(u()(u()(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),p()(u()(u()(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=u()(u()(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new we(n,e,t.getOptions()))})),p()(u()(u()(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}s()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&h()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){ke(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return Pe(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(b.Component);p()(Be,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var De=we.placements;function Te(e){var t=e.referenceElement,n=o()(e,["referenceElement"]);return b.createElement(Oe.Consumer,null,(function(e){return b.createElement(Be,a()({referenceElement:void 0!==t?t:e},n))}))}var Je=n(964756),Ve=n.n(Je),Me=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,p()(u()(u()(t)),"refHandler",(function(e){ke(t.props.innerRef,e),Ee(t.props.setReferenceNode,e)})),t}s()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){ke(this.props.innerRef,null)},n.render=function(){return Ve()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),Pe(this.props.children)({ref:this.refHandler})},t}(b.Component);function Fe(e){return b.createElement(Ae.Consumer,null,(function(t){return b.createElement(Me,a()({setReferenceNode:t},e))}))}},595671:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},543799:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},314326:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},238775:function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},70597:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},173209:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(813469),i=n(756863),a=n(914351),c=n(507339),s=n(212677),l=n(930458),u=Date.prototype.getTime;function d(e,t,n){var h=n||{};return!!(h.strict?a(e,t):e===t)||(!e||!t||"object"!==r(e)&&"object"!==r(t)?h.strict?a(e,t):e==t:function(e,t,n){var a,h;if(r(e)!==r(t))return!1;if(p(e)||p(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var b=c(e),m=c(t);if(b!==m)return!1;if(b||m)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return u.call(e)===u.call(t);var g=f(e),y=f(t);if(g!==y)return!1;if(g||y){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(r(e)!==r(t))return!1;try{var v=o(e),x=o(t)}catch(I){return!1}if(v.length!==x.length)return!1;for(v.sort(),x.sort(),a=v.length-1;a>=0;a--)if(v[a]!=x[a])return!1;for(a=v.length-1;a>=0;a--)if(!d(e[h=v[a]],t[h],n))return!1;return!0}(e,t,h))}function p(e){return null==e}function f(e){return!(!e||"object"!==r(e)||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=d},914351:function(e){"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},964756:function(e){"use strict";var t=function(){};e.exports=t},131264:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(856181),o=n(154737),i=n(611573);n(55451);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var c=n(793550),s=n(624845),l=!1,u=n(654189),d="unmounted",p="exited",f="entering",h="entered",b="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=p,r.appearStatus=f):o=h:o=t.unmountOnExit||t.mountOnEnter?d:p,r.state={status:o},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==h&&(t=f):n!==f&&n!==h||(t=b)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[s.findDOMNode(this),r],i=o[0],a=o[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||l?this.safeSetState({status:h},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:f},(function(){t.props.onEntering(i,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!l?(this.props.onExit(r),this.safeSetState({status:b},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.createElement(u.Z.Provider,{value:null},"function"==typeof n?n(e,r):c.cloneElement(c.Children.only(n),r))},t}(c.Component);function g(){}m.contextType=u.Z,m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=d,m.EXITED=p,m.ENTERING=f,m.ENTERED=h,m.EXITING=b;var y=m,v=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,i.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&v(e,r),o&&v(e,o),i&&v(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return c.createElement(y,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);x.defaultProps={classNames:""};var I=x},654189:function(e,t,n){"use strict";var r=n(793550);t.Z=r.createContext(null)},856181:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},611573:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{Z:function(){return r}})},154737:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:function(){return r}})},173125:function(e){"use strict";var t=Object,n=TypeError;e.exports=function(){if(null!=this&&this!==t(this))throw new n("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},212677:function(e,t,n){"use strict";var r=n(418739),o=n(31698),i=n(173125),a=n(973523),c=n(736916),s=o(i);r(s,{getPolyfill:a,implementation:i,shim:c}),e.exports=s},973523:function(e,t,n){"use strict";var r=n(173125),o=n(418739).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return r}},736916:function(e,t,n){"use strict";var r=n(418739).supportsDescriptors,o=n(973523),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,c=TypeError,s=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!s)throw new c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=s(l),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},192522:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,r=null;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every((function(e,r){return t(e,n[r])}))||(r=e.apply(void 0,i)),n=i,r}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return n(e)})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var c=0,s=o.pop(),l=a(o),u=e.apply(void 0,[function(){return c++,s.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=l.map((function(n){return n.apply(void 0,[e,t].concat(o))}));return u.apply(void 0,r(a))};return d.resultFunc=s,d.recomputations=function(){return c},d.resetRecomputations=function(){return c=0},d}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?s:arguments[1];if("object"!==n(e))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+n(e));var r=Object.keys(e);return t(r.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[r[n]]=t,e}),{})}))};var s=t.P1=c(i)},932085:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,n,r,o){var i=r?r.call(o,e,n):void 0;if(void 0!==i)return!!i;if(e===n)return!0;if("object"!==t(e)||!e||"object"!==t(n)||!n)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var d=e[u],p=n[u];if(!1===(i=r?r.call(o,d,p,u):void 0)||void 0===i&&d!==p)return!1}return!0}},247238:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}}),e=n.hmd(e);var r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)}},function(e){e.O(0,[63543],(function(){[75796,69039,21632,92982,23039,49806,56103,48035,5035,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,18265,13529,13764,10685,20854,8330,81314,48825,12366,98131,262,49887,74923],(function(){return t=445922,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/create/[method]-unauthdesktop-64008d27f5e00fbb.js.map