(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[49887],{627578:function(e,r,t){"use strict";var n=t(403322),o=t.n(n),i={};i._showErrorCallback=i._showErrorCallback||null,i.setShowHtmlErrorCallback=function(e){i._showErrorCallback=e},i.showError=function(e,r,t){var n=o()(e);return i.showHtmlError(n,r,t)},i.showHtmlError=function(e,r,t){"function"==typeof i._showErrorCallback&&i._showErrorCallback(e,r,t)},r.Z=i},230457:function(e,r,t){"use strict";var n=t(447186);r.Z=function(){return n.Z.isAuthenticated()&&!!n.Z.attributes.facebook_id&&!n.Z.isLimitedLogin()}},527082:function(e,r,t){"use strict";function n(e){var r=e.appliedProductFilters,t=e.autoCorrectionDisabled,n=e.filters,o=e.query,i=e.scope,a=e.selectedPinImgSig,u=[i,n,r,e.user,a,o].map((function(e){return null!=e?e:""})).join(":");return t?"auto-correction-disabled:"+u:u}function o(e){var r=e.autoCorrectionDisabled,t=void 0!==r&&r,n=e.appliedProductFilters,o=void 0===n?null:n,i=e.bubbleId,a=void 0===i?null:i,u=e.filters,c=void 0===u?null:u,s=e.query,d=void 0===s?null:s,l=e.rs,f=void 0===l?"direct_navigation":l,p=e.scope,y=void 0===p?"pins":p,v=e.selectedPinImgSig,_=void 0===v?null:v,b=e.sourceId;return{article:a,appliedProductFilters:o,auto_correction_disabled:t,corpus:_?"personalize":null,customized_rerank_type:_?"manas_graph_sage_only_wand_rewrite":null,filters:c,query:d,query_pin_sigs:_,redux_normalize_feed:!0,rs:f,scope:y,source_id:void 0===b?null:b,user:e.user}}function i(e){var r=e.autoCorrectionDisabled,t=e.appliedProductFilters,n=e.filters,i=e.selectedPinImgSig;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!r,appliedProductFilters:t,filters:n,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:i,bubbleId:e.bubbleId,user:e.user})}}t.d(r,{Tb:function(){return n},dM:function(){return o},Ht:function(){return i}})},317461:function(e,r,t){"use strict";t.d(r,{GY:function(){return u},PY:function(){return c},r$:function(){return s},LM:function(){return d}});var n=t(730762),o=t(281996),i=t(549135),a=["search_articles_story","search_pinner_authority_hero","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function u(e){var r=e.query,t=e.scope;return"".concat(r,"-").concat(t)}function c(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map((function(e){return null!=e?e:""})).join("-")}function s(e){var r=e.query,t=e.rs,a=e.scope,u=n.Z.getInstance().getPreviousViewFromContext();if(!(!u.view_type&&!u.view_parameter)){var c=u.view_type,s=u.view_parameter;(0,i.j)((0,o.wF)(a),{view:c,viewParameter:s,query:r,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,i.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,i.j)(101,{component:0,element:10349,view:142})}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=!0;return e.reduce((function(e,t){var n;return r&&t.story_type&&a.includes(t.story_type)&&0===(null===(n=t.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(t):(r=!1,e.filteredResults.push(t)),e}),{searchFullWidthStories:[],filteredResults:[]})}},282152:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(737614);function o(){var e=n.Z.instance,r=e.is_mobile_agent?"mobile":"desktop";return"".concat(r,".").concat(e.country,".").concat(e.user_agent_platform,".").concat(e.browser_name).replace(/ /g,"_")}},613330:function(e,r,t){"use strict";t.d(r,{DV:function(){return f},zX:function(){return v}});var n=t(317461),o=t(527082),i=t(881219),a=t(451104);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var f={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},p={ApiResource:function(e){var r=e.options;return null!=r&&r.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:f.CALL_TO_CREATE_RESPONSES_FEED,id:r.pin_id}:null},AggregatedActivityFeedResource:function(e){var r=e.options.aggregated_pin_data_id;return{type:f.USER_DID_IT_DATA,id:r}},AggregatedCommentFeedResource:function(e){var r=e.options.objectId;return{type:f.AGGREGATED_COMMENTS,id:r}},AggregatedCommentReplyFeedResource:function(e){var r=e.options.objectId;return{type:f.AGGREGATED_COMMENTS,id:r,reversed:!0}},BoardActivityFeedResource:function(e){var r=e.options.board_id;return{type:f.BOARD_ACTIVITYITEMS,id:r}},BoardActivityCommentFeedResource:function(e){var r=e.options,t=r.activityId,n=r.parentType;return{type:f.BOARD_ACTIVITYCOMMENTS,id:t,reversed:"boardactivitycomment"===n}},BoardFeedResource:function(e){var r=e.options.board_id;return{type:f.BOARD_PINS,id:r}},BoardlessPinsResource:function(e){var r=e.options.userId;return{type:f.BOARDLESS_PINS,id:r}},BoardSectionPinsResource:function(e){var r=e.options.section_id;return{type:f.SECTION_PINS,id:r}},BoardSectionsResource:function(e){var r=e.options.board_id;return{type:f.BOARD_SECTIONS,id:r}},BoardsResource:function(e){var r=e.options,t=r.username,n=r.sort;return{type:f.PROFILE_BOARDS,id:(0,i.OV)(t,n)}},BaseSearchResource:function(e){var r,t=e.options,i=t.auto_correction_disabled,a=t.appliedProductFilters,u=t.scope,c=t.filters,s=t.query_pin_sigs,d=t.query,l=t.user,p=e.response;return{type:f.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:a,autoCorrectionDisabled:i,filters:c,query:d,selectedPinImgSig:s,scope:u,user:l}),items:null!==(r=p.resource_response.data)&&void 0!==r&&r.results?(0,n.LM)(p.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:function(e){var r=e.options.objectId;return{type:f.AGGREGATED_COMMENTS,id:r,reversed:!0}},DidItUserFeedResource:function(e){var r=e.options.username;return{type:f.USER_DID_IT_DATA,id:r}},IdeasHubTodayArticlesResource:function(e){var r=e.options.interest_id;return{type:f.TODAY_TAB,id:r}},MoreIdeasTabsResource:function(e){var r,t=e.response;return{type:f.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(r=t.resource_response.data)||void 0===r?void 0:r.tabs)||[]}},RelatedArticlesResource:function(e){var r=e.options.article_id;return{type:f.TODAY_TAB,id:r}},StoryPinDraftsResource:function(e){var r=e.options.userId;return{type:f.STORY_PIN_DATA,id:r}},TodayTabInterestFeedResource:function(e){var r=e.options.interest_id;return{type:f.TODAY_ARTICLE_INTEREST_FEED,id:r}},TodayTabResource:function(){return{type:f.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var r=e.options.aggregated_pin_id;return{type:f.UNIFIED_COMMENTS,id:r}},UnifiedCommentsResource:function(e){var r=e.options.aggregated_pin_id;return{type:f.UNIFIED_COMMENTS,id:r,reversed:!0}},UserActivityPinsResource:function(e){var r=e.options.user_id;return{type:f.CREATED_TAB_ACTIVITY_PINS_FEED,id:r}},UserStoryPinsFeedResource:function(e){var r=e.response,t=e.options.user_id;return{type:f.CREATED_TAB_STORY_PINS_FEED,id:t,items:r.resource_response.data||[]}}},y={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function v(e,r,t){var n=d(e),o=n.splice(r,1)[0];return n.splice(t,0,o),n}var _=function(e,r){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return r===f.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}};r.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case a.zP:case a.aW:var t,n=r.payload,o=n.response.resource_response.data;if(null===(t=n.options)||void 0===t||!t.redux_normalize_feed)return e;var i=p[n.resource](n);if(i){var u=i.type,l=i.id,b=i.items,m=i.reversed,O=(b||o||[]).map((function(e){return _(e,u)}));m&&(O=O.reverse());var E=e[u][l];if(E||r.type!==a.aW){var g=E||[],S=O;return r.type===a.aW&&(S=m?O.concat(g):g.concat(O)),c(c({},e),{},s({},u,c(c({},e[u]),{},s({},l,S))))}}break;case"FEED_ITEM_REORDERED":var T=r.payload,I=T.feedType,A=T.feedId,h=T.itemType,D=T.targetItemId,P=T.sourceItemId,C=e[I]||{},R=C[A]||[],w=-1,N=-1;if([f.BOARD_PINS,f.SECTION_PINS,f.BOARD_SECTIONS,"profileBoards"].includes(I)&&(w=R.findIndex((function(e){return e.type===h&&e.id===P})),N=R.findIndex((function(e){return e.type===h&&e.id===D}))),-1!==w&&-1!==N)return c(c({},e),{},s({},I,c(c({},C),{},s({},A,v(R,w,N)))));break;case"FEED_ITEMS_REMOVED":var j=r.payload,M=j.feedType,F=j.feedId,B=j.inverseSelection,U=j.itemType,x=j.itemIds,L=void 0===x?[]:x,G=e[M]||{},k=G[F];if(k&&k.length>0&&(M===f.SECTION_PINS||M===f.BOARD_PINS)){var H=k.filter((function(e){var r=L.includes(e.id);return!(e.type===U&&(B&&!r||!B&&r))})),Z=!!H.find((function(e){return"pin"===e.type}));return c(c({},e),{},s({},M,c(c({},G),{},s({},F,Z?H:[]))))}if(k&&k.length>0&&M===f.BOARD_SECTIONS){var V=k.filter((function(e){var r=L.includes(e.id);return!(e.type===U&&r)}));return c(c({},e),{},s({},M,c(c({},G),{},s({},F,V))))}if(k&&k.length>0&&(M===f.BOARD_ACTIVITYITEMS||M===f.AGGREGATED_COMMENTS||M===f.BOARD_ACTIVITYCOMMENTS||M===f.BOARDLESS_PINS||M===f.UNIFIED_COMMENTS||M===f.USER_DID_IT_DATA||M===f.STORY_PIN_DATA)){var q=k.filter((function(e){var r=L.includes(e.id);return!(e.type===U&&r)}));return c(c({},e),{},s({},M,c(c({},G),{},s({},F,q))))}break;case"FEED_ITEMS_ADDED":var Y=r.payload,W=Y.feedType,$=Y.feedId,z=Y.itemType,X=Y.itemIds,K=void 0===X?[]:X,J=Y.prepend,Q=e[W]||{},ee=Q[$];if(ee&&(W===f.SECTION_PINS||W===f.BOARD_PINS||W===f.BOARDLESS_PINS)){var re=K.map((function(e){return{id:e,type:z}})),te=0;"story"===(ee[0]||{}).type&&(te=1),"story"===(ee[1]||{}).type&&(te=2);var ne=[].concat(d(ee.slice(0,te)),d(re),d(ee.slice(te)));return c(c({},e),{},s({},W,c(c({},Q),{},s({},$,ne))))}if(ee&&W===f.BOARD_SECTIONS){var oe=d(K).reverse().map((function(e){return{id:e,type:"board_section"}})),ie=ee?[].concat(d(oe),d(ee)):d(oe);return c(c({},e),{},s({},W,c(c({},Q),{},s({},$,ie))))}if(W===f.BOARD_ACTIVITYITEMS||W===f.AGGREGATED_COMMENTS||W===f.BOARD_ACTIVITYCOMMENTS||W===f.UNIFIED_COMMENTS){var ae=K.map((function(e){return{id:e,type:z}})),ue=ee?[].concat(d(J?ae:ee),d(J?ee:ae)):ae;return c(c({},e),{},s({},W,c(c({},Q),{},s({},$,ue))))}if(W===f.USER_DID_IT_DATA){var ce=K.map((function(e){return{id:e,type:z}})),se=ee?[].concat(d(ce),d(ee)):ce;return c(c({},e),{},s({},W,c(c({},e[W]),{},s({},$,se))))}break;case"FEED_INVALIDATE":var de=r.payload,le=de.feedType,fe=de.feedId,pe=e[le]||{};if(pe[fe])return c(c({},e),{},s({},le,c(c({},pe),{},s({},fe,null))))}return e}},881219:function(e,r,t){"use strict";t.d(r,{OV:function(){return n},M0:function(){return o},$k:function(){return i}});var n=function(e,r){return"".concat(e,":").concat(r||"")},o=function(e,r){return e.feeds.profileBoards[n(r.username,r.boardOrder)]},i=function(e,r){return r.isOverview||r.inActivityView?"xxWide":r.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"}},268648:function(e,r,t){"use strict";t.d(r,{Z:function(){return f},p:function(){return p}});var n=t(793550),o=t(350100),i=t(539484),a=t(215828),u=t(272828),c=["children"];function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e){var r=e.externalData,t=e.href,c=e.onHistoryChange,s=e.target,l=d((0,n.useState)(null),2),f=l[0],p=l[1],y=d((0,n.useState)(!1),2),v=y[0],_=y[1],b=(0,u.k6)(),m=(0,u.TH)(),O=(0,i.Z)({url:(0,o.Z)(t)});return(0,n.useEffect)((function(){return _(!0),function(){_(!1)}}),[]),(0,n.useEffect)((function(){O&&null!=r&&r.pin&&null===f&&(0,a.$3)({location:m,pin:r.pin,surface:r.surface})&&(0,a.iw)({isMounted:v,pin:r.pin,location:m,spamCheckCallback:function(e){return p(e)},href:(0,o.Z)(t)})}),[r,t,O,v,m,f]),function(e){var n,i=e.event;(0,a.gV)({isOffsiteUrl:O,event:i})||(i.preventDefault(),t&&(O||null!=r&&r.dangerouslyForceOffsiteUrl?(0,a.lI)({auxData:null==r?void 0:r.auxData,href:(0,o.Z)(t),pinId:null==r||null===(n=r.pin)||void 0===n?void 0:n.id,pin:null==r?void 0:r.pin,queryParams:null==r?void 0:r.queryParams,location:m,spamCheck:f}):(0,a.G3)({event:i,href:t,history:b,onHistoryChange:c,target:"blank"===s?"blank":null})))}}var p=function(e){return(0,e.children)({handleClick:f(s(e,c))})}},539484:function(e,r,t){"use strict";var n=t(508841);r.Z=function(e){var r=e.url;return!(!r||!r.match(/^https{0,1}:\/\//)||(0,n.Z)(r))}},192830:function(e,r,t){"use strict";t.d(r,{i5:function(){return N},sX:function(){return M},Z5:function(){return w},NG:function(){return j},MT:function(){return F}});var n=t(793550),o=t(575429),i=t(311866),a=t(365812),u=t.n(a);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var p=function(e,r){return e.data[r]&&e.data[r].messages||[]};function y(e,r){var t={};return e.filter((function(e){return!!e})).reduce((function(e,n){var o=r(n);return t[o]?(u()(t[o],n),e):(t[o]=n,e.concat([n]))}),[])}function v(e){return l(e).sort((function(e,r){return new Date(e.created_ms||e.created_at)-new Date(r.created_ms||r.created_at)}))}function _(e,r,t){var n=p(e,r).concat(t);return v(n=y(n,(function(e){return e.id})))}var b={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,showConversationsDropdown:!1,ui:{},unread:0};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,r=arguments.length>1?arguments[1]:void 0;if("CONVERSATION_OPEN"===r.type)return s(s({},e),{},{open:r.payload.id,ui:s(s({},e.ui),{},d({},r.payload.id,{contactRequestId:r.payload.contactRequestId||"",isPreview:r.payload.isPreview}))});if("CONVERSATION_CLOSE"===r.type)return s(s({},e),{},{open:null,ui:s(s({},e.ui),{},d({},r.payload.id,{contactRequestId:r.payload.contactRequestId||"",isPreview:!1,isDeclined:r.payload.isDeclined}))});if("CONVERSATION_CREATE"===r.type){var t=r.payload.id;return s(s({},e),{},{data:s(s({},e.data),{},d({},t,s(s({},e[t]||{}),r.payload)))})}if("CONVERSATION_DELETE"===r.type){var n=s(s({},e),{},{data:s({},e.data)}),o=r.payload.id;return delete n.data[o],n}if("FETCH_COMPLETE"===r.type){var i=r.payload,a=i.options,u=i.resource,c=i.response,l=c.resource_response.data;if("ConversationMessagesResource"===u){var f=l||[],m=(null==a?void 0:a.conversation_id)||"",O=_(e,m,f),E=O[O.length-1],g=s(s({},e),{},{data:s(s({},e.data),{},d({},m,s(s({},e.data[m]),{},{id:m,messages:O,unread:0,last_message:E})))});return g}if("ConversationsResource"===u){var S=l||[],T=s(s({},e),{},{data:s({},e.data)});return S.forEach((function(e){var r=e.id,t=e.created_at,n=e.name,o=e.board,i=e.emails,a=e.unread,u=e.users,c=e.last_message,d=_(T,r,[c]);T.data[r]=s(s({},T.data[r]),{},{id:r,created_at:t,name:n,board:o,emails:i||[],unread:a||0,users:u||[],last_message:c,messages:d})})),T}if("ConversationResource"===u){var I=l||{},A=I.id,h=s(s({},e),{},{data:s({},e.data)});return A&&(h.data[A]=s(s({},h.data[A]),I)),h}if("NewsHubBadgeResource"===u){if(l){var D=l.conversations_unseen_count||0;return s(s({},e),{},{unread:D})}return e}}else{if("MESSAGE_SEND_PENDING"===r.type){var P=r.payload,C=P.id,R=P.message;if(e.data[C]){var w=_(e,C,[R]);return s(s({},e),{},{data:s(s({},e.data),{},d({},C,s(s({},e.data[C]),{},{id:C,messages:w,last_message:R})))})}return e}if("MESSAGE_SEND_PENDING_CLEAR"===r.type){var N=r.payload,j=N.id,M=N.messageId,F=N.newMessageId;if(e.data[j]){var B=p(e,j).find((function(e){return e.id===M}));if(B){var U=s(s({},B),{},{id:F}),x=p(e,j).filter((function(e){return e.id!==M})).concat([U]);return x=v(x=y(x,(function(e){return e.id}))),s(s({},e),{},{data:s(s({},e.data),{},d({},j,s(s({},e.data[j]),{},{id:j,messages:x})))})}}return e}if("CLOSE_DROPDOWN"===r.type)return s(s({},e),{},{showConversationsDropdown:!1});if("OPEN_DROPDOWN"===r.type)return s(s({},e),{},{showConversationsDropdown:!0});if("UPDATE_NEWSHUB_COUNT"===r.type)return s(s({},e),{},{newsHubCount:r.payload});if("UPDATE_UNREAD_COUNT"===r.type)return s(s({},e),{},{conversationsUnseenCount:r.payload})}return e}var O=t(762803),E=t(886550),g=t(80209);function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach((function(r){I(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function I(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var D,P=(D=0,function(){return D++}),C=(0,O.Z)("Conversations"),R=C.Provider,w=C.useHook;function N(e){var r=e.children,t=A((0,n.useReducer)(m,b),2),o=t[0],a=t[1],u=(0,n.useCallback)((function(e){return a({type:"FETCH_COMPLETE",payload:e})}),[]);(0,E.Z8)("ConversationMessagesResource",u),(0,E.Z8)("ConversationsResource",u),(0,E.Z8)("ConversationResource",u),(0,E.Z8)("NewsHubBadgeResource",u);var c=(0,n.useMemo)((function(){return{conversationOpen:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:r,contactRequestId:t}})},conversationClose:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:r,isDeclined:t}})},conversationCreate:function(e){return a({type:"CONVERSATION_CREATE",payload:e})},conversationDelete:function(e){return a({type:"CONVERSATION_DELETE",payload:{id:e}})},conversationGet:function(e,r,t){i.ZP.create("ConversationsResource",{user_ids:e,emails:r,text:""}).callCreate().then((function(e){var r=e&&e.resource_response.data;a({type:"CONVERSATION_OPEN",payload:{id:r.id}})})).catch((function(e){var r=e.message_detail||e.message||"";t(r)}))},dropdownClose:function(){a({type:"CLOSE_DROPDOWN"})},dropdownOpen:function(){a({type:"OPEN_DROPDOWN"})},pendingMessageSend:function(e,r){return a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:r}})},pendingMessageClear:function(e,r,t){return a({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:r,newMessageId:t}})},updateNewsHubCount:function(e){return a({type:"UPDATE_NEWSHUB_COUNT",payload:e})},updateUnreadCount:function(e){return a({type:"UPDATE_UNREAD_COUNT",payload:e})}}}),[]);return(0,g.jsx)(R,{value:T(T({},c),{},{conversations:o}),children:r})}function j(){var e=w(),r=e.conversations,t=e.conversationCreate,n=e.pendingMessageSend,a=e.pendingMessageClear,u=(0,o.useSelector)((function(e){return e.pins}));return function(e,o,c,s){return new Promise((function(d,l){var f=o.text,p=o.pinId,y=o.boardId,v=o.userId,_=o.didItId;function b(){var r=i.ZP.create("ConversationMessagesResource",{conversation_id:e,text:f,pin:p,board:y,user:v,user_did_it_data:_,source:c}),t="".concat(P());n(e,{text:f,sender:s,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:p?u[p]:null,type:"message",user_did_it_data:null,user:null}),r.callCreate().then((function(r){a(e,t,r.resource_response.data.id),d()})).catch(l)}r.data[e]?b():i.ZP.create("ConversationResource",{conversation_id:e}).callGet().then((function(e){var r=e&&e.resource_response&&e.resource_response.data;t(r),b()}))}))}}function M(e){return w().conversations.data[e]}function F(e){return w().conversations.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},463111:function(e,r,t){"use strict";t.d(r,{l:function(){return m},E:function(){return b}});var n=t(793550),o=t(762803);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if("SUGGESTIONS_FETCH_COMPLETE"===r.type){var t=r.payload;if("ShareSuggestionsResource"===t.resource){var n,o=r.payload.response.resource_response.data||[],a=null!==(n=t.options)&&void 0!==n?n:{},u=a.term,d=void 0===u?"":u;return c(c({},e),{},s({},d,e[d]?[].concat(i(e[d]),i(o)):o))}if("ShareSuggestionsTypeaheadResource"===t.resource){var l,f=r.payload.response.resource_response.data||{},p=f.items||[],y=null!==(l=t.options)&&void 0!==l?l:{},v=y.term,_=void 0===v?"":v;return c(c({},e),{},s({},_,e[_]?[].concat(i(e[_]),i(p)):p))}}return e}var l=t(886550),f=t(80209);function p(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var v=(0,o.Z)("ShareSuggestions"),_=v.Provider,b=v.useHook;function m(e){var r=e.children,t=p((0,n.useReducer)(d,{}),2),o=t[0],i=t[1],a=function(e){i({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};return(0,l.Z8)("ShareSuggestionsResource",a),(0,l.Z8)("ShareSuggestionsTypeaheadResource",a),(0,f.jsx)(_,{value:{shareSuggestions:o},children:r})}},382064:function(e,r,t){"use strict";t.d(r,{X:function(){return _},f:function(){return v}});var n=t(793550);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"REPORT_CONTENT_SHOW":return{id:r.payload.id,isProduct:r.payload.isProduct,isPromoted:r.payload.isPromoted,videoDuration:r.payload.videoDuration,viewParameter:r.payload.viewParameter,viewType:r.payload.viewType,type:r.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var i=t(762803),a=t(493858),u=t(80209);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var p=(0,i.Z)("ReportData"),y=p.Provider,v=p.useHook;function _(e){var r=e.children,t=l((0,n.useReducer)(o,null),2),i=t[0],c=t[1],d=(0,n.useMemo)((function(){return{dismiss:function(){return c({type:"REPORT_CONTENT_DISMISS"})},reportComment:function(e,r,t){return c({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:r,viewType:t,type:"aggregatedComment"}})},reportImage:function(e,r,t){return c({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:r,viewType:t,type:"pin"}})},reportPin:function(e,r,t){var n,o=e.id,i=e.videos,u=(0,a.VX)(e),s=(0,a.jL)(e);if((0,a.iR)(i)&&i){var d=i.video_list,l=void 0===d?{}:d,f=l[Object.keys(l)[0]];n=f&&f.duration}c({type:"REPORT_CONTENT_SHOW",payload:{id:o,isProduct:u,isPromoted:s,videoDuration:n,viewParameter:r,viewType:t,type:"pin"}})}}}),[c]);return(0,u.jsx)(y,{value:s({reportData:i},d),children:r})}},750227:function(e){e.exports=function(e,r){for(var t=-1,n=null==e?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}},464247:function(e,r,t){var n=t(853275),o=t(284918);e.exports=function(e,r){for(var t=0,i=(r=n(r,e)).length;null!=e&&t<i;)e=e[o(r[t++])];return t&&t==i?e:void 0}},309464:function(e){e.exports=function(e,r){return null!=e&&r in Object(e)}},895248:function(e){e.exports=function(e){return function(r){return null==e?void 0:e[r]}}},321827:function(e,r,t){var n=t(476105),o=t(750227),i=t(145239),a=t(389627),u=n?n.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(r){if("string"==typeof r)return r;if(i(r))return o(r,e)+"";if(a(r))return c?c.call(r):"";var t=r+"";return"0"==t&&1/r==-Infinity?"-0":t}},853275:function(e,r,t){var n=t(145239),o=t(226573),i=t(518149),a=t(911);e.exports=function(e,r){return n(e)?e:o(e,r)?[e]:i(a(e))}},941249:function(e,r,t){var n=t(895248)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},754363:function(e,r,t){var n=t(853275),o=t(946328),i=t(145239),a=t(550996),u=t(108494),c=t(284918);e.exports=function(e,r,t){for(var s=-1,d=(r=n(r,e)).length,l=!1;++s<d;){var f=c(r[s]);if(!(l=null!=e&&t(e,f)))break;e=e[f]}return l||++s!=d?l:!!(d=null==e?0:e.length)&&u(d)&&a(f,d)&&(i(e)||o(e))}},226573:function(e,r,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=t(145239),i=t(389627),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=function(e,r){if(o(e))return!1;var t=n(e);return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!i(e))||(u.test(e)||!a.test(e)||null!=r&&e in Object(r))}},689911:function(e,r,t){var n=t(283448);e.exports=function(e){var r=n(e,(function(e){return 500===t.size&&t.clear(),e})),t=r.cache;return r}},518149:function(e,r,t){var n=t(689911),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(o,(function(e,t,n,o){r.push(n?o.replace(i,"$1"):t||e)})),r}));e.exports=a},284918:function(e,r,t){var n=t(389627);e.exports=function(e){if("string"==typeof e||n(e))return e;var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},403322:function(e,r,t){var n=t(941249),o=t(911),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,n):e}},923103:function(e,r,t){var n=t(464247);e.exports=function(e,r,t){var o=null==e?void 0:n(e,r);return void 0===o?t:o}},811516:function(e,r,t){var n=t(309464),o=t(754363);e.exports=function(e,r){return null!=e&&o(e,r,n)}},283448:function(e,r,t){var n=t(67309);function o(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var t=function t(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return t.cache=i.set(o,a)||i,a};return t.cache=new(o.Cache||n),t}o.Cache=n,e.exports=o},911:function(e,r,t){var n=t(321827);e.exports=function(e){return null==e?"":n(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/49887-715ca588f8285b30.js.map